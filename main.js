/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};

// node_modules/konva/lib/Global.js
var require_Global = __commonJS({
  "node_modules/konva/lib/Global.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports._registerNode = exports.Konva = exports.glob = void 0;
    var PI_OVER_180 = Math.PI / 180;
    function detectBrowser() {
      return typeof window !== "undefined" && ({}.toString.call(window) === "[object Window]" || {}.toString.call(window) === "[object global]");
    }
    exports.glob = typeof global !== "undefined" ? global : typeof window !== "undefined" ? window : typeof WorkerGlobalScope !== "undefined" ? self : {};
    exports.Konva = {
      _global: exports.glob,
      version: "9.2.3",
      isBrowser: detectBrowser(),
      isUnminified: /param/.test(function(param) {
      }.toString()),
      dblClickWindow: 400,
      getAngle(angle) {
        return exports.Konva.angleDeg ? angle * PI_OVER_180 : angle;
      },
      enableTrace: false,
      pointerEventsEnabled: true,
      autoDrawEnabled: true,
      hitOnDragEnabled: false,
      capturePointerEventsEnabled: false,
      _mouseListenClick: false,
      _touchListenClick: false,
      _pointerListenClick: false,
      _mouseInDblClickWindow: false,
      _touchInDblClickWindow: false,
      _pointerInDblClickWindow: false,
      _mouseDblClickPointerId: null,
      _touchDblClickPointerId: null,
      _pointerDblClickPointerId: null,
      pixelRatio: typeof window !== "undefined" && window.devicePixelRatio || 1,
      dragDistance: 3,
      angleDeg: true,
      showWarnings: true,
      dragButtons: [0, 1],
      isDragging() {
        return exports.Konva["DD"].isDragging;
      },
      isDragReady() {
        return !!exports.Konva["DD"].node;
      },
      releaseCanvasOnDestroy: true,
      document: exports.glob.document,
      _injectGlobal(Konva23) {
        exports.glob.Konva = Konva23;
      }
    };
    var _registerNode = (NodeClass) => {
      exports.Konva[NodeClass.prototype.getClassName()] = NodeClass;
    };
    exports._registerNode = _registerNode;
    exports.Konva._injectGlobal(exports.Konva);
  }
});

// node_modules/konva/lib/Util.js
var require_Util = __commonJS({
  "node_modules/konva/lib/Util.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Util = exports.Transform = void 0;
    var Global_1 = require_Global();
    var Transform = class {
      constructor(m = [1, 0, 0, 1, 0, 0]) {
        this.dirty = false;
        this.m = m && m.slice() || [1, 0, 0, 1, 0, 0];
      }
      reset() {
        this.m[0] = 1;
        this.m[1] = 0;
        this.m[2] = 0;
        this.m[3] = 1;
        this.m[4] = 0;
        this.m[5] = 0;
      }
      copy() {
        return new Transform(this.m);
      }
      copyInto(tr) {
        tr.m[0] = this.m[0];
        tr.m[1] = this.m[1];
        tr.m[2] = this.m[2];
        tr.m[3] = this.m[3];
        tr.m[4] = this.m[4];
        tr.m[5] = this.m[5];
      }
      point(point) {
        var m = this.m;
        return {
          x: m[0] * point.x + m[2] * point.y + m[4],
          y: m[1] * point.x + m[3] * point.y + m[5]
        };
      }
      translate(x, y) {
        this.m[4] += this.m[0] * x + this.m[2] * y;
        this.m[5] += this.m[1] * x + this.m[3] * y;
        return this;
      }
      scale(sx, sy) {
        this.m[0] *= sx;
        this.m[1] *= sx;
        this.m[2] *= sy;
        this.m[3] *= sy;
        return this;
      }
      rotate(rad) {
        var c = Math.cos(rad);
        var s = Math.sin(rad);
        var m11 = this.m[0] * c + this.m[2] * s;
        var m12 = this.m[1] * c + this.m[3] * s;
        var m21 = this.m[0] * -s + this.m[2] * c;
        var m22 = this.m[1] * -s + this.m[3] * c;
        this.m[0] = m11;
        this.m[1] = m12;
        this.m[2] = m21;
        this.m[3] = m22;
        return this;
      }
      getTranslation() {
        return {
          x: this.m[4],
          y: this.m[5]
        };
      }
      skew(sx, sy) {
        var m11 = this.m[0] + this.m[2] * sy;
        var m12 = this.m[1] + this.m[3] * sy;
        var m21 = this.m[2] + this.m[0] * sx;
        var m22 = this.m[3] + this.m[1] * sx;
        this.m[0] = m11;
        this.m[1] = m12;
        this.m[2] = m21;
        this.m[3] = m22;
        return this;
      }
      multiply(matrix) {
        var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];
        var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];
        var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];
        var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];
        var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];
        var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];
        this.m[0] = m11;
        this.m[1] = m12;
        this.m[2] = m21;
        this.m[3] = m22;
        this.m[4] = dx;
        this.m[5] = dy;
        return this;
      }
      invert() {
        var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);
        var m0 = this.m[3] * d;
        var m1 = -this.m[1] * d;
        var m2 = -this.m[2] * d;
        var m3 = this.m[0] * d;
        var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);
        var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);
        this.m[0] = m0;
        this.m[1] = m1;
        this.m[2] = m2;
        this.m[3] = m3;
        this.m[4] = m4;
        this.m[5] = m5;
        return this;
      }
      getMatrix() {
        return this.m;
      }
      decompose() {
        var a = this.m[0];
        var b = this.m[1];
        var c = this.m[2];
        var d = this.m[3];
        var e = this.m[4];
        var f = this.m[5];
        var delta = a * d - b * c;
        let result = {
          x: e,
          y: f,
          rotation: 0,
          scaleX: 0,
          scaleY: 0,
          skewX: 0,
          skewY: 0
        };
        if (a != 0 || b != 0) {
          var r = Math.sqrt(a * a + b * b);
          result.rotation = b > 0 ? Math.acos(a / r) : -Math.acos(a / r);
          result.scaleX = r;
          result.scaleY = delta / r;
          result.skewX = (a * c + b * d) / delta;
          result.skewY = 0;
        } else if (c != 0 || d != 0) {
          var s = Math.sqrt(c * c + d * d);
          result.rotation = Math.PI / 2 - (d > 0 ? Math.acos(-c / s) : -Math.acos(c / s));
          result.scaleX = delta / s;
          result.scaleY = s;
          result.skewX = 0;
          result.skewY = (a * c + b * d) / delta;
        } else {
        }
        result.rotation = exports.Util._getRotation(result.rotation);
        return result;
      }
    };
    exports.Transform = Transform;
    var OBJECT_ARRAY = "[object Array]";
    var OBJECT_NUMBER = "[object Number]";
    var OBJECT_STRING = "[object String]";
    var OBJECT_BOOLEAN = "[object Boolean]";
    var PI_OVER_DEG180 = Math.PI / 180;
    var DEG180_OVER_PI = 180 / Math.PI;
    var HASH = "#";
    var EMPTY_STRING = "";
    var ZERO = "0";
    var KONVA_WARNING = "Konva warning: ";
    var KONVA_ERROR = "Konva error: ";
    var RGB_PAREN = "rgb(";
    var COLORS = {
      aliceblue: [240, 248, 255],
      antiquewhite: [250, 235, 215],
      aqua: [0, 255, 255],
      aquamarine: [127, 255, 212],
      azure: [240, 255, 255],
      beige: [245, 245, 220],
      bisque: [255, 228, 196],
      black: [0, 0, 0],
      blanchedalmond: [255, 235, 205],
      blue: [0, 0, 255],
      blueviolet: [138, 43, 226],
      brown: [165, 42, 42],
      burlywood: [222, 184, 135],
      cadetblue: [95, 158, 160],
      chartreuse: [127, 255, 0],
      chocolate: [210, 105, 30],
      coral: [255, 127, 80],
      cornflowerblue: [100, 149, 237],
      cornsilk: [255, 248, 220],
      crimson: [220, 20, 60],
      cyan: [0, 255, 255],
      darkblue: [0, 0, 139],
      darkcyan: [0, 139, 139],
      darkgoldenrod: [184, 132, 11],
      darkgray: [169, 169, 169],
      darkgreen: [0, 100, 0],
      darkgrey: [169, 169, 169],
      darkkhaki: [189, 183, 107],
      darkmagenta: [139, 0, 139],
      darkolivegreen: [85, 107, 47],
      darkorange: [255, 140, 0],
      darkorchid: [153, 50, 204],
      darkred: [139, 0, 0],
      darksalmon: [233, 150, 122],
      darkseagreen: [143, 188, 143],
      darkslateblue: [72, 61, 139],
      darkslategray: [47, 79, 79],
      darkslategrey: [47, 79, 79],
      darkturquoise: [0, 206, 209],
      darkviolet: [148, 0, 211],
      deeppink: [255, 20, 147],
      deepskyblue: [0, 191, 255],
      dimgray: [105, 105, 105],
      dimgrey: [105, 105, 105],
      dodgerblue: [30, 144, 255],
      firebrick: [178, 34, 34],
      floralwhite: [255, 255, 240],
      forestgreen: [34, 139, 34],
      fuchsia: [255, 0, 255],
      gainsboro: [220, 220, 220],
      ghostwhite: [248, 248, 255],
      gold: [255, 215, 0],
      goldenrod: [218, 165, 32],
      gray: [128, 128, 128],
      green: [0, 128, 0],
      greenyellow: [173, 255, 47],
      grey: [128, 128, 128],
      honeydew: [240, 255, 240],
      hotpink: [255, 105, 180],
      indianred: [205, 92, 92],
      indigo: [75, 0, 130],
      ivory: [255, 255, 240],
      khaki: [240, 230, 140],
      lavender: [230, 230, 250],
      lavenderblush: [255, 240, 245],
      lawngreen: [124, 252, 0],
      lemonchiffon: [255, 250, 205],
      lightblue: [173, 216, 230],
      lightcoral: [240, 128, 128],
      lightcyan: [224, 255, 255],
      lightgoldenrodyellow: [250, 250, 210],
      lightgray: [211, 211, 211],
      lightgreen: [144, 238, 144],
      lightgrey: [211, 211, 211],
      lightpink: [255, 182, 193],
      lightsalmon: [255, 160, 122],
      lightseagreen: [32, 178, 170],
      lightskyblue: [135, 206, 250],
      lightslategray: [119, 136, 153],
      lightslategrey: [119, 136, 153],
      lightsteelblue: [176, 196, 222],
      lightyellow: [255, 255, 224],
      lime: [0, 255, 0],
      limegreen: [50, 205, 50],
      linen: [250, 240, 230],
      magenta: [255, 0, 255],
      maroon: [128, 0, 0],
      mediumaquamarine: [102, 205, 170],
      mediumblue: [0, 0, 205],
      mediumorchid: [186, 85, 211],
      mediumpurple: [147, 112, 219],
      mediumseagreen: [60, 179, 113],
      mediumslateblue: [123, 104, 238],
      mediumspringgreen: [0, 250, 154],
      mediumturquoise: [72, 209, 204],
      mediumvioletred: [199, 21, 133],
      midnightblue: [25, 25, 112],
      mintcream: [245, 255, 250],
      mistyrose: [255, 228, 225],
      moccasin: [255, 228, 181],
      navajowhite: [255, 222, 173],
      navy: [0, 0, 128],
      oldlace: [253, 245, 230],
      olive: [128, 128, 0],
      olivedrab: [107, 142, 35],
      orange: [255, 165, 0],
      orangered: [255, 69, 0],
      orchid: [218, 112, 214],
      palegoldenrod: [238, 232, 170],
      palegreen: [152, 251, 152],
      paleturquoise: [175, 238, 238],
      palevioletred: [219, 112, 147],
      papayawhip: [255, 239, 213],
      peachpuff: [255, 218, 185],
      peru: [205, 133, 63],
      pink: [255, 192, 203],
      plum: [221, 160, 203],
      powderblue: [176, 224, 230],
      purple: [128, 0, 128],
      rebeccapurple: [102, 51, 153],
      red: [255, 0, 0],
      rosybrown: [188, 143, 143],
      royalblue: [65, 105, 225],
      saddlebrown: [139, 69, 19],
      salmon: [250, 128, 114],
      sandybrown: [244, 164, 96],
      seagreen: [46, 139, 87],
      seashell: [255, 245, 238],
      sienna: [160, 82, 45],
      silver: [192, 192, 192],
      skyblue: [135, 206, 235],
      slateblue: [106, 90, 205],
      slategray: [119, 128, 144],
      slategrey: [119, 128, 144],
      snow: [255, 255, 250],
      springgreen: [0, 255, 127],
      steelblue: [70, 130, 180],
      tan: [210, 180, 140],
      teal: [0, 128, 128],
      thistle: [216, 191, 216],
      transparent: [255, 255, 255, 0],
      tomato: [255, 99, 71],
      turquoise: [64, 224, 208],
      violet: [238, 130, 238],
      wheat: [245, 222, 179],
      white: [255, 255, 255],
      whitesmoke: [245, 245, 245],
      yellow: [255, 255, 0],
      yellowgreen: [154, 205, 5]
    };
    var RGB_REGEX = /rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;
    var animQueue = [];
    var req = typeof requestAnimationFrame !== "undefined" && requestAnimationFrame || function(f) {
      setTimeout(f, 60);
    };
    exports.Util = {
      _isElement(obj) {
        return !!(obj && obj.nodeType == 1);
      },
      _isFunction(obj) {
        return !!(obj && obj.constructor && obj.call && obj.apply);
      },
      _isPlainObject(obj) {
        return !!obj && obj.constructor === Object;
      },
      _isArray(obj) {
        return Object.prototype.toString.call(obj) === OBJECT_ARRAY;
      },
      _isNumber(obj) {
        return Object.prototype.toString.call(obj) === OBJECT_NUMBER && !isNaN(obj) && isFinite(obj);
      },
      _isString(obj) {
        return Object.prototype.toString.call(obj) === OBJECT_STRING;
      },
      _isBoolean(obj) {
        return Object.prototype.toString.call(obj) === OBJECT_BOOLEAN;
      },
      isObject(val) {
        return val instanceof Object;
      },
      isValidSelector(selector) {
        if (typeof selector !== "string") {
          return false;
        }
        var firstChar = selector[0];
        return firstChar === "#" || firstChar === "." || firstChar === firstChar.toUpperCase();
      },
      _sign(number) {
        if (number === 0) {
          return 1;
        }
        if (number > 0) {
          return 1;
        } else {
          return -1;
        }
      },
      requestAnimFrame(callback) {
        animQueue.push(callback);
        if (animQueue.length === 1) {
          req(function() {
            const queue = animQueue;
            animQueue = [];
            queue.forEach(function(cb) {
              cb();
            });
          });
        }
      },
      createCanvasElement() {
        var canvas = document.createElement("canvas");
        try {
          canvas.style = canvas.style || {};
        } catch (e) {
        }
        return canvas;
      },
      createImageElement() {
        return document.createElement("img");
      },
      _isInDocument(el) {
        while (el = el.parentNode) {
          if (el == document) {
            return true;
          }
        }
        return false;
      },
      _urlToImage(url, callback) {
        var imageObj = exports.Util.createImageElement();
        imageObj.onload = function() {
          callback(imageObj);
        };
        imageObj.src = url;
      },
      _rgbToHex(r, g, b) {
        return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
      },
      _hexToRgb(hex) {
        hex = hex.replace(HASH, EMPTY_STRING);
        var bigint = parseInt(hex, 16);
        return {
          r: bigint >> 16 & 255,
          g: bigint >> 8 & 255,
          b: bigint & 255
        };
      },
      getRandomColor() {
        var randColor = (Math.random() * 16777215 << 0).toString(16);
        while (randColor.length < 6) {
          randColor = ZERO + randColor;
        }
        return HASH + randColor;
      },
      getRGB(color) {
        var rgb;
        if (color in COLORS) {
          rgb = COLORS[color];
          return {
            r: rgb[0],
            g: rgb[1],
            b: rgb[2]
          };
        } else if (color[0] === HASH) {
          return this._hexToRgb(color.substring(1));
        } else if (color.substr(0, 4) === RGB_PAREN) {
          rgb = RGB_REGEX.exec(color.replace(/ /g, ""));
          return {
            r: parseInt(rgb[1], 10),
            g: parseInt(rgb[2], 10),
            b: parseInt(rgb[3], 10)
          };
        } else {
          return {
            r: 0,
            g: 0,
            b: 0
          };
        }
      },
      colorToRGBA(str) {
        str = str || "black";
        return exports.Util._namedColorToRBA(str) || exports.Util._hex3ColorToRGBA(str) || exports.Util._hex4ColorToRGBA(str) || exports.Util._hex6ColorToRGBA(str) || exports.Util._hex8ColorToRGBA(str) || exports.Util._rgbColorToRGBA(str) || exports.Util._rgbaColorToRGBA(str) || exports.Util._hslColorToRGBA(str);
      },
      _namedColorToRBA(str) {
        var c = COLORS[str.toLowerCase()];
        if (!c) {
          return null;
        }
        return {
          r: c[0],
          g: c[1],
          b: c[2],
          a: 1
        };
      },
      _rgbColorToRGBA(str) {
        if (str.indexOf("rgb(") === 0) {
          str = str.match(/rgb\(([^)]+)\)/)[1];
          var parts = str.split(/ *, */).map(Number);
          return {
            r: parts[0],
            g: parts[1],
            b: parts[2],
            a: 1
          };
        }
      },
      _rgbaColorToRGBA(str) {
        if (str.indexOf("rgba(") === 0) {
          str = str.match(/rgba\(([^)]+)\)/)[1];
          var parts = str.split(/ *, */).map((n, index) => {
            if (n.slice(-1) === "%") {
              return index === 3 ? parseInt(n) / 100 : parseInt(n) / 100 * 255;
            }
            return Number(n);
          });
          return {
            r: parts[0],
            g: parts[1],
            b: parts[2],
            a: parts[3]
          };
        }
      },
      _hex8ColorToRGBA(str) {
        if (str[0] === "#" && str.length === 9) {
          return {
            r: parseInt(str.slice(1, 3), 16),
            g: parseInt(str.slice(3, 5), 16),
            b: parseInt(str.slice(5, 7), 16),
            a: parseInt(str.slice(7, 9), 16) / 255
          };
        }
      },
      _hex6ColorToRGBA(str) {
        if (str[0] === "#" && str.length === 7) {
          return {
            r: parseInt(str.slice(1, 3), 16),
            g: parseInt(str.slice(3, 5), 16),
            b: parseInt(str.slice(5, 7), 16),
            a: 1
          };
        }
      },
      _hex4ColorToRGBA(str) {
        if (str[0] === "#" && str.length === 5) {
          return {
            r: parseInt(str[1] + str[1], 16),
            g: parseInt(str[2] + str[2], 16),
            b: parseInt(str[3] + str[3], 16),
            a: parseInt(str[4] + str[4], 16) / 255
          };
        }
      },
      _hex3ColorToRGBA(str) {
        if (str[0] === "#" && str.length === 4) {
          return {
            r: parseInt(str[1] + str[1], 16),
            g: parseInt(str[2] + str[2], 16),
            b: parseInt(str[3] + str[3], 16),
            a: 1
          };
        }
      },
      _hslColorToRGBA(str) {
        if (/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(str)) {
          const [_, ...hsl] = /hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(str);
          const h = Number(hsl[0]) / 360;
          const s = Number(hsl[1]) / 100;
          const l = Number(hsl[2]) / 100;
          let t2;
          let t3;
          let val;
          if (s === 0) {
            val = l * 255;
            return {
              r: Math.round(val),
              g: Math.round(val),
              b: Math.round(val),
              a: 1
            };
          }
          if (l < 0.5) {
            t2 = l * (1 + s);
          } else {
            t2 = l + s - l * s;
          }
          const t1 = 2 * l - t2;
          const rgb = [0, 0, 0];
          for (let i = 0; i < 3; i++) {
            t3 = h + 1 / 3 * -(i - 1);
            if (t3 < 0) {
              t3++;
            }
            if (t3 > 1) {
              t3--;
            }
            if (6 * t3 < 1) {
              val = t1 + (t2 - t1) * 6 * t3;
            } else if (2 * t3 < 1) {
              val = t2;
            } else if (3 * t3 < 2) {
              val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;
            } else {
              val = t1;
            }
            rgb[i] = val * 255;
          }
          return {
            r: Math.round(rgb[0]),
            g: Math.round(rgb[1]),
            b: Math.round(rgb[2]),
            a: 1
          };
        }
      },
      haveIntersection(r1, r2) {
        return !(r2.x > r1.x + r1.width || r2.x + r2.width < r1.x || r2.y > r1.y + r1.height || r2.y + r2.height < r1.y);
      },
      cloneObject(obj) {
        var retObj = {};
        for (var key in obj) {
          if (this._isPlainObject(obj[key])) {
            retObj[key] = this.cloneObject(obj[key]);
          } else if (this._isArray(obj[key])) {
            retObj[key] = this.cloneArray(obj[key]);
          } else {
            retObj[key] = obj[key];
          }
        }
        return retObj;
      },
      cloneArray(arr) {
        return arr.slice(0);
      },
      degToRad(deg) {
        return deg * PI_OVER_DEG180;
      },
      radToDeg(rad) {
        return rad * DEG180_OVER_PI;
      },
      _degToRad(deg) {
        exports.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead.");
        return exports.Util.degToRad(deg);
      },
      _radToDeg(rad) {
        exports.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead.");
        return exports.Util.radToDeg(rad);
      },
      _getRotation(radians) {
        return Global_1.Konva.angleDeg ? exports.Util.radToDeg(radians) : radians;
      },
      _capitalize(str) {
        return str.charAt(0).toUpperCase() + str.slice(1);
      },
      throw(str) {
        throw new Error(KONVA_ERROR + str);
      },
      error(str) {
        console.error(KONVA_ERROR + str);
      },
      warn(str) {
        if (!Global_1.Konva.showWarnings) {
          return;
        }
        console.warn(KONVA_WARNING + str);
      },
      each(obj, func) {
        for (var key in obj) {
          func(key, obj[key]);
        }
      },
      _inRange(val, left, right) {
        return left <= val && val < right;
      },
      _getProjectionToSegment(x1, y1, x2, y2, x3, y3) {
        var x, y, dist;
        var pd2 = (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);
        if (pd2 == 0) {
          x = x1;
          y = y1;
          dist = (x3 - x2) * (x3 - x2) + (y3 - y2) * (y3 - y2);
        } else {
          var u = ((x3 - x1) * (x2 - x1) + (y3 - y1) * (y2 - y1)) / pd2;
          if (u < 0) {
            x = x1;
            y = y1;
            dist = (x1 - x3) * (x1 - x3) + (y1 - y3) * (y1 - y3);
          } else if (u > 1) {
            x = x2;
            y = y2;
            dist = (x2 - x3) * (x2 - x3) + (y2 - y3) * (y2 - y3);
          } else {
            x = x1 + u * (x2 - x1);
            y = y1 + u * (y2 - y1);
            dist = (x - x3) * (x - x3) + (y - y3) * (y - y3);
          }
        }
        return [x, y, dist];
      },
      _getProjectionToLine(pt, line, isClosed) {
        var pc = exports.Util.cloneObject(pt);
        var dist = Number.MAX_VALUE;
        line.forEach(function(p1, i) {
          if (!isClosed && i === line.length - 1) {
            return;
          }
          var p2 = line[(i + 1) % line.length];
          var proj = exports.Util._getProjectionToSegment(p1.x, p1.y, p2.x, p2.y, pt.x, pt.y);
          var px = proj[0], py = proj[1], pdist = proj[2];
          if (pdist < dist) {
            pc.x = px;
            pc.y = py;
            dist = pdist;
          }
        });
        return pc;
      },
      _prepareArrayForTween(startArray, endArray, isClosed) {
        var n, start = [], end = [];
        if (startArray.length > endArray.length) {
          var temp = endArray;
          endArray = startArray;
          startArray = temp;
        }
        for (n = 0; n < startArray.length; n += 2) {
          start.push({
            x: startArray[n],
            y: startArray[n + 1]
          });
        }
        for (n = 0; n < endArray.length; n += 2) {
          end.push({
            x: endArray[n],
            y: endArray[n + 1]
          });
        }
        var newStart = [];
        end.forEach(function(point) {
          var pr = exports.Util._getProjectionToLine(point, start, isClosed);
          newStart.push(pr.x);
          newStart.push(pr.y);
        });
        return newStart;
      },
      _prepareToStringify(obj) {
        var desc;
        obj.visitedByCircularReferenceRemoval = true;
        for (var key in obj) {
          if (!(obj.hasOwnProperty(key) && obj[key] && typeof obj[key] == "object")) {
            continue;
          }
          desc = Object.getOwnPropertyDescriptor(obj, key);
          if (obj[key].visitedByCircularReferenceRemoval || exports.Util._isElement(obj[key])) {
            if (desc.configurable) {
              delete obj[key];
            } else {
              return null;
            }
          } else if (exports.Util._prepareToStringify(obj[key]) === null) {
            if (desc.configurable) {
              delete obj[key];
            } else {
              return null;
            }
          }
        }
        delete obj.visitedByCircularReferenceRemoval;
        return obj;
      },
      _assign(target, source) {
        for (var key in source) {
          target[key] = source[key];
        }
        return target;
      },
      _getFirstPointerId(evt) {
        if (!evt.touches) {
          return evt.pointerId || 999;
        } else {
          return evt.changedTouches[0].identifier;
        }
      },
      releaseCanvas(...canvases) {
        if (!Global_1.Konva.releaseCanvasOnDestroy)
          return;
        canvases.forEach((c) => {
          c.width = 0;
          c.height = 0;
        });
      },
      drawRoundedRectPath(context, width, height, cornerRadius) {
        let topLeft = 0;
        let topRight = 0;
        let bottomLeft = 0;
        let bottomRight = 0;
        if (typeof cornerRadius === "number") {
          topLeft = topRight = bottomLeft = bottomRight = Math.min(cornerRadius, width / 2, height / 2);
        } else {
          topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);
          topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);
          bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);
          bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);
        }
        context.moveTo(topLeft, 0);
        context.lineTo(width - topRight, 0);
        context.arc(width - topRight, topRight, topRight, Math.PI * 3 / 2, 0, false);
        context.lineTo(width, height - bottomRight);
        context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);
        context.lineTo(bottomLeft, height);
        context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);
        context.lineTo(0, topLeft);
        context.arc(topLeft, topLeft, topLeft, Math.PI, Math.PI * 3 / 2, false);
      }
    };
  }
});

// node_modules/konva/lib/Validators.js
var require_Validators = __commonJS({
  "node_modules/konva/lib/Validators.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.getComponentValidator = exports.getBooleanValidator = exports.getNumberArrayValidator = exports.getFunctionValidator = exports.getStringOrGradientValidator = exports.getStringValidator = exports.getNumberOrAutoValidator = exports.getNumberOrArrayOfNumbersValidator = exports.getNumberValidator = exports.alphaComponent = exports.RGBComponent = void 0;
    var Global_1 = require_Global();
    var Util_1 = require_Util();
    function _formatValue(val) {
      if (Util_1.Util._isString(val)) {
        return '"' + val + '"';
      }
      if (Object.prototype.toString.call(val) === "[object Number]") {
        return val;
      }
      if (Util_1.Util._isBoolean(val)) {
        return val;
      }
      return Object.prototype.toString.call(val);
    }
    function RGBComponent(val) {
      if (val > 255) {
        return 255;
      } else if (val < 0) {
        return 0;
      }
      return Math.round(val);
    }
    exports.RGBComponent = RGBComponent;
    function alphaComponent(val) {
      if (val > 1) {
        return 1;
      } else if (val < 1e-4) {
        return 1e-4;
      }
      return val;
    }
    exports.alphaComponent = alphaComponent;
    function getNumberValidator() {
      if (Global_1.Konva.isUnminified) {
        return function(val, attr2) {
          if (!Util_1.Util._isNumber(val)) {
            Util_1.Util.warn(_formatValue(val) + ' is a not valid value for "' + attr2 + '" attribute. The value should be a number.');
          }
          return val;
        };
      }
    }
    exports.getNumberValidator = getNumberValidator;
    function getNumberOrArrayOfNumbersValidator(noOfElements) {
      if (Global_1.Konva.isUnminified) {
        return function(val, attr2) {
          let isNumber = Util_1.Util._isNumber(val);
          let isValidArray = Util_1.Util._isArray(val) && val.length == noOfElements;
          if (!isNumber && !isValidArray) {
            Util_1.Util.warn(_formatValue(val) + ' is a not valid value for "' + attr2 + '" attribute. The value should be a number or Array<number>(' + noOfElements + ")");
          }
          return val;
        };
      }
    }
    exports.getNumberOrArrayOfNumbersValidator = getNumberOrArrayOfNumbersValidator;
    function getNumberOrAutoValidator() {
      if (Global_1.Konva.isUnminified) {
        return function(val, attr2) {
          var isNumber = Util_1.Util._isNumber(val);
          var isAuto = val === "auto";
          if (!(isNumber || isAuto)) {
            Util_1.Util.warn(_formatValue(val) + ' is a not valid value for "' + attr2 + '" attribute. The value should be a number or "auto".');
          }
          return val;
        };
      }
    }
    exports.getNumberOrAutoValidator = getNumberOrAutoValidator;
    function getStringValidator() {
      if (Global_1.Konva.isUnminified) {
        return function(val, attr2) {
          if (!Util_1.Util._isString(val)) {
            Util_1.Util.warn(_formatValue(val) + ' is a not valid value for "' + attr2 + '" attribute. The value should be a string.');
          }
          return val;
        };
      }
    }
    exports.getStringValidator = getStringValidator;
    function getStringOrGradientValidator() {
      if (Global_1.Konva.isUnminified) {
        return function(val, attr2) {
          const isString = Util_1.Util._isString(val);
          const isGradient = Object.prototype.toString.call(val) === "[object CanvasGradient]" || val && val.addColorStop;
          if (!(isString || isGradient)) {
            Util_1.Util.warn(_formatValue(val) + ' is a not valid value for "' + attr2 + '" attribute. The value should be a string or a native gradient.');
          }
          return val;
        };
      }
    }
    exports.getStringOrGradientValidator = getStringOrGradientValidator;
    function getFunctionValidator() {
      if (Global_1.Konva.isUnminified) {
        return function(val, attr2) {
          if (!Util_1.Util._isFunction(val)) {
            Util_1.Util.warn(_formatValue(val) + ' is a not valid value for "' + attr2 + '" attribute. The value should be a function.');
          }
          return val;
        };
      }
    }
    exports.getFunctionValidator = getFunctionValidator;
    function getNumberArrayValidator() {
      if (Global_1.Konva.isUnminified) {
        return function(val, attr2) {
          const TypedArray = Int8Array ? Object.getPrototypeOf(Int8Array) : null;
          if (TypedArray && val instanceof TypedArray) {
            return val;
          }
          if (!Util_1.Util._isArray(val)) {
            Util_1.Util.warn(_formatValue(val) + ' is a not valid value for "' + attr2 + '" attribute. The value should be a array of numbers.');
          } else {
            val.forEach(function(item) {
              if (!Util_1.Util._isNumber(item)) {
                Util_1.Util.warn('"' + attr2 + '" attribute has non numeric element ' + item + ". Make sure that all elements are numbers.");
              }
            });
          }
          return val;
        };
      }
    }
    exports.getNumberArrayValidator = getNumberArrayValidator;
    function getBooleanValidator() {
      if (Global_1.Konva.isUnminified) {
        return function(val, attr2) {
          var isBool = val === true || val === false;
          if (!isBool) {
            Util_1.Util.warn(_formatValue(val) + ' is a not valid value for "' + attr2 + '" attribute. The value should be a boolean.');
          }
          return val;
        };
      }
    }
    exports.getBooleanValidator = getBooleanValidator;
    function getComponentValidator(components) {
      if (Global_1.Konva.isUnminified) {
        return function(val, attr2) {
          if (val === void 0 || val === null) {
            return val;
          }
          if (!Util_1.Util.isObject(val)) {
            Util_1.Util.warn(_formatValue(val) + ' is a not valid value for "' + attr2 + '" attribute. The value should be an object with properties ' + components);
          }
          return val;
        };
      }
    }
    exports.getComponentValidator = getComponentValidator;
  }
});

// node_modules/konva/lib/Factory.js
var require_Factory = __commonJS({
  "node_modules/konva/lib/Factory.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Factory = void 0;
    var Util_1 = require_Util();
    var Validators_1 = require_Validators();
    var GET = "get";
    var SET = "set";
    exports.Factory = {
      addGetterSetter(constructor, attr2, def, validator, after) {
        exports.Factory.addGetter(constructor, attr2, def);
        exports.Factory.addSetter(constructor, attr2, validator, after);
        exports.Factory.addOverloadedGetterSetter(constructor, attr2);
      },
      addGetter(constructor, attr2, def) {
        var method = GET + Util_1.Util._capitalize(attr2);
        constructor.prototype[method] = constructor.prototype[method] || function() {
          var val = this.attrs[attr2];
          return val === void 0 ? def : val;
        };
      },
      addSetter(constructor, attr2, validator, after) {
        var method = SET + Util_1.Util._capitalize(attr2);
        if (!constructor.prototype[method]) {
          exports.Factory.overWriteSetter(constructor, attr2, validator, after);
        }
      },
      overWriteSetter(constructor, attr2, validator, after) {
        var method = SET + Util_1.Util._capitalize(attr2);
        constructor.prototype[method] = function(val) {
          if (validator && val !== void 0 && val !== null) {
            val = validator.call(this, val, attr2);
          }
          this._setAttr(attr2, val);
          if (after) {
            after.call(this);
          }
          return this;
        };
      },
      addComponentsGetterSetter(constructor, attr2, components, validator, after) {
        var len = components.length, capitalize = Util_1.Util._capitalize, getter = GET + capitalize(attr2), setter = SET + capitalize(attr2), n, component;
        constructor.prototype[getter] = function() {
          var ret = {};
          for (n = 0; n < len; n++) {
            component = components[n];
            ret[component] = this.getAttr(attr2 + capitalize(component));
          }
          return ret;
        };
        var basicValidator = (0, Validators_1.getComponentValidator)(components);
        constructor.prototype[setter] = function(val) {
          var oldVal = this.attrs[attr2], key;
          if (validator) {
            val = validator.call(this, val);
          }
          if (basicValidator) {
            basicValidator.call(this, val, attr2);
          }
          for (key in val) {
            if (!val.hasOwnProperty(key)) {
              continue;
            }
            this._setAttr(attr2 + capitalize(key), val[key]);
          }
          if (!val) {
            components.forEach((component2) => {
              this._setAttr(attr2 + capitalize(component2), void 0);
            });
          }
          this._fireChangeEvent(attr2, oldVal, val);
          if (after) {
            after.call(this);
          }
          return this;
        };
        exports.Factory.addOverloadedGetterSetter(constructor, attr2);
      },
      addOverloadedGetterSetter(constructor, attr2) {
        var capitalizedAttr = Util_1.Util._capitalize(attr2), setter = SET + capitalizedAttr, getter = GET + capitalizedAttr;
        constructor.prototype[attr2] = function() {
          if (arguments.length) {
            this[setter](arguments[0]);
            return this;
          }
          return this[getter]();
        };
      },
      addDeprecatedGetterSetter(constructor, attr2, def, validator) {
        Util_1.Util.error("Adding deprecated " + attr2);
        var method = GET + Util_1.Util._capitalize(attr2);
        var message = attr2 + " property is deprecated and will be removed soon. Look at Konva change log for more information.";
        constructor.prototype[method] = function() {
          Util_1.Util.error(message);
          var val = this.attrs[attr2];
          return val === void 0 ? def : val;
        };
        exports.Factory.addSetter(constructor, attr2, validator, function() {
          Util_1.Util.error(message);
        });
        exports.Factory.addOverloadedGetterSetter(constructor, attr2);
      },
      backCompat(constructor, methods) {
        Util_1.Util.each(methods, function(oldMethodName, newMethodName) {
          var method = constructor.prototype[newMethodName];
          var oldGetter = GET + Util_1.Util._capitalize(oldMethodName);
          var oldSetter = SET + Util_1.Util._capitalize(oldMethodName);
          function deprecated() {
            method.apply(this, arguments);
            Util_1.Util.error('"' + oldMethodName + '" method is deprecated and will be removed soon. Use ""' + newMethodName + '" instead.');
          }
          constructor.prototype[oldMethodName] = deprecated;
          constructor.prototype[oldGetter] = deprecated;
          constructor.prototype[oldSetter] = deprecated;
        });
      },
      afterSetFilter() {
        this._filterUpToDate = false;
      }
    };
  }
});

// node_modules/konva/lib/Context.js
var require_Context = __commonJS({
  "node_modules/konva/lib/Context.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.HitContext = exports.SceneContext = exports.Context = void 0;
    var Util_1 = require_Util();
    var Global_1 = require_Global();
    function simplifyArray(arr) {
      var retArr = [], len = arr.length, util = Util_1.Util, n, val;
      for (n = 0; n < len; n++) {
        val = arr[n];
        if (util._isNumber(val)) {
          val = Math.round(val * 1e3) / 1e3;
        } else if (!util._isString(val)) {
          val = val + "";
        }
        retArr.push(val);
      }
      return retArr;
    }
    var COMMA = ",";
    var OPEN_PAREN = "(";
    var CLOSE_PAREN = ")";
    var OPEN_PAREN_BRACKET = "([";
    var CLOSE_BRACKET_PAREN = "])";
    var SEMICOLON = ";";
    var DOUBLE_PAREN = "()";
    var EQUALS = "=";
    var CONTEXT_METHODS = [
      "arc",
      "arcTo",
      "beginPath",
      "bezierCurveTo",
      "clearRect",
      "clip",
      "closePath",
      "createLinearGradient",
      "createPattern",
      "createRadialGradient",
      "drawImage",
      "ellipse",
      "fill",
      "fillText",
      "getImageData",
      "createImageData",
      "lineTo",
      "moveTo",
      "putImageData",
      "quadraticCurveTo",
      "rect",
      "restore",
      "rotate",
      "save",
      "scale",
      "setLineDash",
      "setTransform",
      "stroke",
      "strokeText",
      "transform",
      "translate"
    ];
    var CONTEXT_PROPERTIES = [
      "fillStyle",
      "strokeStyle",
      "shadowColor",
      "shadowBlur",
      "shadowOffsetX",
      "shadowOffsetY",
      "letterSpacing",
      "lineCap",
      "lineDashOffset",
      "lineJoin",
      "lineWidth",
      "miterLimit",
      "direction",
      "font",
      "textAlign",
      "textBaseline",
      "globalAlpha",
      "globalCompositeOperation",
      "imageSmoothingEnabled"
    ];
    var traceArrMax = 100;
    var Context = class {
      constructor(canvas) {
        this.canvas = canvas;
        if (Global_1.Konva.enableTrace) {
          this.traceArr = [];
          this._enableTrace();
        }
      }
      fillShape(shape) {
        if (shape.fillEnabled()) {
          this._fill(shape);
        }
      }
      _fill(shape) {
      }
      strokeShape(shape) {
        if (shape.hasStroke()) {
          this._stroke(shape);
        }
      }
      _stroke(shape) {
      }
      fillStrokeShape(shape) {
        if (shape.attrs.fillAfterStrokeEnabled) {
          this.strokeShape(shape);
          this.fillShape(shape);
        } else {
          this.fillShape(shape);
          this.strokeShape(shape);
        }
      }
      getTrace(relaxed, rounded) {
        var traceArr = this.traceArr, len = traceArr.length, str = "", n, trace, method, args;
        for (n = 0; n < len; n++) {
          trace = traceArr[n];
          method = trace.method;
          if (method) {
            args = trace.args;
            str += method;
            if (relaxed) {
              str += DOUBLE_PAREN;
            } else {
              if (Util_1.Util._isArray(args[0])) {
                str += OPEN_PAREN_BRACKET + args.join(COMMA) + CLOSE_BRACKET_PAREN;
              } else {
                if (rounded) {
                  args = args.map((a) => typeof a === "number" ? Math.floor(a) : a);
                }
                str += OPEN_PAREN + args.join(COMMA) + CLOSE_PAREN;
              }
            }
          } else {
            str += trace.property;
            if (!relaxed) {
              str += EQUALS + trace.val;
            }
          }
          str += SEMICOLON;
        }
        return str;
      }
      clearTrace() {
        this.traceArr = [];
      }
      _trace(str) {
        var traceArr = this.traceArr, len;
        traceArr.push(str);
        len = traceArr.length;
        if (len >= traceArrMax) {
          traceArr.shift();
        }
      }
      reset() {
        var pixelRatio = this.getCanvas().getPixelRatio();
        this.setTransform(1 * pixelRatio, 0, 0, 1 * pixelRatio, 0, 0);
      }
      getCanvas() {
        return this.canvas;
      }
      clear(bounds) {
        var canvas = this.getCanvas();
        if (bounds) {
          this.clearRect(bounds.x || 0, bounds.y || 0, bounds.width || 0, bounds.height || 0);
        } else {
          this.clearRect(0, 0, canvas.getWidth() / canvas.pixelRatio, canvas.getHeight() / canvas.pixelRatio);
        }
      }
      _applyLineCap(shape) {
        const lineCap = shape.attrs.lineCap;
        if (lineCap) {
          this.setAttr("lineCap", lineCap);
        }
      }
      _applyOpacity(shape) {
        var absOpacity = shape.getAbsoluteOpacity();
        if (absOpacity !== 1) {
          this.setAttr("globalAlpha", absOpacity);
        }
      }
      _applyLineJoin(shape) {
        const lineJoin = shape.attrs.lineJoin;
        if (lineJoin) {
          this.setAttr("lineJoin", lineJoin);
        }
      }
      setAttr(attr2, val) {
        this._context[attr2] = val;
      }
      arc(x, y, radius, startAngle, endAngle, counterClockwise) {
        this._context.arc(x, y, radius, startAngle, endAngle, counterClockwise);
      }
      arcTo(x1, y1, x2, y2, radius) {
        this._context.arcTo(x1, y1, x2, y2, radius);
      }
      beginPath() {
        this._context.beginPath();
      }
      bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {
        this._context.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);
      }
      clearRect(x, y, width, height) {
        this._context.clearRect(x, y, width, height);
      }
      clip(...args) {
        this._context.clip.apply(this._context, args);
      }
      closePath() {
        this._context.closePath();
      }
      createImageData(width, height) {
        var a = arguments;
        if (a.length === 2) {
          return this._context.createImageData(width, height);
        } else if (a.length === 1) {
          return this._context.createImageData(width);
        }
      }
      createLinearGradient(x0, y0, x1, y1) {
        return this._context.createLinearGradient(x0, y0, x1, y1);
      }
      createPattern(image, repetition) {
        return this._context.createPattern(image, repetition);
      }
      createRadialGradient(x0, y0, r0, x1, y1, r1) {
        return this._context.createRadialGradient(x0, y0, r0, x1, y1, r1);
      }
      drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight) {
        var a = arguments, _context = this._context;
        if (a.length === 3) {
          _context.drawImage(image, sx, sy);
        } else if (a.length === 5) {
          _context.drawImage(image, sx, sy, sWidth, sHeight);
        } else if (a.length === 9) {
          _context.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);
        }
      }
      ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, counterclockwise) {
        this._context.ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, counterclockwise);
      }
      isPointInPath(x, y, path, fillRule) {
        if (path) {
          return this._context.isPointInPath(path, x, y, fillRule);
        }
        return this._context.isPointInPath(x, y, fillRule);
      }
      fill(...args) {
        this._context.fill.apply(this._context, args);
      }
      fillRect(x, y, width, height) {
        this._context.fillRect(x, y, width, height);
      }
      strokeRect(x, y, width, height) {
        this._context.strokeRect(x, y, width, height);
      }
      fillText(text2, x, y, maxWidth) {
        if (maxWidth) {
          this._context.fillText(text2, x, y, maxWidth);
        } else {
          this._context.fillText(text2, x, y);
        }
      }
      measureText(text2) {
        return this._context.measureText(text2);
      }
      getImageData(sx, sy, sw, sh) {
        return this._context.getImageData(sx, sy, sw, sh);
      }
      lineTo(x, y) {
        this._context.lineTo(x, y);
      }
      moveTo(x, y) {
        this._context.moveTo(x, y);
      }
      rect(x, y, width, height) {
        this._context.rect(x, y, width, height);
      }
      putImageData(imageData, dx, dy) {
        this._context.putImageData(imageData, dx, dy);
      }
      quadraticCurveTo(cpx, cpy, x, y) {
        this._context.quadraticCurveTo(cpx, cpy, x, y);
      }
      restore() {
        this._context.restore();
      }
      rotate(angle) {
        this._context.rotate(angle);
      }
      save() {
        this._context.save();
      }
      scale(x, y) {
        this._context.scale(x, y);
      }
      setLineDash(segments) {
        if (this._context.setLineDash) {
          this._context.setLineDash(segments);
        } else if ("mozDash" in this._context) {
          this._context["mozDash"] = segments;
        } else if ("webkitLineDash" in this._context) {
          this._context["webkitLineDash"] = segments;
        }
      }
      getLineDash() {
        return this._context.getLineDash();
      }
      setTransform(a, b, c, d, e, f) {
        this._context.setTransform(a, b, c, d, e, f);
      }
      stroke(path2d) {
        if (path2d) {
          this._context.stroke(path2d);
        } else {
          this._context.stroke();
        }
      }
      strokeText(text2, x, y, maxWidth) {
        this._context.strokeText(text2, x, y, maxWidth);
      }
      transform(a, b, c, d, e, f) {
        this._context.transform(a, b, c, d, e, f);
      }
      translate(x, y) {
        this._context.translate(x, y);
      }
      _enableTrace() {
        var that = this, len = CONTEXT_METHODS.length, origSetter = this.setAttr, n, args;
        var func = function(methodName) {
          var origMethod = that[methodName], ret;
          that[methodName] = function() {
            args = simplifyArray(Array.prototype.slice.call(arguments, 0));
            ret = origMethod.apply(that, arguments);
            that._trace({
              method: methodName,
              args
            });
            return ret;
          };
        };
        for (n = 0; n < len; n++) {
          func(CONTEXT_METHODS[n]);
        }
        that.setAttr = function() {
          origSetter.apply(that, arguments);
          var prop = arguments[0];
          var val = arguments[1];
          if (prop === "shadowOffsetX" || prop === "shadowOffsetY" || prop === "shadowBlur") {
            val = val / this.canvas.getPixelRatio();
          }
          that._trace({
            property: prop,
            val
          });
        };
      }
      _applyGlobalCompositeOperation(node) {
        const op = node.attrs.globalCompositeOperation;
        var def = !op || op === "source-over";
        if (!def) {
          this.setAttr("globalCompositeOperation", op);
        }
      }
    };
    exports.Context = Context;
    CONTEXT_PROPERTIES.forEach(function(prop) {
      Object.defineProperty(Context.prototype, prop, {
        get() {
          return this._context[prop];
        },
        set(val) {
          this._context[prop] = val;
        }
      });
    });
    var SceneContext = class extends Context {
      constructor(canvas, { willReadFrequently = false } = {}) {
        super(canvas);
        this._context = canvas._canvas.getContext("2d", {
          willReadFrequently
        });
      }
      _fillColor(shape) {
        var fill = shape.fill();
        this.setAttr("fillStyle", fill);
        shape._fillFunc(this);
      }
      _fillPattern(shape) {
        this.setAttr("fillStyle", shape._getFillPattern());
        shape._fillFunc(this);
      }
      _fillLinearGradient(shape) {
        var grd = shape._getLinearGradient();
        if (grd) {
          this.setAttr("fillStyle", grd);
          shape._fillFunc(this);
        }
      }
      _fillRadialGradient(shape) {
        const grd = shape._getRadialGradient();
        if (grd) {
          this.setAttr("fillStyle", grd);
          shape._fillFunc(this);
        }
      }
      _fill(shape) {
        const hasColor = shape.fill(), fillPriority = shape.getFillPriority();
        if (hasColor && fillPriority === "color") {
          this._fillColor(shape);
          return;
        }
        const hasPattern = shape.getFillPatternImage();
        if (hasPattern && fillPriority === "pattern") {
          this._fillPattern(shape);
          return;
        }
        const hasLinearGradient = shape.getFillLinearGradientColorStops();
        if (hasLinearGradient && fillPriority === "linear-gradient") {
          this._fillLinearGradient(shape);
          return;
        }
        const hasRadialGradient = shape.getFillRadialGradientColorStops();
        if (hasRadialGradient && fillPriority === "radial-gradient") {
          this._fillRadialGradient(shape);
          return;
        }
        if (hasColor) {
          this._fillColor(shape);
        } else if (hasPattern) {
          this._fillPattern(shape);
        } else if (hasLinearGradient) {
          this._fillLinearGradient(shape);
        } else if (hasRadialGradient) {
          this._fillRadialGradient(shape);
        }
      }
      _strokeLinearGradient(shape) {
        const start = shape.getStrokeLinearGradientStartPoint(), end = shape.getStrokeLinearGradientEndPoint(), colorStops = shape.getStrokeLinearGradientColorStops(), grd = this.createLinearGradient(start.x, start.y, end.x, end.y);
        if (colorStops) {
          for (var n = 0; n < colorStops.length; n += 2) {
            grd.addColorStop(colorStops[n], colorStops[n + 1]);
          }
          this.setAttr("strokeStyle", grd);
        }
      }
      _stroke(shape) {
        var dash = shape.dash(), strokeScaleEnabled = shape.getStrokeScaleEnabled();
        if (shape.hasStroke()) {
          if (!strokeScaleEnabled) {
            this.save();
            var pixelRatio = this.getCanvas().getPixelRatio();
            this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);
          }
          this._applyLineCap(shape);
          if (dash && shape.dashEnabled()) {
            this.setLineDash(dash);
            this.setAttr("lineDashOffset", shape.dashOffset());
          }
          this.setAttr("lineWidth", shape.strokeWidth());
          if (!shape.getShadowForStrokeEnabled()) {
            this.setAttr("shadowColor", "rgba(0,0,0,0)");
          }
          var hasLinearGradient = shape.getStrokeLinearGradientColorStops();
          if (hasLinearGradient) {
            this._strokeLinearGradient(shape);
          } else {
            this.setAttr("strokeStyle", shape.stroke());
          }
          shape._strokeFunc(this);
          if (!strokeScaleEnabled) {
            this.restore();
          }
        }
      }
      _applyShadow(shape) {
        var _a, _b, _c;
        var color = (_a = shape.getShadowRGBA()) !== null && _a !== void 0 ? _a : "black", blur = (_b = shape.getShadowBlur()) !== null && _b !== void 0 ? _b : 5, offset = (_c = shape.getShadowOffset()) !== null && _c !== void 0 ? _c : {
          x: 0,
          y: 0
        }, scale = shape.getAbsoluteScale(), ratio = this.canvas.getPixelRatio(), scaleX = scale.x * ratio, scaleY = scale.y * ratio;
        this.setAttr("shadowColor", color);
        this.setAttr("shadowBlur", blur * Math.min(Math.abs(scaleX), Math.abs(scaleY)));
        this.setAttr("shadowOffsetX", offset.x * scaleX);
        this.setAttr("shadowOffsetY", offset.y * scaleY);
      }
    };
    exports.SceneContext = SceneContext;
    var HitContext = class extends Context {
      constructor(canvas) {
        super(canvas);
        this._context = canvas._canvas.getContext("2d", {
          willReadFrequently: true
        });
      }
      _fill(shape) {
        this.save();
        this.setAttr("fillStyle", shape.colorKey);
        shape._fillFuncHit(this);
        this.restore();
      }
      strokeShape(shape) {
        if (shape.hasHitStroke()) {
          this._stroke(shape);
        }
      }
      _stroke(shape) {
        if (shape.hasHitStroke()) {
          const strokeScaleEnabled = shape.getStrokeScaleEnabled();
          if (!strokeScaleEnabled) {
            this.save();
            var pixelRatio = this.getCanvas().getPixelRatio();
            this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);
          }
          this._applyLineCap(shape);
          var hitStrokeWidth = shape.hitStrokeWidth();
          var strokeWidth = hitStrokeWidth === "auto" ? shape.strokeWidth() : hitStrokeWidth;
          this.setAttr("lineWidth", strokeWidth);
          this.setAttr("strokeStyle", shape.colorKey);
          shape._strokeFuncHit(this);
          if (!strokeScaleEnabled) {
            this.restore();
          }
        }
      }
    };
    exports.HitContext = HitContext;
  }
});

// node_modules/konva/lib/Canvas.js
var require_Canvas = __commonJS({
  "node_modules/konva/lib/Canvas.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.HitCanvas = exports.SceneCanvas = exports.Canvas = void 0;
    var Util_1 = require_Util();
    var Context_1 = require_Context();
    var Global_1 = require_Global();
    var Factory_1 = require_Factory();
    var Validators_1 = require_Validators();
    var _pixelRatio;
    function getDevicePixelRatio() {
      if (_pixelRatio) {
        return _pixelRatio;
      }
      var canvas = Util_1.Util.createCanvasElement();
      var context = canvas.getContext("2d");
      _pixelRatio = function() {
        var devicePixelRatio = Global_1.Konva._global.devicePixelRatio || 1, backingStoreRatio = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1;
        return devicePixelRatio / backingStoreRatio;
      }();
      Util_1.Util.releaseCanvas(canvas);
      return _pixelRatio;
    }
    var Canvas = class {
      constructor(config) {
        this.pixelRatio = 1;
        this.width = 0;
        this.height = 0;
        this.isCache = false;
        var conf = config || {};
        var pixelRatio = conf.pixelRatio || Global_1.Konva.pixelRatio || getDevicePixelRatio();
        this.pixelRatio = pixelRatio;
        this._canvas = Util_1.Util.createCanvasElement();
        this._canvas.style.padding = "0";
        this._canvas.style.margin = "0";
        this._canvas.style.border = "0";
        this._canvas.style.background = "transparent";
        this._canvas.style.position = "absolute";
        this._canvas.style.top = "0";
        this._canvas.style.left = "0";
      }
      getContext() {
        return this.context;
      }
      getPixelRatio() {
        return this.pixelRatio;
      }
      setPixelRatio(pixelRatio) {
        var previousRatio = this.pixelRatio;
        this.pixelRatio = pixelRatio;
        this.setSize(this.getWidth() / previousRatio, this.getHeight() / previousRatio);
      }
      setWidth(width) {
        this.width = this._canvas.width = width * this.pixelRatio;
        this._canvas.style.width = width + "px";
        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;
        _context.scale(pixelRatio, pixelRatio);
      }
      setHeight(height) {
        this.height = this._canvas.height = height * this.pixelRatio;
        this._canvas.style.height = height + "px";
        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;
        _context.scale(pixelRatio, pixelRatio);
      }
      getWidth() {
        return this.width;
      }
      getHeight() {
        return this.height;
      }
      setSize(width, height) {
        this.setWidth(width || 0);
        this.setHeight(height || 0);
      }
      toDataURL(mimeType, quality) {
        try {
          return this._canvas.toDataURL(mimeType, quality);
        } catch (e) {
          try {
            return this._canvas.toDataURL();
          } catch (err) {
            Util_1.Util.error("Unable to get data URL. " + err.message + " For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html.");
            return "";
          }
        }
      }
    };
    exports.Canvas = Canvas;
    Factory_1.Factory.addGetterSetter(Canvas, "pixelRatio", void 0, (0, Validators_1.getNumberValidator)());
    var SceneCanvas = class extends Canvas {
      constructor(config = { width: 0, height: 0, willReadFrequently: false }) {
        super(config);
        this.context = new Context_1.SceneContext(this, {
          willReadFrequently: config.willReadFrequently
        });
        this.setSize(config.width, config.height);
      }
    };
    exports.SceneCanvas = SceneCanvas;
    var HitCanvas = class extends Canvas {
      constructor(config = { width: 0, height: 0 }) {
        super(config);
        this.hitCanvas = true;
        this.context = new Context_1.HitContext(this);
        this.setSize(config.width, config.height);
      }
    };
    exports.HitCanvas = HitCanvas;
  }
});

// node_modules/konva/lib/DragAndDrop.js
var require_DragAndDrop = __commonJS({
  "node_modules/konva/lib/DragAndDrop.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.DD = void 0;
    var Global_1 = require_Global();
    var Util_1 = require_Util();
    exports.DD = {
      get isDragging() {
        var flag = false;
        exports.DD._dragElements.forEach((elem) => {
          if (elem.dragStatus === "dragging") {
            flag = true;
          }
        });
        return flag;
      },
      justDragged: false,
      get node() {
        var node;
        exports.DD._dragElements.forEach((elem) => {
          node = elem.node;
        });
        return node;
      },
      _dragElements: /* @__PURE__ */ new Map(),
      _drag(evt) {
        const nodesToFireEvents = [];
        exports.DD._dragElements.forEach((elem, key) => {
          const { node } = elem;
          const stage = node.getStage();
          stage.setPointersPositions(evt);
          if (elem.pointerId === void 0) {
            elem.pointerId = Util_1.Util._getFirstPointerId(evt);
          }
          const pos = stage._changedPointerPositions.find((pos2) => pos2.id === elem.pointerId);
          if (!pos) {
            return;
          }
          if (elem.dragStatus !== "dragging") {
            var dragDistance = node.dragDistance();
            var distance = Math.max(Math.abs(pos.x - elem.startPointerPos.x), Math.abs(pos.y - elem.startPointerPos.y));
            if (distance < dragDistance) {
              return;
            }
            node.startDrag({ evt });
            if (!node.isDragging()) {
              return;
            }
          }
          node._setDragPosition(evt, elem);
          nodesToFireEvents.push(node);
        });
        nodesToFireEvents.forEach((node) => {
          node.fire("dragmove", {
            type: "dragmove",
            target: node,
            evt
          }, true);
        });
      },
      _endDragBefore(evt) {
        const drawNodes = [];
        exports.DD._dragElements.forEach((elem) => {
          const { node } = elem;
          const stage = node.getStage();
          if (evt) {
            stage.setPointersPositions(evt);
          }
          const pos = stage._changedPointerPositions.find((pos2) => pos2.id === elem.pointerId);
          if (!pos) {
            return;
          }
          if (elem.dragStatus === "dragging" || elem.dragStatus === "stopped") {
            exports.DD.justDragged = true;
            Global_1.Konva._mouseListenClick = false;
            Global_1.Konva._touchListenClick = false;
            Global_1.Konva._pointerListenClick = false;
            elem.dragStatus = "stopped";
          }
          const drawNode = elem.node.getLayer() || elem.node instanceof Global_1.Konva["Stage"] && elem.node;
          if (drawNode && drawNodes.indexOf(drawNode) === -1) {
            drawNodes.push(drawNode);
          }
        });
        drawNodes.forEach((drawNode) => {
          drawNode.draw();
        });
      },
      _endDragAfter(evt) {
        exports.DD._dragElements.forEach((elem, key) => {
          if (elem.dragStatus === "stopped") {
            elem.node.fire("dragend", {
              type: "dragend",
              target: elem.node,
              evt
            }, true);
          }
          if (elem.dragStatus !== "dragging") {
            exports.DD._dragElements.delete(key);
          }
        });
      }
    };
    if (Global_1.Konva.isBrowser) {
      window.addEventListener("mouseup", exports.DD._endDragBefore, true);
      window.addEventListener("touchend", exports.DD._endDragBefore, true);
      window.addEventListener("mousemove", exports.DD._drag);
      window.addEventListener("touchmove", exports.DD._drag);
      window.addEventListener("mouseup", exports.DD._endDragAfter, false);
      window.addEventListener("touchend", exports.DD._endDragAfter, false);
    }
  }
});

// node_modules/konva/lib/Node.js
var require_Node = __commonJS({
  "node_modules/konva/lib/Node.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Node = void 0;
    var Util_1 = require_Util();
    var Factory_1 = require_Factory();
    var Canvas_1 = require_Canvas();
    var Global_1 = require_Global();
    var DragAndDrop_1 = require_DragAndDrop();
    var Validators_1 = require_Validators();
    var ABSOLUTE_OPACITY = "absoluteOpacity";
    var ALL_LISTENERS = "allEventListeners";
    var ABSOLUTE_TRANSFORM = "absoluteTransform";
    var ABSOLUTE_SCALE = "absoluteScale";
    var CANVAS = "canvas";
    var CHANGE = "Change";
    var CHILDREN = "children";
    var KONVA = "konva";
    var LISTENING = "listening";
    var MOUSEENTER = "mouseenter";
    var MOUSELEAVE = "mouseleave";
    var SET = "set";
    var SHAPE = "Shape";
    var SPACE = " ";
    var STAGE = "stage";
    var TRANSFORM = "transform";
    var UPPER_STAGE = "Stage";
    var VISIBLE = "visible";
    var TRANSFORM_CHANGE_STR = [
      "xChange.konva",
      "yChange.konva",
      "scaleXChange.konva",
      "scaleYChange.konva",
      "skewXChange.konva",
      "skewYChange.konva",
      "rotationChange.konva",
      "offsetXChange.konva",
      "offsetYChange.konva",
      "transformsEnabledChange.konva"
    ].join(SPACE);
    var idCounter = 1;
    var Node = class {
      constructor(config) {
        this._id = idCounter++;
        this.eventListeners = {};
        this.attrs = {};
        this.index = 0;
        this._allEventListeners = null;
        this.parent = null;
        this._cache = /* @__PURE__ */ new Map();
        this._attachedDepsListeners = /* @__PURE__ */ new Map();
        this._lastPos = null;
        this._batchingTransformChange = false;
        this._needClearTransformCache = false;
        this._filterUpToDate = false;
        this._isUnderCache = false;
        this._dragEventId = null;
        this._shouldFireChangeEvents = false;
        this.setAttrs(config);
        this._shouldFireChangeEvents = true;
      }
      hasChildren() {
        return false;
      }
      _clearCache(attr2) {
        if ((attr2 === TRANSFORM || attr2 === ABSOLUTE_TRANSFORM) && this._cache.get(attr2)) {
          this._cache.get(attr2).dirty = true;
        } else if (attr2) {
          this._cache.delete(attr2);
        } else {
          this._cache.clear();
        }
      }
      _getCache(attr2, privateGetter) {
        var cache = this._cache.get(attr2);
        var isTransform = attr2 === TRANSFORM || attr2 === ABSOLUTE_TRANSFORM;
        var invalid = cache === void 0 || isTransform && cache.dirty === true;
        if (invalid) {
          cache = privateGetter.call(this);
          this._cache.set(attr2, cache);
        }
        return cache;
      }
      _calculate(name, deps, getter) {
        if (!this._attachedDepsListeners.get(name)) {
          const depsString = deps.map((dep) => dep + "Change.konva").join(SPACE);
          this.on(depsString, () => {
            this._clearCache(name);
          });
          this._attachedDepsListeners.set(name, true);
        }
        return this._getCache(name, getter);
      }
      _getCanvasCache() {
        return this._cache.get(CANVAS);
      }
      _clearSelfAndDescendantCache(attr2) {
        this._clearCache(attr2);
        if (attr2 === ABSOLUTE_TRANSFORM) {
          this.fire("absoluteTransformChange");
        }
      }
      clearCache() {
        if (this._cache.has(CANVAS)) {
          const { scene, filter, hit } = this._cache.get(CANVAS);
          Util_1.Util.releaseCanvas(scene, filter, hit);
          this._cache.delete(CANVAS);
        }
        this._clearSelfAndDescendantCache();
        this._requestDraw();
        return this;
      }
      cache(config) {
        var conf = config || {};
        var rect = {};
        if (conf.x === void 0 || conf.y === void 0 || conf.width === void 0 || conf.height === void 0) {
          rect = this.getClientRect({
            skipTransform: true,
            relativeTo: this.getParent() || void 0
          });
        }
        var width = Math.ceil(conf.width || rect.width), height = Math.ceil(conf.height || rect.height), pixelRatio = conf.pixelRatio, x = conf.x === void 0 ? Math.floor(rect.x) : conf.x, y = conf.y === void 0 ? Math.floor(rect.y) : conf.y, offset = conf.offset || 0, drawBorder = conf.drawBorder || false, hitCanvasPixelRatio = conf.hitCanvasPixelRatio || 1;
        if (!width || !height) {
          Util_1.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");
          return;
        }
        width += offset * 2 + 1;
        height += offset * 2 + 1;
        x -= offset;
        y -= offset;
        var cachedSceneCanvas = new Canvas_1.SceneCanvas({
          pixelRatio,
          width,
          height
        }), cachedFilterCanvas = new Canvas_1.SceneCanvas({
          pixelRatio,
          width: 0,
          height: 0,
          willReadFrequently: true
        }), cachedHitCanvas = new Canvas_1.HitCanvas({
          pixelRatio: hitCanvasPixelRatio,
          width,
          height
        }), sceneContext = cachedSceneCanvas.getContext(), hitContext = cachedHitCanvas.getContext();
        cachedHitCanvas.isCache = true;
        cachedSceneCanvas.isCache = true;
        this._cache.delete(CANVAS);
        this._filterUpToDate = false;
        if (conf.imageSmoothingEnabled === false) {
          cachedSceneCanvas.getContext()._context.imageSmoothingEnabled = false;
          cachedFilterCanvas.getContext()._context.imageSmoothingEnabled = false;
        }
        sceneContext.save();
        hitContext.save();
        sceneContext.translate(-x, -y);
        hitContext.translate(-x, -y);
        this._isUnderCache = true;
        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);
        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);
        this.drawScene(cachedSceneCanvas, this);
        this.drawHit(cachedHitCanvas, this);
        this._isUnderCache = false;
        sceneContext.restore();
        hitContext.restore();
        if (drawBorder) {
          sceneContext.save();
          sceneContext.beginPath();
          sceneContext.rect(0, 0, width, height);
          sceneContext.closePath();
          sceneContext.setAttr("strokeStyle", "red");
          sceneContext.setAttr("lineWidth", 5);
          sceneContext.stroke();
          sceneContext.restore();
        }
        this._cache.set(CANVAS, {
          scene: cachedSceneCanvas,
          filter: cachedFilterCanvas,
          hit: cachedHitCanvas,
          x,
          y
        });
        this._requestDraw();
        return this;
      }
      isCached() {
        return this._cache.has(CANVAS);
      }
      getClientRect(config) {
        throw new Error('abstract "getClientRect" method call');
      }
      _transformedRect(rect, top) {
        var points = [
          { x: rect.x, y: rect.y },
          { x: rect.x + rect.width, y: rect.y },
          { x: rect.x + rect.width, y: rect.y + rect.height },
          { x: rect.x, y: rect.y + rect.height }
        ];
        var minX = Infinity, minY = Infinity, maxX = -Infinity, maxY = -Infinity;
        var trans = this.getAbsoluteTransform(top);
        points.forEach(function(point) {
          var transformed = trans.point(point);
          if (minX === void 0) {
            minX = maxX = transformed.x;
            minY = maxY = transformed.y;
          }
          minX = Math.min(minX, transformed.x);
          minY = Math.min(minY, transformed.y);
          maxX = Math.max(maxX, transformed.x);
          maxY = Math.max(maxY, transformed.y);
        });
        return {
          x: minX,
          y: minY,
          width: maxX - minX,
          height: maxY - minY
        };
      }
      _drawCachedSceneCanvas(context) {
        context.save();
        context._applyOpacity(this);
        context._applyGlobalCompositeOperation(this);
        const canvasCache = this._getCanvasCache();
        context.translate(canvasCache.x, canvasCache.y);
        var cacheCanvas = this._getCachedSceneCanvas();
        var ratio = cacheCanvas.pixelRatio;
        context.drawImage(cacheCanvas._canvas, 0, 0, cacheCanvas.width / ratio, cacheCanvas.height / ratio);
        context.restore();
      }
      _drawCachedHitCanvas(context) {
        var canvasCache = this._getCanvasCache(), hitCanvas = canvasCache.hit;
        context.save();
        context.translate(canvasCache.x, canvasCache.y);
        context.drawImage(hitCanvas._canvas, 0, 0, hitCanvas.width / hitCanvas.pixelRatio, hitCanvas.height / hitCanvas.pixelRatio);
        context.restore();
      }
      _getCachedSceneCanvas() {
        var filters = this.filters(), cachedCanvas = this._getCanvasCache(), sceneCanvas = cachedCanvas.scene, filterCanvas = cachedCanvas.filter, filterContext = filterCanvas.getContext(), len, imageData, n, filter;
        if (filters) {
          if (!this._filterUpToDate) {
            var ratio = sceneCanvas.pixelRatio;
            filterCanvas.setSize(sceneCanvas.width / sceneCanvas.pixelRatio, sceneCanvas.height / sceneCanvas.pixelRatio);
            try {
              len = filters.length;
              filterContext.clear();
              filterContext.drawImage(sceneCanvas._canvas, 0, 0, sceneCanvas.getWidth() / ratio, sceneCanvas.getHeight() / ratio);
              imageData = filterContext.getImageData(0, 0, filterCanvas.getWidth(), filterCanvas.getHeight());
              for (n = 0; n < len; n++) {
                filter = filters[n];
                if (typeof filter !== "function") {
                  Util_1.Util.error("Filter should be type of function, but got " + typeof filter + " instead. Please check correct filters");
                  continue;
                }
                filter.call(this, imageData);
                filterContext.putImageData(imageData, 0, 0);
              }
            } catch (e) {
              Util_1.Util.error("Unable to apply filter. " + e.message + " This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.");
            }
            this._filterUpToDate = true;
          }
          return filterCanvas;
        }
        return sceneCanvas;
      }
      on(evtStr, handler) {
        this._cache && this._cache.delete(ALL_LISTENERS);
        if (arguments.length === 3) {
          return this._delegate.apply(this, arguments);
        }
        var events = evtStr.split(SPACE), len = events.length, n, event2, parts, baseEvent, name;
        for (n = 0; n < len; n++) {
          event2 = events[n];
          parts = event2.split(".");
          baseEvent = parts[0];
          name = parts[1] || "";
          if (!this.eventListeners[baseEvent]) {
            this.eventListeners[baseEvent] = [];
          }
          this.eventListeners[baseEvent].push({
            name,
            handler
          });
        }
        return this;
      }
      off(evtStr, callback) {
        var events = (evtStr || "").split(SPACE), len = events.length, n, t, event2, parts, baseEvent, name;
        this._cache && this._cache.delete(ALL_LISTENERS);
        if (!evtStr) {
          for (t in this.eventListeners) {
            this._off(t);
          }
        }
        for (n = 0; n < len; n++) {
          event2 = events[n];
          parts = event2.split(".");
          baseEvent = parts[0];
          name = parts[1];
          if (baseEvent) {
            if (this.eventListeners[baseEvent]) {
              this._off(baseEvent, name, callback);
            }
          } else {
            for (t in this.eventListeners) {
              this._off(t, name, callback);
            }
          }
        }
        return this;
      }
      dispatchEvent(evt) {
        var e = {
          target: this,
          type: evt.type,
          evt
        };
        this.fire(evt.type, e);
        return this;
      }
      addEventListener(type, handler) {
        this.on(type, function(evt) {
          handler.call(this, evt.evt);
        });
        return this;
      }
      removeEventListener(type) {
        this.off(type);
        return this;
      }
      _delegate(event2, selector, handler) {
        var stopNode = this;
        this.on(event2, function(evt) {
          var targets = evt.target.findAncestors(selector, true, stopNode);
          for (var i = 0; i < targets.length; i++) {
            evt = Util_1.Util.cloneObject(evt);
            evt.currentTarget = targets[i];
            handler.call(targets[i], evt);
          }
        });
      }
      remove() {
        if (this.isDragging()) {
          this.stopDrag();
        }
        DragAndDrop_1.DD._dragElements.delete(this._id);
        this._remove();
        return this;
      }
      _clearCaches() {
        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);
        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);
        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);
        this._clearSelfAndDescendantCache(STAGE);
        this._clearSelfAndDescendantCache(VISIBLE);
        this._clearSelfAndDescendantCache(LISTENING);
      }
      _remove() {
        this._clearCaches();
        var parent = this.getParent();
        if (parent && parent.children) {
          parent.children.splice(this.index, 1);
          parent._setChildrenIndices();
          this.parent = null;
        }
      }
      destroy() {
        this.remove();
        this.clearCache();
        return this;
      }
      getAttr(attr2) {
        var method = "get" + Util_1.Util._capitalize(attr2);
        if (Util_1.Util._isFunction(this[method])) {
          return this[method]();
        }
        return this.attrs[attr2];
      }
      getAncestors() {
        var parent = this.getParent(), ancestors = [];
        while (parent) {
          ancestors.push(parent);
          parent = parent.getParent();
        }
        return ancestors;
      }
      getAttrs() {
        return this.attrs || {};
      }
      setAttrs(config) {
        this._batchTransformChanges(() => {
          var key, method;
          if (!config) {
            return this;
          }
          for (key in config) {
            if (key === CHILDREN) {
              continue;
            }
            method = SET + Util_1.Util._capitalize(key);
            if (Util_1.Util._isFunction(this[method])) {
              this[method](config[key]);
            } else {
              this._setAttr(key, config[key]);
            }
          }
        });
        return this;
      }
      isListening() {
        return this._getCache(LISTENING, this._isListening);
      }
      _isListening(relativeTo) {
        const listening = this.listening();
        if (!listening) {
          return false;
        }
        const parent = this.getParent();
        if (parent && parent !== relativeTo && this !== relativeTo) {
          return parent._isListening(relativeTo);
        } else {
          return true;
        }
      }
      isVisible() {
        return this._getCache(VISIBLE, this._isVisible);
      }
      _isVisible(relativeTo) {
        const visible = this.visible();
        if (!visible) {
          return false;
        }
        const parent = this.getParent();
        if (parent && parent !== relativeTo && this !== relativeTo) {
          return parent._isVisible(relativeTo);
        } else {
          return true;
        }
      }
      shouldDrawHit(top, skipDragCheck = false) {
        if (top) {
          return this._isVisible(top) && this._isListening(top);
        }
        var layer = this.getLayer();
        var layerUnderDrag = false;
        DragAndDrop_1.DD._dragElements.forEach((elem) => {
          if (elem.dragStatus !== "dragging") {
            return;
          } else if (elem.node.nodeType === "Stage") {
            layerUnderDrag = true;
          } else if (elem.node.getLayer() === layer) {
            layerUnderDrag = true;
          }
        });
        var dragSkip = !skipDragCheck && !Global_1.Konva.hitOnDragEnabled && layerUnderDrag;
        return this.isListening() && this.isVisible() && !dragSkip;
      }
      show() {
        this.visible(true);
        return this;
      }
      hide() {
        this.visible(false);
        return this;
      }
      getZIndex() {
        return this.index || 0;
      }
      getAbsoluteZIndex() {
        var depth = this.getDepth(), that = this, index = 0, nodes, len, n, child;
        function addChildren(children2) {
          nodes = [];
          len = children2.length;
          for (n = 0; n < len; n++) {
            child = children2[n];
            index++;
            if (child.nodeType !== SHAPE) {
              nodes = nodes.concat(child.getChildren().slice());
            }
            if (child._id === that._id) {
              n = len;
            }
          }
          if (nodes.length > 0 && nodes[0].getDepth() <= depth) {
            addChildren(nodes);
          }
        }
        const stage = this.getStage();
        if (that.nodeType !== UPPER_STAGE && stage) {
          addChildren(stage.getChildren());
        }
        return index;
      }
      getDepth() {
        var depth = 0, parent = this.parent;
        while (parent) {
          depth++;
          parent = parent.parent;
        }
        return depth;
      }
      _batchTransformChanges(func) {
        this._batchingTransformChange = true;
        func();
        this._batchingTransformChange = false;
        if (this._needClearTransformCache) {
          this._clearCache(TRANSFORM);
          this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);
        }
        this._needClearTransformCache = false;
      }
      setPosition(pos) {
        this._batchTransformChanges(() => {
          this.x(pos.x);
          this.y(pos.y);
        });
        return this;
      }
      getPosition() {
        return {
          x: this.x(),
          y: this.y()
        };
      }
      getRelativePointerPosition() {
        const stage = this.getStage();
        if (!stage) {
          return null;
        }
        var pos = stage.getPointerPosition();
        if (!pos) {
          return null;
        }
        var transform = this.getAbsoluteTransform().copy();
        transform.invert();
        return transform.point(pos);
      }
      getAbsolutePosition(top) {
        let haveCachedParent = false;
        let parent = this.parent;
        while (parent) {
          if (parent.isCached()) {
            haveCachedParent = true;
            break;
          }
          parent = parent.parent;
        }
        if (haveCachedParent && !top) {
          top = true;
        }
        var absoluteMatrix = this.getAbsoluteTransform(top).getMatrix(), absoluteTransform = new Util_1.Transform(), offset = this.offset();
        absoluteTransform.m = absoluteMatrix.slice();
        absoluteTransform.translate(offset.x, offset.y);
        return absoluteTransform.getTranslation();
      }
      setAbsolutePosition(pos) {
        const { x, y, ...origTrans } = this._clearTransform();
        this.attrs.x = x;
        this.attrs.y = y;
        this._clearCache(TRANSFORM);
        var it = this._getAbsoluteTransform().copy();
        it.invert();
        it.translate(pos.x, pos.y);
        pos = {
          x: this.attrs.x + it.getTranslation().x,
          y: this.attrs.y + it.getTranslation().y
        };
        this._setTransform(origTrans);
        this.setPosition({ x: pos.x, y: pos.y });
        this._clearCache(TRANSFORM);
        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);
        return this;
      }
      _setTransform(trans) {
        var key;
        for (key in trans) {
          this.attrs[key] = trans[key];
        }
      }
      _clearTransform() {
        var trans = {
          x: this.x(),
          y: this.y(),
          rotation: this.rotation(),
          scaleX: this.scaleX(),
          scaleY: this.scaleY(),
          offsetX: this.offsetX(),
          offsetY: this.offsetY(),
          skewX: this.skewX(),
          skewY: this.skewY()
        };
        this.attrs.x = 0;
        this.attrs.y = 0;
        this.attrs.rotation = 0;
        this.attrs.scaleX = 1;
        this.attrs.scaleY = 1;
        this.attrs.offsetX = 0;
        this.attrs.offsetY = 0;
        this.attrs.skewX = 0;
        this.attrs.skewY = 0;
        return trans;
      }
      move(change) {
        var changeX = change.x, changeY = change.y, x = this.x(), y = this.y();
        if (changeX !== void 0) {
          x += changeX;
        }
        if (changeY !== void 0) {
          y += changeY;
        }
        this.setPosition({ x, y });
        return this;
      }
      _eachAncestorReverse(func, top) {
        var family = [], parent = this.getParent(), len, n;
        if (top && top._id === this._id) {
          return;
        }
        family.unshift(this);
        while (parent && (!top || parent._id !== top._id)) {
          family.unshift(parent);
          parent = parent.parent;
        }
        len = family.length;
        for (n = 0; n < len; n++) {
          func(family[n]);
        }
      }
      rotate(theta) {
        this.rotation(this.rotation() + theta);
        return this;
      }
      moveToTop() {
        if (!this.parent) {
          Util_1.Util.warn("Node has no parent. moveToTop function is ignored.");
          return false;
        }
        var index = this.index, len = this.parent.getChildren().length;
        if (index < len - 1) {
          this.parent.children.splice(index, 1);
          this.parent.children.push(this);
          this.parent._setChildrenIndices();
          return true;
        }
        return false;
      }
      moveUp() {
        if (!this.parent) {
          Util_1.Util.warn("Node has no parent. moveUp function is ignored.");
          return false;
        }
        var index = this.index, len = this.parent.getChildren().length;
        if (index < len - 1) {
          this.parent.children.splice(index, 1);
          this.parent.children.splice(index + 1, 0, this);
          this.parent._setChildrenIndices();
          return true;
        }
        return false;
      }
      moveDown() {
        if (!this.parent) {
          Util_1.Util.warn("Node has no parent. moveDown function is ignored.");
          return false;
        }
        var index = this.index;
        if (index > 0) {
          this.parent.children.splice(index, 1);
          this.parent.children.splice(index - 1, 0, this);
          this.parent._setChildrenIndices();
          return true;
        }
        return false;
      }
      moveToBottom() {
        if (!this.parent) {
          Util_1.Util.warn("Node has no parent. moveToBottom function is ignored.");
          return false;
        }
        var index = this.index;
        if (index > 0) {
          this.parent.children.splice(index, 1);
          this.parent.children.unshift(this);
          this.parent._setChildrenIndices();
          return true;
        }
        return false;
      }
      setZIndex(zIndex) {
        if (!this.parent) {
          Util_1.Util.warn("Node has no parent. zIndex parameter is ignored.");
          return this;
        }
        if (zIndex < 0 || zIndex >= this.parent.children.length) {
          Util_1.Util.warn("Unexpected value " + zIndex + " for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to " + (this.parent.children.length - 1) + ".");
        }
        var index = this.index;
        this.parent.children.splice(index, 1);
        this.parent.children.splice(zIndex, 0, this);
        this.parent._setChildrenIndices();
        return this;
      }
      getAbsoluteOpacity() {
        return this._getCache(ABSOLUTE_OPACITY, this._getAbsoluteOpacity);
      }
      _getAbsoluteOpacity() {
        var absOpacity = this.opacity();
        var parent = this.getParent();
        if (parent && !parent._isUnderCache) {
          absOpacity *= parent.getAbsoluteOpacity();
        }
        return absOpacity;
      }
      moveTo(newContainer) {
        if (this.getParent() !== newContainer) {
          this._remove();
          newContainer.add(this);
        }
        return this;
      }
      toObject() {
        var obj = {}, attrs = this.getAttrs(), key, val, getter, defaultValue, nonPlainObject;
        obj.attrs = {};
        for (key in attrs) {
          val = attrs[key];
          nonPlainObject = Util_1.Util.isObject(val) && !Util_1.Util._isPlainObject(val) && !Util_1.Util._isArray(val);
          if (nonPlainObject) {
            continue;
          }
          getter = typeof this[key] === "function" && this[key];
          delete attrs[key];
          defaultValue = getter ? getter.call(this) : null;
          attrs[key] = val;
          if (defaultValue !== val) {
            obj.attrs[key] = val;
          }
        }
        obj.className = this.getClassName();
        return Util_1.Util._prepareToStringify(obj);
      }
      toJSON() {
        return JSON.stringify(this.toObject());
      }
      getParent() {
        return this.parent;
      }
      findAncestors(selector, includeSelf, stopNode) {
        var res = [];
        if (includeSelf && this._isMatch(selector)) {
          res.push(this);
        }
        var ancestor = this.parent;
        while (ancestor) {
          if (ancestor === stopNode) {
            return res;
          }
          if (ancestor._isMatch(selector)) {
            res.push(ancestor);
          }
          ancestor = ancestor.parent;
        }
        return res;
      }
      isAncestorOf(node) {
        return false;
      }
      findAncestor(selector, includeSelf, stopNode) {
        return this.findAncestors(selector, includeSelf, stopNode)[0];
      }
      _isMatch(selector) {
        if (!selector) {
          return false;
        }
        if (typeof selector === "function") {
          return selector(this);
        }
        var selectorArr = selector.replace(/ /g, "").split(","), len = selectorArr.length, n, sel;
        for (n = 0; n < len; n++) {
          sel = selectorArr[n];
          if (!Util_1.Util.isValidSelector(sel)) {
            Util_1.Util.warn('Selector "' + sel + '" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".');
            Util_1.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".');
            Util_1.Util.warn("Konva is awesome, right?");
          }
          if (sel.charAt(0) === "#") {
            if (this.id() === sel.slice(1)) {
              return true;
            }
          } else if (sel.charAt(0) === ".") {
            if (this.hasName(sel.slice(1))) {
              return true;
            }
          } else if (this.className === sel || this.nodeType === sel) {
            return true;
          }
        }
        return false;
      }
      getLayer() {
        var parent = this.getParent();
        return parent ? parent.getLayer() : null;
      }
      getStage() {
        return this._getCache(STAGE, this._getStage);
      }
      _getStage() {
        var parent = this.getParent();
        if (parent) {
          return parent.getStage();
        } else {
          return null;
        }
      }
      fire(eventType, evt = {}, bubble) {
        evt.target = evt.target || this;
        if (bubble) {
          this._fireAndBubble(eventType, evt);
        } else {
          this._fire(eventType, evt);
        }
        return this;
      }
      getAbsoluteTransform(top) {
        if (top) {
          return this._getAbsoluteTransform(top);
        } else {
          return this._getCache(ABSOLUTE_TRANSFORM, this._getAbsoluteTransform);
        }
      }
      _getAbsoluteTransform(top) {
        var at;
        if (top) {
          at = new Util_1.Transform();
          this._eachAncestorReverse(function(node) {
            var transformsEnabled2 = node.transformsEnabled();
            if (transformsEnabled2 === "all") {
              at.multiply(node.getTransform());
            } else if (transformsEnabled2 === "position") {
              at.translate(node.x() - node.offsetX(), node.y() - node.offsetY());
            }
          }, top);
          return at;
        } else {
          at = this._cache.get(ABSOLUTE_TRANSFORM) || new Util_1.Transform();
          if (this.parent) {
            this.parent.getAbsoluteTransform().copyInto(at);
          } else {
            at.reset();
          }
          var transformsEnabled = this.transformsEnabled();
          if (transformsEnabled === "all") {
            at.multiply(this.getTransform());
          } else if (transformsEnabled === "position") {
            const x = this.attrs.x || 0;
            const y = this.attrs.y || 0;
            const offsetX = this.attrs.offsetX || 0;
            const offsetY = this.attrs.offsetY || 0;
            at.translate(x - offsetX, y - offsetY);
          }
          at.dirty = false;
          return at;
        }
      }
      getAbsoluteScale(top) {
        var parent = this;
        while (parent) {
          if (parent._isUnderCache) {
            top = parent;
          }
          parent = parent.getParent();
        }
        const transform = this.getAbsoluteTransform(top);
        const attrs = transform.decompose();
        return {
          x: attrs.scaleX,
          y: attrs.scaleY
        };
      }
      getAbsoluteRotation() {
        return this.getAbsoluteTransform().decompose().rotation;
      }
      getTransform() {
        return this._getCache(TRANSFORM, this._getTransform);
      }
      _getTransform() {
        var _a, _b;
        var m = this._cache.get(TRANSFORM) || new Util_1.Transform();
        m.reset();
        var x = this.x(), y = this.y(), rotation = Global_1.Konva.getAngle(this.rotation()), scaleX = (_a = this.attrs.scaleX) !== null && _a !== void 0 ? _a : 1, scaleY = (_b = this.attrs.scaleY) !== null && _b !== void 0 ? _b : 1, skewX = this.attrs.skewX || 0, skewY = this.attrs.skewY || 0, offsetX = this.attrs.offsetX || 0, offsetY = this.attrs.offsetY || 0;
        if (x !== 0 || y !== 0) {
          m.translate(x, y);
        }
        if (rotation !== 0) {
          m.rotate(rotation);
        }
        if (skewX !== 0 || skewY !== 0) {
          m.skew(skewX, skewY);
        }
        if (scaleX !== 1 || scaleY !== 1) {
          m.scale(scaleX, scaleY);
        }
        if (offsetX !== 0 || offsetY !== 0) {
          m.translate(-1 * offsetX, -1 * offsetY);
        }
        m.dirty = false;
        return m;
      }
      clone(obj) {
        var attrs = Util_1.Util.cloneObject(this.attrs), key, allListeners, len, n, listener;
        for (key in obj) {
          attrs[key] = obj[key];
        }
        var node = new this.constructor(attrs);
        for (key in this.eventListeners) {
          allListeners = this.eventListeners[key];
          len = allListeners.length;
          for (n = 0; n < len; n++) {
            listener = allListeners[n];
            if (listener.name.indexOf(KONVA) < 0) {
              if (!node.eventListeners[key]) {
                node.eventListeners[key] = [];
              }
              node.eventListeners[key].push(listener);
            }
          }
        }
        return node;
      }
      _toKonvaCanvas(config) {
        config = config || {};
        var box = this.getClientRect();
        var stage = this.getStage(), x = config.x !== void 0 ? config.x : Math.floor(box.x), y = config.y !== void 0 ? config.y : Math.floor(box.y), pixelRatio = config.pixelRatio || 1, canvas = new Canvas_1.SceneCanvas({
          width: config.width || Math.ceil(box.width) || (stage ? stage.width() : 0),
          height: config.height || Math.ceil(box.height) || (stage ? stage.height() : 0),
          pixelRatio
        }), context = canvas.getContext();
        if (config.imageSmoothingEnabled === false) {
          context._context.imageSmoothingEnabled = false;
        }
        context.save();
        if (x || y) {
          context.translate(-1 * x, -1 * y);
        }
        this.drawScene(canvas);
        context.restore();
        return canvas;
      }
      toCanvas(config) {
        return this._toKonvaCanvas(config)._canvas;
      }
      toDataURL(config) {
        config = config || {};
        var mimeType = config.mimeType || null, quality = config.quality || null;
        var url = this._toKonvaCanvas(config).toDataURL(mimeType, quality);
        if (config.callback) {
          config.callback(url);
        }
        return url;
      }
      toImage(config) {
        return new Promise((resolve, reject) => {
          try {
            const callback = config === null || config === void 0 ? void 0 : config.callback;
            if (callback)
              delete config.callback;
            Util_1.Util._urlToImage(this.toDataURL(config), function(img) {
              resolve(img);
              callback === null || callback === void 0 ? void 0 : callback(img);
            });
          } catch (err) {
            reject(err);
          }
        });
      }
      toBlob(config) {
        return new Promise((resolve, reject) => {
          try {
            const callback = config === null || config === void 0 ? void 0 : config.callback;
            if (callback)
              delete config.callback;
            this.toCanvas(config).toBlob((blob) => {
              resolve(blob);
              callback === null || callback === void 0 ? void 0 : callback(blob);
            });
          } catch (err) {
            reject(err);
          }
        });
      }
      setSize(size) {
        this.width(size.width);
        this.height(size.height);
        return this;
      }
      getSize() {
        return {
          width: this.width(),
          height: this.height()
        };
      }
      getClassName() {
        return this.className || this.nodeType;
      }
      getType() {
        return this.nodeType;
      }
      getDragDistance() {
        if (this.attrs.dragDistance !== void 0) {
          return this.attrs.dragDistance;
        } else if (this.parent) {
          return this.parent.getDragDistance();
        } else {
          return Global_1.Konva.dragDistance;
        }
      }
      _off(type, name, callback) {
        var evtListeners = this.eventListeners[type], i, evtName, handler;
        for (i = 0; i < evtListeners.length; i++) {
          evtName = evtListeners[i].name;
          handler = evtListeners[i].handler;
          if ((evtName !== "konva" || name === "konva") && (!name || evtName === name) && (!callback || callback === handler)) {
            evtListeners.splice(i, 1);
            if (evtListeners.length === 0) {
              delete this.eventListeners[type];
              break;
            }
            i--;
          }
        }
      }
      _fireChangeEvent(attr2, oldVal, newVal) {
        this._fire(attr2 + CHANGE, {
          oldVal,
          newVal
        });
      }
      addName(name) {
        if (!this.hasName(name)) {
          var oldName = this.name();
          var newName = oldName ? oldName + " " + name : name;
          this.name(newName);
        }
        return this;
      }
      hasName(name) {
        if (!name) {
          return false;
        }
        const fullName = this.name();
        if (!fullName) {
          return false;
        }
        var names = (fullName || "").split(/\s/g);
        return names.indexOf(name) !== -1;
      }
      removeName(name) {
        var names = (this.name() || "").split(/\s/g);
        var index = names.indexOf(name);
        if (index !== -1) {
          names.splice(index, 1);
          this.name(names.join(" "));
        }
        return this;
      }
      setAttr(attr2, val) {
        var func = this[SET + Util_1.Util._capitalize(attr2)];
        if (Util_1.Util._isFunction(func)) {
          func.call(this, val);
        } else {
          this._setAttr(attr2, val);
        }
        return this;
      }
      _requestDraw() {
        if (Global_1.Konva.autoDrawEnabled) {
          const drawNode = this.getLayer() || this.getStage();
          drawNode === null || drawNode === void 0 ? void 0 : drawNode.batchDraw();
        }
      }
      _setAttr(key, val) {
        var oldVal = this.attrs[key];
        if (oldVal === val && !Util_1.Util.isObject(val)) {
          return;
        }
        if (val === void 0 || val === null) {
          delete this.attrs[key];
        } else {
          this.attrs[key] = val;
        }
        if (this._shouldFireChangeEvents) {
          this._fireChangeEvent(key, oldVal, val);
        }
        this._requestDraw();
      }
      _setComponentAttr(key, component, val) {
        var oldVal;
        if (val !== void 0) {
          oldVal = this.attrs[key];
          if (!oldVal) {
            this.attrs[key] = this.getAttr(key);
          }
          this.attrs[key][component] = val;
          this._fireChangeEvent(key, oldVal, val);
        }
      }
      _fireAndBubble(eventType, evt, compareShape) {
        if (evt && this.nodeType === SHAPE) {
          evt.target = this;
        }
        var shouldStop = (eventType === MOUSEENTER || eventType === MOUSELEAVE) && (compareShape && (this === compareShape || this.isAncestorOf && this.isAncestorOf(compareShape)) || this.nodeType === "Stage" && !compareShape);
        if (!shouldStop) {
          this._fire(eventType, evt);
          var stopBubble = (eventType === MOUSEENTER || eventType === MOUSELEAVE) && compareShape && compareShape.isAncestorOf && compareShape.isAncestorOf(this) && !compareShape.isAncestorOf(this.parent);
          if ((evt && !evt.cancelBubble || !evt) && this.parent && this.parent.isListening() && !stopBubble) {
            if (compareShape && compareShape.parent) {
              this._fireAndBubble.call(this.parent, eventType, evt, compareShape);
            } else {
              this._fireAndBubble.call(this.parent, eventType, evt);
            }
          }
        }
      }
      _getProtoListeners(eventType) {
        var _a, _b, _c;
        const allListeners = (_a = this._cache.get(ALL_LISTENERS)) !== null && _a !== void 0 ? _a : {};
        let events = allListeners === null || allListeners === void 0 ? void 0 : allListeners[eventType];
        if (events === void 0) {
          events = [];
          let obj = Object.getPrototypeOf(this);
          while (obj) {
            const hierarchyEvents = (_c = (_b = obj.eventListeners) === null || _b === void 0 ? void 0 : _b[eventType]) !== null && _c !== void 0 ? _c : [];
            events.push(...hierarchyEvents);
            obj = Object.getPrototypeOf(obj);
          }
          allListeners[eventType] = events;
          this._cache.set(ALL_LISTENERS, allListeners);
        }
        return events;
      }
      _fire(eventType, evt) {
        evt = evt || {};
        evt.currentTarget = this;
        evt.type = eventType;
        const topListeners = this._getProtoListeners(eventType);
        if (topListeners) {
          for (var i = 0; i < topListeners.length; i++) {
            topListeners[i].handler.call(this, evt);
          }
        }
        const selfListeners = this.eventListeners[eventType];
        if (selfListeners) {
          for (var i = 0; i < selfListeners.length; i++) {
            selfListeners[i].handler.call(this, evt);
          }
        }
      }
      draw() {
        this.drawScene();
        this.drawHit();
        return this;
      }
      _createDragElement(evt) {
        var pointerId = evt ? evt.pointerId : void 0;
        var stage = this.getStage();
        var ap = this.getAbsolutePosition();
        if (!stage) {
          return;
        }
        var pos = stage._getPointerById(pointerId) || stage._changedPointerPositions[0] || ap;
        DragAndDrop_1.DD._dragElements.set(this._id, {
          node: this,
          startPointerPos: pos,
          offset: {
            x: pos.x - ap.x,
            y: pos.y - ap.y
          },
          dragStatus: "ready",
          pointerId
        });
      }
      startDrag(evt, bubbleEvent = true) {
        if (!DragAndDrop_1.DD._dragElements.has(this._id)) {
          this._createDragElement(evt);
        }
        const elem = DragAndDrop_1.DD._dragElements.get(this._id);
        elem.dragStatus = "dragging";
        this.fire("dragstart", {
          type: "dragstart",
          target: this,
          evt: evt && evt.evt
        }, bubbleEvent);
      }
      _setDragPosition(evt, elem) {
        const pos = this.getStage()._getPointerById(elem.pointerId);
        if (!pos) {
          return;
        }
        var newNodePos = {
          x: pos.x - elem.offset.x,
          y: pos.y - elem.offset.y
        };
        var dbf = this.dragBoundFunc();
        if (dbf !== void 0) {
          const bounded = dbf.call(this, newNodePos, evt);
          if (!bounded) {
            Util_1.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.");
          } else {
            newNodePos = bounded;
          }
        }
        if (!this._lastPos || this._lastPos.x !== newNodePos.x || this._lastPos.y !== newNodePos.y) {
          this.setAbsolutePosition(newNodePos);
          this._requestDraw();
        }
        this._lastPos = newNodePos;
      }
      stopDrag(evt) {
        const elem = DragAndDrop_1.DD._dragElements.get(this._id);
        if (elem) {
          elem.dragStatus = "stopped";
        }
        DragAndDrop_1.DD._endDragBefore(evt);
        DragAndDrop_1.DD._endDragAfter(evt);
      }
      setDraggable(draggable) {
        this._setAttr("draggable", draggable);
        this._dragChange();
      }
      isDragging() {
        const elem = DragAndDrop_1.DD._dragElements.get(this._id);
        return elem ? elem.dragStatus === "dragging" : false;
      }
      _listenDrag() {
        this._dragCleanup();
        this.on("mousedown.konva touchstart.konva", function(evt) {
          var shouldCheckButton = evt.evt["button"] !== void 0;
          var canDrag = !shouldCheckButton || Global_1.Konva.dragButtons.indexOf(evt.evt["button"]) >= 0;
          if (!canDrag) {
            return;
          }
          if (this.isDragging()) {
            return;
          }
          var hasDraggingChild = false;
          DragAndDrop_1.DD._dragElements.forEach((elem) => {
            if (this.isAncestorOf(elem.node)) {
              hasDraggingChild = true;
            }
          });
          if (!hasDraggingChild) {
            this._createDragElement(evt);
          }
        });
      }
      _dragChange() {
        if (this.attrs.draggable) {
          this._listenDrag();
        } else {
          this._dragCleanup();
          var stage = this.getStage();
          if (!stage) {
            return;
          }
          const dragElement = DragAndDrop_1.DD._dragElements.get(this._id);
          const isDragging = dragElement && dragElement.dragStatus === "dragging";
          const isReady = dragElement && dragElement.dragStatus === "ready";
          if (isDragging) {
            this.stopDrag();
          } else if (isReady) {
            DragAndDrop_1.DD._dragElements.delete(this._id);
          }
        }
      }
      _dragCleanup() {
        this.off("mousedown.konva");
        this.off("touchstart.konva");
      }
      isClientRectOnScreen(margin = { x: 0, y: 0 }) {
        const stage = this.getStage();
        if (!stage) {
          return false;
        }
        const screenRect = {
          x: -margin.x,
          y: -margin.y,
          width: stage.width() + 2 * margin.x,
          height: stage.height() + 2 * margin.y
        };
        return Util_1.Util.haveIntersection(screenRect, this.getClientRect());
      }
      static create(data, container) {
        if (Util_1.Util._isString(data)) {
          data = JSON.parse(data);
        }
        return this._createNode(data, container);
      }
      static _createNode(obj, container) {
        var className = Node.prototype.getClassName.call(obj), children2 = obj.children, no, len, n;
        if (container) {
          obj.attrs.container = container;
        }
        if (!Global_1.Konva[className]) {
          Util_1.Util.warn('Can not find a node with class name "' + className + '". Fallback to "Shape".');
          className = "Shape";
        }
        const Class = Global_1.Konva[className];
        no = new Class(obj.attrs);
        if (children2) {
          len = children2.length;
          for (n = 0; n < len; n++) {
            no.add(Node._createNode(children2[n]));
          }
        }
        return no;
      }
    };
    exports.Node = Node;
    Node.prototype.nodeType = "Node";
    Node.prototype._attrsAffectingSize = [];
    Node.prototype.eventListeners = {};
    Node.prototype.on.call(Node.prototype, TRANSFORM_CHANGE_STR, function() {
      if (this._batchingTransformChange) {
        this._needClearTransformCache = true;
        return;
      }
      this._clearCache(TRANSFORM);
      this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);
    });
    Node.prototype.on.call(Node.prototype, "visibleChange.konva", function() {
      this._clearSelfAndDescendantCache(VISIBLE);
    });
    Node.prototype.on.call(Node.prototype, "listeningChange.konva", function() {
      this._clearSelfAndDescendantCache(LISTENING);
    });
    Node.prototype.on.call(Node.prototype, "opacityChange.konva", function() {
      this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);
    });
    var addGetterSetter = Factory_1.Factory.addGetterSetter;
    addGetterSetter(Node, "zIndex");
    addGetterSetter(Node, "absolutePosition");
    addGetterSetter(Node, "position");
    addGetterSetter(Node, "x", 0, (0, Validators_1.getNumberValidator)());
    addGetterSetter(Node, "y", 0, (0, Validators_1.getNumberValidator)());
    addGetterSetter(Node, "globalCompositeOperation", "source-over", (0, Validators_1.getStringValidator)());
    addGetterSetter(Node, "opacity", 1, (0, Validators_1.getNumberValidator)());
    addGetterSetter(Node, "name", "", (0, Validators_1.getStringValidator)());
    addGetterSetter(Node, "id", "", (0, Validators_1.getStringValidator)());
    addGetterSetter(Node, "rotation", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addComponentsGetterSetter(Node, "scale", ["x", "y"]);
    addGetterSetter(Node, "scaleX", 1, (0, Validators_1.getNumberValidator)());
    addGetterSetter(Node, "scaleY", 1, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addComponentsGetterSetter(Node, "skew", ["x", "y"]);
    addGetterSetter(Node, "skewX", 0, (0, Validators_1.getNumberValidator)());
    addGetterSetter(Node, "skewY", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addComponentsGetterSetter(Node, "offset", ["x", "y"]);
    addGetterSetter(Node, "offsetX", 0, (0, Validators_1.getNumberValidator)());
    addGetterSetter(Node, "offsetY", 0, (0, Validators_1.getNumberValidator)());
    addGetterSetter(Node, "dragDistance", null, (0, Validators_1.getNumberValidator)());
    addGetterSetter(Node, "width", 0, (0, Validators_1.getNumberValidator)());
    addGetterSetter(Node, "height", 0, (0, Validators_1.getNumberValidator)());
    addGetterSetter(Node, "listening", true, (0, Validators_1.getBooleanValidator)());
    addGetterSetter(Node, "preventDefault", true, (0, Validators_1.getBooleanValidator)());
    addGetterSetter(Node, "filters", null, function(val) {
      this._filterUpToDate = false;
      return val;
    });
    addGetterSetter(Node, "visible", true, (0, Validators_1.getBooleanValidator)());
    addGetterSetter(Node, "transformsEnabled", "all", (0, Validators_1.getStringValidator)());
    addGetterSetter(Node, "size");
    addGetterSetter(Node, "dragBoundFunc");
    addGetterSetter(Node, "draggable", false, (0, Validators_1.getBooleanValidator)());
    Factory_1.Factory.backCompat(Node, {
      rotateDeg: "rotate",
      setRotationDeg: "setRotation",
      getRotationDeg: "getRotation"
    });
  }
});

// node_modules/konva/lib/Container.js
var require_Container = __commonJS({
  "node_modules/konva/lib/Container.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Container = void 0;
    var Factory_1 = require_Factory();
    var Node_1 = require_Node();
    var Validators_1 = require_Validators();
    var Container2 = class extends Node_1.Node {
      constructor() {
        super(...arguments);
        this.children = [];
      }
      getChildren(filterFunc) {
        if (!filterFunc) {
          return this.children || [];
        }
        const children2 = this.children || [];
        var results = [];
        children2.forEach(function(child) {
          if (filterFunc(child)) {
            results.push(child);
          }
        });
        return results;
      }
      hasChildren() {
        return this.getChildren().length > 0;
      }
      removeChildren() {
        this.getChildren().forEach((child) => {
          child.parent = null;
          child.index = 0;
          child.remove();
        });
        this.children = [];
        this._requestDraw();
        return this;
      }
      destroyChildren() {
        this.getChildren().forEach((child) => {
          child.parent = null;
          child.index = 0;
          child.destroy();
        });
        this.children = [];
        this._requestDraw();
        return this;
      }
      add(...children2) {
        if (children2.length === 0) {
          return this;
        }
        if (children2.length > 1) {
          for (var i = 0; i < children2.length; i++) {
            this.add(children2[i]);
          }
          return this;
        }
        const child = children2[0];
        if (child.getParent()) {
          child.moveTo(this);
          return this;
        }
        this._validateAdd(child);
        child.index = this.getChildren().length;
        child.parent = this;
        child._clearCaches();
        this.getChildren().push(child);
        this._fire("add", {
          child
        });
        this._requestDraw();
        return this;
      }
      destroy() {
        if (this.hasChildren()) {
          this.destroyChildren();
        }
        super.destroy();
        return this;
      }
      find(selector) {
        return this._generalFind(selector, false);
      }
      findOne(selector) {
        var result = this._generalFind(selector, true);
        return result.length > 0 ? result[0] : void 0;
      }
      _generalFind(selector, findOne) {
        var retArr = [];
        this._descendants((node) => {
          const valid = node._isMatch(selector);
          if (valid) {
            retArr.push(node);
          }
          if (valid && findOne) {
            return true;
          }
          return false;
        });
        return retArr;
      }
      _descendants(fn) {
        let shouldStop = false;
        const children2 = this.getChildren();
        for (const child of children2) {
          shouldStop = fn(child);
          if (shouldStop) {
            return true;
          }
          if (!child.hasChildren()) {
            continue;
          }
          shouldStop = child._descendants(fn);
          if (shouldStop) {
            return true;
          }
        }
        return false;
      }
      toObject() {
        var obj = Node_1.Node.prototype.toObject.call(this);
        obj.children = [];
        this.getChildren().forEach((child) => {
          obj.children.push(child.toObject());
        });
        return obj;
      }
      isAncestorOf(node) {
        var parent = node.getParent();
        while (parent) {
          if (parent._id === this._id) {
            return true;
          }
          parent = parent.getParent();
        }
        return false;
      }
      clone(obj) {
        var node = Node_1.Node.prototype.clone.call(this, obj);
        this.getChildren().forEach(function(no) {
          node.add(no.clone());
        });
        return node;
      }
      getAllIntersections(pos) {
        var arr = [];
        this.find("Shape").forEach((shape) => {
          if (shape.isVisible() && shape.intersects(pos)) {
            arr.push(shape);
          }
        });
        return arr;
      }
      _clearSelfAndDescendantCache(attr2) {
        var _a;
        super._clearSelfAndDescendantCache(attr2);
        if (this.isCached()) {
          return;
        }
        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function(node) {
          node._clearSelfAndDescendantCache(attr2);
        });
      }
      _setChildrenIndices() {
        var _a;
        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function(child, n) {
          child.index = n;
        });
        this._requestDraw();
      }
      drawScene(can, top) {
        var layer = this.getLayer(), canvas = can || layer && layer.getCanvas(), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedSceneCanvas = cachedCanvas && cachedCanvas.scene;
        var caching = canvas && canvas.isCache;
        if (!this.isVisible() && !caching) {
          return this;
        }
        if (cachedSceneCanvas) {
          context.save();
          var m = this.getAbsoluteTransform(top).getMatrix();
          context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);
          this._drawCachedSceneCanvas(context);
          context.restore();
        } else {
          this._drawChildren("drawScene", canvas, top);
        }
        return this;
      }
      drawHit(can, top) {
        if (!this.shouldDrawHit(top)) {
          return this;
        }
        var layer = this.getLayer(), canvas = can || layer && layer.hitCanvas, context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;
        if (cachedHitCanvas) {
          context.save();
          var m = this.getAbsoluteTransform(top).getMatrix();
          context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);
          this._drawCachedHitCanvas(context);
          context.restore();
        } else {
          this._drawChildren("drawHit", canvas, top);
        }
        return this;
      }
      _drawChildren(drawMethod, canvas, top) {
        var _a;
        var context = canvas && canvas.getContext(), clipWidth = this.clipWidth(), clipHeight = this.clipHeight(), clipFunc = this.clipFunc(), hasClip = clipWidth && clipHeight || clipFunc;
        const selfCache = top === this;
        if (hasClip) {
          context.save();
          var transform = this.getAbsoluteTransform(top);
          var m = transform.getMatrix();
          context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);
          context.beginPath();
          let clipArgs;
          if (clipFunc) {
            clipArgs = clipFunc.call(this, context, this);
          } else {
            var clipX = this.clipX();
            var clipY = this.clipY();
            context.rect(clipX, clipY, clipWidth, clipHeight);
          }
          context.clip.apply(context, clipArgs);
          m = transform.copy().invert().getMatrix();
          context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);
        }
        var hasComposition = !selfCache && this.globalCompositeOperation() !== "source-over" && drawMethod === "drawScene";
        if (hasComposition) {
          context.save();
          context._applyGlobalCompositeOperation(this);
        }
        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function(child) {
          child[drawMethod](canvas, top);
        });
        if (hasComposition) {
          context.restore();
        }
        if (hasClip) {
          context.restore();
        }
      }
      getClientRect(config = {}) {
        var _a;
        var skipTransform = config.skipTransform;
        var relativeTo = config.relativeTo;
        var minX, minY, maxX, maxY;
        var selfRect = {
          x: Infinity,
          y: Infinity,
          width: 0,
          height: 0
        };
        var that = this;
        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function(child) {
          if (!child.visible()) {
            return;
          }
          var rect = child.getClientRect({
            relativeTo: that,
            skipShadow: config.skipShadow,
            skipStroke: config.skipStroke
          });
          if (rect.width === 0 && rect.height === 0) {
            return;
          }
          if (minX === void 0) {
            minX = rect.x;
            minY = rect.y;
            maxX = rect.x + rect.width;
            maxY = rect.y + rect.height;
          } else {
            minX = Math.min(minX, rect.x);
            minY = Math.min(minY, rect.y);
            maxX = Math.max(maxX, rect.x + rect.width);
            maxY = Math.max(maxY, rect.y + rect.height);
          }
        });
        var shapes = this.find("Shape");
        var hasVisible = false;
        for (var i = 0; i < shapes.length; i++) {
          var shape = shapes[i];
          if (shape._isVisible(this)) {
            hasVisible = true;
            break;
          }
        }
        if (hasVisible && minX !== void 0) {
          selfRect = {
            x: minX,
            y: minY,
            width: maxX - minX,
            height: maxY - minY
          };
        } else {
          selfRect = {
            x: 0,
            y: 0,
            width: 0,
            height: 0
          };
        }
        if (!skipTransform) {
          return this._transformedRect(selfRect, relativeTo);
        }
        return selfRect;
      }
    };
    exports.Container = Container2;
    Factory_1.Factory.addComponentsGetterSetter(Container2, "clip", [
      "x",
      "y",
      "width",
      "height"
    ]);
    Factory_1.Factory.addGetterSetter(Container2, "clipX", void 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Container2, "clipY", void 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Container2, "clipWidth", void 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Container2, "clipHeight", void 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Container2, "clipFunc");
  }
});

// node_modules/konva/lib/PointerEvents.js
var require_PointerEvents = __commonJS({
  "node_modules/konva/lib/PointerEvents.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.releaseCapture = exports.setPointerCapture = exports.hasPointerCapture = exports.createEvent = exports.getCapturedShape = void 0;
    var Global_1 = require_Global();
    var Captures = /* @__PURE__ */ new Map();
    var SUPPORT_POINTER_EVENTS = Global_1.Konva._global["PointerEvent"] !== void 0;
    function getCapturedShape(pointerId) {
      return Captures.get(pointerId);
    }
    exports.getCapturedShape = getCapturedShape;
    function createEvent(evt) {
      return {
        evt,
        pointerId: evt.pointerId
      };
    }
    exports.createEvent = createEvent;
    function hasPointerCapture(pointerId, shape) {
      return Captures.get(pointerId) === shape;
    }
    exports.hasPointerCapture = hasPointerCapture;
    function setPointerCapture(pointerId, shape) {
      releaseCapture(pointerId);
      const stage = shape.getStage();
      if (!stage)
        return;
      Captures.set(pointerId, shape);
      if (SUPPORT_POINTER_EVENTS) {
        shape._fire("gotpointercapture", createEvent(new PointerEvent("gotpointercapture")));
      }
    }
    exports.setPointerCapture = setPointerCapture;
    function releaseCapture(pointerId, target) {
      const shape = Captures.get(pointerId);
      if (!shape)
        return;
      const stage = shape.getStage();
      if (stage && stage.content) {
      }
      Captures.delete(pointerId);
      if (SUPPORT_POINTER_EVENTS) {
        shape._fire("lostpointercapture", createEvent(new PointerEvent("lostpointercapture")));
      }
    }
    exports.releaseCapture = releaseCapture;
  }
});

// node_modules/konva/lib/Stage.js
var require_Stage = __commonJS({
  "node_modules/konva/lib/Stage.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Stage = exports.stages = void 0;
    var Util_1 = require_Util();
    var Factory_1 = require_Factory();
    var Container_1 = require_Container();
    var Global_1 = require_Global();
    var Canvas_1 = require_Canvas();
    var DragAndDrop_1 = require_DragAndDrop();
    var Global_2 = require_Global();
    var PointerEvents = require_PointerEvents();
    var STAGE = "Stage";
    var STRING = "string";
    var PX = "px";
    var MOUSEOUT = "mouseout";
    var MOUSELEAVE = "mouseleave";
    var MOUSEOVER = "mouseover";
    var MOUSEENTER = "mouseenter";
    var MOUSEMOVE = "mousemove";
    var MOUSEDOWN = "mousedown";
    var MOUSEUP = "mouseup";
    var POINTERMOVE = "pointermove";
    var POINTERDOWN = "pointerdown";
    var POINTERUP = "pointerup";
    var POINTERCANCEL = "pointercancel";
    var LOSTPOINTERCAPTURE = "lostpointercapture";
    var POINTEROUT = "pointerout";
    var POINTERLEAVE = "pointerleave";
    var POINTEROVER = "pointerover";
    var POINTERENTER = "pointerenter";
    var CONTEXTMENU = "contextmenu";
    var TOUCHSTART = "touchstart";
    var TOUCHEND = "touchend";
    var TOUCHMOVE = "touchmove";
    var TOUCHCANCEL = "touchcancel";
    var WHEEL = "wheel";
    var MAX_LAYERS_NUMBER = 5;
    var EVENTS = [
      [MOUSEENTER, "_pointerenter"],
      [MOUSEDOWN, "_pointerdown"],
      [MOUSEMOVE, "_pointermove"],
      [MOUSEUP, "_pointerup"],
      [MOUSELEAVE, "_pointerleave"],
      [TOUCHSTART, "_pointerdown"],
      [TOUCHMOVE, "_pointermove"],
      [TOUCHEND, "_pointerup"],
      [TOUCHCANCEL, "_pointercancel"],
      [MOUSEOVER, "_pointerover"],
      [WHEEL, "_wheel"],
      [CONTEXTMENU, "_contextmenu"],
      [POINTERDOWN, "_pointerdown"],
      [POINTERMOVE, "_pointermove"],
      [POINTERUP, "_pointerup"],
      [POINTERCANCEL, "_pointercancel"],
      [LOSTPOINTERCAPTURE, "_lostpointercapture"]
    ];
    var EVENTS_MAP = {
      mouse: {
        [POINTEROUT]: MOUSEOUT,
        [POINTERLEAVE]: MOUSELEAVE,
        [POINTEROVER]: MOUSEOVER,
        [POINTERENTER]: MOUSEENTER,
        [POINTERMOVE]: MOUSEMOVE,
        [POINTERDOWN]: MOUSEDOWN,
        [POINTERUP]: MOUSEUP,
        [POINTERCANCEL]: "mousecancel",
        pointerclick: "click",
        pointerdblclick: "dblclick"
      },
      touch: {
        [POINTEROUT]: "touchout",
        [POINTERLEAVE]: "touchleave",
        [POINTEROVER]: "touchover",
        [POINTERENTER]: "touchenter",
        [POINTERMOVE]: TOUCHMOVE,
        [POINTERDOWN]: TOUCHSTART,
        [POINTERUP]: TOUCHEND,
        [POINTERCANCEL]: TOUCHCANCEL,
        pointerclick: "tap",
        pointerdblclick: "dbltap"
      },
      pointer: {
        [POINTEROUT]: POINTEROUT,
        [POINTERLEAVE]: POINTERLEAVE,
        [POINTEROVER]: POINTEROVER,
        [POINTERENTER]: POINTERENTER,
        [POINTERMOVE]: POINTERMOVE,
        [POINTERDOWN]: POINTERDOWN,
        [POINTERUP]: POINTERUP,
        [POINTERCANCEL]: POINTERCANCEL,
        pointerclick: "pointerclick",
        pointerdblclick: "pointerdblclick"
      }
    };
    var getEventType = (type) => {
      if (type.indexOf("pointer") >= 0) {
        return "pointer";
      }
      if (type.indexOf("touch") >= 0) {
        return "touch";
      }
      return "mouse";
    };
    var getEventsMap = (eventType) => {
      const type = getEventType(eventType);
      if (type === "pointer") {
        return Global_1.Konva.pointerEventsEnabled && EVENTS_MAP.pointer;
      }
      if (type === "touch") {
        return EVENTS_MAP.touch;
      }
      if (type === "mouse") {
        return EVENTS_MAP.mouse;
      }
    };
    function checkNoClip(attrs = {}) {
      if (attrs.clipFunc || attrs.clipWidth || attrs.clipHeight) {
        Util_1.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups.");
      }
      return attrs;
    }
    var NO_POINTERS_MESSAGE = `Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);`;
    exports.stages = [];
    var Stage2 = class extends Container_1.Container {
      constructor(config) {
        super(checkNoClip(config));
        this._pointerPositions = [];
        this._changedPointerPositions = [];
        this._buildDOM();
        this._bindContentEvents();
        exports.stages.push(this);
        this.on("widthChange.konva heightChange.konva", this._resizeDOM);
        this.on("visibleChange.konva", this._checkVisibility);
        this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva", () => {
          checkNoClip(this.attrs);
        });
        this._checkVisibility();
      }
      _validateAdd(child) {
        const isLayer = child.getType() === "Layer";
        const isFastLayer = child.getType() === "FastLayer";
        const valid = isLayer || isFastLayer;
        if (!valid) {
          Util_1.Util.throw("You may only add layers to the stage.");
        }
      }
      _checkVisibility() {
        if (!this.content) {
          return;
        }
        const style = this.visible() ? "" : "none";
        this.content.style.display = style;
      }
      setContainer(container) {
        if (typeof container === STRING) {
          if (container.charAt(0) === ".") {
            var className = container.slice(1);
            container = document.getElementsByClassName(className)[0];
          } else {
            var id;
            if (container.charAt(0) !== "#") {
              id = container;
            } else {
              id = container.slice(1);
            }
            container = document.getElementById(id);
          }
          if (!container) {
            throw "Can not find container in document with id " + id;
          }
        }
        this._setAttr("container", container);
        if (this.content) {
          if (this.content.parentElement) {
            this.content.parentElement.removeChild(this.content);
          }
          container.appendChild(this.content);
        }
        return this;
      }
      shouldDrawHit() {
        return true;
      }
      clear() {
        var layers = this.children, len = layers.length, n;
        for (n = 0; n < len; n++) {
          layers[n].clear();
        }
        return this;
      }
      clone(obj) {
        if (!obj) {
          obj = {};
        }
        obj.container = typeof document !== "undefined" && document.createElement("div");
        return Container_1.Container.prototype.clone.call(this, obj);
      }
      destroy() {
        super.destroy();
        var content = this.content;
        if (content && Util_1.Util._isInDocument(content)) {
          this.container().removeChild(content);
        }
        var index = exports.stages.indexOf(this);
        if (index > -1) {
          exports.stages.splice(index, 1);
        }
        Util_1.Util.releaseCanvas(this.bufferCanvas._canvas, this.bufferHitCanvas._canvas);
        return this;
      }
      getPointerPosition() {
        const pos = this._pointerPositions[0] || this._changedPointerPositions[0];
        if (!pos) {
          Util_1.Util.warn(NO_POINTERS_MESSAGE);
          return null;
        }
        return {
          x: pos.x,
          y: pos.y
        };
      }
      _getPointerById(id) {
        return this._pointerPositions.find((p) => p.id === id);
      }
      getPointersPositions() {
        return this._pointerPositions;
      }
      getStage() {
        return this;
      }
      getContent() {
        return this.content;
      }
      _toKonvaCanvas(config) {
        config = config || {};
        config.x = config.x || 0;
        config.y = config.y || 0;
        config.width = config.width || this.width();
        config.height = config.height || this.height();
        var canvas = new Canvas_1.SceneCanvas({
          width: config.width,
          height: config.height,
          pixelRatio: config.pixelRatio || 1
        });
        var _context = canvas.getContext()._context;
        var layers = this.children;
        if (config.x || config.y) {
          _context.translate(-1 * config.x, -1 * config.y);
        }
        layers.forEach(function(layer) {
          if (!layer.isVisible()) {
            return;
          }
          var layerCanvas = layer._toKonvaCanvas(config);
          _context.drawImage(layerCanvas._canvas, config.x, config.y, layerCanvas.getWidth() / layerCanvas.getPixelRatio(), layerCanvas.getHeight() / layerCanvas.getPixelRatio());
        });
        return canvas;
      }
      getIntersection(pos) {
        if (!pos) {
          return null;
        }
        var layers = this.children, len = layers.length, end = len - 1, n;
        for (n = end; n >= 0; n--) {
          const shape = layers[n].getIntersection(pos);
          if (shape) {
            return shape;
          }
        }
        return null;
      }
      _resizeDOM() {
        var width = this.width();
        var height = this.height();
        if (this.content) {
          this.content.style.width = width + PX;
          this.content.style.height = height + PX;
        }
        this.bufferCanvas.setSize(width, height);
        this.bufferHitCanvas.setSize(width, height);
        this.children.forEach((layer) => {
          layer.setSize({ width, height });
          layer.draw();
        });
      }
      add(layer, ...rest) {
        if (arguments.length > 1) {
          for (var i = 0; i < arguments.length; i++) {
            this.add(arguments[i]);
          }
          return this;
        }
        super.add(layer);
        var length = this.children.length;
        if (length > MAX_LAYERS_NUMBER) {
          Util_1.Util.warn("The stage has " + length + " layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group.");
        }
        layer.setSize({ width: this.width(), height: this.height() });
        layer.draw();
        if (Global_1.Konva.isBrowser) {
          this.content.appendChild(layer.canvas._canvas);
        }
        return this;
      }
      getParent() {
        return null;
      }
      getLayer() {
        return null;
      }
      hasPointerCapture(pointerId) {
        return PointerEvents.hasPointerCapture(pointerId, this);
      }
      setPointerCapture(pointerId) {
        PointerEvents.setPointerCapture(pointerId, this);
      }
      releaseCapture(pointerId) {
        PointerEvents.releaseCapture(pointerId, this);
      }
      getLayers() {
        return this.children;
      }
      _bindContentEvents() {
        if (!Global_1.Konva.isBrowser) {
          return;
        }
        EVENTS.forEach(([event2, methodName]) => {
          this.content.addEventListener(event2, (evt) => {
            this[methodName](evt);
          }, { passive: false });
        });
      }
      _pointerenter(evt) {
        this.setPointersPositions(evt);
        const events = getEventsMap(evt.type);
        if (events) {
          this._fire(events.pointerenter, {
            evt,
            target: this,
            currentTarget: this
          });
        }
      }
      _pointerover(evt) {
        this.setPointersPositions(evt);
        const events = getEventsMap(evt.type);
        if (events) {
          this._fire(events.pointerover, {
            evt,
            target: this,
            currentTarget: this
          });
        }
      }
      _getTargetShape(evenType) {
        let shape = this[evenType + "targetShape"];
        if (shape && !shape.getStage()) {
          shape = null;
        }
        return shape;
      }
      _pointerleave(evt) {
        const events = getEventsMap(evt.type);
        const eventType = getEventType(evt.type);
        if (!events) {
          return;
        }
        this.setPointersPositions(evt);
        var targetShape = this._getTargetShape(eventType);
        var eventsEnabled = !DragAndDrop_1.DD.isDragging || Global_1.Konva.hitOnDragEnabled;
        if (targetShape && eventsEnabled) {
          targetShape._fireAndBubble(events.pointerout, { evt });
          targetShape._fireAndBubble(events.pointerleave, { evt });
          this._fire(events.pointerleave, {
            evt,
            target: this,
            currentTarget: this
          });
          this[eventType + "targetShape"] = null;
        } else if (eventsEnabled) {
          this._fire(events.pointerleave, {
            evt,
            target: this,
            currentTarget: this
          });
          this._fire(events.pointerout, {
            evt,
            target: this,
            currentTarget: this
          });
        }
        this.pointerPos = null;
        this._pointerPositions = [];
      }
      _pointerdown(evt) {
        const events = getEventsMap(evt.type);
        const eventType = getEventType(evt.type);
        if (!events) {
          return;
        }
        this.setPointersPositions(evt);
        var triggeredOnShape = false;
        this._changedPointerPositions.forEach((pos) => {
          var shape = this.getIntersection(pos);
          DragAndDrop_1.DD.justDragged = false;
          Global_1.Konva["_" + eventType + "ListenClick"] = true;
          if (!shape || !shape.isListening()) {
            return;
          }
          if (Global_1.Konva.capturePointerEventsEnabled) {
            shape.setPointerCapture(pos.id);
          }
          this[eventType + "ClickStartShape"] = shape;
          shape._fireAndBubble(events.pointerdown, {
            evt,
            pointerId: pos.id
          });
          triggeredOnShape = true;
          const isTouch = evt.type.indexOf("touch") >= 0;
          if (shape.preventDefault() && evt.cancelable && isTouch) {
            evt.preventDefault();
          }
        });
        if (!triggeredOnShape) {
          this._fire(events.pointerdown, {
            evt,
            target: this,
            currentTarget: this,
            pointerId: this._pointerPositions[0].id
          });
        }
      }
      _pointermove(evt) {
        const events = getEventsMap(evt.type);
        const eventType = getEventType(evt.type);
        if (!events) {
          return;
        }
        if (DragAndDrop_1.DD.isDragging && DragAndDrop_1.DD.node.preventDefault() && evt.cancelable) {
          evt.preventDefault();
        }
        this.setPointersPositions(evt);
        var eventsEnabled = !DragAndDrop_1.DD.isDragging || Global_1.Konva.hitOnDragEnabled;
        if (!eventsEnabled) {
          return;
        }
        var processedShapesIds = {};
        let triggeredOnShape = false;
        var targetShape = this._getTargetShape(eventType);
        this._changedPointerPositions.forEach((pos) => {
          const shape = PointerEvents.getCapturedShape(pos.id) || this.getIntersection(pos);
          const pointerId = pos.id;
          const event2 = { evt, pointerId };
          var differentTarget = targetShape !== shape;
          if (differentTarget && targetShape) {
            targetShape._fireAndBubble(events.pointerout, { ...event2 }, shape);
            targetShape._fireAndBubble(events.pointerleave, { ...event2 }, shape);
          }
          if (shape) {
            if (processedShapesIds[shape._id]) {
              return;
            }
            processedShapesIds[shape._id] = true;
          }
          if (shape && shape.isListening()) {
            triggeredOnShape = true;
            if (differentTarget) {
              shape._fireAndBubble(events.pointerover, { ...event2 }, targetShape);
              shape._fireAndBubble(events.pointerenter, { ...event2 }, targetShape);
              this[eventType + "targetShape"] = shape;
            }
            shape._fireAndBubble(events.pointermove, { ...event2 });
          } else {
            if (targetShape) {
              this._fire(events.pointerover, {
                evt,
                target: this,
                currentTarget: this,
                pointerId
              });
              this[eventType + "targetShape"] = null;
            }
          }
        });
        if (!triggeredOnShape) {
          this._fire(events.pointermove, {
            evt,
            target: this,
            currentTarget: this,
            pointerId: this._changedPointerPositions[0].id
          });
        }
      }
      _pointerup(evt) {
        const events = getEventsMap(evt.type);
        const eventType = getEventType(evt.type);
        if (!events) {
          return;
        }
        this.setPointersPositions(evt);
        const clickStartShape = this[eventType + "ClickStartShape"];
        const clickEndShape = this[eventType + "ClickEndShape"];
        var processedShapesIds = {};
        let triggeredOnShape = false;
        this._changedPointerPositions.forEach((pos) => {
          const shape = PointerEvents.getCapturedShape(pos.id) || this.getIntersection(pos);
          if (shape) {
            shape.releaseCapture(pos.id);
            if (processedShapesIds[shape._id]) {
              return;
            }
            processedShapesIds[shape._id] = true;
          }
          const pointerId = pos.id;
          const event2 = { evt, pointerId };
          let fireDblClick = false;
          if (Global_1.Konva["_" + eventType + "InDblClickWindow"]) {
            fireDblClick = true;
            clearTimeout(this[eventType + "DblTimeout"]);
          } else if (!DragAndDrop_1.DD.justDragged) {
            Global_1.Konva["_" + eventType + "InDblClickWindow"] = true;
            clearTimeout(this[eventType + "DblTimeout"]);
          }
          this[eventType + "DblTimeout"] = setTimeout(function() {
            Global_1.Konva["_" + eventType + "InDblClickWindow"] = false;
          }, Global_1.Konva.dblClickWindow);
          if (shape && shape.isListening()) {
            triggeredOnShape = true;
            this[eventType + "ClickEndShape"] = shape;
            shape._fireAndBubble(events.pointerup, { ...event2 });
            if (Global_1.Konva["_" + eventType + "ListenClick"] && clickStartShape && clickStartShape === shape) {
              shape._fireAndBubble(events.pointerclick, { ...event2 });
              if (fireDblClick && clickEndShape && clickEndShape === shape) {
                shape._fireAndBubble(events.pointerdblclick, { ...event2 });
              }
            }
          } else {
            this[eventType + "ClickEndShape"] = null;
            if (Global_1.Konva["_" + eventType + "ListenClick"]) {
              this._fire(events.pointerclick, {
                evt,
                target: this,
                currentTarget: this,
                pointerId
              });
            }
            if (fireDblClick) {
              this._fire(events.pointerdblclick, {
                evt,
                target: this,
                currentTarget: this,
                pointerId
              });
            }
          }
        });
        if (!triggeredOnShape) {
          this._fire(events.pointerup, {
            evt,
            target: this,
            currentTarget: this,
            pointerId: this._changedPointerPositions[0].id
          });
        }
        Global_1.Konva["_" + eventType + "ListenClick"] = false;
        if (evt.cancelable && eventType !== "touch") {
          evt.preventDefault();
        }
      }
      _contextmenu(evt) {
        this.setPointersPositions(evt);
        var shape = this.getIntersection(this.getPointerPosition());
        if (shape && shape.isListening()) {
          shape._fireAndBubble(CONTEXTMENU, { evt });
        } else {
          this._fire(CONTEXTMENU, {
            evt,
            target: this,
            currentTarget: this
          });
        }
      }
      _wheel(evt) {
        this.setPointersPositions(evt);
        var shape = this.getIntersection(this.getPointerPosition());
        if (shape && shape.isListening()) {
          shape._fireAndBubble(WHEEL, { evt });
        } else {
          this._fire(WHEEL, {
            evt,
            target: this,
            currentTarget: this
          });
        }
      }
      _pointercancel(evt) {
        this.setPointersPositions(evt);
        const shape = PointerEvents.getCapturedShape(evt.pointerId) || this.getIntersection(this.getPointerPosition());
        if (shape) {
          shape._fireAndBubble(POINTERUP, PointerEvents.createEvent(evt));
        }
        PointerEvents.releaseCapture(evt.pointerId);
      }
      _lostpointercapture(evt) {
        PointerEvents.releaseCapture(evt.pointerId);
      }
      setPointersPositions(evt) {
        var contentPosition = this._getContentPosition(), x = null, y = null;
        evt = evt ? evt : window.event;
        if (evt.touches !== void 0) {
          this._pointerPositions = [];
          this._changedPointerPositions = [];
          Array.prototype.forEach.call(evt.touches, (touch) => {
            this._pointerPositions.push({
              id: touch.identifier,
              x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,
              y: (touch.clientY - contentPosition.top) / contentPosition.scaleY
            });
          });
          Array.prototype.forEach.call(evt.changedTouches || evt.touches, (touch) => {
            this._changedPointerPositions.push({
              id: touch.identifier,
              x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,
              y: (touch.clientY - contentPosition.top) / contentPosition.scaleY
            });
          });
        } else {
          x = (evt.clientX - contentPosition.left) / contentPosition.scaleX;
          y = (evt.clientY - contentPosition.top) / contentPosition.scaleY;
          this.pointerPos = {
            x,
            y
          };
          this._pointerPositions = [{ x, y, id: Util_1.Util._getFirstPointerId(evt) }];
          this._changedPointerPositions = [
            { x, y, id: Util_1.Util._getFirstPointerId(evt) }
          ];
        }
      }
      _setPointerPosition(evt) {
        Util_1.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.');
        this.setPointersPositions(evt);
      }
      _getContentPosition() {
        if (!this.content || !this.content.getBoundingClientRect) {
          return {
            top: 0,
            left: 0,
            scaleX: 1,
            scaleY: 1
          };
        }
        var rect = this.content.getBoundingClientRect();
        return {
          top: rect.top,
          left: rect.left,
          scaleX: rect.width / this.content.clientWidth || 1,
          scaleY: rect.height / this.content.clientHeight || 1
        };
      }
      _buildDOM() {
        this.bufferCanvas = new Canvas_1.SceneCanvas({
          width: this.width(),
          height: this.height()
        });
        this.bufferHitCanvas = new Canvas_1.HitCanvas({
          pixelRatio: 1,
          width: this.width(),
          height: this.height()
        });
        if (!Global_1.Konva.isBrowser) {
          return;
        }
        var container = this.container();
        if (!container) {
          throw "Stage has no container. A container is required.";
        }
        container.innerHTML = "";
        this.content = document.createElement("div");
        this.content.style.position = "relative";
        this.content.style.userSelect = "none";
        this.content.className = "konvajs-content";
        this.content.setAttribute("role", "presentation");
        container.appendChild(this.content);
        this._resizeDOM();
      }
      cache() {
        Util_1.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.");
        return this;
      }
      clearCache() {
        return this;
      }
      batchDraw() {
        this.getChildren().forEach(function(layer) {
          layer.batchDraw();
        });
        return this;
      }
    };
    exports.Stage = Stage2;
    Stage2.prototype.nodeType = STAGE;
    (0, Global_2._registerNode)(Stage2);
    Factory_1.Factory.addGetterSetter(Stage2, "container");
  }
});

// node_modules/konva/lib/Shape.js
var require_Shape = __commonJS({
  "node_modules/konva/lib/Shape.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Shape = exports.shapes = void 0;
    var Global_1 = require_Global();
    var Util_1 = require_Util();
    var Factory_1 = require_Factory();
    var Node_1 = require_Node();
    var Validators_1 = require_Validators();
    var Global_2 = require_Global();
    var PointerEvents = require_PointerEvents();
    var HAS_SHADOW = "hasShadow";
    var SHADOW_RGBA = "shadowRGBA";
    var patternImage = "patternImage";
    var linearGradient = "linearGradient";
    var radialGradient = "radialGradient";
    var dummyContext;
    function getDummyContext() {
      if (dummyContext) {
        return dummyContext;
      }
      dummyContext = Util_1.Util.createCanvasElement().getContext("2d");
      return dummyContext;
    }
    exports.shapes = {};
    function _fillFunc(context) {
      const fillRule = this.attrs.fillRule;
      if (fillRule) {
        context.fill(fillRule);
      } else {
        context.fill();
      }
    }
    function _strokeFunc(context) {
      context.stroke();
    }
    function _fillFuncHit(context) {
      context.fill();
    }
    function _strokeFuncHit(context) {
      context.stroke();
    }
    function _clearHasShadowCache() {
      this._clearCache(HAS_SHADOW);
    }
    function _clearGetShadowRGBACache() {
      this._clearCache(SHADOW_RGBA);
    }
    function _clearFillPatternCache() {
      this._clearCache(patternImage);
    }
    function _clearLinearGradientCache() {
      this._clearCache(linearGradient);
    }
    function _clearRadialGradientCache() {
      this._clearCache(radialGradient);
    }
    var Shape = class extends Node_1.Node {
      constructor(config) {
        super(config);
        let key;
        while (true) {
          key = Util_1.Util.getRandomColor();
          if (key && !(key in exports.shapes)) {
            break;
          }
        }
        this.colorKey = key;
        exports.shapes[key] = this;
      }
      getContext() {
        Util_1.Util.warn("shape.getContext() method is deprecated. Please do not use it.");
        return this.getLayer().getContext();
      }
      getCanvas() {
        Util_1.Util.warn("shape.getCanvas() method is deprecated. Please do not use it.");
        return this.getLayer().getCanvas();
      }
      getSceneFunc() {
        return this.attrs.sceneFunc || this["_sceneFunc"];
      }
      getHitFunc() {
        return this.attrs.hitFunc || this["_hitFunc"];
      }
      hasShadow() {
        return this._getCache(HAS_SHADOW, this._hasShadow);
      }
      _hasShadow() {
        return this.shadowEnabled() && this.shadowOpacity() !== 0 && !!(this.shadowColor() || this.shadowBlur() || this.shadowOffsetX() || this.shadowOffsetY());
      }
      _getFillPattern() {
        return this._getCache(patternImage, this.__getFillPattern);
      }
      __getFillPattern() {
        if (this.fillPatternImage()) {
          var ctx = getDummyContext();
          const pattern = ctx.createPattern(this.fillPatternImage(), this.fillPatternRepeat() || "repeat");
          if (pattern && pattern.setTransform) {
            const tr = new Util_1.Transform();
            tr.translate(this.fillPatternX(), this.fillPatternY());
            tr.rotate(Global_1.Konva.getAngle(this.fillPatternRotation()));
            tr.scale(this.fillPatternScaleX(), this.fillPatternScaleY());
            tr.translate(-1 * this.fillPatternOffsetX(), -1 * this.fillPatternOffsetY());
            const m = tr.getMatrix();
            const matrix = typeof DOMMatrix === "undefined" ? {
              a: m[0],
              b: m[1],
              c: m[2],
              d: m[3],
              e: m[4],
              f: m[5]
            } : new DOMMatrix(m);
            pattern.setTransform(matrix);
          }
          return pattern;
        }
      }
      _getLinearGradient() {
        return this._getCache(linearGradient, this.__getLinearGradient);
      }
      __getLinearGradient() {
        var colorStops = this.fillLinearGradientColorStops();
        if (colorStops) {
          var ctx = getDummyContext();
          var start = this.fillLinearGradientStartPoint();
          var end = this.fillLinearGradientEndPoint();
          var grd = ctx.createLinearGradient(start.x, start.y, end.x, end.y);
          for (var n = 0; n < colorStops.length; n += 2) {
            grd.addColorStop(colorStops[n], colorStops[n + 1]);
          }
          return grd;
        }
      }
      _getRadialGradient() {
        return this._getCache(radialGradient, this.__getRadialGradient);
      }
      __getRadialGradient() {
        var colorStops = this.fillRadialGradientColorStops();
        if (colorStops) {
          var ctx = getDummyContext();
          var start = this.fillRadialGradientStartPoint();
          var end = this.fillRadialGradientEndPoint();
          var grd = ctx.createRadialGradient(start.x, start.y, this.fillRadialGradientStartRadius(), end.x, end.y, this.fillRadialGradientEndRadius());
          for (var n = 0; n < colorStops.length; n += 2) {
            grd.addColorStop(colorStops[n], colorStops[n + 1]);
          }
          return grd;
        }
      }
      getShadowRGBA() {
        return this._getCache(SHADOW_RGBA, this._getShadowRGBA);
      }
      _getShadowRGBA() {
        if (!this.hasShadow()) {
          return;
        }
        var rgba = Util_1.Util.colorToRGBA(this.shadowColor());
        if (rgba) {
          return "rgba(" + rgba.r + "," + rgba.g + "," + rgba.b + "," + rgba.a * (this.shadowOpacity() || 1) + ")";
        }
      }
      hasFill() {
        return this._calculate("hasFill", [
          "fillEnabled",
          "fill",
          "fillPatternImage",
          "fillLinearGradientColorStops",
          "fillRadialGradientColorStops"
        ], () => {
          return this.fillEnabled() && !!(this.fill() || this.fillPatternImage() || this.fillLinearGradientColorStops() || this.fillRadialGradientColorStops());
        });
      }
      hasStroke() {
        return this._calculate("hasStroke", [
          "strokeEnabled",
          "strokeWidth",
          "stroke",
          "strokeLinearGradientColorStops"
        ], () => {
          return this.strokeEnabled() && this.strokeWidth() && !!(this.stroke() || this.strokeLinearGradientColorStops());
        });
      }
      hasHitStroke() {
        const width = this.hitStrokeWidth();
        if (width === "auto") {
          return this.hasStroke();
        }
        return this.strokeEnabled() && !!width;
      }
      intersects(point) {
        var stage = this.getStage();
        if (!stage) {
          return false;
        }
        const bufferHitCanvas = stage.bufferHitCanvas;
        bufferHitCanvas.getContext().clear();
        this.drawHit(bufferHitCanvas, void 0, true);
        const p = bufferHitCanvas.context.getImageData(Math.round(point.x), Math.round(point.y), 1, 1).data;
        return p[3] > 0;
      }
      destroy() {
        Node_1.Node.prototype.destroy.call(this);
        delete exports.shapes[this.colorKey];
        delete this.colorKey;
        return this;
      }
      _useBufferCanvas(forceFill) {
        var _a;
        if (!this.getStage()) {
          return false;
        }
        const perfectDrawEnabled = (_a = this.attrs.perfectDrawEnabled) !== null && _a !== void 0 ? _a : true;
        if (!perfectDrawEnabled) {
          return false;
        }
        const hasFill = forceFill || this.hasFill();
        const hasStroke = this.hasStroke();
        const isTransparent = this.getAbsoluteOpacity() !== 1;
        if (hasFill && hasStroke && isTransparent) {
          return true;
        }
        const hasShadow = this.hasShadow();
        const strokeForShadow = this.shadowForStrokeEnabled();
        if (hasFill && hasStroke && hasShadow && strokeForShadow) {
          return true;
        }
        return false;
      }
      setStrokeHitEnabled(val) {
        Util_1.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead.");
        if (val) {
          this.hitStrokeWidth("auto");
        } else {
          this.hitStrokeWidth(0);
        }
      }
      getStrokeHitEnabled() {
        if (this.hitStrokeWidth() === 0) {
          return false;
        } else {
          return true;
        }
      }
      getSelfRect() {
        var size = this.size();
        return {
          x: this._centroid ? -size.width / 2 : 0,
          y: this._centroid ? -size.height / 2 : 0,
          width: size.width,
          height: size.height
        };
      }
      getClientRect(config = {}) {
        const skipTransform = config.skipTransform;
        const relativeTo = config.relativeTo;
        const fillRect = this.getSelfRect();
        const applyStroke = !config.skipStroke && this.hasStroke();
        const strokeWidth = applyStroke && this.strokeWidth() || 0;
        const fillAndStrokeWidth = fillRect.width + strokeWidth;
        const fillAndStrokeHeight = fillRect.height + strokeWidth;
        const applyShadow = !config.skipShadow && this.hasShadow();
        const shadowOffsetX = applyShadow ? this.shadowOffsetX() : 0;
        const shadowOffsetY = applyShadow ? this.shadowOffsetY() : 0;
        const preWidth = fillAndStrokeWidth + Math.abs(shadowOffsetX);
        const preHeight = fillAndStrokeHeight + Math.abs(shadowOffsetY);
        const blurRadius = applyShadow && this.shadowBlur() || 0;
        const width = preWidth + blurRadius * 2;
        const height = preHeight + blurRadius * 2;
        const rect = {
          width,
          height,
          x: -(strokeWidth / 2 + blurRadius) + Math.min(shadowOffsetX, 0) + fillRect.x,
          y: -(strokeWidth / 2 + blurRadius) + Math.min(shadowOffsetY, 0) + fillRect.y
        };
        if (!skipTransform) {
          return this._transformedRect(rect, relativeTo);
        }
        return rect;
      }
      drawScene(can, top) {
        var layer = this.getLayer();
        var canvas = can || layer.getCanvas(), context = canvas.getContext(), cachedCanvas = this._getCanvasCache(), drawFunc = this.getSceneFunc(), hasShadow = this.hasShadow(), stage, bufferCanvas, bufferContext;
        var skipBuffer = canvas.isCache;
        var cachingSelf = top === this;
        if (!this.isVisible() && !cachingSelf) {
          return this;
        }
        if (cachedCanvas) {
          context.save();
          var m = this.getAbsoluteTransform(top).getMatrix();
          context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);
          this._drawCachedSceneCanvas(context);
          context.restore();
          return this;
        }
        if (!drawFunc) {
          return this;
        }
        context.save();
        if (this._useBufferCanvas() && !skipBuffer) {
          stage = this.getStage();
          bufferCanvas = stage.bufferCanvas;
          bufferContext = bufferCanvas.getContext();
          bufferContext.clear();
          bufferContext.save();
          bufferContext._applyLineJoin(this);
          var o = this.getAbsoluteTransform(top).getMatrix();
          bufferContext.transform(o[0], o[1], o[2], o[3], o[4], o[5]);
          drawFunc.call(this, bufferContext, this);
          bufferContext.restore();
          var ratio = bufferCanvas.pixelRatio;
          if (hasShadow) {
            context._applyShadow(this);
          }
          context._applyOpacity(this);
          context._applyGlobalCompositeOperation(this);
          context.drawImage(bufferCanvas._canvas, 0, 0, bufferCanvas.width / ratio, bufferCanvas.height / ratio);
        } else {
          context._applyLineJoin(this);
          if (!cachingSelf) {
            var o = this.getAbsoluteTransform(top).getMatrix();
            context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);
            context._applyOpacity(this);
            context._applyGlobalCompositeOperation(this);
          }
          if (hasShadow) {
            context._applyShadow(this);
          }
          drawFunc.call(this, context, this);
        }
        context.restore();
        return this;
      }
      drawHit(can, top, skipDragCheck = false) {
        if (!this.shouldDrawHit(top, skipDragCheck)) {
          return this;
        }
        var layer = this.getLayer(), canvas = can || layer.hitCanvas, context = canvas && canvas.getContext(), drawFunc = this.hitFunc() || this.sceneFunc(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;
        if (!this.colorKey) {
          Util_1.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()");
        }
        if (cachedHitCanvas) {
          context.save();
          var m = this.getAbsoluteTransform(top).getMatrix();
          context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);
          this._drawCachedHitCanvas(context);
          context.restore();
          return this;
        }
        if (!drawFunc) {
          return this;
        }
        context.save();
        context._applyLineJoin(this);
        const selfCache = this === top;
        if (!selfCache) {
          var o = this.getAbsoluteTransform(top).getMatrix();
          context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);
        }
        drawFunc.call(this, context, this);
        context.restore();
        return this;
      }
      drawHitFromCache(alphaThreshold = 0) {
        var cachedCanvas = this._getCanvasCache(), sceneCanvas = this._getCachedSceneCanvas(), hitCanvas = cachedCanvas.hit, hitContext = hitCanvas.getContext(), hitWidth = hitCanvas.getWidth(), hitHeight = hitCanvas.getHeight(), hitImageData, hitData, len, rgbColorKey, i, alpha;
        hitContext.clear();
        hitContext.drawImage(sceneCanvas._canvas, 0, 0, hitWidth, hitHeight);
        try {
          hitImageData = hitContext.getImageData(0, 0, hitWidth, hitHeight);
          hitData = hitImageData.data;
          len = hitData.length;
          rgbColorKey = Util_1.Util._hexToRgb(this.colorKey);
          for (i = 0; i < len; i += 4) {
            alpha = hitData[i + 3];
            if (alpha > alphaThreshold) {
              hitData[i] = rgbColorKey.r;
              hitData[i + 1] = rgbColorKey.g;
              hitData[i + 2] = rgbColorKey.b;
              hitData[i + 3] = 255;
            } else {
              hitData[i + 3] = 0;
            }
          }
          hitContext.putImageData(hitImageData, 0, 0);
        } catch (e) {
          Util_1.Util.error("Unable to draw hit graph from cached scene canvas. " + e.message);
        }
        return this;
      }
      hasPointerCapture(pointerId) {
        return PointerEvents.hasPointerCapture(pointerId, this);
      }
      setPointerCapture(pointerId) {
        PointerEvents.setPointerCapture(pointerId, this);
      }
      releaseCapture(pointerId) {
        PointerEvents.releaseCapture(pointerId, this);
      }
    };
    exports.Shape = Shape;
    Shape.prototype._fillFunc = _fillFunc;
    Shape.prototype._strokeFunc = _strokeFunc;
    Shape.prototype._fillFuncHit = _fillFuncHit;
    Shape.prototype._strokeFuncHit = _strokeFuncHit;
    Shape.prototype._centroid = false;
    Shape.prototype.nodeType = "Shape";
    (0, Global_2._registerNode)(Shape);
    Shape.prototype.eventListeners = {};
    Shape.prototype.on.call(Shape.prototype, "shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva", _clearHasShadowCache);
    Shape.prototype.on.call(Shape.prototype, "shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva", _clearGetShadowRGBACache);
    Shape.prototype.on.call(Shape.prototype, "fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva", _clearFillPatternCache);
    Shape.prototype.on.call(Shape.prototype, "fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva", _clearLinearGradientCache);
    Shape.prototype.on.call(Shape.prototype, "fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva", _clearRadialGradientCache);
    Factory_1.Factory.addGetterSetter(Shape, "stroke", void 0, (0, Validators_1.getStringOrGradientValidator)());
    Factory_1.Factory.addGetterSetter(Shape, "strokeWidth", 2, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Shape, "fillAfterStrokeEnabled", false);
    Factory_1.Factory.addGetterSetter(Shape, "hitStrokeWidth", "auto", (0, Validators_1.getNumberOrAutoValidator)());
    Factory_1.Factory.addGetterSetter(Shape, "strokeHitEnabled", true, (0, Validators_1.getBooleanValidator)());
    Factory_1.Factory.addGetterSetter(Shape, "perfectDrawEnabled", true, (0, Validators_1.getBooleanValidator)());
    Factory_1.Factory.addGetterSetter(Shape, "shadowForStrokeEnabled", true, (0, Validators_1.getBooleanValidator)());
    Factory_1.Factory.addGetterSetter(Shape, "lineJoin");
    Factory_1.Factory.addGetterSetter(Shape, "lineCap");
    Factory_1.Factory.addGetterSetter(Shape, "sceneFunc");
    Factory_1.Factory.addGetterSetter(Shape, "hitFunc");
    Factory_1.Factory.addGetterSetter(Shape, "dash");
    Factory_1.Factory.addGetterSetter(Shape, "dashOffset", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Shape, "shadowColor", void 0, (0, Validators_1.getStringValidator)());
    Factory_1.Factory.addGetterSetter(Shape, "shadowBlur", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Shape, "shadowOpacity", 1, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addComponentsGetterSetter(Shape, "shadowOffset", ["x", "y"]);
    Factory_1.Factory.addGetterSetter(Shape, "shadowOffsetX", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Shape, "shadowOffsetY", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Shape, "fillPatternImage");
    Factory_1.Factory.addGetterSetter(Shape, "fill", void 0, (0, Validators_1.getStringOrGradientValidator)());
    Factory_1.Factory.addGetterSetter(Shape, "fillPatternX", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Shape, "fillPatternY", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Shape, "fillLinearGradientColorStops");
    Factory_1.Factory.addGetterSetter(Shape, "strokeLinearGradientColorStops");
    Factory_1.Factory.addGetterSetter(Shape, "fillRadialGradientStartRadius", 0);
    Factory_1.Factory.addGetterSetter(Shape, "fillRadialGradientEndRadius", 0);
    Factory_1.Factory.addGetterSetter(Shape, "fillRadialGradientColorStops");
    Factory_1.Factory.addGetterSetter(Shape, "fillPatternRepeat", "repeat");
    Factory_1.Factory.addGetterSetter(Shape, "fillEnabled", true);
    Factory_1.Factory.addGetterSetter(Shape, "strokeEnabled", true);
    Factory_1.Factory.addGetterSetter(Shape, "shadowEnabled", true);
    Factory_1.Factory.addGetterSetter(Shape, "dashEnabled", true);
    Factory_1.Factory.addGetterSetter(Shape, "strokeScaleEnabled", true);
    Factory_1.Factory.addGetterSetter(Shape, "fillPriority", "color");
    Factory_1.Factory.addComponentsGetterSetter(Shape, "fillPatternOffset", ["x", "y"]);
    Factory_1.Factory.addGetterSetter(Shape, "fillPatternOffsetX", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Shape, "fillPatternOffsetY", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addComponentsGetterSetter(Shape, "fillPatternScale", ["x", "y"]);
    Factory_1.Factory.addGetterSetter(Shape, "fillPatternScaleX", 1, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Shape, "fillPatternScaleY", 1, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addComponentsGetterSetter(Shape, "fillLinearGradientStartPoint", [
      "x",
      "y"
    ]);
    Factory_1.Factory.addComponentsGetterSetter(Shape, "strokeLinearGradientStartPoint", [
      "x",
      "y"
    ]);
    Factory_1.Factory.addGetterSetter(Shape, "fillLinearGradientStartPointX", 0);
    Factory_1.Factory.addGetterSetter(Shape, "strokeLinearGradientStartPointX", 0);
    Factory_1.Factory.addGetterSetter(Shape, "fillLinearGradientStartPointY", 0);
    Factory_1.Factory.addGetterSetter(Shape, "strokeLinearGradientStartPointY", 0);
    Factory_1.Factory.addComponentsGetterSetter(Shape, "fillLinearGradientEndPoint", [
      "x",
      "y"
    ]);
    Factory_1.Factory.addComponentsGetterSetter(Shape, "strokeLinearGradientEndPoint", [
      "x",
      "y"
    ]);
    Factory_1.Factory.addGetterSetter(Shape, "fillLinearGradientEndPointX", 0);
    Factory_1.Factory.addGetterSetter(Shape, "strokeLinearGradientEndPointX", 0);
    Factory_1.Factory.addGetterSetter(Shape, "fillLinearGradientEndPointY", 0);
    Factory_1.Factory.addGetterSetter(Shape, "strokeLinearGradientEndPointY", 0);
    Factory_1.Factory.addComponentsGetterSetter(Shape, "fillRadialGradientStartPoint", [
      "x",
      "y"
    ]);
    Factory_1.Factory.addGetterSetter(Shape, "fillRadialGradientStartPointX", 0);
    Factory_1.Factory.addGetterSetter(Shape, "fillRadialGradientStartPointY", 0);
    Factory_1.Factory.addComponentsGetterSetter(Shape, "fillRadialGradientEndPoint", [
      "x",
      "y"
    ]);
    Factory_1.Factory.addGetterSetter(Shape, "fillRadialGradientEndPointX", 0);
    Factory_1.Factory.addGetterSetter(Shape, "fillRadialGradientEndPointY", 0);
    Factory_1.Factory.addGetterSetter(Shape, "fillPatternRotation", 0);
    Factory_1.Factory.addGetterSetter(Shape, "fillRule", void 0, (0, Validators_1.getStringValidator)());
    Factory_1.Factory.backCompat(Shape, {
      dashArray: "dash",
      getDashArray: "getDash",
      setDashArray: "getDash",
      drawFunc: "sceneFunc",
      getDrawFunc: "getSceneFunc",
      setDrawFunc: "setSceneFunc",
      drawHitFunc: "hitFunc",
      getDrawHitFunc: "getHitFunc",
      setDrawHitFunc: "setHitFunc"
    });
  }
});

// node_modules/konva/lib/Layer.js
var require_Layer = __commonJS({
  "node_modules/konva/lib/Layer.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Layer = void 0;
    var Util_1 = require_Util();
    var Container_1 = require_Container();
    var Node_1 = require_Node();
    var Factory_1 = require_Factory();
    var Canvas_1 = require_Canvas();
    var Validators_1 = require_Validators();
    var Shape_1 = require_Shape();
    var Global_1 = require_Global();
    var HASH = "#";
    var BEFORE_DRAW = "beforeDraw";
    var DRAW = "draw";
    var INTERSECTION_OFFSETS = [
      { x: 0, y: 0 },
      { x: -1, y: -1 },
      { x: 1, y: -1 },
      { x: 1, y: 1 },
      { x: -1, y: 1 }
    ];
    var INTERSECTION_OFFSETS_LEN = INTERSECTION_OFFSETS.length;
    var Layer2 = class extends Container_1.Container {
      constructor(config) {
        super(config);
        this.canvas = new Canvas_1.SceneCanvas();
        this.hitCanvas = new Canvas_1.HitCanvas({
          pixelRatio: 1
        });
        this._waitingForDraw = false;
        this.on("visibleChange.konva", this._checkVisibility);
        this._checkVisibility();
        this.on("imageSmoothingEnabledChange.konva", this._setSmoothEnabled);
        this._setSmoothEnabled();
      }
      createPNGStream() {
        const c = this.canvas._canvas;
        return c.createPNGStream();
      }
      getCanvas() {
        return this.canvas;
      }
      getNativeCanvasElement() {
        return this.canvas._canvas;
      }
      getHitCanvas() {
        return this.hitCanvas;
      }
      getContext() {
        return this.getCanvas().getContext();
      }
      clear(bounds) {
        this.getContext().clear(bounds);
        this.getHitCanvas().getContext().clear(bounds);
        return this;
      }
      setZIndex(index) {
        super.setZIndex(index);
        var stage = this.getStage();
        if (stage && stage.content) {
          stage.content.removeChild(this.getNativeCanvasElement());
          if (index < stage.children.length - 1) {
            stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[index + 1].getCanvas()._canvas);
          } else {
            stage.content.appendChild(this.getNativeCanvasElement());
          }
        }
        return this;
      }
      moveToTop() {
        Node_1.Node.prototype.moveToTop.call(this);
        var stage = this.getStage();
        if (stage && stage.content) {
          stage.content.removeChild(this.getNativeCanvasElement());
          stage.content.appendChild(this.getNativeCanvasElement());
        }
        return true;
      }
      moveUp() {
        var moved = Node_1.Node.prototype.moveUp.call(this);
        if (!moved) {
          return false;
        }
        var stage = this.getStage();
        if (!stage || !stage.content) {
          return false;
        }
        stage.content.removeChild(this.getNativeCanvasElement());
        if (this.index < stage.children.length - 1) {
          stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[this.index + 1].getCanvas()._canvas);
        } else {
          stage.content.appendChild(this.getNativeCanvasElement());
        }
        return true;
      }
      moveDown() {
        if (Node_1.Node.prototype.moveDown.call(this)) {
          var stage = this.getStage();
          if (stage) {
            var children2 = stage.children;
            if (stage.content) {
              stage.content.removeChild(this.getNativeCanvasElement());
              stage.content.insertBefore(this.getNativeCanvasElement(), children2[this.index + 1].getCanvas()._canvas);
            }
          }
          return true;
        }
        return false;
      }
      moveToBottom() {
        if (Node_1.Node.prototype.moveToBottom.call(this)) {
          var stage = this.getStage();
          if (stage) {
            var children2 = stage.children;
            if (stage.content) {
              stage.content.removeChild(this.getNativeCanvasElement());
              stage.content.insertBefore(this.getNativeCanvasElement(), children2[1].getCanvas()._canvas);
            }
          }
          return true;
        }
        return false;
      }
      getLayer() {
        return this;
      }
      remove() {
        var _canvas = this.getNativeCanvasElement();
        Node_1.Node.prototype.remove.call(this);
        if (_canvas && _canvas.parentNode && Util_1.Util._isInDocument(_canvas)) {
          _canvas.parentNode.removeChild(_canvas);
        }
        return this;
      }
      getStage() {
        return this.parent;
      }
      setSize({ width, height }) {
        this.canvas.setSize(width, height);
        this.hitCanvas.setSize(width, height);
        this._setSmoothEnabled();
        return this;
      }
      _validateAdd(child) {
        var type = child.getType();
        if (type !== "Group" && type !== "Shape") {
          Util_1.Util.throw("You may only add groups and shapes to a layer.");
        }
      }
      _toKonvaCanvas(config) {
        config = config || {};
        config.width = config.width || this.getWidth();
        config.height = config.height || this.getHeight();
        config.x = config.x !== void 0 ? config.x : this.x();
        config.y = config.y !== void 0 ? config.y : this.y();
        return Node_1.Node.prototype._toKonvaCanvas.call(this, config);
      }
      _checkVisibility() {
        const visible = this.visible();
        if (visible) {
          this.canvas._canvas.style.display = "block";
        } else {
          this.canvas._canvas.style.display = "none";
        }
      }
      _setSmoothEnabled() {
        this.getContext()._context.imageSmoothingEnabled = this.imageSmoothingEnabled();
      }
      getWidth() {
        if (this.parent) {
          return this.parent.width();
        }
      }
      setWidth() {
        Util_1.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.');
      }
      getHeight() {
        if (this.parent) {
          return this.parent.height();
        }
      }
      setHeight() {
        Util_1.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.');
      }
      batchDraw() {
        if (!this._waitingForDraw) {
          this._waitingForDraw = true;
          Util_1.Util.requestAnimFrame(() => {
            this.draw();
            this._waitingForDraw = false;
          });
        }
        return this;
      }
      getIntersection(pos) {
        if (!this.isListening() || !this.isVisible()) {
          return null;
        }
        var spiralSearchDistance = 1;
        var continueSearch = false;
        while (true) {
          for (let i = 0; i < INTERSECTION_OFFSETS_LEN; i++) {
            const intersectionOffset = INTERSECTION_OFFSETS[i];
            const obj = this._getIntersection({
              x: pos.x + intersectionOffset.x * spiralSearchDistance,
              y: pos.y + intersectionOffset.y * spiralSearchDistance
            });
            const shape = obj.shape;
            if (shape) {
              return shape;
            }
            continueSearch = !!obj.antialiased;
            if (!obj.antialiased) {
              break;
            }
          }
          if (continueSearch) {
            spiralSearchDistance += 1;
          } else {
            return null;
          }
        }
      }
      _getIntersection(pos) {
        const ratio = this.hitCanvas.pixelRatio;
        const p = this.hitCanvas.context.getImageData(Math.round(pos.x * ratio), Math.round(pos.y * ratio), 1, 1).data;
        const p3 = p[3];
        if (p3 === 255) {
          const colorKey = Util_1.Util._rgbToHex(p[0], p[1], p[2]);
          const shape = Shape_1.shapes[HASH + colorKey];
          if (shape) {
            return {
              shape
            };
          }
          return {
            antialiased: true
          };
        } else if (p3 > 0) {
          return {
            antialiased: true
          };
        }
        return {};
      }
      drawScene(can, top) {
        var layer = this.getLayer(), canvas = can || layer && layer.getCanvas();
        this._fire(BEFORE_DRAW, {
          node: this
        });
        if (this.clearBeforeDraw()) {
          canvas.getContext().clear();
        }
        Container_1.Container.prototype.drawScene.call(this, canvas, top);
        this._fire(DRAW, {
          node: this
        });
        return this;
      }
      drawHit(can, top) {
        var layer = this.getLayer(), canvas = can || layer && layer.hitCanvas;
        if (layer && layer.clearBeforeDraw()) {
          layer.getHitCanvas().getContext().clear();
        }
        Container_1.Container.prototype.drawHit.call(this, canvas, top);
        return this;
      }
      enableHitGraph() {
        this.hitGraphEnabled(true);
        return this;
      }
      disableHitGraph() {
        this.hitGraphEnabled(false);
        return this;
      }
      setHitGraphEnabled(val) {
        Util_1.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead.");
        this.listening(val);
      }
      getHitGraphEnabled(val) {
        Util_1.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead.");
        return this.listening();
      }
      toggleHitCanvas() {
        if (!this.parent || !this.parent["content"]) {
          return;
        }
        var parent = this.parent;
        var added = !!this.hitCanvas._canvas.parentNode;
        if (added) {
          parent.content.removeChild(this.hitCanvas._canvas);
        } else {
          parent.content.appendChild(this.hitCanvas._canvas);
        }
      }
      destroy() {
        Util_1.Util.releaseCanvas(this.getNativeCanvasElement(), this.getHitCanvas()._canvas);
        return super.destroy();
      }
    };
    exports.Layer = Layer2;
    Layer2.prototype.nodeType = "Layer";
    (0, Global_1._registerNode)(Layer2);
    Factory_1.Factory.addGetterSetter(Layer2, "imageSmoothingEnabled", true);
    Factory_1.Factory.addGetterSetter(Layer2, "clearBeforeDraw", true);
    Factory_1.Factory.addGetterSetter(Layer2, "hitGraphEnabled", true, (0, Validators_1.getBooleanValidator)());
  }
});

// node_modules/konva/lib/FastLayer.js
var require_FastLayer = __commonJS({
  "node_modules/konva/lib/FastLayer.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.FastLayer = void 0;
    var Util_1 = require_Util();
    var Layer_1 = require_Layer();
    var Global_1 = require_Global();
    var FastLayer = class extends Layer_1.Layer {
      constructor(attrs) {
        super(attrs);
        this.listening(false);
        Util_1.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.');
      }
    };
    exports.FastLayer = FastLayer;
    FastLayer.prototype.nodeType = "FastLayer";
    (0, Global_1._registerNode)(FastLayer);
  }
});

// node_modules/konva/lib/Group.js
var require_Group = __commonJS({
  "node_modules/konva/lib/Group.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Group = void 0;
    var Util_1 = require_Util();
    var Container_1 = require_Container();
    var Global_1 = require_Global();
    var Group = class extends Container_1.Container {
      _validateAdd(child) {
        var type = child.getType();
        if (type !== "Group" && type !== "Shape") {
          Util_1.Util.throw("You may only add groups and shapes to groups.");
        }
      }
    };
    exports.Group = Group;
    Group.prototype.nodeType = "Group";
    (0, Global_1._registerNode)(Group);
  }
});

// node_modules/konva/lib/Animation.js
var require_Animation = __commonJS({
  "node_modules/konva/lib/Animation.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Animation = void 0;
    var Global_1 = require_Global();
    var Util_1 = require_Util();
    var now2 = function() {
      if (Global_1.glob.performance && Global_1.glob.performance.now) {
        return function() {
          return Global_1.glob.performance.now();
        };
      }
      return function() {
        return new Date().getTime();
      };
    }();
    var Animation = class {
      constructor(func, layers) {
        this.id = Animation.animIdCounter++;
        this.frame = {
          time: 0,
          timeDiff: 0,
          lastTime: now2(),
          frameRate: 0
        };
        this.func = func;
        this.setLayers(layers);
      }
      setLayers(layers) {
        let lays = [];
        if (layers) {
          lays = Array.isArray(layers) ? layers : [layers];
        }
        this.layers = lays;
        return this;
      }
      getLayers() {
        return this.layers;
      }
      addLayer(layer) {
        const layers = this.layers;
        const len = layers.length;
        for (let n = 0; n < len; n++) {
          if (layers[n]._id === layer._id) {
            return false;
          }
        }
        this.layers.push(layer);
        return true;
      }
      isRunning() {
        const a = Animation;
        const animations = a.animations;
        const len = animations.length;
        for (let n = 0; n < len; n++) {
          if (animations[n].id === this.id) {
            return true;
          }
        }
        return false;
      }
      start() {
        this.stop();
        this.frame.timeDiff = 0;
        this.frame.lastTime = now2();
        Animation._addAnimation(this);
        return this;
      }
      stop() {
        Animation._removeAnimation(this);
        return this;
      }
      _updateFrameObject(time) {
        this.frame.timeDiff = time - this.frame.lastTime;
        this.frame.lastTime = time;
        this.frame.time += this.frame.timeDiff;
        this.frame.frameRate = 1e3 / this.frame.timeDiff;
      }
      static _addAnimation(anim) {
        this.animations.push(anim);
        this._handleAnimation();
      }
      static _removeAnimation(anim) {
        const id = anim.id;
        const animations = this.animations;
        const len = animations.length;
        for (let n = 0; n < len; n++) {
          if (animations[n].id === id) {
            this.animations.splice(n, 1);
            break;
          }
        }
      }
      static _runFrames() {
        const layerHash = {};
        const animations = this.animations;
        for (let n = 0; n < animations.length; n++) {
          const anim = animations[n];
          const layers = anim.layers;
          const func = anim.func;
          anim._updateFrameObject(now2());
          const layersLen = layers.length;
          let needRedraw;
          if (func) {
            needRedraw = func.call(anim, anim.frame) !== false;
          } else {
            needRedraw = true;
          }
          if (!needRedraw) {
            continue;
          }
          for (let i = 0; i < layersLen; i++) {
            const layer = layers[i];
            if (layer._id !== void 0) {
              layerHash[layer._id] = layer;
            }
          }
        }
        for (let key in layerHash) {
          if (!layerHash.hasOwnProperty(key)) {
            continue;
          }
          layerHash[key].batchDraw();
        }
      }
      static _animationLoop() {
        const Anim = Animation;
        if (Anim.animations.length) {
          Anim._runFrames();
          Util_1.Util.requestAnimFrame(Anim._animationLoop);
        } else {
          Anim.animRunning = false;
        }
      }
      static _handleAnimation() {
        if (!this.animRunning) {
          this.animRunning = true;
          Util_1.Util.requestAnimFrame(this._animationLoop);
        }
      }
    };
    exports.Animation = Animation;
    Animation.animations = [];
    Animation.animIdCounter = 0;
    Animation.animRunning = false;
  }
});

// node_modules/konva/lib/Tween.js
var require_Tween = __commonJS({
  "node_modules/konva/lib/Tween.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Easings = exports.Tween = void 0;
    var Util_1 = require_Util();
    var Animation_1 = require_Animation();
    var Node_1 = require_Node();
    var Global_1 = require_Global();
    var blacklist = {
      node: 1,
      duration: 1,
      easing: 1,
      onFinish: 1,
      yoyo: 1
    };
    var PAUSED = 1;
    var PLAYING = 2;
    var REVERSING = 3;
    var idCounter = 0;
    var colorAttrs = ["fill", "stroke", "shadowColor"];
    var TweenEngine = class {
      constructor(prop, propFunc, func, begin, finish, duration, yoyo) {
        this.prop = prop;
        this.propFunc = propFunc;
        this.begin = begin;
        this._pos = begin;
        this.duration = duration;
        this._change = 0;
        this.prevPos = 0;
        this.yoyo = yoyo;
        this._time = 0;
        this._position = 0;
        this._startTime = 0;
        this._finish = 0;
        this.func = func;
        this._change = finish - this.begin;
        this.pause();
      }
      fire(str) {
        var handler = this[str];
        if (handler) {
          handler();
        }
      }
      setTime(t) {
        if (t > this.duration) {
          if (this.yoyo) {
            this._time = this.duration;
            this.reverse();
          } else {
            this.finish();
          }
        } else if (t < 0) {
          if (this.yoyo) {
            this._time = 0;
            this.play();
          } else {
            this.reset();
          }
        } else {
          this._time = t;
          this.update();
        }
      }
      getTime() {
        return this._time;
      }
      setPosition(p) {
        this.prevPos = this._pos;
        this.propFunc(p);
        this._pos = p;
      }
      getPosition(t) {
        if (t === void 0) {
          t = this._time;
        }
        return this.func(t, this.begin, this._change, this.duration);
      }
      play() {
        this.state = PLAYING;
        this._startTime = this.getTimer() - this._time;
        this.onEnterFrame();
        this.fire("onPlay");
      }
      reverse() {
        this.state = REVERSING;
        this._time = this.duration - this._time;
        this._startTime = this.getTimer() - this._time;
        this.onEnterFrame();
        this.fire("onReverse");
      }
      seek(t) {
        this.pause();
        this._time = t;
        this.update();
        this.fire("onSeek");
      }
      reset() {
        this.pause();
        this._time = 0;
        this.update();
        this.fire("onReset");
      }
      finish() {
        this.pause();
        this._time = this.duration;
        this.update();
        this.fire("onFinish");
      }
      update() {
        this.setPosition(this.getPosition(this._time));
        this.fire("onUpdate");
      }
      onEnterFrame() {
        var t = this.getTimer() - this._startTime;
        if (this.state === PLAYING) {
          this.setTime(t);
        } else if (this.state === REVERSING) {
          this.setTime(this.duration - t);
        }
      }
      pause() {
        this.state = PAUSED;
        this.fire("onPause");
      }
      getTimer() {
        return new Date().getTime();
      }
    };
    var Tween = class {
      constructor(config) {
        var that = this, node = config.node, nodeId = node._id, duration, easing = config.easing || exports.Easings.Linear, yoyo = !!config.yoyo, key;
        if (typeof config.duration === "undefined") {
          duration = 0.3;
        } else if (config.duration === 0) {
          duration = 1e-3;
        } else {
          duration = config.duration;
        }
        this.node = node;
        this._id = idCounter++;
        var layers = node.getLayer() || (node instanceof Global_1.Konva["Stage"] ? node.getLayers() : null);
        if (!layers) {
          Util_1.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first.");
        }
        this.anim = new Animation_1.Animation(function() {
          that.tween.onEnterFrame();
        }, layers);
        this.tween = new TweenEngine(key, function(i) {
          that._tweenFunc(i);
        }, easing, 0, 1, duration * 1e3, yoyo);
        this._addListeners();
        if (!Tween.attrs[nodeId]) {
          Tween.attrs[nodeId] = {};
        }
        if (!Tween.attrs[nodeId][this._id]) {
          Tween.attrs[nodeId][this._id] = {};
        }
        if (!Tween.tweens[nodeId]) {
          Tween.tweens[nodeId] = {};
        }
        for (key in config) {
          if (blacklist[key] === void 0) {
            this._addAttr(key, config[key]);
          }
        }
        this.reset();
        this.onFinish = config.onFinish;
        this.onReset = config.onReset;
        this.onUpdate = config.onUpdate;
      }
      _addAttr(key, end) {
        var node = this.node, nodeId = node._id, start, diff, tweenId, n, len, trueEnd, trueStart, endRGBA;
        tweenId = Tween.tweens[nodeId][key];
        if (tweenId) {
          delete Tween.attrs[nodeId][tweenId][key];
        }
        start = node.getAttr(key);
        if (Util_1.Util._isArray(end)) {
          diff = [];
          len = Math.max(end.length, start.length);
          if (key === "points" && end.length !== start.length) {
            if (end.length > start.length) {
              trueStart = start;
              start = Util_1.Util._prepareArrayForTween(start, end, node.closed());
            } else {
              trueEnd = end;
              end = Util_1.Util._prepareArrayForTween(end, start, node.closed());
            }
          }
          if (key.indexOf("fill") === 0) {
            for (n = 0; n < len; n++) {
              if (n % 2 === 0) {
                diff.push(end[n] - start[n]);
              } else {
                var startRGBA = Util_1.Util.colorToRGBA(start[n]);
                endRGBA = Util_1.Util.colorToRGBA(end[n]);
                start[n] = startRGBA;
                diff.push({
                  r: endRGBA.r - startRGBA.r,
                  g: endRGBA.g - startRGBA.g,
                  b: endRGBA.b - startRGBA.b,
                  a: endRGBA.a - startRGBA.a
                });
              }
            }
          } else {
            for (n = 0; n < len; n++) {
              diff.push(end[n] - start[n]);
            }
          }
        } else if (colorAttrs.indexOf(key) !== -1) {
          start = Util_1.Util.colorToRGBA(start);
          endRGBA = Util_1.Util.colorToRGBA(end);
          diff = {
            r: endRGBA.r - start.r,
            g: endRGBA.g - start.g,
            b: endRGBA.b - start.b,
            a: endRGBA.a - start.a
          };
        } else {
          diff = end - start;
        }
        Tween.attrs[nodeId][this._id][key] = {
          start,
          diff,
          end,
          trueEnd,
          trueStart
        };
        Tween.tweens[nodeId][key] = this._id;
      }
      _tweenFunc(i) {
        var node = this.node, attrs = Tween.attrs[node._id][this._id], key, attr2, start, diff, newVal, n, len, end;
        for (key in attrs) {
          attr2 = attrs[key];
          start = attr2.start;
          diff = attr2.diff;
          end = attr2.end;
          if (Util_1.Util._isArray(start)) {
            newVal = [];
            len = Math.max(start.length, end.length);
            if (key.indexOf("fill") === 0) {
              for (n = 0; n < len; n++) {
                if (n % 2 === 0) {
                  newVal.push((start[n] || 0) + diff[n] * i);
                } else {
                  newVal.push("rgba(" + Math.round(start[n].r + diff[n].r * i) + "," + Math.round(start[n].g + diff[n].g * i) + "," + Math.round(start[n].b + diff[n].b * i) + "," + (start[n].a + diff[n].a * i) + ")");
                }
              }
            } else {
              for (n = 0; n < len; n++) {
                newVal.push((start[n] || 0) + diff[n] * i);
              }
            }
          } else if (colorAttrs.indexOf(key) !== -1) {
            newVal = "rgba(" + Math.round(start.r + diff.r * i) + "," + Math.round(start.g + diff.g * i) + "," + Math.round(start.b + diff.b * i) + "," + (start.a + diff.a * i) + ")";
          } else {
            newVal = start + diff * i;
          }
          node.setAttr(key, newVal);
        }
      }
      _addListeners() {
        this.tween.onPlay = () => {
          this.anim.start();
        };
        this.tween.onReverse = () => {
          this.anim.start();
        };
        this.tween.onPause = () => {
          this.anim.stop();
        };
        this.tween.onFinish = () => {
          var node = this.node;
          var attrs = Tween.attrs[node._id][this._id];
          if (attrs.points && attrs.points.trueEnd) {
            node.setAttr("points", attrs.points.trueEnd);
          }
          if (this.onFinish) {
            this.onFinish.call(this);
          }
        };
        this.tween.onReset = () => {
          var node = this.node;
          var attrs = Tween.attrs[node._id][this._id];
          if (attrs.points && attrs.points.trueStart) {
            node.points(attrs.points.trueStart);
          }
          if (this.onReset) {
            this.onReset();
          }
        };
        this.tween.onUpdate = () => {
          if (this.onUpdate) {
            this.onUpdate.call(this);
          }
        };
      }
      play() {
        this.tween.play();
        return this;
      }
      reverse() {
        this.tween.reverse();
        return this;
      }
      reset() {
        this.tween.reset();
        return this;
      }
      seek(t) {
        this.tween.seek(t * 1e3);
        return this;
      }
      pause() {
        this.tween.pause();
        return this;
      }
      finish() {
        this.tween.finish();
        return this;
      }
      destroy() {
        var nodeId = this.node._id, thisId = this._id, attrs = Tween.tweens[nodeId], key;
        this.pause();
        for (key in attrs) {
          delete Tween.tweens[nodeId][key];
        }
        delete Tween.attrs[nodeId][thisId];
      }
    };
    exports.Tween = Tween;
    Tween.attrs = {};
    Tween.tweens = {};
    Node_1.Node.prototype.to = function(params) {
      var onFinish = params.onFinish;
      params.node = this;
      params.onFinish = function() {
        this.destroy();
        if (onFinish) {
          onFinish();
        }
      };
      var tween = new Tween(params);
      tween.play();
    };
    exports.Easings = {
      BackEaseIn(t, b, c, d) {
        var s = 1.70158;
        return c * (t /= d) * t * ((s + 1) * t - s) + b;
      },
      BackEaseOut(t, b, c, d) {
        var s = 1.70158;
        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;
      },
      BackEaseInOut(t, b, c, d) {
        var s = 1.70158;
        if ((t /= d / 2) < 1) {
          return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;
        }
        return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;
      },
      ElasticEaseIn(t, b, c, d, a, p) {
        var s = 0;
        if (t === 0) {
          return b;
        }
        if ((t /= d) === 1) {
          return b + c;
        }
        if (!p) {
          p = d * 0.3;
        }
        if (!a || a < Math.abs(c)) {
          a = c;
          s = p / 4;
        } else {
          s = p / (2 * Math.PI) * Math.asin(c / a);
        }
        return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;
      },
      ElasticEaseOut(t, b, c, d, a, p) {
        var s = 0;
        if (t === 0) {
          return b;
        }
        if ((t /= d) === 1) {
          return b + c;
        }
        if (!p) {
          p = d * 0.3;
        }
        if (!a || a < Math.abs(c)) {
          a = c;
          s = p / 4;
        } else {
          s = p / (2 * Math.PI) * Math.asin(c / a);
        }
        return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;
      },
      ElasticEaseInOut(t, b, c, d, a, p) {
        var s = 0;
        if (t === 0) {
          return b;
        }
        if ((t /= d / 2) === 2) {
          return b + c;
        }
        if (!p) {
          p = d * (0.3 * 1.5);
        }
        if (!a || a < Math.abs(c)) {
          a = c;
          s = p / 4;
        } else {
          s = p / (2 * Math.PI) * Math.asin(c / a);
        }
        if (t < 1) {
          return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;
        }
        return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * 0.5 + c + b;
      },
      BounceEaseOut(t, b, c, d) {
        if ((t /= d) < 1 / 2.75) {
          return c * (7.5625 * t * t) + b;
        } else if (t < 2 / 2.75) {
          return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;
        } else if (t < 2.5 / 2.75) {
          return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;
        } else {
          return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;
        }
      },
      BounceEaseIn(t, b, c, d) {
        return c - exports.Easings.BounceEaseOut(d - t, 0, c, d) + b;
      },
      BounceEaseInOut(t, b, c, d) {
        if (t < d / 2) {
          return exports.Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;
        } else {
          return exports.Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;
        }
      },
      EaseIn(t, b, c, d) {
        return c * (t /= d) * t + b;
      },
      EaseOut(t, b, c, d) {
        return -c * (t /= d) * (t - 2) + b;
      },
      EaseInOut(t, b, c, d) {
        if ((t /= d / 2) < 1) {
          return c / 2 * t * t + b;
        }
        return -c / 2 * (--t * (t - 2) - 1) + b;
      },
      StrongEaseIn(t, b, c, d) {
        return c * (t /= d) * t * t * t * t + b;
      },
      StrongEaseOut(t, b, c, d) {
        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;
      },
      StrongEaseInOut(t, b, c, d) {
        if ((t /= d / 2) < 1) {
          return c / 2 * t * t * t * t * t + b;
        }
        return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;
      },
      Linear(t, b, c, d) {
        return c * t / d + b;
      }
    };
  }
});

// node_modules/konva/lib/_CoreInternals.js
var require_CoreInternals = __commonJS({
  "node_modules/konva/lib/_CoreInternals.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Konva = void 0;
    var Global_1 = require_Global();
    var Util_1 = require_Util();
    var Node_1 = require_Node();
    var Container_1 = require_Container();
    var Stage_1 = require_Stage();
    var Layer_1 = require_Layer();
    var FastLayer_1 = require_FastLayer();
    var Group_1 = require_Group();
    var DragAndDrop_1 = require_DragAndDrop();
    var Shape_1 = require_Shape();
    var Animation_1 = require_Animation();
    var Tween_1 = require_Tween();
    var Context_1 = require_Context();
    var Canvas_1 = require_Canvas();
    exports.Konva = Util_1.Util._assign(Global_1.Konva, {
      Util: Util_1.Util,
      Transform: Util_1.Transform,
      Node: Node_1.Node,
      Container: Container_1.Container,
      Stage: Stage_1.Stage,
      stages: Stage_1.stages,
      Layer: Layer_1.Layer,
      FastLayer: FastLayer_1.FastLayer,
      Group: Group_1.Group,
      DD: DragAndDrop_1.DD,
      Shape: Shape_1.Shape,
      shapes: Shape_1.shapes,
      Animation: Animation_1.Animation,
      Tween: Tween_1.Tween,
      Easings: Tween_1.Easings,
      Context: Context_1.Context,
      Canvas: Canvas_1.Canvas
    });
    exports.default = exports.Konva;
  }
});

// node_modules/konva/lib/shapes/Arc.js
var require_Arc = __commonJS({
  "node_modules/konva/lib/shapes/Arc.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Arc = void 0;
    var Factory_1 = require_Factory();
    var Shape_1 = require_Shape();
    var Global_1 = require_Global();
    var Validators_1 = require_Validators();
    var Global_2 = require_Global();
    var Arc = class extends Shape_1.Shape {
      _sceneFunc(context) {
        var angle = Global_1.Konva.getAngle(this.angle()), clockwise = this.clockwise();
        context.beginPath();
        context.arc(0, 0, this.outerRadius(), 0, angle, clockwise);
        context.arc(0, 0, this.innerRadius(), angle, 0, !clockwise);
        context.closePath();
        context.fillStrokeShape(this);
      }
      getWidth() {
        return this.outerRadius() * 2;
      }
      getHeight() {
        return this.outerRadius() * 2;
      }
      setWidth(width) {
        this.outerRadius(width / 2);
      }
      setHeight(height) {
        this.outerRadius(height / 2);
      }
      getSelfRect() {
        const innerRadius = this.innerRadius();
        const outerRadius = this.outerRadius();
        const clockwise = this.clockwise();
        const angle = Global_1.Konva.getAngle(clockwise ? 360 - this.angle() : this.angle());
        const boundLeftRatio = Math.cos(Math.min(angle, Math.PI));
        const boundRightRatio = 1;
        const boundTopRatio = Math.sin(Math.min(Math.max(Math.PI, angle), 3 * Math.PI / 2));
        const boundBottomRatio = Math.sin(Math.min(angle, Math.PI / 2));
        const boundLeft = boundLeftRatio * (boundLeftRatio > 0 ? innerRadius : outerRadius);
        const boundRight = boundRightRatio * (boundRightRatio > 0 ? outerRadius : innerRadius);
        const boundTop = boundTopRatio * (boundTopRatio > 0 ? innerRadius : outerRadius);
        const boundBottom = boundBottomRatio * (boundBottomRatio > 0 ? outerRadius : innerRadius);
        return {
          x: boundLeft,
          y: clockwise ? -1 * boundBottom : boundTop,
          width: boundRight - boundLeft,
          height: boundBottom - boundTop
        };
      }
    };
    exports.Arc = Arc;
    Arc.prototype._centroid = true;
    Arc.prototype.className = "Arc";
    Arc.prototype._attrsAffectingSize = ["innerRadius", "outerRadius"];
    (0, Global_2._registerNode)(Arc);
    Factory_1.Factory.addGetterSetter(Arc, "innerRadius", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Arc, "outerRadius", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Arc, "angle", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Arc, "clockwise", false, (0, Validators_1.getBooleanValidator)());
  }
});

// node_modules/konva/lib/shapes/Line.js
var require_Line = __commonJS({
  "node_modules/konva/lib/shapes/Line.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Line = void 0;
    var Factory_1 = require_Factory();
    var Shape_1 = require_Shape();
    var Validators_1 = require_Validators();
    var Global_1 = require_Global();
    function getControlPoints(x0, y0, x1, y1, x2, y2, t) {
      var d01 = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2)), d12 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)), fa = t * d01 / (d01 + d12), fb = t * d12 / (d01 + d12), p1x = x1 - fa * (x2 - x0), p1y = y1 - fa * (y2 - y0), p2x = x1 + fb * (x2 - x0), p2y = y1 + fb * (y2 - y0);
      return [p1x, p1y, p2x, p2y];
    }
    function expandPoints(p, tension) {
      var len = p.length, allPoints = [], n, cp;
      for (n = 2; n < len - 2; n += 2) {
        cp = getControlPoints(p[n - 2], p[n - 1], p[n], p[n + 1], p[n + 2], p[n + 3], tension);
        if (isNaN(cp[0])) {
          continue;
        }
        allPoints.push(cp[0]);
        allPoints.push(cp[1]);
        allPoints.push(p[n]);
        allPoints.push(p[n + 1]);
        allPoints.push(cp[2]);
        allPoints.push(cp[3]);
      }
      return allPoints;
    }
    var Line2 = class extends Shape_1.Shape {
      constructor(config) {
        super(config);
        this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva", function() {
          this._clearCache("tensionPoints");
        });
      }
      _sceneFunc(context) {
        var points = this.points(), length = points.length, tension = this.tension(), closed = this.closed(), bezier = this.bezier(), tp, len, n;
        if (!length) {
          return;
        }
        context.beginPath();
        context.moveTo(points[0], points[1]);
        if (tension !== 0 && length > 4) {
          tp = this.getTensionPoints();
          len = tp.length;
          n = closed ? 0 : 4;
          if (!closed) {
            context.quadraticCurveTo(tp[0], tp[1], tp[2], tp[3]);
          }
          while (n < len - 2) {
            context.bezierCurveTo(tp[n++], tp[n++], tp[n++], tp[n++], tp[n++], tp[n++]);
          }
          if (!closed) {
            context.quadraticCurveTo(tp[len - 2], tp[len - 1], points[length - 2], points[length - 1]);
          }
        } else if (bezier) {
          n = 2;
          while (n < length) {
            context.bezierCurveTo(points[n++], points[n++], points[n++], points[n++], points[n++], points[n++]);
          }
        } else {
          for (n = 2; n < length; n += 2) {
            context.lineTo(points[n], points[n + 1]);
          }
        }
        if (closed) {
          context.closePath();
          context.fillStrokeShape(this);
        } else {
          context.strokeShape(this);
        }
      }
      getTensionPoints() {
        return this._getCache("tensionPoints", this._getTensionPoints);
      }
      _getTensionPoints() {
        if (this.closed()) {
          return this._getTensionPointsClosed();
        } else {
          return expandPoints(this.points(), this.tension());
        }
      }
      _getTensionPointsClosed() {
        var p = this.points(), len = p.length, tension = this.tension(), firstControlPoints = getControlPoints(p[len - 2], p[len - 1], p[0], p[1], p[2], p[3], tension), lastControlPoints = getControlPoints(p[len - 4], p[len - 3], p[len - 2], p[len - 1], p[0], p[1], tension), middle = expandPoints(p, tension), tp = [firstControlPoints[2], firstControlPoints[3]].concat(middle).concat([
          lastControlPoints[0],
          lastControlPoints[1],
          p[len - 2],
          p[len - 1],
          lastControlPoints[2],
          lastControlPoints[3],
          firstControlPoints[0],
          firstControlPoints[1],
          p[0],
          p[1]
        ]);
        return tp;
      }
      getWidth() {
        return this.getSelfRect().width;
      }
      getHeight() {
        return this.getSelfRect().height;
      }
      getSelfRect() {
        var points = this.points();
        if (points.length < 4) {
          return {
            x: points[0] || 0,
            y: points[1] || 0,
            width: 0,
            height: 0
          };
        }
        if (this.tension() !== 0) {
          points = [
            points[0],
            points[1],
            ...this._getTensionPoints(),
            points[points.length - 2],
            points[points.length - 1]
          ];
        } else {
          points = this.points();
        }
        var minX = points[0];
        var maxX = points[0];
        var minY = points[1];
        var maxY = points[1];
        var x, y;
        for (var i = 0; i < points.length / 2; i++) {
          x = points[i * 2];
          y = points[i * 2 + 1];
          minX = Math.min(minX, x);
          maxX = Math.max(maxX, x);
          minY = Math.min(minY, y);
          maxY = Math.max(maxY, y);
        }
        return {
          x: minX,
          y: minY,
          width: maxX - minX,
          height: maxY - minY
        };
      }
    };
    exports.Line = Line2;
    Line2.prototype.className = "Line";
    Line2.prototype._attrsAffectingSize = ["points", "bezier", "tension"];
    (0, Global_1._registerNode)(Line2);
    Factory_1.Factory.addGetterSetter(Line2, "closed", false);
    Factory_1.Factory.addGetterSetter(Line2, "bezier", false);
    Factory_1.Factory.addGetterSetter(Line2, "tension", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Line2, "points", [], (0, Validators_1.getNumberArrayValidator)());
  }
});

// node_modules/konva/lib/BezierFunctions.js
var require_BezierFunctions = __commonJS({
  "node_modules/konva/lib/BezierFunctions.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.t2length = exports.getQuadraticArcLength = exports.getCubicArcLength = exports.binomialCoefficients = exports.cValues = exports.tValues = void 0;
    exports.tValues = [
      [],
      [],
      [
        -0.5773502691896257,
        0.5773502691896257
      ],
      [
        0,
        -0.7745966692414834,
        0.7745966692414834
      ],
      [
        -0.33998104358485626,
        0.33998104358485626,
        -0.8611363115940526,
        0.8611363115940526
      ],
      [
        0,
        -0.5384693101056831,
        0.5384693101056831,
        -0.906179845938664,
        0.906179845938664
      ],
      [
        0.6612093864662645,
        -0.6612093864662645,
        -0.2386191860831969,
        0.2386191860831969,
        -0.932469514203152,
        0.932469514203152
      ],
      [
        0,
        0.4058451513773972,
        -0.4058451513773972,
        -0.7415311855993945,
        0.7415311855993945,
        -0.9491079123427585,
        0.9491079123427585
      ],
      [
        -0.1834346424956498,
        0.1834346424956498,
        -0.525532409916329,
        0.525532409916329,
        -0.7966664774136267,
        0.7966664774136267,
        -0.9602898564975363,
        0.9602898564975363
      ],
      [
        0,
        -0.8360311073266358,
        0.8360311073266358,
        -0.9681602395076261,
        0.9681602395076261,
        -0.3242534234038089,
        0.3242534234038089,
        -0.6133714327005904,
        0.6133714327005904
      ],
      [
        -0.14887433898163122,
        0.14887433898163122,
        -0.4333953941292472,
        0.4333953941292472,
        -0.6794095682990244,
        0.6794095682990244,
        -0.8650633666889845,
        0.8650633666889845,
        -0.9739065285171717,
        0.9739065285171717
      ],
      [
        0,
        -0.26954315595234496,
        0.26954315595234496,
        -0.5190961292068118,
        0.5190961292068118,
        -0.7301520055740494,
        0.7301520055740494,
        -0.8870625997680953,
        0.8870625997680953,
        -0.978228658146057,
        0.978228658146057
      ],
      [
        -0.1252334085114689,
        0.1252334085114689,
        -0.3678314989981802,
        0.3678314989981802,
        -0.5873179542866175,
        0.5873179542866175,
        -0.7699026741943047,
        0.7699026741943047,
        -0.9041172563704749,
        0.9041172563704749,
        -0.9815606342467192,
        0.9815606342467192
      ],
      [
        0,
        -0.2304583159551348,
        0.2304583159551348,
        -0.44849275103644687,
        0.44849275103644687,
        -0.6423493394403402,
        0.6423493394403402,
        -0.8015780907333099,
        0.8015780907333099,
        -0.9175983992229779,
        0.9175983992229779,
        -0.9841830547185881,
        0.9841830547185881
      ],
      [
        -0.10805494870734367,
        0.10805494870734367,
        -0.31911236892788974,
        0.31911236892788974,
        -0.5152486363581541,
        0.5152486363581541,
        -0.6872929048116855,
        0.6872929048116855,
        -0.827201315069765,
        0.827201315069765,
        -0.9284348836635735,
        0.9284348836635735,
        -0.9862838086968123,
        0.9862838086968123
      ],
      [
        0,
        -0.20119409399743451,
        0.20119409399743451,
        -0.3941513470775634,
        0.3941513470775634,
        -0.5709721726085388,
        0.5709721726085388,
        -0.7244177313601701,
        0.7244177313601701,
        -0.8482065834104272,
        0.8482065834104272,
        -0.937273392400706,
        0.937273392400706,
        -0.9879925180204854,
        0.9879925180204854
      ],
      [
        -0.09501250983763744,
        0.09501250983763744,
        -0.2816035507792589,
        0.2816035507792589,
        -0.45801677765722737,
        0.45801677765722737,
        -0.6178762444026438,
        0.6178762444026438,
        -0.755404408355003,
        0.755404408355003,
        -0.8656312023878318,
        0.8656312023878318,
        -0.9445750230732326,
        0.9445750230732326,
        -0.9894009349916499,
        0.9894009349916499
      ],
      [
        0,
        -0.17848418149584785,
        0.17848418149584785,
        -0.3512317634538763,
        0.3512317634538763,
        -0.5126905370864769,
        0.5126905370864769,
        -0.6576711592166907,
        0.6576711592166907,
        -0.7815140038968014,
        0.7815140038968014,
        -0.8802391537269859,
        0.8802391537269859,
        -0.9506755217687678,
        0.9506755217687678,
        -0.9905754753144174,
        0.9905754753144174
      ],
      [
        -0.0847750130417353,
        0.0847750130417353,
        -0.2518862256915055,
        0.2518862256915055,
        -0.41175116146284263,
        0.41175116146284263,
        -0.5597708310739475,
        0.5597708310739475,
        -0.6916870430603532,
        0.6916870430603532,
        -0.8037049589725231,
        0.8037049589725231,
        -0.8926024664975557,
        0.8926024664975557,
        -0.9558239495713977,
        0.9558239495713977,
        -0.9915651684209309,
        0.9915651684209309
      ],
      [
        0,
        -0.16035864564022537,
        0.16035864564022537,
        -0.31656409996362983,
        0.31656409996362983,
        -0.46457074137596094,
        0.46457074137596094,
        -0.600545304661681,
        0.600545304661681,
        -0.7209661773352294,
        0.7209661773352294,
        -0.8227146565371428,
        0.8227146565371428,
        -0.9031559036148179,
        0.9031559036148179,
        -0.96020815213483,
        0.96020815213483,
        -0.9924068438435844,
        0.9924068438435844
      ],
      [
        -0.07652652113349734,
        0.07652652113349734,
        -0.22778585114164507,
        0.22778585114164507,
        -0.37370608871541955,
        0.37370608871541955,
        -0.5108670019508271,
        0.5108670019508271,
        -0.636053680726515,
        0.636053680726515,
        -0.7463319064601508,
        0.7463319064601508,
        -0.8391169718222188,
        0.8391169718222188,
        -0.912234428251326,
        0.912234428251326,
        -0.9639719272779138,
        0.9639719272779138,
        -0.9931285991850949,
        0.9931285991850949
      ],
      [
        0,
        -0.1455618541608951,
        0.1455618541608951,
        -0.2880213168024011,
        0.2880213168024011,
        -0.4243421202074388,
        0.4243421202074388,
        -0.5516188358872198,
        0.5516188358872198,
        -0.6671388041974123,
        0.6671388041974123,
        -0.7684399634756779,
        0.7684399634756779,
        -0.8533633645833173,
        0.8533633645833173,
        -0.9200993341504008,
        0.9200993341504008,
        -0.9672268385663063,
        0.9672268385663063,
        -0.9937521706203895,
        0.9937521706203895
      ],
      [
        -0.06973927331972223,
        0.06973927331972223,
        -0.20786042668822127,
        0.20786042668822127,
        -0.34193582089208424,
        0.34193582089208424,
        -0.469355837986757,
        0.469355837986757,
        -0.5876404035069116,
        0.5876404035069116,
        -0.6944872631866827,
        0.6944872631866827,
        -0.7878168059792081,
        0.7878168059792081,
        -0.8658125777203002,
        0.8658125777203002,
        -0.926956772187174,
        0.926956772187174,
        -0.9700604978354287,
        0.9700604978354287,
        -0.9942945854823992,
        0.9942945854823992
      ],
      [
        0,
        -0.1332568242984661,
        0.1332568242984661,
        -0.26413568097034495,
        0.26413568097034495,
        -0.3903010380302908,
        0.3903010380302908,
        -0.5095014778460075,
        0.5095014778460075,
        -0.6196098757636461,
        0.6196098757636461,
        -0.7186613631319502,
        0.7186613631319502,
        -0.8048884016188399,
        0.8048884016188399,
        -0.8767523582704416,
        0.8767523582704416,
        -0.9329710868260161,
        0.9329710868260161,
        -0.9725424712181152,
        0.9725424712181152,
        -0.9947693349975522,
        0.9947693349975522
      ],
      [
        -0.06405689286260563,
        0.06405689286260563,
        -0.1911188674736163,
        0.1911188674736163,
        -0.3150426796961634,
        0.3150426796961634,
        -0.4337935076260451,
        0.4337935076260451,
        -0.5454214713888396,
        0.5454214713888396,
        -0.6480936519369755,
        0.6480936519369755,
        -0.7401241915785544,
        0.7401241915785544,
        -0.820001985973903,
        0.820001985973903,
        -0.8864155270044011,
        0.8864155270044011,
        -0.9382745520027328,
        0.9382745520027328,
        -0.9747285559713095,
        0.9747285559713095,
        -0.9951872199970213,
        0.9951872199970213
      ]
    ];
    exports.cValues = [
      [],
      [],
      [1, 1],
      [
        0.8888888888888888,
        0.5555555555555556,
        0.5555555555555556
      ],
      [
        0.6521451548625461,
        0.6521451548625461,
        0.34785484513745385,
        0.34785484513745385
      ],
      [
        0.5688888888888889,
        0.47862867049936647,
        0.47862867049936647,
        0.23692688505618908,
        0.23692688505618908
      ],
      [
        0.3607615730481386,
        0.3607615730481386,
        0.46791393457269104,
        0.46791393457269104,
        0.17132449237917036,
        0.17132449237917036
      ],
      [
        0.4179591836734694,
        0.3818300505051189,
        0.3818300505051189,
        0.27970539148927664,
        0.27970539148927664,
        0.1294849661688697,
        0.1294849661688697
      ],
      [
        0.362683783378362,
        0.362683783378362,
        0.31370664587788727,
        0.31370664587788727,
        0.22238103445337448,
        0.22238103445337448,
        0.10122853629037626,
        0.10122853629037626
      ],
      [
        0.3302393550012598,
        0.1806481606948574,
        0.1806481606948574,
        0.08127438836157441,
        0.08127438836157441,
        0.31234707704000286,
        0.31234707704000286,
        0.26061069640293544,
        0.26061069640293544
      ],
      [
        0.29552422471475287,
        0.29552422471475287,
        0.26926671930999635,
        0.26926671930999635,
        0.21908636251598204,
        0.21908636251598204,
        0.1494513491505806,
        0.1494513491505806,
        0.06667134430868814,
        0.06667134430868814
      ],
      [
        0.2729250867779006,
        0.26280454451024665,
        0.26280454451024665,
        0.23319376459199048,
        0.23319376459199048,
        0.18629021092773426,
        0.18629021092773426,
        0.1255803694649046,
        0.1255803694649046,
        0.05566856711617366,
        0.05566856711617366
      ],
      [
        0.24914704581340277,
        0.24914704581340277,
        0.2334925365383548,
        0.2334925365383548,
        0.20316742672306592,
        0.20316742672306592,
        0.16007832854334622,
        0.16007832854334622,
        0.10693932599531843,
        0.10693932599531843,
        0.04717533638651183,
        0.04717533638651183
      ],
      [
        0.2325515532308739,
        0.22628318026289723,
        0.22628318026289723,
        0.2078160475368885,
        0.2078160475368885,
        0.17814598076194574,
        0.17814598076194574,
        0.13887351021978725,
        0.13887351021978725,
        0.09212149983772845,
        0.09212149983772845,
        0.04048400476531588,
        0.04048400476531588
      ],
      [
        0.2152638534631578,
        0.2152638534631578,
        0.2051984637212956,
        0.2051984637212956,
        0.18553839747793782,
        0.18553839747793782,
        0.15720316715819355,
        0.15720316715819355,
        0.12151857068790319,
        0.12151857068790319,
        0.08015808715976021,
        0.08015808715976021,
        0.03511946033175186,
        0.03511946033175186
      ],
      [
        0.2025782419255613,
        0.19843148532711158,
        0.19843148532711158,
        0.1861610000155622,
        0.1861610000155622,
        0.16626920581699392,
        0.16626920581699392,
        0.13957067792615432,
        0.13957067792615432,
        0.10715922046717194,
        0.10715922046717194,
        0.07036604748810812,
        0.07036604748810812,
        0.03075324199611727,
        0.03075324199611727
      ],
      [
        0.1894506104550685,
        0.1894506104550685,
        0.18260341504492358,
        0.18260341504492358,
        0.16915651939500254,
        0.16915651939500254,
        0.14959598881657674,
        0.14959598881657674,
        0.12462897125553388,
        0.12462897125553388,
        0.09515851168249279,
        0.09515851168249279,
        0.062253523938647894,
        0.062253523938647894,
        0.027152459411754096,
        0.027152459411754096
      ],
      [
        0.17944647035620653,
        0.17656270536699264,
        0.17656270536699264,
        0.16800410215645004,
        0.16800410215645004,
        0.15404576107681028,
        0.15404576107681028,
        0.13513636846852548,
        0.13513636846852548,
        0.11188384719340397,
        0.11188384719340397,
        0.08503614831717918,
        0.08503614831717918,
        0.0554595293739872,
        0.0554595293739872,
        0.02414830286854793,
        0.02414830286854793
      ],
      [
        0.1691423829631436,
        0.1691423829631436,
        0.16427648374583273,
        0.16427648374583273,
        0.15468467512626524,
        0.15468467512626524,
        0.14064291467065065,
        0.14064291467065065,
        0.12255520671147846,
        0.12255520671147846,
        0.10094204410628717,
        0.10094204410628717,
        0.07642573025488905,
        0.07642573025488905,
        0.0497145488949698,
        0.0497145488949698,
        0.02161601352648331,
        0.02161601352648331
      ],
      [
        0.1610544498487837,
        0.15896884339395434,
        0.15896884339395434,
        0.15276604206585967,
        0.15276604206585967,
        0.1426067021736066,
        0.1426067021736066,
        0.12875396253933621,
        0.12875396253933621,
        0.11156664554733399,
        0.11156664554733399,
        0.09149002162245,
        0.09149002162245,
        0.06904454273764123,
        0.06904454273764123,
        0.0448142267656996,
        0.0448142267656996,
        0.019461788229726478,
        0.019461788229726478
      ],
      [
        0.15275338713072584,
        0.15275338713072584,
        0.14917298647260374,
        0.14917298647260374,
        0.14209610931838204,
        0.14209610931838204,
        0.13168863844917664,
        0.13168863844917664,
        0.11819453196151841,
        0.11819453196151841,
        0.10193011981724044,
        0.10193011981724044,
        0.08327674157670475,
        0.08327674157670475,
        0.06267204833410907,
        0.06267204833410907,
        0.04060142980038694,
        0.04060142980038694,
        0.017614007139152118,
        0.017614007139152118
      ],
      [
        0.14608113364969041,
        0.14452440398997005,
        0.14452440398997005,
        0.13988739479107315,
        0.13988739479107315,
        0.13226893863333747,
        0.13226893863333747,
        0.12183141605372853,
        0.12183141605372853,
        0.10879729916714838,
        0.10879729916714838,
        0.09344442345603386,
        0.09344442345603386,
        0.0761001136283793,
        0.0761001136283793,
        0.057134425426857205,
        0.057134425426857205,
        0.036953789770852494,
        0.036953789770852494,
        0.016017228257774335,
        0.016017228257774335
      ],
      [
        0.13925187285563198,
        0.13925187285563198,
        0.13654149834601517,
        0.13654149834601517,
        0.13117350478706238,
        0.13117350478706238,
        0.12325237681051242,
        0.12325237681051242,
        0.11293229608053922,
        0.11293229608053922,
        0.10041414444288096,
        0.10041414444288096,
        0.08594160621706773,
        0.08594160621706773,
        0.06979646842452049,
        0.06979646842452049,
        0.052293335152683286,
        0.052293335152683286,
        0.03377490158481415,
        0.03377490158481415,
        0.0146279952982722,
        0.0146279952982722
      ],
      [
        0.13365457218610619,
        0.1324620394046966,
        0.1324620394046966,
        0.12890572218808216,
        0.12890572218808216,
        0.12304908430672953,
        0.12304908430672953,
        0.11499664022241136,
        0.11499664022241136,
        0.10489209146454141,
        0.10489209146454141,
        0.09291576606003515,
        0.09291576606003515,
        0.07928141177671895,
        0.07928141177671895,
        0.06423242140852585,
        0.06423242140852585,
        0.04803767173108467,
        0.04803767173108467,
        0.030988005856979445,
        0.030988005856979445,
        0.013411859487141771,
        0.013411859487141771
      ],
      [
        0.12793819534675216,
        0.12793819534675216,
        0.1258374563468283,
        0.1258374563468283,
        0.12167047292780339,
        0.12167047292780339,
        0.1155056680537256,
        0.1155056680537256,
        0.10744427011596563,
        0.10744427011596563,
        0.09761865210411388,
        0.09761865210411388,
        0.08619016153195327,
        0.08619016153195327,
        0.0733464814110803,
        0.0733464814110803,
        0.05929858491543678,
        0.05929858491543678,
        0.04427743881741981,
        0.04427743881741981,
        0.028531388628933663,
        0.028531388628933663,
        0.0123412297999872,
        0.0123412297999872
      ]
    ];
    exports.binomialCoefficients = [[1], [1, 1], [1, 2, 1], [1, 3, 3, 1]];
    var getCubicArcLength = (xs, ys, t) => {
      let z;
      let sum;
      let correctedT;
      const n = 20;
      z = t / 2;
      sum = 0;
      for (let i = 0; i < n; i++) {
        correctedT = z * exports.tValues[n][i] + z;
        sum += exports.cValues[n][i] * BFunc(xs, ys, correctedT);
      }
      return z * sum;
    };
    exports.getCubicArcLength = getCubicArcLength;
    var getQuadraticArcLength = (xs, ys, t) => {
      if (t === void 0) {
        t = 1;
      }
      const ax = xs[0] - 2 * xs[1] + xs[2];
      const ay = ys[0] - 2 * ys[1] + ys[2];
      const bx = 2 * xs[1] - 2 * xs[0];
      const by = 2 * ys[1] - 2 * ys[0];
      const A = 4 * (ax * ax + ay * ay);
      const B = 4 * (ax * bx + ay * by);
      const C = bx * bx + by * by;
      if (A === 0) {
        return t * Math.sqrt(Math.pow(xs[2] - xs[0], 2) + Math.pow(ys[2] - ys[0], 2));
      }
      const b = B / (2 * A);
      const c = C / A;
      const u = t + b;
      const k = c - b * b;
      const uuk = u * u + k > 0 ? Math.sqrt(u * u + k) : 0;
      const bbk = b * b + k > 0 ? Math.sqrt(b * b + k) : 0;
      const term = b + Math.sqrt(b * b + k) !== 0 ? k * Math.log(Math.abs((u + uuk) / (b + bbk))) : 0;
      return Math.sqrt(A) / 2 * (u * uuk - b * bbk + term);
    };
    exports.getQuadraticArcLength = getQuadraticArcLength;
    function BFunc(xs, ys, t) {
      const xbase = getDerivative(1, t, xs);
      const ybase = getDerivative(1, t, ys);
      const combined = xbase * xbase + ybase * ybase;
      return Math.sqrt(combined);
    }
    var getDerivative = (derivative, t, vs) => {
      const n = vs.length - 1;
      let _vs;
      let value;
      if (n === 0) {
        return 0;
      }
      if (derivative === 0) {
        value = 0;
        for (let k = 0; k <= n; k++) {
          value += exports.binomialCoefficients[n][k] * Math.pow(1 - t, n - k) * Math.pow(t, k) * vs[k];
        }
        return value;
      } else {
        _vs = new Array(n);
        for (let k = 0; k < n; k++) {
          _vs[k] = n * (vs[k + 1] - vs[k]);
        }
        return getDerivative(derivative - 1, t, _vs);
      }
    };
    var t2length = (length, totalLength, func) => {
      let error = 1;
      let t = length / totalLength;
      let step = (length - func(t)) / totalLength;
      let numIterations = 0;
      while (error > 1e-3) {
        const increasedTLength = func(t + step);
        const increasedTError = Math.abs(length - increasedTLength) / totalLength;
        if (increasedTError < error) {
          error = increasedTError;
          t += step;
        } else {
          const decreasedTLength = func(t - step);
          const decreasedTError = Math.abs(length - decreasedTLength) / totalLength;
          if (decreasedTError < error) {
            error = decreasedTError;
            t -= step;
          } else {
            step /= 2;
          }
        }
        numIterations++;
        if (numIterations > 500) {
          break;
        }
      }
      return t;
    };
    exports.t2length = t2length;
  }
});

// node_modules/konva/lib/shapes/Path.js
var require_Path = __commonJS({
  "node_modules/konva/lib/shapes/Path.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Path = void 0;
    var Factory_1 = require_Factory();
    var Shape_1 = require_Shape();
    var Global_1 = require_Global();
    var BezierFunctions_1 = require_BezierFunctions();
    var Path = class extends Shape_1.Shape {
      constructor(config) {
        super(config);
        this.dataArray = [];
        this.pathLength = 0;
        this._readDataAttribute();
        this.on("dataChange.konva", function() {
          this._readDataAttribute();
        });
      }
      _readDataAttribute() {
        this.dataArray = Path.parsePathData(this.data());
        this.pathLength = Path.getPathLength(this.dataArray);
      }
      _sceneFunc(context) {
        var ca = this.dataArray;
        context.beginPath();
        var isClosed = false;
        for (var n = 0; n < ca.length; n++) {
          var c = ca[n].command;
          var p = ca[n].points;
          switch (c) {
            case "L":
              context.lineTo(p[0], p[1]);
              break;
            case "M":
              context.moveTo(p[0], p[1]);
              break;
            case "C":
              context.bezierCurveTo(p[0], p[1], p[2], p[3], p[4], p[5]);
              break;
            case "Q":
              context.quadraticCurveTo(p[0], p[1], p[2], p[3]);
              break;
            case "A":
              var cx = p[0], cy = p[1], rx = p[2], ry = p[3], theta = p[4], dTheta = p[5], psi = p[6], fs = p[7];
              var r = rx > ry ? rx : ry;
              var scaleX = rx > ry ? 1 : rx / ry;
              var scaleY = rx > ry ? ry / rx : 1;
              context.translate(cx, cy);
              context.rotate(psi);
              context.scale(scaleX, scaleY);
              context.arc(0, 0, r, theta, theta + dTheta, 1 - fs);
              context.scale(1 / scaleX, 1 / scaleY);
              context.rotate(-psi);
              context.translate(-cx, -cy);
              break;
            case "z":
              isClosed = true;
              context.closePath();
              break;
          }
        }
        if (!isClosed && !this.hasFill()) {
          context.strokeShape(this);
        } else {
          context.fillStrokeShape(this);
        }
      }
      getSelfRect() {
        var points = [];
        this.dataArray.forEach(function(data) {
          if (data.command === "A") {
            var start = data.points[4];
            var dTheta = data.points[5];
            var end = data.points[4] + dTheta;
            var inc = Math.PI / 180;
            if (Math.abs(start - end) < inc) {
              inc = Math.abs(start - end);
            }
            if (dTheta < 0) {
              for (let t = start - inc; t > end; t -= inc) {
                const point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], t, 0);
                points.push(point.x, point.y);
              }
            } else {
              for (let t = start + inc; t < end; t += inc) {
                const point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], t, 0);
                points.push(point.x, point.y);
              }
            }
          } else if (data.command === "C") {
            for (let t = 0; t <= 1; t += 0.01) {
              const point = Path.getPointOnCubicBezier(t, data.start.x, data.start.y, data.points[0], data.points[1], data.points[2], data.points[3], data.points[4], data.points[5]);
              points.push(point.x, point.y);
            }
          } else {
            points = points.concat(data.points);
          }
        });
        var minX = points[0];
        var maxX = points[0];
        var minY = points[1];
        var maxY = points[1];
        var x, y;
        for (var i = 0; i < points.length / 2; i++) {
          x = points[i * 2];
          y = points[i * 2 + 1];
          if (!isNaN(x)) {
            minX = Math.min(minX, x);
            maxX = Math.max(maxX, x);
          }
          if (!isNaN(y)) {
            minY = Math.min(minY, y);
            maxY = Math.max(maxY, y);
          }
        }
        return {
          x: minX,
          y: minY,
          width: maxX - minX,
          height: maxY - minY
        };
      }
      getLength() {
        return this.pathLength;
      }
      getPointAtLength(length) {
        return Path.getPointAtLengthOfDataArray(length, this.dataArray);
      }
      static getLineLength(x1, y1, x2, y2) {
        return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));
      }
      static getPathLength(dataArray) {
        let pathLength = 0;
        for (var i = 0; i < dataArray.length; ++i) {
          pathLength += dataArray[i].pathLength;
        }
        return pathLength;
      }
      static getPointAtLengthOfDataArray(length, dataArray) {
        var point, i = 0, ii = dataArray.length;
        if (!ii) {
          return null;
        }
        while (i < ii && length > dataArray[i].pathLength) {
          length -= dataArray[i].pathLength;
          ++i;
        }
        if (i === ii) {
          point = dataArray[i - 1].points.slice(-2);
          return {
            x: point[0],
            y: point[1]
          };
        }
        if (length < 0.01) {
          point = dataArray[i].points.slice(0, 2);
          return {
            x: point[0],
            y: point[1]
          };
        }
        var cp = dataArray[i];
        var p = cp.points;
        switch (cp.command) {
          case "L":
            return Path.getPointOnLine(length, cp.start.x, cp.start.y, p[0], p[1]);
          case "C":
            return Path.getPointOnCubicBezier((0, BezierFunctions_1.t2length)(length, Path.getPathLength(dataArray), (i2) => {
              return (0, BezierFunctions_1.getCubicArcLength)([cp.start.x, p[0], p[2], p[4]], [cp.start.y, p[1], p[3], p[5]], i2);
            }), cp.start.x, cp.start.y, p[0], p[1], p[2], p[3], p[4], p[5]);
          case "Q":
            return Path.getPointOnQuadraticBezier((0, BezierFunctions_1.t2length)(length, Path.getPathLength(dataArray), (i2) => {
              return (0, BezierFunctions_1.getQuadraticArcLength)([cp.start.x, p[0], p[2]], [cp.start.y, p[1], p[3]], i2);
            }), cp.start.x, cp.start.y, p[0], p[1], p[2], p[3]);
          case "A":
            var cx = p[0], cy = p[1], rx = p[2], ry = p[3], theta = p[4], dTheta = p[5], psi = p[6];
            theta += dTheta * length / cp.pathLength;
            return Path.getPointOnEllipticalArc(cx, cy, rx, ry, theta, psi);
        }
        return null;
      }
      static getPointOnLine(dist, P1x, P1y, P2x, P2y, fromX, fromY) {
        if (fromX === void 0) {
          fromX = P1x;
        }
        if (fromY === void 0) {
          fromY = P1y;
        }
        var m = (P2y - P1y) / (P2x - P1x + 1e-8);
        var run2 = Math.sqrt(dist * dist / (1 + m * m));
        if (P2x < P1x) {
          run2 *= -1;
        }
        var rise = m * run2;
        var pt;
        if (P2x === P1x) {
          pt = {
            x: fromX,
            y: fromY + rise
          };
        } else if ((fromY - P1y) / (fromX - P1x + 1e-8) === m) {
          pt = {
            x: fromX + run2,
            y: fromY + rise
          };
        } else {
          var ix, iy;
          var len = this.getLineLength(P1x, P1y, P2x, P2y);
          var u = (fromX - P1x) * (P2x - P1x) + (fromY - P1y) * (P2y - P1y);
          u = u / (len * len);
          ix = P1x + u * (P2x - P1x);
          iy = P1y + u * (P2y - P1y);
          var pRise = this.getLineLength(fromX, fromY, ix, iy);
          var pRun = Math.sqrt(dist * dist - pRise * pRise);
          run2 = Math.sqrt(pRun * pRun / (1 + m * m));
          if (P2x < P1x) {
            run2 *= -1;
          }
          rise = m * run2;
          pt = {
            x: ix + run2,
            y: iy + rise
          };
        }
        return pt;
      }
      static getPointOnCubicBezier(pct, P1x, P1y, P2x, P2y, P3x, P3y, P4x, P4y) {
        function CB1(t) {
          return t * t * t;
        }
        function CB2(t) {
          return 3 * t * t * (1 - t);
        }
        function CB3(t) {
          return 3 * t * (1 - t) * (1 - t);
        }
        function CB4(t) {
          return (1 - t) * (1 - t) * (1 - t);
        }
        var x = P4x * CB1(pct) + P3x * CB2(pct) + P2x * CB3(pct) + P1x * CB4(pct);
        var y = P4y * CB1(pct) + P3y * CB2(pct) + P2y * CB3(pct) + P1y * CB4(pct);
        return {
          x,
          y
        };
      }
      static getPointOnQuadraticBezier(pct, P1x, P1y, P2x, P2y, P3x, P3y) {
        function QB1(t) {
          return t * t;
        }
        function QB2(t) {
          return 2 * t * (1 - t);
        }
        function QB3(t) {
          return (1 - t) * (1 - t);
        }
        var x = P3x * QB1(pct) + P2x * QB2(pct) + P1x * QB3(pct);
        var y = P3y * QB1(pct) + P2y * QB2(pct) + P1y * QB3(pct);
        return {
          x,
          y
        };
      }
      static getPointOnEllipticalArc(cx, cy, rx, ry, theta, psi) {
        var cosPsi = Math.cos(psi), sinPsi = Math.sin(psi);
        var pt = {
          x: rx * Math.cos(theta),
          y: ry * Math.sin(theta)
        };
        return {
          x: cx + (pt.x * cosPsi - pt.y * sinPsi),
          y: cy + (pt.x * sinPsi + pt.y * cosPsi)
        };
      }
      static parsePathData(data) {
        if (!data) {
          return [];
        }
        var cs = data;
        var cc = [
          "m",
          "M",
          "l",
          "L",
          "v",
          "V",
          "h",
          "H",
          "z",
          "Z",
          "c",
          "C",
          "q",
          "Q",
          "t",
          "T",
          "s",
          "S",
          "a",
          "A"
        ];
        cs = cs.replace(new RegExp(" ", "g"), ",");
        for (var n = 0; n < cc.length; n++) {
          cs = cs.replace(new RegExp(cc[n], "g"), "|" + cc[n]);
        }
        var arr = cs.split("|");
        var ca = [];
        var coords = [];
        var cpx = 0;
        var cpy = 0;
        var re = /([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;
        var match;
        for (n = 1; n < arr.length; n++) {
          var str = arr[n];
          var c = str.charAt(0);
          str = str.slice(1);
          coords.length = 0;
          while (match = re.exec(str)) {
            coords.push(match[0]);
          }
          var p = [];
          for (var j = 0, jlen = coords.length; j < jlen; j++) {
            if (coords[j] === "00") {
              p.push(0, 0);
              continue;
            }
            var parsed = parseFloat(coords[j]);
            if (!isNaN(parsed)) {
              p.push(parsed);
            } else {
              p.push(0);
            }
          }
          while (p.length > 0) {
            if (isNaN(p[0])) {
              break;
            }
            var cmd = "";
            var points = [];
            var startX = cpx, startY = cpy;
            var prevCmd, ctlPtx, ctlPty;
            var rx, ry, psi, fa, fs, x1, y1;
            switch (c) {
              case "l":
                cpx += p.shift();
                cpy += p.shift();
                cmd = "L";
                points.push(cpx, cpy);
                break;
              case "L":
                cpx = p.shift();
                cpy = p.shift();
                points.push(cpx, cpy);
                break;
              case "m":
                var dx = p.shift();
                var dy = p.shift();
                cpx += dx;
                cpy += dy;
                cmd = "M";
                if (ca.length > 2 && ca[ca.length - 1].command === "z") {
                  for (var idx = ca.length - 2; idx >= 0; idx--) {
                    if (ca[idx].command === "M") {
                      cpx = ca[idx].points[0] + dx;
                      cpy = ca[idx].points[1] + dy;
                      break;
                    }
                  }
                }
                points.push(cpx, cpy);
                c = "l";
                break;
              case "M":
                cpx = p.shift();
                cpy = p.shift();
                cmd = "M";
                points.push(cpx, cpy);
                c = "L";
                break;
              case "h":
                cpx += p.shift();
                cmd = "L";
                points.push(cpx, cpy);
                break;
              case "H":
                cpx = p.shift();
                cmd = "L";
                points.push(cpx, cpy);
                break;
              case "v":
                cpy += p.shift();
                cmd = "L";
                points.push(cpx, cpy);
                break;
              case "V":
                cpy = p.shift();
                cmd = "L";
                points.push(cpx, cpy);
                break;
              case "C":
                points.push(p.shift(), p.shift(), p.shift(), p.shift());
                cpx = p.shift();
                cpy = p.shift();
                points.push(cpx, cpy);
                break;
              case "c":
                points.push(cpx + p.shift(), cpy + p.shift(), cpx + p.shift(), cpy + p.shift());
                cpx += p.shift();
                cpy += p.shift();
                cmd = "C";
                points.push(cpx, cpy);
                break;
              case "S":
                ctlPtx = cpx;
                ctlPty = cpy;
                prevCmd = ca[ca.length - 1];
                if (prevCmd.command === "C") {
                  ctlPtx = cpx + (cpx - prevCmd.points[2]);
                  ctlPty = cpy + (cpy - prevCmd.points[3]);
                }
                points.push(ctlPtx, ctlPty, p.shift(), p.shift());
                cpx = p.shift();
                cpy = p.shift();
                cmd = "C";
                points.push(cpx, cpy);
                break;
              case "s":
                ctlPtx = cpx;
                ctlPty = cpy;
                prevCmd = ca[ca.length - 1];
                if (prevCmd.command === "C") {
                  ctlPtx = cpx + (cpx - prevCmd.points[2]);
                  ctlPty = cpy + (cpy - prevCmd.points[3]);
                }
                points.push(ctlPtx, ctlPty, cpx + p.shift(), cpy + p.shift());
                cpx += p.shift();
                cpy += p.shift();
                cmd = "C";
                points.push(cpx, cpy);
                break;
              case "Q":
                points.push(p.shift(), p.shift());
                cpx = p.shift();
                cpy = p.shift();
                points.push(cpx, cpy);
                break;
              case "q":
                points.push(cpx + p.shift(), cpy + p.shift());
                cpx += p.shift();
                cpy += p.shift();
                cmd = "Q";
                points.push(cpx, cpy);
                break;
              case "T":
                ctlPtx = cpx;
                ctlPty = cpy;
                prevCmd = ca[ca.length - 1];
                if (prevCmd.command === "Q") {
                  ctlPtx = cpx + (cpx - prevCmd.points[0]);
                  ctlPty = cpy + (cpy - prevCmd.points[1]);
                }
                cpx = p.shift();
                cpy = p.shift();
                cmd = "Q";
                points.push(ctlPtx, ctlPty, cpx, cpy);
                break;
              case "t":
                ctlPtx = cpx;
                ctlPty = cpy;
                prevCmd = ca[ca.length - 1];
                if (prevCmd.command === "Q") {
                  ctlPtx = cpx + (cpx - prevCmd.points[0]);
                  ctlPty = cpy + (cpy - prevCmd.points[1]);
                }
                cpx += p.shift();
                cpy += p.shift();
                cmd = "Q";
                points.push(ctlPtx, ctlPty, cpx, cpy);
                break;
              case "A":
                rx = p.shift();
                ry = p.shift();
                psi = p.shift();
                fa = p.shift();
                fs = p.shift();
                x1 = cpx;
                y1 = cpy;
                cpx = p.shift();
                cpy = p.shift();
                cmd = "A";
                points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);
                break;
              case "a":
                rx = p.shift();
                ry = p.shift();
                psi = p.shift();
                fa = p.shift();
                fs = p.shift();
                x1 = cpx;
                y1 = cpy;
                cpx += p.shift();
                cpy += p.shift();
                cmd = "A";
                points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);
                break;
            }
            ca.push({
              command: cmd || c,
              points,
              start: {
                x: startX,
                y: startY
              },
              pathLength: this.calcLength(startX, startY, cmd || c, points)
            });
          }
          if (c === "z" || c === "Z") {
            ca.push({
              command: "z",
              points: [],
              start: void 0,
              pathLength: 0
            });
          }
        }
        return ca;
      }
      static calcLength(x, y, cmd, points) {
        var len, p1, p2, t;
        var path = Path;
        switch (cmd) {
          case "L":
            return path.getLineLength(x, y, points[0], points[1]);
          case "C":
            return (0, BezierFunctions_1.getCubicArcLength)([x, points[0], points[2], points[4]], [y, points[1], points[3], points[5]], 1);
          case "Q":
            return (0, BezierFunctions_1.getQuadraticArcLength)([x, points[0], points[2]], [y, points[1], points[3]], 1);
          case "A":
            len = 0;
            var start = points[4];
            var dTheta = points[5];
            var end = points[4] + dTheta;
            var inc = Math.PI / 180;
            if (Math.abs(start - end) < inc) {
              inc = Math.abs(start - end);
            }
            p1 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], start, 0);
            if (dTheta < 0) {
              for (t = start - inc; t > end; t -= inc) {
                p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);
                len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);
                p1 = p2;
              }
            } else {
              for (t = start + inc; t < end; t += inc) {
                p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);
                len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);
                p1 = p2;
              }
            }
            p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], end, 0);
            len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);
            return len;
        }
        return 0;
      }
      static convertEndpointToCenterParameterization(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg) {
        var psi = psiDeg * (Math.PI / 180);
        var xp = Math.cos(psi) * (x1 - x2) / 2 + Math.sin(psi) * (y1 - y2) / 2;
        var yp = -1 * Math.sin(psi) * (x1 - x2) / 2 + Math.cos(psi) * (y1 - y2) / 2;
        var lambda = xp * xp / (rx * rx) + yp * yp / (ry * ry);
        if (lambda > 1) {
          rx *= Math.sqrt(lambda);
          ry *= Math.sqrt(lambda);
        }
        var f = Math.sqrt((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) / (rx * rx * (yp * yp) + ry * ry * (xp * xp)));
        if (fa === fs) {
          f *= -1;
        }
        if (isNaN(f)) {
          f = 0;
        }
        var cxp = f * rx * yp / ry;
        var cyp = f * -ry * xp / rx;
        var cx = (x1 + x2) / 2 + Math.cos(psi) * cxp - Math.sin(psi) * cyp;
        var cy = (y1 + y2) / 2 + Math.sin(psi) * cxp + Math.cos(psi) * cyp;
        var vMag = function(v2) {
          return Math.sqrt(v2[0] * v2[0] + v2[1] * v2[1]);
        };
        var vRatio = function(u2, v2) {
          return (u2[0] * v2[0] + u2[1] * v2[1]) / (vMag(u2) * vMag(v2));
        };
        var vAngle = function(u2, v2) {
          return (u2[0] * v2[1] < u2[1] * v2[0] ? -1 : 1) * Math.acos(vRatio(u2, v2));
        };
        var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);
        var u = [(xp - cxp) / rx, (yp - cyp) / ry];
        var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];
        var dTheta = vAngle(u, v);
        if (vRatio(u, v) <= -1) {
          dTheta = Math.PI;
        }
        if (vRatio(u, v) >= 1) {
          dTheta = 0;
        }
        if (fs === 0 && dTheta > 0) {
          dTheta = dTheta - 2 * Math.PI;
        }
        if (fs === 1 && dTheta < 0) {
          dTheta = dTheta + 2 * Math.PI;
        }
        return [cx, cy, rx, ry, theta, dTheta, psi, fs];
      }
    };
    exports.Path = Path;
    Path.prototype.className = "Path";
    Path.prototype._attrsAffectingSize = ["data"];
    (0, Global_1._registerNode)(Path);
    Factory_1.Factory.addGetterSetter(Path, "data");
  }
});

// node_modules/konva/lib/shapes/Arrow.js
var require_Arrow = __commonJS({
  "node_modules/konva/lib/shapes/Arrow.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Arrow = void 0;
    var Factory_1 = require_Factory();
    var Line_1 = require_Line();
    var Validators_1 = require_Validators();
    var Global_1 = require_Global();
    var Path_1 = require_Path();
    var Arrow = class extends Line_1.Line {
      _sceneFunc(ctx) {
        super._sceneFunc(ctx);
        var PI2 = Math.PI * 2;
        var points = this.points();
        var tp = points;
        var fromTension = this.tension() !== 0 && points.length > 4;
        if (fromTension) {
          tp = this.getTensionPoints();
        }
        var length = this.pointerLength();
        var n = points.length;
        var dx, dy;
        if (fromTension) {
          const lp = [
            tp[tp.length - 4],
            tp[tp.length - 3],
            tp[tp.length - 2],
            tp[tp.length - 1],
            points[n - 2],
            points[n - 1]
          ];
          const lastLength = Path_1.Path.calcLength(tp[tp.length - 4], tp[tp.length - 3], "C", lp);
          const previous = Path_1.Path.getPointOnQuadraticBezier(Math.min(1, 1 - length / lastLength), lp[0], lp[1], lp[2], lp[3], lp[4], lp[5]);
          dx = points[n - 2] - previous.x;
          dy = points[n - 1] - previous.y;
        } else {
          dx = points[n - 2] - points[n - 4];
          dy = points[n - 1] - points[n - 3];
        }
        var radians = (Math.atan2(dy, dx) + PI2) % PI2;
        var width = this.pointerWidth();
        if (this.pointerAtEnding()) {
          ctx.save();
          ctx.beginPath();
          ctx.translate(points[n - 2], points[n - 1]);
          ctx.rotate(radians);
          ctx.moveTo(0, 0);
          ctx.lineTo(-length, width / 2);
          ctx.lineTo(-length, -width / 2);
          ctx.closePath();
          ctx.restore();
          this.__fillStroke(ctx);
        }
        if (this.pointerAtBeginning()) {
          ctx.save();
          ctx.beginPath();
          ctx.translate(points[0], points[1]);
          if (fromTension) {
            dx = (tp[0] + tp[2]) / 2 - points[0];
            dy = (tp[1] + tp[3]) / 2 - points[1];
          } else {
            dx = points[2] - points[0];
            dy = points[3] - points[1];
          }
          ctx.rotate((Math.atan2(-dy, -dx) + PI2) % PI2);
          ctx.moveTo(0, 0);
          ctx.lineTo(-length, width / 2);
          ctx.lineTo(-length, -width / 2);
          ctx.closePath();
          ctx.restore();
          this.__fillStroke(ctx);
        }
      }
      __fillStroke(ctx) {
        var isDashEnabled = this.dashEnabled();
        if (isDashEnabled) {
          this.attrs.dashEnabled = false;
          ctx.setLineDash([]);
        }
        ctx.fillStrokeShape(this);
        if (isDashEnabled) {
          this.attrs.dashEnabled = true;
        }
      }
      getSelfRect() {
        const lineRect = super.getSelfRect();
        const offset = this.pointerWidth() / 2;
        return {
          x: lineRect.x - offset,
          y: lineRect.y - offset,
          width: lineRect.width + offset * 2,
          height: lineRect.height + offset * 2
        };
      }
    };
    exports.Arrow = Arrow;
    Arrow.prototype.className = "Arrow";
    (0, Global_1._registerNode)(Arrow);
    Factory_1.Factory.addGetterSetter(Arrow, "pointerLength", 10, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Arrow, "pointerWidth", 10, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Arrow, "pointerAtBeginning", false);
    Factory_1.Factory.addGetterSetter(Arrow, "pointerAtEnding", true);
  }
});

// node_modules/konva/lib/shapes/Circle.js
var require_Circle = __commonJS({
  "node_modules/konva/lib/shapes/Circle.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Circle = void 0;
    var Factory_1 = require_Factory();
    var Shape_1 = require_Shape();
    var Validators_1 = require_Validators();
    var Global_1 = require_Global();
    var Circle = class extends Shape_1.Shape {
      _sceneFunc(context) {
        context.beginPath();
        context.arc(0, 0, this.attrs.radius || 0, 0, Math.PI * 2, false);
        context.closePath();
        context.fillStrokeShape(this);
      }
      getWidth() {
        return this.radius() * 2;
      }
      getHeight() {
        return this.radius() * 2;
      }
      setWidth(width) {
        if (this.radius() !== width / 2) {
          this.radius(width / 2);
        }
      }
      setHeight(height) {
        if (this.radius() !== height / 2) {
          this.radius(height / 2);
        }
      }
    };
    exports.Circle = Circle;
    Circle.prototype._centroid = true;
    Circle.prototype.className = "Circle";
    Circle.prototype._attrsAffectingSize = ["radius"];
    (0, Global_1._registerNode)(Circle);
    Factory_1.Factory.addGetterSetter(Circle, "radius", 0, (0, Validators_1.getNumberValidator)());
  }
});

// node_modules/konva/lib/shapes/Ellipse.js
var require_Ellipse = __commonJS({
  "node_modules/konva/lib/shapes/Ellipse.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Ellipse = void 0;
    var Factory_1 = require_Factory();
    var Shape_1 = require_Shape();
    var Validators_1 = require_Validators();
    var Global_1 = require_Global();
    var Ellipse = class extends Shape_1.Shape {
      _sceneFunc(context) {
        var rx = this.radiusX(), ry = this.radiusY();
        context.beginPath();
        context.save();
        if (rx !== ry) {
          context.scale(1, ry / rx);
        }
        context.arc(0, 0, rx, 0, Math.PI * 2, false);
        context.restore();
        context.closePath();
        context.fillStrokeShape(this);
      }
      getWidth() {
        return this.radiusX() * 2;
      }
      getHeight() {
        return this.radiusY() * 2;
      }
      setWidth(width) {
        this.radiusX(width / 2);
      }
      setHeight(height) {
        this.radiusY(height / 2);
      }
    };
    exports.Ellipse = Ellipse;
    Ellipse.prototype.className = "Ellipse";
    Ellipse.prototype._centroid = true;
    Ellipse.prototype._attrsAffectingSize = ["radiusX", "radiusY"];
    (0, Global_1._registerNode)(Ellipse);
    Factory_1.Factory.addComponentsGetterSetter(Ellipse, "radius", ["x", "y"]);
    Factory_1.Factory.addGetterSetter(Ellipse, "radiusX", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Ellipse, "radiusY", 0, (0, Validators_1.getNumberValidator)());
  }
});

// node_modules/konva/lib/shapes/Image.js
var require_Image = __commonJS({
  "node_modules/konva/lib/shapes/Image.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Image = void 0;
    var Util_1 = require_Util();
    var Factory_1 = require_Factory();
    var Shape_1 = require_Shape();
    var Global_1 = require_Global();
    var Validators_1 = require_Validators();
    var Image = class extends Shape_1.Shape {
      constructor(attrs) {
        super(attrs);
        this.on("imageChange.konva", () => {
          this._setImageLoad();
        });
        this._setImageLoad();
      }
      _setImageLoad() {
        const image = this.image();
        if (image && image.complete) {
          return;
        }
        if (image && image.readyState === 4) {
          return;
        }
        if (image && image["addEventListener"]) {
          image["addEventListener"]("load", () => {
            this._requestDraw();
          });
        }
      }
      _useBufferCanvas() {
        return super._useBufferCanvas(true);
      }
      _sceneFunc(context) {
        const width = this.getWidth();
        const height = this.getHeight();
        const cornerRadius = this.cornerRadius();
        const image = this.attrs.image;
        let params;
        if (image) {
          const cropWidth = this.attrs.cropWidth;
          const cropHeight = this.attrs.cropHeight;
          if (cropWidth && cropHeight) {
            params = [
              image,
              this.cropX(),
              this.cropY(),
              cropWidth,
              cropHeight,
              0,
              0,
              width,
              height
            ];
          } else {
            params = [image, 0, 0, width, height];
          }
        }
        if (this.hasFill() || this.hasStroke() || cornerRadius) {
          context.beginPath();
          cornerRadius ? Util_1.Util.drawRoundedRectPath(context, width, height, cornerRadius) : context.rect(0, 0, width, height);
          context.closePath();
          context.fillStrokeShape(this);
        }
        if (image) {
          if (cornerRadius) {
            context.clip();
          }
          context.drawImage.apply(context, params);
        }
      }
      _hitFunc(context) {
        var width = this.width(), height = this.height(), cornerRadius = this.cornerRadius();
        context.beginPath();
        if (!cornerRadius) {
          context.rect(0, 0, width, height);
        } else {
          Util_1.Util.drawRoundedRectPath(context, width, height, cornerRadius);
        }
        context.closePath();
        context.fillStrokeShape(this);
      }
      getWidth() {
        var _a, _b;
        return (_a = this.attrs.width) !== null && _a !== void 0 ? _a : (_b = this.image()) === null || _b === void 0 ? void 0 : _b.width;
      }
      getHeight() {
        var _a, _b;
        return (_a = this.attrs.height) !== null && _a !== void 0 ? _a : (_b = this.image()) === null || _b === void 0 ? void 0 : _b.height;
      }
      static fromURL(url, callback, onError = null) {
        var img = Util_1.Util.createImageElement();
        img.onload = function() {
          var image = new Image({
            image: img
          });
          callback(image);
        };
        img.onerror = onError;
        img.crossOrigin = "Anonymous";
        img.src = url;
      }
    };
    exports.Image = Image;
    Image.prototype.className = "Image";
    (0, Global_1._registerNode)(Image);
    Factory_1.Factory.addGetterSetter(Image, "cornerRadius", 0, (0, Validators_1.getNumberOrArrayOfNumbersValidator)(4));
    Factory_1.Factory.addGetterSetter(Image, "image");
    Factory_1.Factory.addComponentsGetterSetter(Image, "crop", ["x", "y", "width", "height"]);
    Factory_1.Factory.addGetterSetter(Image, "cropX", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Image, "cropY", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Image, "cropWidth", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Image, "cropHeight", 0, (0, Validators_1.getNumberValidator)());
  }
});

// node_modules/konva/lib/shapes/Label.js
var require_Label = __commonJS({
  "node_modules/konva/lib/shapes/Label.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Tag = exports.Label = void 0;
    var Factory_1 = require_Factory();
    var Shape_1 = require_Shape();
    var Group_1 = require_Group();
    var Validators_1 = require_Validators();
    var Global_1 = require_Global();
    var ATTR_CHANGE_LIST = [
      "fontFamily",
      "fontSize",
      "fontStyle",
      "padding",
      "lineHeight",
      "text",
      "width",
      "height",
      "pointerDirection",
      "pointerWidth",
      "pointerHeight"
    ];
    var CHANGE_KONVA = "Change.konva";
    var NONE = "none";
    var UP = "up";
    var RIGHT = "right";
    var DOWN = "down";
    var LEFT = "left";
    var attrChangeListLen = ATTR_CHANGE_LIST.length;
    var Label = class extends Group_1.Group {
      constructor(config) {
        super(config);
        this.on("add.konva", function(evt) {
          this._addListeners(evt.child);
          this._sync();
        });
      }
      getText() {
        return this.find("Text")[0];
      }
      getTag() {
        return this.find("Tag")[0];
      }
      _addListeners(text2) {
        var that = this, n;
        var func = function() {
          that._sync();
        };
        for (n = 0; n < attrChangeListLen; n++) {
          text2.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, func);
        }
      }
      getWidth() {
        return this.getText().width();
      }
      getHeight() {
        return this.getText().height();
      }
      _sync() {
        var text2 = this.getText(), tag = this.getTag(), width, height, pointerDirection, pointerWidth, x, y, pointerHeight;
        if (text2 && tag) {
          width = text2.width();
          height = text2.height();
          pointerDirection = tag.pointerDirection();
          pointerWidth = tag.pointerWidth();
          pointerHeight = tag.pointerHeight();
          x = 0;
          y = 0;
          switch (pointerDirection) {
            case UP:
              x = width / 2;
              y = -1 * pointerHeight;
              break;
            case RIGHT:
              x = width + pointerWidth;
              y = height / 2;
              break;
            case DOWN:
              x = width / 2;
              y = height + pointerHeight;
              break;
            case LEFT:
              x = -1 * pointerWidth;
              y = height / 2;
              break;
          }
          tag.setAttrs({
            x: -1 * x,
            y: -1 * y,
            width,
            height
          });
          text2.setAttrs({
            x: -1 * x,
            y: -1 * y
          });
        }
      }
    };
    exports.Label = Label;
    Label.prototype.className = "Label";
    (0, Global_1._registerNode)(Label);
    var Tag = class extends Shape_1.Shape {
      _sceneFunc(context) {
        var width = this.width(), height = this.height(), pointerDirection = this.pointerDirection(), pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), cornerRadius = this.cornerRadius();
        let topLeft = 0;
        let topRight = 0;
        let bottomLeft = 0;
        let bottomRight = 0;
        if (typeof cornerRadius === "number") {
          topLeft = topRight = bottomLeft = bottomRight = Math.min(cornerRadius, width / 2, height / 2);
        } else {
          topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);
          topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);
          bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);
          bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);
        }
        context.beginPath();
        context.moveTo(topLeft, 0);
        if (pointerDirection === UP) {
          context.lineTo((width - pointerWidth) / 2, 0);
          context.lineTo(width / 2, -1 * pointerHeight);
          context.lineTo((width + pointerWidth) / 2, 0);
        }
        context.lineTo(width - topRight, 0);
        context.arc(width - topRight, topRight, topRight, Math.PI * 3 / 2, 0, false);
        if (pointerDirection === RIGHT) {
          context.lineTo(width, (height - pointerHeight) / 2);
          context.lineTo(width + pointerWidth, height / 2);
          context.lineTo(width, (height + pointerHeight) / 2);
        }
        context.lineTo(width, height - bottomRight);
        context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);
        if (pointerDirection === DOWN) {
          context.lineTo((width + pointerWidth) / 2, height);
          context.lineTo(width / 2, height + pointerHeight);
          context.lineTo((width - pointerWidth) / 2, height);
        }
        context.lineTo(bottomLeft, height);
        context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);
        if (pointerDirection === LEFT) {
          context.lineTo(0, (height + pointerHeight) / 2);
          context.lineTo(-1 * pointerWidth, height / 2);
          context.lineTo(0, (height - pointerHeight) / 2);
        }
        context.lineTo(0, topLeft);
        context.arc(topLeft, topLeft, topLeft, Math.PI, Math.PI * 3 / 2, false);
        context.closePath();
        context.fillStrokeShape(this);
      }
      getSelfRect() {
        var x = 0, y = 0, pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), direction = this.pointerDirection(), width = this.width(), height = this.height();
        if (direction === UP) {
          y -= pointerHeight;
          height += pointerHeight;
        } else if (direction === DOWN) {
          height += pointerHeight;
        } else if (direction === LEFT) {
          x -= pointerWidth * 1.5;
          width += pointerWidth;
        } else if (direction === RIGHT) {
          width += pointerWidth * 1.5;
        }
        return {
          x,
          y,
          width,
          height
        };
      }
    };
    exports.Tag = Tag;
    Tag.prototype.className = "Tag";
    (0, Global_1._registerNode)(Tag);
    Factory_1.Factory.addGetterSetter(Tag, "pointerDirection", NONE);
    Factory_1.Factory.addGetterSetter(Tag, "pointerWidth", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Tag, "pointerHeight", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Tag, "cornerRadius", 0, (0, Validators_1.getNumberOrArrayOfNumbersValidator)(4));
  }
});

// node_modules/konva/lib/shapes/Rect.js
var require_Rect = __commonJS({
  "node_modules/konva/lib/shapes/Rect.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Rect = void 0;
    var Factory_1 = require_Factory();
    var Shape_1 = require_Shape();
    var Global_1 = require_Global();
    var Util_1 = require_Util();
    var Validators_1 = require_Validators();
    var Rect = class extends Shape_1.Shape {
      _sceneFunc(context) {
        var cornerRadius = this.cornerRadius(), width = this.width(), height = this.height();
        context.beginPath();
        if (!cornerRadius) {
          context.rect(0, 0, width, height);
        } else {
          Util_1.Util.drawRoundedRectPath(context, width, height, cornerRadius);
        }
        context.closePath();
        context.fillStrokeShape(this);
      }
    };
    exports.Rect = Rect;
    Rect.prototype.className = "Rect";
    (0, Global_1._registerNode)(Rect);
    Factory_1.Factory.addGetterSetter(Rect, "cornerRadius", 0, (0, Validators_1.getNumberOrArrayOfNumbersValidator)(4));
  }
});

// node_modules/konva/lib/shapes/RegularPolygon.js
var require_RegularPolygon = __commonJS({
  "node_modules/konva/lib/shapes/RegularPolygon.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.RegularPolygon = void 0;
    var Factory_1 = require_Factory();
    var Shape_1 = require_Shape();
    var Validators_1 = require_Validators();
    var Global_1 = require_Global();
    var RegularPolygon = class extends Shape_1.Shape {
      _sceneFunc(context) {
        const points = this._getPoints();
        context.beginPath();
        context.moveTo(points[0].x, points[0].y);
        for (var n = 1; n < points.length; n++) {
          context.lineTo(points[n].x, points[n].y);
        }
        context.closePath();
        context.fillStrokeShape(this);
      }
      _getPoints() {
        const sides = this.attrs.sides;
        const radius = this.attrs.radius || 0;
        const points = [];
        for (var n = 0; n < sides; n++) {
          points.push({
            x: radius * Math.sin(n * 2 * Math.PI / sides),
            y: -1 * radius * Math.cos(n * 2 * Math.PI / sides)
          });
        }
        return points;
      }
      getSelfRect() {
        const points = this._getPoints();
        var minX = points[0].x;
        var maxX = points[0].y;
        var minY = points[0].x;
        var maxY = points[0].y;
        points.forEach((point) => {
          minX = Math.min(minX, point.x);
          maxX = Math.max(maxX, point.x);
          minY = Math.min(minY, point.y);
          maxY = Math.max(maxY, point.y);
        });
        return {
          x: minX,
          y: minY,
          width: maxX - minX,
          height: maxY - minY
        };
      }
      getWidth() {
        return this.radius() * 2;
      }
      getHeight() {
        return this.radius() * 2;
      }
      setWidth(width) {
        this.radius(width / 2);
      }
      setHeight(height) {
        this.radius(height / 2);
      }
    };
    exports.RegularPolygon = RegularPolygon;
    RegularPolygon.prototype.className = "RegularPolygon";
    RegularPolygon.prototype._centroid = true;
    RegularPolygon.prototype._attrsAffectingSize = ["radius"];
    (0, Global_1._registerNode)(RegularPolygon);
    Factory_1.Factory.addGetterSetter(RegularPolygon, "radius", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(RegularPolygon, "sides", 0, (0, Validators_1.getNumberValidator)());
  }
});

// node_modules/konva/lib/shapes/Ring.js
var require_Ring = __commonJS({
  "node_modules/konva/lib/shapes/Ring.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Ring = void 0;
    var Factory_1 = require_Factory();
    var Shape_1 = require_Shape();
    var Validators_1 = require_Validators();
    var Global_1 = require_Global();
    var PIx2 = Math.PI * 2;
    var Ring = class extends Shape_1.Shape {
      _sceneFunc(context) {
        context.beginPath();
        context.arc(0, 0, this.innerRadius(), 0, PIx2, false);
        context.moveTo(this.outerRadius(), 0);
        context.arc(0, 0, this.outerRadius(), PIx2, 0, true);
        context.closePath();
        context.fillStrokeShape(this);
      }
      getWidth() {
        return this.outerRadius() * 2;
      }
      getHeight() {
        return this.outerRadius() * 2;
      }
      setWidth(width) {
        this.outerRadius(width / 2);
      }
      setHeight(height) {
        this.outerRadius(height / 2);
      }
    };
    exports.Ring = Ring;
    Ring.prototype.className = "Ring";
    Ring.prototype._centroid = true;
    Ring.prototype._attrsAffectingSize = ["innerRadius", "outerRadius"];
    (0, Global_1._registerNode)(Ring);
    Factory_1.Factory.addGetterSetter(Ring, "innerRadius", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Ring, "outerRadius", 0, (0, Validators_1.getNumberValidator)());
  }
});

// node_modules/konva/lib/shapes/Sprite.js
var require_Sprite = __commonJS({
  "node_modules/konva/lib/shapes/Sprite.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Sprite = void 0;
    var Factory_1 = require_Factory();
    var Shape_1 = require_Shape();
    var Animation_1 = require_Animation();
    var Validators_1 = require_Validators();
    var Global_1 = require_Global();
    var Sprite = class extends Shape_1.Shape {
      constructor(config) {
        super(config);
        this._updated = true;
        this.anim = new Animation_1.Animation(() => {
          var updated = this._updated;
          this._updated = false;
          return updated;
        });
        this.on("animationChange.konva", function() {
          this.frameIndex(0);
        });
        this.on("frameIndexChange.konva", function() {
          this._updated = true;
        });
        this.on("frameRateChange.konva", function() {
          if (!this.anim.isRunning()) {
            return;
          }
          clearInterval(this.interval);
          this._setInterval();
        });
      }
      _sceneFunc(context) {
        var anim = this.animation(), index = this.frameIndex(), ix4 = index * 4, set = this.animations()[anim], offsets = this.frameOffsets(), x = set[ix4 + 0], y = set[ix4 + 1], width = set[ix4 + 2], height = set[ix4 + 3], image = this.image();
        if (this.hasFill() || this.hasStroke()) {
          context.beginPath();
          context.rect(0, 0, width, height);
          context.closePath();
          context.fillStrokeShape(this);
        }
        if (image) {
          if (offsets) {
            var offset = offsets[anim], ix2 = index * 2;
            context.drawImage(image, x, y, width, height, offset[ix2 + 0], offset[ix2 + 1], width, height);
          } else {
            context.drawImage(image, x, y, width, height, 0, 0, width, height);
          }
        }
      }
      _hitFunc(context) {
        var anim = this.animation(), index = this.frameIndex(), ix4 = index * 4, set = this.animations()[anim], offsets = this.frameOffsets(), width = set[ix4 + 2], height = set[ix4 + 3];
        context.beginPath();
        if (offsets) {
          var offset = offsets[anim];
          var ix2 = index * 2;
          context.rect(offset[ix2 + 0], offset[ix2 + 1], width, height);
        } else {
          context.rect(0, 0, width, height);
        }
        context.closePath();
        context.fillShape(this);
      }
      _useBufferCanvas() {
        return super._useBufferCanvas(true);
      }
      _setInterval() {
        var that = this;
        this.interval = setInterval(function() {
          that._updateIndex();
        }, 1e3 / this.frameRate());
      }
      start() {
        if (this.isRunning()) {
          return;
        }
        var layer = this.getLayer();
        this.anim.setLayers(layer);
        this._setInterval();
        this.anim.start();
      }
      stop() {
        this.anim.stop();
        clearInterval(this.interval);
      }
      isRunning() {
        return this.anim.isRunning();
      }
      _updateIndex() {
        var index = this.frameIndex(), animation = this.animation(), animations = this.animations(), anim = animations[animation], len = anim.length / 4;
        if (index < len - 1) {
          this.frameIndex(index + 1);
        } else {
          this.frameIndex(0);
        }
      }
    };
    exports.Sprite = Sprite;
    Sprite.prototype.className = "Sprite";
    (0, Global_1._registerNode)(Sprite);
    Factory_1.Factory.addGetterSetter(Sprite, "animation");
    Factory_1.Factory.addGetterSetter(Sprite, "animations");
    Factory_1.Factory.addGetterSetter(Sprite, "frameOffsets");
    Factory_1.Factory.addGetterSetter(Sprite, "image");
    Factory_1.Factory.addGetterSetter(Sprite, "frameIndex", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Sprite, "frameRate", 17, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.backCompat(Sprite, {
      index: "frameIndex",
      getIndex: "getFrameIndex",
      setIndex: "setFrameIndex"
    });
  }
});

// node_modules/konva/lib/shapes/Star.js
var require_Star = __commonJS({
  "node_modules/konva/lib/shapes/Star.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Star = void 0;
    var Factory_1 = require_Factory();
    var Shape_1 = require_Shape();
    var Validators_1 = require_Validators();
    var Global_1 = require_Global();
    var Star = class extends Shape_1.Shape {
      _sceneFunc(context) {
        var innerRadius = this.innerRadius(), outerRadius = this.outerRadius(), numPoints = this.numPoints();
        context.beginPath();
        context.moveTo(0, 0 - outerRadius);
        for (var n = 1; n < numPoints * 2; n++) {
          var radius = n % 2 === 0 ? outerRadius : innerRadius;
          var x = radius * Math.sin(n * Math.PI / numPoints);
          var y = -1 * radius * Math.cos(n * Math.PI / numPoints);
          context.lineTo(x, y);
        }
        context.closePath();
        context.fillStrokeShape(this);
      }
      getWidth() {
        return this.outerRadius() * 2;
      }
      getHeight() {
        return this.outerRadius() * 2;
      }
      setWidth(width) {
        this.outerRadius(width / 2);
      }
      setHeight(height) {
        this.outerRadius(height / 2);
      }
    };
    exports.Star = Star;
    Star.prototype.className = "Star";
    Star.prototype._centroid = true;
    Star.prototype._attrsAffectingSize = ["innerRadius", "outerRadius"];
    (0, Global_1._registerNode)(Star);
    Factory_1.Factory.addGetterSetter(Star, "numPoints", 5, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Star, "innerRadius", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Star, "outerRadius", 0, (0, Validators_1.getNumberValidator)());
  }
});

// node_modules/konva/lib/shapes/Text.js
var require_Text = __commonJS({
  "node_modules/konva/lib/shapes/Text.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Text = exports.stringToArray = void 0;
    var Util_1 = require_Util();
    var Factory_1 = require_Factory();
    var Shape_1 = require_Shape();
    var Validators_1 = require_Validators();
    var Global_1 = require_Global();
    function stringToArray(string) {
      return Array.from(string);
    }
    exports.stringToArray = stringToArray;
    var AUTO = "auto";
    var CENTER = "center";
    var INHERIT = "inherit";
    var JUSTIFY = "justify";
    var CHANGE_KONVA = "Change.konva";
    var CONTEXT_2D = "2d";
    var DASH = "-";
    var LEFT = "left";
    var TEXT = "text";
    var TEXT_UPPER = "Text";
    var TOP = "top";
    var BOTTOM = "bottom";
    var MIDDLE = "middle";
    var NORMAL = "normal";
    var PX_SPACE = "px ";
    var SPACE = " ";
    var RIGHT = "right";
    var RTL = "rtl";
    var WORD = "word";
    var CHAR = "char";
    var NONE = "none";
    var ELLIPSIS = "\u2026";
    var ATTR_CHANGE_LIST = [
      "direction",
      "fontFamily",
      "fontSize",
      "fontStyle",
      "fontVariant",
      "padding",
      "align",
      "verticalAlign",
      "lineHeight",
      "text",
      "width",
      "height",
      "wrap",
      "ellipsis",
      "letterSpacing"
    ];
    var attrChangeListLen = ATTR_CHANGE_LIST.length;
    function normalizeFontFamily(fontFamily) {
      return fontFamily.split(",").map((family) => {
        family = family.trim();
        const hasSpace = family.indexOf(" ") >= 0;
        const hasQuotes = family.indexOf('"') >= 0 || family.indexOf("'") >= 0;
        if (hasSpace && !hasQuotes) {
          family = `"${family}"`;
        }
        return family;
      }).join(", ");
    }
    var dummyContext;
    function getDummyContext() {
      if (dummyContext) {
        return dummyContext;
      }
      dummyContext = Util_1.Util.createCanvasElement().getContext(CONTEXT_2D);
      return dummyContext;
    }
    function _fillFunc(context) {
      context.fillText(this._partialText, this._partialTextX, this._partialTextY);
    }
    function _strokeFunc(context) {
      context.setAttr("miterLimit", 2);
      context.strokeText(this._partialText, this._partialTextX, this._partialTextY);
    }
    function checkDefaultFill(config) {
      config = config || {};
      if (!config.fillLinearGradientColorStops && !config.fillRadialGradientColorStops && !config.fillPatternImage) {
        config.fill = config.fill || "black";
      }
      return config;
    }
    var Text = class extends Shape_1.Shape {
      constructor(config) {
        super(checkDefaultFill(config));
        this._partialTextX = 0;
        this._partialTextY = 0;
        for (var n = 0; n < attrChangeListLen; n++) {
          this.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, this._setTextData);
        }
        this._setTextData();
      }
      _sceneFunc(context) {
        var textArr = this.textArr, textArrLen = textArr.length;
        if (!this.text()) {
          return;
        }
        var padding = this.padding(), fontSize = this.fontSize(), lineHeightPx = this.lineHeight() * fontSize, verticalAlign = this.verticalAlign(), direction = this.direction(), alignY = 0, align = this.align(), totalWidth = this.getWidth(), letterSpacing = this.letterSpacing(), fill = this.fill(), textDecoration = this.textDecoration(), shouldUnderline = textDecoration.indexOf("underline") !== -1, shouldLineThrough = textDecoration.indexOf("line-through") !== -1, n;
        direction = direction === INHERIT ? context.direction : direction;
        var translateY = 0;
        var translateY = lineHeightPx / 2;
        var lineTranslateX = 0;
        var lineTranslateY = 0;
        if (direction === RTL) {
          context.setAttr("direction", direction);
        }
        context.setAttr("font", this._getContextFont());
        context.setAttr("textBaseline", MIDDLE);
        context.setAttr("textAlign", LEFT);
        if (verticalAlign === MIDDLE) {
          alignY = (this.getHeight() - textArrLen * lineHeightPx - padding * 2) / 2;
        } else if (verticalAlign === BOTTOM) {
          alignY = this.getHeight() - textArrLen * lineHeightPx - padding * 2;
        }
        context.translate(padding, alignY + padding);
        for (n = 0; n < textArrLen; n++) {
          var lineTranslateX = 0;
          var lineTranslateY = 0;
          var obj = textArr[n], text2 = obj.text, width = obj.width, lastLine = obj.lastInParagraph, spacesNumber, oneWord, lineWidth;
          context.save();
          if (align === RIGHT) {
            lineTranslateX += totalWidth - width - padding * 2;
          } else if (align === CENTER) {
            lineTranslateX += (totalWidth - width - padding * 2) / 2;
          }
          if (shouldUnderline) {
            context.save();
            context.beginPath();
            context.moveTo(lineTranslateX, translateY + lineTranslateY + Math.round(fontSize / 2));
            spacesNumber = text2.split(" ").length - 1;
            oneWord = spacesNumber === 0;
            lineWidth = align === JUSTIFY && !lastLine ? totalWidth - padding * 2 : width;
            context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY + Math.round(fontSize / 2));
            context.lineWidth = fontSize / 15;
            const gradient = this._getLinearGradient();
            context.strokeStyle = gradient || fill;
            context.stroke();
            context.restore();
          }
          if (shouldLineThrough) {
            context.save();
            context.beginPath();
            context.moveTo(lineTranslateX, translateY + lineTranslateY);
            spacesNumber = text2.split(" ").length - 1;
            oneWord = spacesNumber === 0;
            lineWidth = align === JUSTIFY && lastLine && !oneWord ? totalWidth - padding * 2 : width;
            context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY);
            context.lineWidth = fontSize / 15;
            const gradient = this._getLinearGradient();
            context.strokeStyle = gradient || fill;
            context.stroke();
            context.restore();
          }
          if (direction !== RTL && (letterSpacing !== 0 || align === JUSTIFY)) {
            spacesNumber = text2.split(" ").length - 1;
            var array = stringToArray(text2);
            for (var li = 0; li < array.length; li++) {
              var letter = array[li];
              if (letter === " " && !lastLine && align === JUSTIFY) {
                lineTranslateX += (totalWidth - padding * 2 - width) / spacesNumber;
              }
              this._partialTextX = lineTranslateX;
              this._partialTextY = translateY + lineTranslateY;
              this._partialText = letter;
              context.fillStrokeShape(this);
              lineTranslateX += this.measureSize(letter).width + letterSpacing;
            }
          } else {
            if (letterSpacing !== 0) {
              context.setAttr("letterSpacing", `${letterSpacing}px`);
            }
            this._partialTextX = lineTranslateX;
            this._partialTextY = translateY + lineTranslateY;
            this._partialText = text2;
            context.fillStrokeShape(this);
          }
          context.restore();
          if (textArrLen > 1) {
            translateY += lineHeightPx;
          }
        }
      }
      _hitFunc(context) {
        var width = this.getWidth(), height = this.getHeight();
        context.beginPath();
        context.rect(0, 0, width, height);
        context.closePath();
        context.fillStrokeShape(this);
      }
      setText(text2) {
        var str = Util_1.Util._isString(text2) ? text2 : text2 === null || text2 === void 0 ? "" : text2 + "";
        this._setAttr(TEXT, str);
        return this;
      }
      getWidth() {
        var isAuto = this.attrs.width === AUTO || this.attrs.width === void 0;
        return isAuto ? this.getTextWidth() + this.padding() * 2 : this.attrs.width;
      }
      getHeight() {
        var isAuto = this.attrs.height === AUTO || this.attrs.height === void 0;
        return isAuto ? this.fontSize() * this.textArr.length * this.lineHeight() + this.padding() * 2 : this.attrs.height;
      }
      getTextWidth() {
        return this.textWidth;
      }
      getTextHeight() {
        Util_1.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.");
        return this.textHeight;
      }
      measureSize(text2) {
        var _context = getDummyContext(), fontSize = this.fontSize(), metrics;
        _context.save();
        _context.font = this._getContextFont();
        metrics = _context.measureText(text2);
        _context.restore();
        return {
          width: metrics.width,
          height: fontSize
        };
      }
      _getContextFont() {
        return this.fontStyle() + SPACE + this.fontVariant() + SPACE + (this.fontSize() + PX_SPACE) + normalizeFontFamily(this.fontFamily());
      }
      _addTextLine(line) {
        const align = this.align();
        if (align === JUSTIFY) {
          line = line.trim();
        }
        var width = this._getTextWidth(line);
        return this.textArr.push({
          text: line,
          width,
          lastInParagraph: false
        });
      }
      _getTextWidth(text2) {
        var letterSpacing = this.letterSpacing();
        var length = text2.length;
        return getDummyContext().measureText(text2).width + (length ? letterSpacing * (length - 1) : 0);
      }
      _setTextData() {
        var lines = this.text().split("\n"), fontSize = +this.fontSize(), textWidth = 0, lineHeightPx = this.lineHeight() * fontSize, width = this.attrs.width, height = this.attrs.height, fixedWidth = width !== AUTO && width !== void 0, fixedHeight = height !== AUTO && height !== void 0, padding = this.padding(), maxWidth = width - padding * 2, maxHeightPx = height - padding * 2, currentHeightPx = 0, wrap = this.wrap(), shouldWrap = wrap !== NONE, wrapAtWord = wrap !== CHAR && shouldWrap, shouldAddEllipsis = this.ellipsis();
        this.textArr = [];
        getDummyContext().font = this._getContextFont();
        var additionalWidth = shouldAddEllipsis ? this._getTextWidth(ELLIPSIS) : 0;
        for (var i = 0, max = lines.length; i < max; ++i) {
          var line = lines[i];
          var lineWidth = this._getTextWidth(line);
          if (fixedWidth && lineWidth > maxWidth) {
            while (line.length > 0) {
              var low = 0, high = line.length, match = "", matchWidth = 0;
              while (low < high) {
                var mid = low + high >>> 1, substr = line.slice(0, mid + 1), substrWidth = this._getTextWidth(substr) + additionalWidth;
                if (substrWidth <= maxWidth) {
                  low = mid + 1;
                  match = substr;
                  matchWidth = substrWidth;
                } else {
                  high = mid;
                }
              }
              if (match) {
                if (wrapAtWord) {
                  var wrapIndex;
                  var nextChar = line[match.length];
                  var nextIsSpaceOrDash = nextChar === SPACE || nextChar === DASH;
                  if (nextIsSpaceOrDash && matchWidth <= maxWidth) {
                    wrapIndex = match.length;
                  } else {
                    wrapIndex = Math.max(match.lastIndexOf(SPACE), match.lastIndexOf(DASH)) + 1;
                  }
                  if (wrapIndex > 0) {
                    low = wrapIndex;
                    match = match.slice(0, low);
                    matchWidth = this._getTextWidth(match);
                  }
                }
                match = match.trimRight();
                this._addTextLine(match);
                textWidth = Math.max(textWidth, matchWidth);
                currentHeightPx += lineHeightPx;
                var shouldHandleEllipsis = this._shouldHandleEllipsis(currentHeightPx);
                if (shouldHandleEllipsis) {
                  this._tryToAddEllipsisToLastLine();
                  break;
                }
                line = line.slice(low);
                line = line.trimLeft();
                if (line.length > 0) {
                  lineWidth = this._getTextWidth(line);
                  if (lineWidth <= maxWidth) {
                    this._addTextLine(line);
                    currentHeightPx += lineHeightPx;
                    textWidth = Math.max(textWidth, lineWidth);
                    break;
                  }
                }
              } else {
                break;
              }
            }
          } else {
            this._addTextLine(line);
            currentHeightPx += lineHeightPx;
            textWidth = Math.max(textWidth, lineWidth);
            if (this._shouldHandleEllipsis(currentHeightPx) && i < max - 1) {
              this._tryToAddEllipsisToLastLine();
            }
          }
          if (this.textArr[this.textArr.length - 1]) {
            this.textArr[this.textArr.length - 1].lastInParagraph = true;
          }
          if (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx) {
            break;
          }
        }
        this.textHeight = fontSize;
        this.textWidth = textWidth;
      }
      _shouldHandleEllipsis(currentHeightPx) {
        var fontSize = +this.fontSize(), lineHeightPx = this.lineHeight() * fontSize, height = this.attrs.height, fixedHeight = height !== AUTO && height !== void 0, padding = this.padding(), maxHeightPx = height - padding * 2, wrap = this.wrap(), shouldWrap = wrap !== NONE;
        return !shouldWrap || fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx;
      }
      _tryToAddEllipsisToLastLine() {
        var width = this.attrs.width, fixedWidth = width !== AUTO && width !== void 0, padding = this.padding(), maxWidth = width - padding * 2, shouldAddEllipsis = this.ellipsis();
        var lastLine = this.textArr[this.textArr.length - 1];
        if (!lastLine || !shouldAddEllipsis) {
          return;
        }
        if (fixedWidth) {
          var haveSpace = this._getTextWidth(lastLine.text + ELLIPSIS) < maxWidth;
          if (!haveSpace) {
            lastLine.text = lastLine.text.slice(0, lastLine.text.length - 3);
          }
        }
        this.textArr.splice(this.textArr.length - 1, 1);
        this._addTextLine(lastLine.text + ELLIPSIS);
      }
      getStrokeScaleEnabled() {
        return true;
      }
      _useBufferCanvas() {
        const hasLine = this.textDecoration().indexOf("underline") !== -1 || this.textDecoration().indexOf("line-through") !== -1;
        const hasShadow = this.hasShadow();
        if (hasLine && hasShadow) {
          return true;
        }
        return super._useBufferCanvas();
      }
    };
    exports.Text = Text;
    Text.prototype._fillFunc = _fillFunc;
    Text.prototype._strokeFunc = _strokeFunc;
    Text.prototype.className = TEXT_UPPER;
    Text.prototype._attrsAffectingSize = [
      "text",
      "fontSize",
      "padding",
      "wrap",
      "lineHeight",
      "letterSpacing"
    ];
    (0, Global_1._registerNode)(Text);
    Factory_1.Factory.overWriteSetter(Text, "width", (0, Validators_1.getNumberOrAutoValidator)());
    Factory_1.Factory.overWriteSetter(Text, "height", (0, Validators_1.getNumberOrAutoValidator)());
    Factory_1.Factory.addGetterSetter(Text, "direction", INHERIT);
    Factory_1.Factory.addGetterSetter(Text, "fontFamily", "Arial");
    Factory_1.Factory.addGetterSetter(Text, "fontSize", 12, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Text, "fontStyle", NORMAL);
    Factory_1.Factory.addGetterSetter(Text, "fontVariant", NORMAL);
    Factory_1.Factory.addGetterSetter(Text, "padding", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Text, "align", LEFT);
    Factory_1.Factory.addGetterSetter(Text, "verticalAlign", TOP);
    Factory_1.Factory.addGetterSetter(Text, "lineHeight", 1, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Text, "wrap", WORD);
    Factory_1.Factory.addGetterSetter(Text, "ellipsis", false, (0, Validators_1.getBooleanValidator)());
    Factory_1.Factory.addGetterSetter(Text, "letterSpacing", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Text, "text", "", (0, Validators_1.getStringValidator)());
    Factory_1.Factory.addGetterSetter(Text, "textDecoration", "");
  }
});

// node_modules/konva/lib/shapes/TextPath.js
var require_TextPath = __commonJS({
  "node_modules/konva/lib/shapes/TextPath.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.TextPath = void 0;
    var Util_1 = require_Util();
    var Factory_1 = require_Factory();
    var Shape_1 = require_Shape();
    var Path_1 = require_Path();
    var Text_1 = require_Text();
    var Validators_1 = require_Validators();
    var Global_1 = require_Global();
    var EMPTY_STRING = "";
    var NORMAL = "normal";
    function _fillFunc(context) {
      context.fillText(this.partialText, 0, 0);
    }
    function _strokeFunc(context) {
      context.strokeText(this.partialText, 0, 0);
    }
    var TextPath = class extends Shape_1.Shape {
      constructor(config) {
        super(config);
        this.dummyCanvas = Util_1.Util.createCanvasElement();
        this.dataArray = [];
        this._readDataAttribute();
        this.on("dataChange.konva", function() {
          this._readDataAttribute();
          this._setTextData();
        });
        this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva", this._setTextData);
        this._setTextData();
      }
      _getTextPathLength() {
        return Path_1.Path.getPathLength(this.dataArray);
      }
      _getPointAtLength(length) {
        if (!this.attrs.data) {
          return null;
        }
        const totalLength = this.pathLength;
        if (length - 1 > totalLength) {
          return null;
        }
        return Path_1.Path.getPointAtLengthOfDataArray(length, this.dataArray);
      }
      _readDataAttribute() {
        this.dataArray = Path_1.Path.parsePathData(this.attrs.data);
        this.pathLength = this._getTextPathLength();
      }
      _sceneFunc(context) {
        context.setAttr("font", this._getContextFont());
        context.setAttr("textBaseline", this.textBaseline());
        context.setAttr("textAlign", "left");
        context.save();
        var textDecoration = this.textDecoration();
        var fill = this.fill();
        var fontSize = this.fontSize();
        var glyphInfo = this.glyphInfo;
        if (textDecoration === "underline") {
          context.beginPath();
        }
        for (var i = 0; i < glyphInfo.length; i++) {
          context.save();
          var p0 = glyphInfo[i].p0;
          context.translate(p0.x, p0.y);
          context.rotate(glyphInfo[i].rotation);
          this.partialText = glyphInfo[i].text;
          context.fillStrokeShape(this);
          if (textDecoration === "underline") {
            if (i === 0) {
              context.moveTo(0, fontSize / 2 + 1);
            }
            context.lineTo(fontSize, fontSize / 2 + 1);
          }
          context.restore();
        }
        if (textDecoration === "underline") {
          context.strokeStyle = fill;
          context.lineWidth = fontSize / 20;
          context.stroke();
        }
        context.restore();
      }
      _hitFunc(context) {
        context.beginPath();
        var glyphInfo = this.glyphInfo;
        if (glyphInfo.length >= 1) {
          var p0 = glyphInfo[0].p0;
          context.moveTo(p0.x, p0.y);
        }
        for (var i = 0; i < glyphInfo.length; i++) {
          var p1 = glyphInfo[i].p1;
          context.lineTo(p1.x, p1.y);
        }
        context.setAttr("lineWidth", this.fontSize());
        context.setAttr("strokeStyle", this.colorKey);
        context.stroke();
      }
      getTextWidth() {
        return this.textWidth;
      }
      getTextHeight() {
        Util_1.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.");
        return this.textHeight;
      }
      setText(text2) {
        return Text_1.Text.prototype.setText.call(this, text2);
      }
      _getContextFont() {
        return Text_1.Text.prototype._getContextFont.call(this);
      }
      _getTextSize(text2) {
        var dummyCanvas = this.dummyCanvas;
        var _context = dummyCanvas.getContext("2d");
        _context.save();
        _context.font = this._getContextFont();
        var metrics = _context.measureText(text2);
        _context.restore();
        return {
          width: metrics.width,
          height: parseInt(`${this.fontSize()}`, 10)
        };
      }
      _setTextData() {
        const { width, height } = this._getTextSize(this.attrs.text);
        this.textWidth = width;
        this.textHeight = height;
        this.glyphInfo = [];
        if (!this.attrs.data) {
          return null;
        }
        const letterSpacing = this.letterSpacing();
        const align = this.align();
        const kerningFunc = this.kerningFunc();
        const textWidth = Math.max(this.textWidth + ((this.attrs.text || "").length - 1) * letterSpacing, 0);
        let offset = 0;
        if (align === "center") {
          offset = Math.max(0, this.pathLength / 2 - textWidth / 2);
        }
        if (align === "right") {
          offset = Math.max(0, this.pathLength - textWidth);
        }
        const charArr = (0, Text_1.stringToArray)(this.text());
        let offsetToGlyph = offset;
        for (var i = 0; i < charArr.length; i++) {
          const charStartPoint = this._getPointAtLength(offsetToGlyph);
          if (!charStartPoint)
            return;
          let glyphWidth = this._getTextSize(charArr[i]).width + letterSpacing;
          if (charArr[i] === " " && align === "justify") {
            const numberOfSpaces = this.text().split(" ").length - 1;
            glyphWidth += (this.pathLength - textWidth) / numberOfSpaces;
          }
          const charEndPoint = this._getPointAtLength(offsetToGlyph + glyphWidth);
          if (!charEndPoint)
            return;
          const width2 = Path_1.Path.getLineLength(charStartPoint.x, charStartPoint.y, charEndPoint.x, charEndPoint.y);
          let kern = 0;
          if (kerningFunc) {
            try {
              kern = kerningFunc(charArr[i - 1], charArr[i]) * this.fontSize();
            } catch (e) {
              kern = 0;
            }
          }
          charStartPoint.x += kern;
          charEndPoint.x += kern;
          this.textWidth += kern;
          const midpoint = Path_1.Path.getPointOnLine(kern + width2 / 2, charStartPoint.x, charStartPoint.y, charEndPoint.x, charEndPoint.y);
          const rotation = Math.atan2(charEndPoint.y - charStartPoint.y, charEndPoint.x - charStartPoint.x);
          this.glyphInfo.push({
            transposeX: midpoint.x,
            transposeY: midpoint.y,
            text: charArr[i],
            rotation,
            p0: charStartPoint,
            p1: charEndPoint
          });
          offsetToGlyph += glyphWidth;
        }
      }
      getSelfRect() {
        if (!this.glyphInfo.length) {
          return {
            x: 0,
            y: 0,
            width: 0,
            height: 0
          };
        }
        var points = [];
        this.glyphInfo.forEach(function(info) {
          points.push(info.p0.x);
          points.push(info.p0.y);
          points.push(info.p1.x);
          points.push(info.p1.y);
        });
        var minX = points[0] || 0;
        var maxX = points[0] || 0;
        var minY = points[1] || 0;
        var maxY = points[1] || 0;
        var x, y;
        for (var i = 0; i < points.length / 2; i++) {
          x = points[i * 2];
          y = points[i * 2 + 1];
          minX = Math.min(minX, x);
          maxX = Math.max(maxX, x);
          minY = Math.min(minY, y);
          maxY = Math.max(maxY, y);
        }
        var fontSize = this.fontSize();
        return {
          x: minX - fontSize / 2,
          y: minY - fontSize / 2,
          width: maxX - minX + fontSize,
          height: maxY - minY + fontSize
        };
      }
      destroy() {
        Util_1.Util.releaseCanvas(this.dummyCanvas);
        return super.destroy();
      }
    };
    exports.TextPath = TextPath;
    TextPath.prototype._fillFunc = _fillFunc;
    TextPath.prototype._strokeFunc = _strokeFunc;
    TextPath.prototype._fillFuncHit = _fillFunc;
    TextPath.prototype._strokeFuncHit = _strokeFunc;
    TextPath.prototype.className = "TextPath";
    TextPath.prototype._attrsAffectingSize = ["text", "fontSize", "data"];
    (0, Global_1._registerNode)(TextPath);
    Factory_1.Factory.addGetterSetter(TextPath, "data");
    Factory_1.Factory.addGetterSetter(TextPath, "fontFamily", "Arial");
    Factory_1.Factory.addGetterSetter(TextPath, "fontSize", 12, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(TextPath, "fontStyle", NORMAL);
    Factory_1.Factory.addGetterSetter(TextPath, "align", "left");
    Factory_1.Factory.addGetterSetter(TextPath, "letterSpacing", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(TextPath, "textBaseline", "middle");
    Factory_1.Factory.addGetterSetter(TextPath, "fontVariant", NORMAL);
    Factory_1.Factory.addGetterSetter(TextPath, "text", EMPTY_STRING);
    Factory_1.Factory.addGetterSetter(TextPath, "textDecoration", null);
    Factory_1.Factory.addGetterSetter(TextPath, "kerningFunc", null);
  }
});

// node_modules/konva/lib/shapes/Transformer.js
var require_Transformer = __commonJS({
  "node_modules/konva/lib/shapes/Transformer.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Transformer = void 0;
    var Util_1 = require_Util();
    var Factory_1 = require_Factory();
    var Node_1 = require_Node();
    var Shape_1 = require_Shape();
    var Rect_1 = require_Rect();
    var Group_1 = require_Group();
    var Global_1 = require_Global();
    var Validators_1 = require_Validators();
    var Global_2 = require_Global();
    var EVENTS_NAME = "tr-konva";
    var ATTR_CHANGE_LIST = [
      "resizeEnabledChange",
      "rotateAnchorOffsetChange",
      "rotateEnabledChange",
      "enabledAnchorsChange",
      "anchorSizeChange",
      "borderEnabledChange",
      "borderStrokeChange",
      "borderStrokeWidthChange",
      "borderDashChange",
      "anchorStrokeChange",
      "anchorStrokeWidthChange",
      "anchorFillChange",
      "anchorCornerRadiusChange",
      "ignoreStrokeChange",
      "anchorStyleFuncChange"
    ].map((e) => e + `.${EVENTS_NAME}`).join(" ");
    var NODES_RECT = "nodesRect";
    var TRANSFORM_CHANGE_STR = [
      "widthChange",
      "heightChange",
      "scaleXChange",
      "scaleYChange",
      "skewXChange",
      "skewYChange",
      "rotationChange",
      "offsetXChange",
      "offsetYChange",
      "transformsEnabledChange",
      "strokeWidthChange"
    ];
    var ANGLES = {
      "top-left": -45,
      "top-center": 0,
      "top-right": 45,
      "middle-right": -90,
      "middle-left": 90,
      "bottom-left": -135,
      "bottom-center": 180,
      "bottom-right": 135
    };
    var TOUCH_DEVICE = "ontouchstart" in Global_1.Konva._global;
    function getCursor(anchorName, rad, rotateCursor) {
      if (anchorName === "rotater") {
        return rotateCursor;
      }
      rad += Util_1.Util.degToRad(ANGLES[anchorName] || 0);
      var angle = (Util_1.Util.radToDeg(rad) % 360 + 360) % 360;
      if (Util_1.Util._inRange(angle, 315 + 22.5, 360) || Util_1.Util._inRange(angle, 0, 22.5)) {
        return "ns-resize";
      } else if (Util_1.Util._inRange(angle, 45 - 22.5, 45 + 22.5)) {
        return "nesw-resize";
      } else if (Util_1.Util._inRange(angle, 90 - 22.5, 90 + 22.5)) {
        return "ew-resize";
      } else if (Util_1.Util._inRange(angle, 135 - 22.5, 135 + 22.5)) {
        return "nwse-resize";
      } else if (Util_1.Util._inRange(angle, 180 - 22.5, 180 + 22.5)) {
        return "ns-resize";
      } else if (Util_1.Util._inRange(angle, 225 - 22.5, 225 + 22.5)) {
        return "nesw-resize";
      } else if (Util_1.Util._inRange(angle, 270 - 22.5, 270 + 22.5)) {
        return "ew-resize";
      } else if (Util_1.Util._inRange(angle, 315 - 22.5, 315 + 22.5)) {
        return "nwse-resize";
      } else {
        Util_1.Util.error("Transformer has unknown angle for cursor detection: " + angle);
        return "pointer";
      }
    }
    var ANCHORS_NAMES = [
      "top-left",
      "top-center",
      "top-right",
      "middle-right",
      "middle-left",
      "bottom-left",
      "bottom-center",
      "bottom-right"
    ];
    var MAX_SAFE_INTEGER = 1e8;
    function getCenter(shape) {
      return {
        x: shape.x + shape.width / 2 * Math.cos(shape.rotation) + shape.height / 2 * Math.sin(-shape.rotation),
        y: shape.y + shape.height / 2 * Math.cos(shape.rotation) + shape.width / 2 * Math.sin(shape.rotation)
      };
    }
    function rotateAroundPoint(shape, angleRad, point) {
      const x = point.x + (shape.x - point.x) * Math.cos(angleRad) - (shape.y - point.y) * Math.sin(angleRad);
      const y = point.y + (shape.x - point.x) * Math.sin(angleRad) + (shape.y - point.y) * Math.cos(angleRad);
      return {
        ...shape,
        rotation: shape.rotation + angleRad,
        x,
        y
      };
    }
    function rotateAroundCenter(shape, deltaRad) {
      const center = getCenter(shape);
      return rotateAroundPoint(shape, deltaRad, center);
    }
    function getSnap(snaps, newRotationRad, tol) {
      let snapped = newRotationRad;
      for (let i = 0; i < snaps.length; i++) {
        const angle = Global_1.Konva.getAngle(snaps[i]);
        const absDiff = Math.abs(angle - newRotationRad) % (Math.PI * 2);
        const dif = Math.min(absDiff, Math.PI * 2 - absDiff);
        if (dif < tol) {
          snapped = angle;
        }
      }
      return snapped;
    }
    var Transformer = class extends Group_1.Group {
      constructor(config) {
        super(config);
        this._movingAnchorName = null;
        this._transforming = false;
        this._createElements();
        this._handleMouseMove = this._handleMouseMove.bind(this);
        this._handleMouseUp = this._handleMouseUp.bind(this);
        this.update = this.update.bind(this);
        this.on(ATTR_CHANGE_LIST, this.update);
        if (this.getNode()) {
          this.update();
        }
      }
      attachTo(node) {
        this.setNode(node);
        return this;
      }
      setNode(node) {
        Util_1.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead.");
        return this.setNodes([node]);
      }
      getNode() {
        return this._nodes && this._nodes[0];
      }
      _getEventNamespace() {
        return EVENTS_NAME + this._id;
      }
      setNodes(nodes = []) {
        if (this._nodes && this._nodes.length) {
          this.detach();
        }
        const filteredNodes = nodes.filter((node) => {
          if (node.isAncestorOf(this)) {
            Util_1.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach");
            return false;
          }
          return true;
        });
        this._nodes = nodes = filteredNodes;
        if (nodes.length === 1 && this.useSingleNodeRotation()) {
          this.rotation(nodes[0].getAbsoluteRotation());
        } else {
          this.rotation(0);
        }
        this._nodes.forEach((node) => {
          const onChange = () => {
            if (this.nodes().length === 1 && this.useSingleNodeRotation()) {
              this.rotation(this.nodes()[0].getAbsoluteRotation());
            }
            this._resetTransformCache();
            if (!this._transforming && !this.isDragging()) {
              this.update();
            }
          };
          const additionalEvents = node._attrsAffectingSize.map((prop) => prop + "Change." + this._getEventNamespace()).join(" ");
          node.on(additionalEvents, onChange);
          node.on(TRANSFORM_CHANGE_STR.map((e) => e + `.${this._getEventNamespace()}`).join(" "), onChange);
          node.on(`absoluteTransformChange.${this._getEventNamespace()}`, onChange);
          this._proxyDrag(node);
        });
        this._resetTransformCache();
        var elementsCreated = !!this.findOne(".top-left");
        if (elementsCreated) {
          this.update();
        }
        return this;
      }
      _proxyDrag(node) {
        let lastPos;
        node.on(`dragstart.${this._getEventNamespace()}`, (e) => {
          lastPos = node.getAbsolutePosition();
          if (!this.isDragging() && node !== this.findOne(".back")) {
            this.startDrag(e, false);
          }
        });
        node.on(`dragmove.${this._getEventNamespace()}`, (e) => {
          if (!lastPos) {
            return;
          }
          const abs = node.getAbsolutePosition();
          const dx = abs.x - lastPos.x;
          const dy = abs.y - lastPos.y;
          this.nodes().forEach((otherNode) => {
            if (otherNode === node) {
              return;
            }
            if (otherNode.isDragging()) {
              return;
            }
            const otherAbs = otherNode.getAbsolutePosition();
            otherNode.setAbsolutePosition({
              x: otherAbs.x + dx,
              y: otherAbs.y + dy
            });
            otherNode.startDrag(e);
          });
          lastPos = null;
        });
      }
      getNodes() {
        return this._nodes || [];
      }
      getActiveAnchor() {
        return this._movingAnchorName;
      }
      detach() {
        if (this._nodes) {
          this._nodes.forEach((node) => {
            node.off("." + this._getEventNamespace());
          });
        }
        this._nodes = [];
        this._resetTransformCache();
      }
      _resetTransformCache() {
        this._clearCache(NODES_RECT);
        this._clearCache("transform");
        this._clearSelfAndDescendantCache("absoluteTransform");
      }
      _getNodeRect() {
        return this._getCache(NODES_RECT, this.__getNodeRect);
      }
      __getNodeShape(node, rot = this.rotation(), relative) {
        var rect = node.getClientRect({
          skipTransform: true,
          skipShadow: true,
          skipStroke: this.ignoreStroke()
        });
        var absScale = node.getAbsoluteScale(relative);
        var absPos = node.getAbsolutePosition(relative);
        var dx = rect.x * absScale.x - node.offsetX() * absScale.x;
        var dy = rect.y * absScale.y - node.offsetY() * absScale.y;
        const rotation = (Global_1.Konva.getAngle(node.getAbsoluteRotation()) + Math.PI * 2) % (Math.PI * 2);
        const box = {
          x: absPos.x + dx * Math.cos(rotation) + dy * Math.sin(-rotation),
          y: absPos.y + dy * Math.cos(rotation) + dx * Math.sin(rotation),
          width: rect.width * absScale.x,
          height: rect.height * absScale.y,
          rotation
        };
        return rotateAroundPoint(box, -Global_1.Konva.getAngle(rot), {
          x: 0,
          y: 0
        });
      }
      __getNodeRect() {
        var node = this.getNode();
        if (!node) {
          return {
            x: -MAX_SAFE_INTEGER,
            y: -MAX_SAFE_INTEGER,
            width: 0,
            height: 0,
            rotation: 0
          };
        }
        const totalPoints = [];
        this.nodes().map((node2) => {
          const box = node2.getClientRect({
            skipTransform: true,
            skipShadow: true,
            skipStroke: this.ignoreStroke()
          });
          var points = [
            { x: box.x, y: box.y },
            { x: box.x + box.width, y: box.y },
            { x: box.x + box.width, y: box.y + box.height },
            { x: box.x, y: box.y + box.height }
          ];
          var trans = node2.getAbsoluteTransform();
          points.forEach(function(point) {
            var transformed = trans.point(point);
            totalPoints.push(transformed);
          });
        });
        const tr = new Util_1.Transform();
        tr.rotate(-Global_1.Konva.getAngle(this.rotation()));
        var minX = Infinity, minY = Infinity, maxX = -Infinity, maxY = -Infinity;
        totalPoints.forEach(function(point) {
          var transformed = tr.point(point);
          if (minX === void 0) {
            minX = maxX = transformed.x;
            minY = maxY = transformed.y;
          }
          minX = Math.min(minX, transformed.x);
          minY = Math.min(minY, transformed.y);
          maxX = Math.max(maxX, transformed.x);
          maxY = Math.max(maxY, transformed.y);
        });
        tr.invert();
        const p = tr.point({ x: minX, y: minY });
        return {
          x: p.x,
          y: p.y,
          width: maxX - minX,
          height: maxY - minY,
          rotation: Global_1.Konva.getAngle(this.rotation())
        };
      }
      getX() {
        return this._getNodeRect().x;
      }
      getY() {
        return this._getNodeRect().y;
      }
      getWidth() {
        return this._getNodeRect().width;
      }
      getHeight() {
        return this._getNodeRect().height;
      }
      _createElements() {
        this._createBack();
        ANCHORS_NAMES.forEach((name) => {
          this._createAnchor(name);
        });
        this._createAnchor("rotater");
      }
      _createAnchor(name) {
        var anchor = new Rect_1.Rect({
          stroke: "rgb(0, 161, 255)",
          fill: "white",
          strokeWidth: 1,
          name: name + " _anchor",
          dragDistance: 0,
          draggable: true,
          hitStrokeWidth: TOUCH_DEVICE ? 10 : "auto"
        });
        var self2 = this;
        anchor.on("mousedown touchstart", function(e) {
          self2._handleMouseDown(e);
        });
        anchor.on("dragstart", (e) => {
          anchor.stopDrag();
          e.cancelBubble = true;
        });
        anchor.on("dragend", (e) => {
          e.cancelBubble = true;
        });
        anchor.on("mouseenter", () => {
          var rad = Global_1.Konva.getAngle(this.rotation());
          var rotateCursor = this.rotateAnchorCursor();
          var cursor = getCursor(name, rad, rotateCursor);
          anchor.getStage().content && (anchor.getStage().content.style.cursor = cursor);
          this._cursorChange = true;
        });
        anchor.on("mouseout", () => {
          anchor.getStage().content && (anchor.getStage().content.style.cursor = "");
          this._cursorChange = false;
        });
        this.add(anchor);
      }
      _createBack() {
        var back = new Shape_1.Shape({
          name: "back",
          width: 0,
          height: 0,
          draggable: true,
          sceneFunc(ctx, shape) {
            var tr = shape.getParent();
            var padding = tr.padding();
            ctx.beginPath();
            ctx.rect(-padding, -padding, shape.width() + padding * 2, shape.height() + padding * 2);
            ctx.moveTo(shape.width() / 2, -padding);
            if (tr.rotateEnabled()) {
              ctx.lineTo(shape.width() / 2, -tr.rotateAnchorOffset() * Util_1.Util._sign(shape.height()) - padding);
            }
            ctx.fillStrokeShape(shape);
          },
          hitFunc: (ctx, shape) => {
            if (!this.shouldOverdrawWholeArea()) {
              return;
            }
            var padding = this.padding();
            ctx.beginPath();
            ctx.rect(-padding, -padding, shape.width() + padding * 2, shape.height() + padding * 2);
            ctx.fillStrokeShape(shape);
          }
        });
        this.add(back);
        this._proxyDrag(back);
        back.on("dragstart", (e) => {
          e.cancelBubble = true;
        });
        back.on("dragmove", (e) => {
          e.cancelBubble = true;
        });
        back.on("dragend", (e) => {
          e.cancelBubble = true;
        });
        this.on("dragmove", (e) => {
          this.update();
        });
      }
      _handleMouseDown(e) {
        this._movingAnchorName = e.target.name().split(" ")[0];
        var attrs = this._getNodeRect();
        var width = attrs.width;
        var height = attrs.height;
        var hypotenuse = Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2));
        this.sin = Math.abs(height / hypotenuse);
        this.cos = Math.abs(width / hypotenuse);
        if (typeof window !== "undefined") {
          window.addEventListener("mousemove", this._handleMouseMove);
          window.addEventListener("touchmove", this._handleMouseMove);
          window.addEventListener("mouseup", this._handleMouseUp, true);
          window.addEventListener("touchend", this._handleMouseUp, true);
        }
        this._transforming = true;
        var ap = e.target.getAbsolutePosition();
        var pos = e.target.getStage().getPointerPosition();
        this._anchorDragOffset = {
          x: pos.x - ap.x,
          y: pos.y - ap.y
        };
        this._fire("transformstart", { evt: e.evt, target: this.getNode() });
        this._nodes.forEach((target) => {
          target._fire("transformstart", { evt: e.evt, target });
        });
      }
      _handleMouseMove(e) {
        var x, y, newHypotenuse;
        var anchorNode = this.findOne("." + this._movingAnchorName);
        var stage = anchorNode.getStage();
        stage.setPointersPositions(e);
        const pp = stage.getPointerPosition();
        let newNodePos = {
          x: pp.x - this._anchorDragOffset.x,
          y: pp.y - this._anchorDragOffset.y
        };
        const oldAbs = anchorNode.getAbsolutePosition();
        if (this.anchorDragBoundFunc()) {
          newNodePos = this.anchorDragBoundFunc()(oldAbs, newNodePos, e);
        }
        anchorNode.setAbsolutePosition(newNodePos);
        const newAbs = anchorNode.getAbsolutePosition();
        if (oldAbs.x === newAbs.x && oldAbs.y === newAbs.y) {
          return;
        }
        if (this._movingAnchorName === "rotater") {
          var attrs = this._getNodeRect();
          x = anchorNode.x() - attrs.width / 2;
          y = -anchorNode.y() + attrs.height / 2;
          let delta = Math.atan2(-y, x) + Math.PI / 2;
          if (attrs.height < 0) {
            delta -= Math.PI;
          }
          var oldRotation = Global_1.Konva.getAngle(this.rotation());
          const newRotation = oldRotation + delta;
          const tol = Global_1.Konva.getAngle(this.rotationSnapTolerance());
          const snappedRot = getSnap(this.rotationSnaps(), newRotation, tol);
          const diff = snappedRot - attrs.rotation;
          const shape = rotateAroundCenter(attrs, diff);
          this._fitNodesInto(shape, e);
          return;
        }
        var shiftBehavior = this.shiftBehavior();
        var keepProportion;
        if (shiftBehavior === "inverted") {
          keepProportion = this.keepRatio() && !e.shiftKey;
        } else if (shiftBehavior === "none") {
          keepProportion = this.keepRatio();
        } else {
          keepProportion = this.keepRatio() || e.shiftKey;
        }
        var centeredScaling = this.centeredScaling() || e.altKey;
        if (this._movingAnchorName === "top-left") {
          if (keepProportion) {
            var comparePoint = centeredScaling ? {
              x: this.width() / 2,
              y: this.height() / 2
            } : {
              x: this.findOne(".bottom-right").x(),
              y: this.findOne(".bottom-right").y()
            };
            newHypotenuse = Math.sqrt(Math.pow(comparePoint.x - anchorNode.x(), 2) + Math.pow(comparePoint.y - anchorNode.y(), 2));
            var reverseX = this.findOne(".top-left").x() > comparePoint.x ? -1 : 1;
            var reverseY = this.findOne(".top-left").y() > comparePoint.y ? -1 : 1;
            x = newHypotenuse * this.cos * reverseX;
            y = newHypotenuse * this.sin * reverseY;
            this.findOne(".top-left").x(comparePoint.x - x);
            this.findOne(".top-left").y(comparePoint.y - y);
          }
        } else if (this._movingAnchorName === "top-center") {
          this.findOne(".top-left").y(anchorNode.y());
        } else if (this._movingAnchorName === "top-right") {
          if (keepProportion) {
            var comparePoint = centeredScaling ? {
              x: this.width() / 2,
              y: this.height() / 2
            } : {
              x: this.findOne(".bottom-left").x(),
              y: this.findOne(".bottom-left").y()
            };
            newHypotenuse = Math.sqrt(Math.pow(anchorNode.x() - comparePoint.x, 2) + Math.pow(comparePoint.y - anchorNode.y(), 2));
            var reverseX = this.findOne(".top-right").x() < comparePoint.x ? -1 : 1;
            var reverseY = this.findOne(".top-right").y() > comparePoint.y ? -1 : 1;
            x = newHypotenuse * this.cos * reverseX;
            y = newHypotenuse * this.sin * reverseY;
            this.findOne(".top-right").x(comparePoint.x + x);
            this.findOne(".top-right").y(comparePoint.y - y);
          }
          var pos = anchorNode.position();
          this.findOne(".top-left").y(pos.y);
          this.findOne(".bottom-right").x(pos.x);
        } else if (this._movingAnchorName === "middle-left") {
          this.findOne(".top-left").x(anchorNode.x());
        } else if (this._movingAnchorName === "middle-right") {
          this.findOne(".bottom-right").x(anchorNode.x());
        } else if (this._movingAnchorName === "bottom-left") {
          if (keepProportion) {
            var comparePoint = centeredScaling ? {
              x: this.width() / 2,
              y: this.height() / 2
            } : {
              x: this.findOne(".top-right").x(),
              y: this.findOne(".top-right").y()
            };
            newHypotenuse = Math.sqrt(Math.pow(comparePoint.x - anchorNode.x(), 2) + Math.pow(anchorNode.y() - comparePoint.y, 2));
            var reverseX = comparePoint.x < anchorNode.x() ? -1 : 1;
            var reverseY = anchorNode.y() < comparePoint.y ? -1 : 1;
            x = newHypotenuse * this.cos * reverseX;
            y = newHypotenuse * this.sin * reverseY;
            anchorNode.x(comparePoint.x - x);
            anchorNode.y(comparePoint.y + y);
          }
          pos = anchorNode.position();
          this.findOne(".top-left").x(pos.x);
          this.findOne(".bottom-right").y(pos.y);
        } else if (this._movingAnchorName === "bottom-center") {
          this.findOne(".bottom-right").y(anchorNode.y());
        } else if (this._movingAnchorName === "bottom-right") {
          if (keepProportion) {
            var comparePoint = centeredScaling ? {
              x: this.width() / 2,
              y: this.height() / 2
            } : {
              x: this.findOne(".top-left").x(),
              y: this.findOne(".top-left").y()
            };
            newHypotenuse = Math.sqrt(Math.pow(anchorNode.x() - comparePoint.x, 2) + Math.pow(anchorNode.y() - comparePoint.y, 2));
            var reverseX = this.findOne(".bottom-right").x() < comparePoint.x ? -1 : 1;
            var reverseY = this.findOne(".bottom-right").y() < comparePoint.y ? -1 : 1;
            x = newHypotenuse * this.cos * reverseX;
            y = newHypotenuse * this.sin * reverseY;
            this.findOne(".bottom-right").x(comparePoint.x + x);
            this.findOne(".bottom-right").y(comparePoint.y + y);
          }
        } else {
          console.error(new Error("Wrong position argument of selection resizer: " + this._movingAnchorName));
        }
        var centeredScaling = this.centeredScaling() || e.altKey;
        if (centeredScaling) {
          var topLeft = this.findOne(".top-left");
          var bottomRight = this.findOne(".bottom-right");
          var topOffsetX = topLeft.x();
          var topOffsetY = topLeft.y();
          var bottomOffsetX = this.getWidth() - bottomRight.x();
          var bottomOffsetY = this.getHeight() - bottomRight.y();
          bottomRight.move({
            x: -topOffsetX,
            y: -topOffsetY
          });
          topLeft.move({
            x: bottomOffsetX,
            y: bottomOffsetY
          });
        }
        var absPos = this.findOne(".top-left").getAbsolutePosition();
        x = absPos.x;
        y = absPos.y;
        var width = this.findOne(".bottom-right").x() - this.findOne(".top-left").x();
        var height = this.findOne(".bottom-right").y() - this.findOne(".top-left").y();
        this._fitNodesInto({
          x,
          y,
          width,
          height,
          rotation: Global_1.Konva.getAngle(this.rotation())
        }, e);
      }
      _handleMouseUp(e) {
        this._removeEvents(e);
      }
      getAbsoluteTransform() {
        return this.getTransform();
      }
      _removeEvents(e) {
        if (this._transforming) {
          this._transforming = false;
          if (typeof window !== "undefined") {
            window.removeEventListener("mousemove", this._handleMouseMove);
            window.removeEventListener("touchmove", this._handleMouseMove);
            window.removeEventListener("mouseup", this._handleMouseUp, true);
            window.removeEventListener("touchend", this._handleMouseUp, true);
          }
          var node = this.getNode();
          this._fire("transformend", { evt: e, target: node });
          if (node) {
            this._nodes.forEach((target) => {
              target._fire("transformend", { evt: e, target });
            });
          }
          this._movingAnchorName = null;
        }
      }
      _fitNodesInto(newAttrs, evt) {
        var oldAttrs = this._getNodeRect();
        const minSize = 1;
        if (Util_1.Util._inRange(newAttrs.width, -this.padding() * 2 - minSize, minSize)) {
          this.update();
          return;
        }
        if (Util_1.Util._inRange(newAttrs.height, -this.padding() * 2 - minSize, minSize)) {
          this.update();
          return;
        }
        var t = new Util_1.Transform();
        t.rotate(Global_1.Konva.getAngle(this.rotation()));
        if (this._movingAnchorName && newAttrs.width < 0 && this._movingAnchorName.indexOf("left") >= 0) {
          const offset = t.point({
            x: -this.padding() * 2,
            y: 0
          });
          newAttrs.x += offset.x;
          newAttrs.y += offset.y;
          newAttrs.width += this.padding() * 2;
          this._movingAnchorName = this._movingAnchorName.replace("left", "right");
          this._anchorDragOffset.x -= offset.x;
          this._anchorDragOffset.y -= offset.y;
        } else if (this._movingAnchorName && newAttrs.width < 0 && this._movingAnchorName.indexOf("right") >= 0) {
          const offset = t.point({
            x: this.padding() * 2,
            y: 0
          });
          this._movingAnchorName = this._movingAnchorName.replace("right", "left");
          this._anchorDragOffset.x -= offset.x;
          this._anchorDragOffset.y -= offset.y;
          newAttrs.width += this.padding() * 2;
        }
        if (this._movingAnchorName && newAttrs.height < 0 && this._movingAnchorName.indexOf("top") >= 0) {
          const offset = t.point({
            x: 0,
            y: -this.padding() * 2
          });
          newAttrs.x += offset.x;
          newAttrs.y += offset.y;
          this._movingAnchorName = this._movingAnchorName.replace("top", "bottom");
          this._anchorDragOffset.x -= offset.x;
          this._anchorDragOffset.y -= offset.y;
          newAttrs.height += this.padding() * 2;
        } else if (this._movingAnchorName && newAttrs.height < 0 && this._movingAnchorName.indexOf("bottom") >= 0) {
          const offset = t.point({
            x: 0,
            y: this.padding() * 2
          });
          this._movingAnchorName = this._movingAnchorName.replace("bottom", "top");
          this._anchorDragOffset.x -= offset.x;
          this._anchorDragOffset.y -= offset.y;
          newAttrs.height += this.padding() * 2;
        }
        if (this.boundBoxFunc()) {
          const bounded = this.boundBoxFunc()(oldAttrs, newAttrs);
          if (bounded) {
            newAttrs = bounded;
          } else {
            Util_1.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!");
          }
        }
        const baseSize = 1e7;
        const oldTr = new Util_1.Transform();
        oldTr.translate(oldAttrs.x, oldAttrs.y);
        oldTr.rotate(oldAttrs.rotation);
        oldTr.scale(oldAttrs.width / baseSize, oldAttrs.height / baseSize);
        const newTr = new Util_1.Transform();
        const newScaleX = newAttrs.width / baseSize;
        const newScaleY = newAttrs.height / baseSize;
        if (this.flipEnabled() === false) {
          newTr.translate(newAttrs.x, newAttrs.y);
          newTr.rotate(newAttrs.rotation);
          newTr.translate(newAttrs.width < 0 ? newAttrs.width : 0, newAttrs.height < 0 ? newAttrs.height : 0);
          newTr.scale(Math.abs(newScaleX), Math.abs(newScaleY));
        } else {
          newTr.translate(newAttrs.x, newAttrs.y);
          newTr.rotate(newAttrs.rotation);
          newTr.scale(newScaleX, newScaleY);
        }
        const delta = newTr.multiply(oldTr.invert());
        this._nodes.forEach((node) => {
          var _a;
          const parentTransform = node.getParent().getAbsoluteTransform();
          const localTransform = node.getTransform().copy();
          localTransform.translate(node.offsetX(), node.offsetY());
          const newLocalTransform = new Util_1.Transform();
          newLocalTransform.multiply(parentTransform.copy().invert()).multiply(delta).multiply(parentTransform).multiply(localTransform);
          const attrs = newLocalTransform.decompose();
          node.setAttrs(attrs);
          this._fire("transform", { evt, target: node });
          node._fire("transform", { evt, target: node });
          (_a = node.getLayer()) === null || _a === void 0 ? void 0 : _a.batchDraw();
        });
        this.rotation(Util_1.Util._getRotation(newAttrs.rotation));
        this._resetTransformCache();
        this.update();
        this.getLayer().batchDraw();
      }
      forceUpdate() {
        this._resetTransformCache();
        this.update();
      }
      _batchChangeChild(selector, attrs) {
        const anchor = this.findOne(selector);
        anchor.setAttrs(attrs);
      }
      update() {
        var _a;
        var attrs = this._getNodeRect();
        this.rotation(Util_1.Util._getRotation(attrs.rotation));
        var width = attrs.width;
        var height = attrs.height;
        var enabledAnchors = this.enabledAnchors();
        var resizeEnabled = this.resizeEnabled();
        var padding = this.padding();
        var anchorSize = this.anchorSize();
        const anchors = this.find("._anchor");
        anchors.forEach((node) => {
          node.setAttrs({
            width: anchorSize,
            height: anchorSize,
            offsetX: anchorSize / 2,
            offsetY: anchorSize / 2,
            stroke: this.anchorStroke(),
            strokeWidth: this.anchorStrokeWidth(),
            fill: this.anchorFill(),
            cornerRadius: this.anchorCornerRadius()
          });
        });
        this._batchChangeChild(".top-left", {
          x: 0,
          y: 0,
          offsetX: anchorSize / 2 + padding,
          offsetY: anchorSize / 2 + padding,
          visible: resizeEnabled && enabledAnchors.indexOf("top-left") >= 0
        });
        this._batchChangeChild(".top-center", {
          x: width / 2,
          y: 0,
          offsetY: anchorSize / 2 + padding,
          visible: resizeEnabled && enabledAnchors.indexOf("top-center") >= 0
        });
        this._batchChangeChild(".top-right", {
          x: width,
          y: 0,
          offsetX: anchorSize / 2 - padding,
          offsetY: anchorSize / 2 + padding,
          visible: resizeEnabled && enabledAnchors.indexOf("top-right") >= 0
        });
        this._batchChangeChild(".middle-left", {
          x: 0,
          y: height / 2,
          offsetX: anchorSize / 2 + padding,
          visible: resizeEnabled && enabledAnchors.indexOf("middle-left") >= 0
        });
        this._batchChangeChild(".middle-right", {
          x: width,
          y: height / 2,
          offsetX: anchorSize / 2 - padding,
          visible: resizeEnabled && enabledAnchors.indexOf("middle-right") >= 0
        });
        this._batchChangeChild(".bottom-left", {
          x: 0,
          y: height,
          offsetX: anchorSize / 2 + padding,
          offsetY: anchorSize / 2 - padding,
          visible: resizeEnabled && enabledAnchors.indexOf("bottom-left") >= 0
        });
        this._batchChangeChild(".bottom-center", {
          x: width / 2,
          y: height,
          offsetY: anchorSize / 2 - padding,
          visible: resizeEnabled && enabledAnchors.indexOf("bottom-center") >= 0
        });
        this._batchChangeChild(".bottom-right", {
          x: width,
          y: height,
          offsetX: anchorSize / 2 - padding,
          offsetY: anchorSize / 2 - padding,
          visible: resizeEnabled && enabledAnchors.indexOf("bottom-right") >= 0
        });
        this._batchChangeChild(".rotater", {
          x: width / 2,
          y: -this.rotateAnchorOffset() * Util_1.Util._sign(height) - padding,
          visible: this.rotateEnabled()
        });
        this._batchChangeChild(".back", {
          width,
          height,
          visible: this.borderEnabled(),
          stroke: this.borderStroke(),
          strokeWidth: this.borderStrokeWidth(),
          dash: this.borderDash(),
          x: 0,
          y: 0
        });
        const styleFunc = this.anchorStyleFunc();
        if (styleFunc) {
          anchors.forEach((node) => {
            styleFunc(node);
          });
        }
        (_a = this.getLayer()) === null || _a === void 0 ? void 0 : _a.batchDraw();
      }
      isTransforming() {
        return this._transforming;
      }
      stopTransform() {
        if (this._transforming) {
          this._removeEvents();
          var anchorNode = this.findOne("." + this._movingAnchorName);
          if (anchorNode) {
            anchorNode.stopDrag();
          }
        }
      }
      destroy() {
        if (this.getStage() && this._cursorChange) {
          this.getStage().content && (this.getStage().content.style.cursor = "");
        }
        Group_1.Group.prototype.destroy.call(this);
        this.detach();
        this._removeEvents();
        return this;
      }
      toObject() {
        return Node_1.Node.prototype.toObject.call(this);
      }
      clone(obj) {
        var node = Node_1.Node.prototype.clone.call(this, obj);
        return node;
      }
      getClientRect() {
        if (this.nodes().length > 0) {
          return super.getClientRect();
        } else {
          return { x: 0, y: 0, width: 0, height: 0 };
        }
      }
    };
    exports.Transformer = Transformer;
    function validateAnchors(val) {
      if (!(val instanceof Array)) {
        Util_1.Util.warn("enabledAnchors value should be an array");
      }
      if (val instanceof Array) {
        val.forEach(function(name) {
          if (ANCHORS_NAMES.indexOf(name) === -1) {
            Util_1.Util.warn("Unknown anchor name: " + name + ". Available names are: " + ANCHORS_NAMES.join(", "));
          }
        });
      }
      return val || [];
    }
    Transformer.prototype.className = "Transformer";
    (0, Global_2._registerNode)(Transformer);
    Factory_1.Factory.addGetterSetter(Transformer, "enabledAnchors", ANCHORS_NAMES, validateAnchors);
    Factory_1.Factory.addGetterSetter(Transformer, "flipEnabled", true, (0, Validators_1.getBooleanValidator)());
    Factory_1.Factory.addGetterSetter(Transformer, "resizeEnabled", true);
    Factory_1.Factory.addGetterSetter(Transformer, "anchorSize", 10, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Transformer, "rotateEnabled", true);
    Factory_1.Factory.addGetterSetter(Transformer, "rotationSnaps", []);
    Factory_1.Factory.addGetterSetter(Transformer, "rotateAnchorOffset", 50, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Transformer, "rotateAnchorCursor", "crosshair");
    Factory_1.Factory.addGetterSetter(Transformer, "rotationSnapTolerance", 5, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Transformer, "borderEnabled", true);
    Factory_1.Factory.addGetterSetter(Transformer, "anchorStroke", "rgb(0, 161, 255)");
    Factory_1.Factory.addGetterSetter(Transformer, "anchorStrokeWidth", 1, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Transformer, "anchorFill", "white");
    Factory_1.Factory.addGetterSetter(Transformer, "anchorCornerRadius", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Transformer, "borderStroke", "rgb(0, 161, 255)");
    Factory_1.Factory.addGetterSetter(Transformer, "borderStrokeWidth", 1, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Transformer, "borderDash");
    Factory_1.Factory.addGetterSetter(Transformer, "keepRatio", true);
    Factory_1.Factory.addGetterSetter(Transformer, "shiftBehavior", "default");
    Factory_1.Factory.addGetterSetter(Transformer, "centeredScaling", false);
    Factory_1.Factory.addGetterSetter(Transformer, "ignoreStroke", false);
    Factory_1.Factory.addGetterSetter(Transformer, "padding", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Transformer, "node");
    Factory_1.Factory.addGetterSetter(Transformer, "nodes");
    Factory_1.Factory.addGetterSetter(Transformer, "boundBoxFunc");
    Factory_1.Factory.addGetterSetter(Transformer, "anchorDragBoundFunc");
    Factory_1.Factory.addGetterSetter(Transformer, "anchorStyleFunc");
    Factory_1.Factory.addGetterSetter(Transformer, "shouldOverdrawWholeArea", false);
    Factory_1.Factory.addGetterSetter(Transformer, "useSingleNodeRotation", true);
    Factory_1.Factory.backCompat(Transformer, {
      lineEnabled: "borderEnabled",
      rotateHandlerOffset: "rotateAnchorOffset",
      enabledHandlers: "enabledAnchors"
    });
  }
});

// node_modules/konva/lib/shapes/Wedge.js
var require_Wedge = __commonJS({
  "node_modules/konva/lib/shapes/Wedge.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Wedge = void 0;
    var Factory_1 = require_Factory();
    var Shape_1 = require_Shape();
    var Global_1 = require_Global();
    var Validators_1 = require_Validators();
    var Global_2 = require_Global();
    var Wedge = class extends Shape_1.Shape {
      _sceneFunc(context) {
        context.beginPath();
        context.arc(0, 0, this.radius(), 0, Global_1.Konva.getAngle(this.angle()), this.clockwise());
        context.lineTo(0, 0);
        context.closePath();
        context.fillStrokeShape(this);
      }
      getWidth() {
        return this.radius() * 2;
      }
      getHeight() {
        return this.radius() * 2;
      }
      setWidth(width) {
        this.radius(width / 2);
      }
      setHeight(height) {
        this.radius(height / 2);
      }
    };
    exports.Wedge = Wedge;
    Wedge.prototype.className = "Wedge";
    Wedge.prototype._centroid = true;
    Wedge.prototype._attrsAffectingSize = ["radius"];
    (0, Global_2._registerNode)(Wedge);
    Factory_1.Factory.addGetterSetter(Wedge, "radius", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Wedge, "angle", 0, (0, Validators_1.getNumberValidator)());
    Factory_1.Factory.addGetterSetter(Wedge, "clockwise", false);
    Factory_1.Factory.backCompat(Wedge, {
      angleDeg: "angle",
      getAngleDeg: "getAngle",
      setAngleDeg: "setAngle"
    });
  }
});

// node_modules/konva/lib/filters/Blur.js
var require_Blur = __commonJS({
  "node_modules/konva/lib/filters/Blur.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Blur = void 0;
    var Factory_1 = require_Factory();
    var Node_1 = require_Node();
    var Validators_1 = require_Validators();
    function BlurStack() {
      this.r = 0;
      this.g = 0;
      this.b = 0;
      this.a = 0;
      this.next = null;
    }
    var mul_table = [
      512,
      512,
      456,
      512,
      328,
      456,
      335,
      512,
      405,
      328,
      271,
      456,
      388,
      335,
      292,
      512,
      454,
      405,
      364,
      328,
      298,
      271,
      496,
      456,
      420,
      388,
      360,
      335,
      312,
      292,
      273,
      512,
      482,
      454,
      428,
      405,
      383,
      364,
      345,
      328,
      312,
      298,
      284,
      271,
      259,
      496,
      475,
      456,
      437,
      420,
      404,
      388,
      374,
      360,
      347,
      335,
      323,
      312,
      302,
      292,
      282,
      273,
      265,
      512,
      497,
      482,
      468,
      454,
      441,
      428,
      417,
      405,
      394,
      383,
      373,
      364,
      354,
      345,
      337,
      328,
      320,
      312,
      305,
      298,
      291,
      284,
      278,
      271,
      265,
      259,
      507,
      496,
      485,
      475,
      465,
      456,
      446,
      437,
      428,
      420,
      412,
      404,
      396,
      388,
      381,
      374,
      367,
      360,
      354,
      347,
      341,
      335,
      329,
      323,
      318,
      312,
      307,
      302,
      297,
      292,
      287,
      282,
      278,
      273,
      269,
      265,
      261,
      512,
      505,
      497,
      489,
      482,
      475,
      468,
      461,
      454,
      447,
      441,
      435,
      428,
      422,
      417,
      411,
      405,
      399,
      394,
      389,
      383,
      378,
      373,
      368,
      364,
      359,
      354,
      350,
      345,
      341,
      337,
      332,
      328,
      324,
      320,
      316,
      312,
      309,
      305,
      301,
      298,
      294,
      291,
      287,
      284,
      281,
      278,
      274,
      271,
      268,
      265,
      262,
      259,
      257,
      507,
      501,
      496,
      491,
      485,
      480,
      475,
      470,
      465,
      460,
      456,
      451,
      446,
      442,
      437,
      433,
      428,
      424,
      420,
      416,
      412,
      408,
      404,
      400,
      396,
      392,
      388,
      385,
      381,
      377,
      374,
      370,
      367,
      363,
      360,
      357,
      354,
      350,
      347,
      344,
      341,
      338,
      335,
      332,
      329,
      326,
      323,
      320,
      318,
      315,
      312,
      310,
      307,
      304,
      302,
      299,
      297,
      294,
      292,
      289,
      287,
      285,
      282,
      280,
      278,
      275,
      273,
      271,
      269,
      267,
      265,
      263,
      261,
      259
    ];
    var shg_table = [
      9,
      11,
      12,
      13,
      13,
      14,
      14,
      15,
      15,
      15,
      15,
      16,
      16,
      16,
      16,
      17,
      17,
      17,
      17,
      17,
      17,
      17,
      18,
      18,
      18,
      18,
      18,
      18,
      18,
      18,
      18,
      19,
      19,
      19,
      19,
      19,
      19,
      19,
      19,
      19,
      19,
      19,
      19,
      19,
      19,
      20,
      20,
      20,
      20,
      20,
      20,
      20,
      20,
      20,
      20,
      20,
      20,
      20,
      20,
      20,
      20,
      20,
      20,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      21,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      22,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      23,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24,
      24
    ];
    function filterGaussBlurRGBA(imageData, radius) {
      var pixels = imageData.data, width = imageData.width, height = imageData.height;
      var x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum, a_sum, r_out_sum, g_out_sum, b_out_sum, a_out_sum, r_in_sum, g_in_sum, b_in_sum, a_in_sum, pr, pg, pb, pa, rbs;
      var div = radius + radius + 1, widthMinus1 = width - 1, heightMinus1 = height - 1, radiusPlus1 = radius + 1, sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2, stackStart = new BlurStack(), stackEnd = null, stack = stackStart, stackIn = null, stackOut = null, mul_sum = mul_table[radius], shg_sum = shg_table[radius];
      for (i = 1; i < div; i++) {
        stack = stack.next = new BlurStack();
        if (i === radiusPlus1) {
          stackEnd = stack;
        }
      }
      stack.next = stackStart;
      yw = yi = 0;
      for (y = 0; y < height; y++) {
        r_in_sum = g_in_sum = b_in_sum = a_in_sum = r_sum = g_sum = b_sum = a_sum = 0;
        r_out_sum = radiusPlus1 * (pr = pixels[yi]);
        g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);
        b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);
        a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);
        r_sum += sumFactor * pr;
        g_sum += sumFactor * pg;
        b_sum += sumFactor * pb;
        a_sum += sumFactor * pa;
        stack = stackStart;
        for (i = 0; i < radiusPlus1; i++) {
          stack.r = pr;
          stack.g = pg;
          stack.b = pb;
          stack.a = pa;
          stack = stack.next;
        }
        for (i = 1; i < radiusPlus1; i++) {
          p = yi + ((widthMinus1 < i ? widthMinus1 : i) << 2);
          r_sum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - i);
          g_sum += (stack.g = pg = pixels[p + 1]) * rbs;
          b_sum += (stack.b = pb = pixels[p + 2]) * rbs;
          a_sum += (stack.a = pa = pixels[p + 3]) * rbs;
          r_in_sum += pr;
          g_in_sum += pg;
          b_in_sum += pb;
          a_in_sum += pa;
          stack = stack.next;
        }
        stackIn = stackStart;
        stackOut = stackEnd;
        for (x = 0; x < width; x++) {
          pixels[yi + 3] = pa = a_sum * mul_sum >> shg_sum;
          if (pa !== 0) {
            pa = 255 / pa;
            pixels[yi] = (r_sum * mul_sum >> shg_sum) * pa;
            pixels[yi + 1] = (g_sum * mul_sum >> shg_sum) * pa;
            pixels[yi + 2] = (b_sum * mul_sum >> shg_sum) * pa;
          } else {
            pixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0;
          }
          r_sum -= r_out_sum;
          g_sum -= g_out_sum;
          b_sum -= b_out_sum;
          a_sum -= a_out_sum;
          r_out_sum -= stackIn.r;
          g_out_sum -= stackIn.g;
          b_out_sum -= stackIn.b;
          a_out_sum -= stackIn.a;
          p = yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1) << 2;
          r_in_sum += stackIn.r = pixels[p];
          g_in_sum += stackIn.g = pixels[p + 1];
          b_in_sum += stackIn.b = pixels[p + 2];
          a_in_sum += stackIn.a = pixels[p + 3];
          r_sum += r_in_sum;
          g_sum += g_in_sum;
          b_sum += b_in_sum;
          a_sum += a_in_sum;
          stackIn = stackIn.next;
          r_out_sum += pr = stackOut.r;
          g_out_sum += pg = stackOut.g;
          b_out_sum += pb = stackOut.b;
          a_out_sum += pa = stackOut.a;
          r_in_sum -= pr;
          g_in_sum -= pg;
          b_in_sum -= pb;
          a_in_sum -= pa;
          stackOut = stackOut.next;
          yi += 4;
        }
        yw += width;
      }
      for (x = 0; x < width; x++) {
        g_in_sum = b_in_sum = a_in_sum = r_in_sum = g_sum = b_sum = a_sum = r_sum = 0;
        yi = x << 2;
        r_out_sum = radiusPlus1 * (pr = pixels[yi]);
        g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);
        b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);
        a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);
        r_sum += sumFactor * pr;
        g_sum += sumFactor * pg;
        b_sum += sumFactor * pb;
        a_sum += sumFactor * pa;
        stack = stackStart;
        for (i = 0; i < radiusPlus1; i++) {
          stack.r = pr;
          stack.g = pg;
          stack.b = pb;
          stack.a = pa;
          stack = stack.next;
        }
        yp = width;
        for (i = 1; i <= radius; i++) {
          yi = yp + x << 2;
          r_sum += (stack.r = pr = pixels[yi]) * (rbs = radiusPlus1 - i);
          g_sum += (stack.g = pg = pixels[yi + 1]) * rbs;
          b_sum += (stack.b = pb = pixels[yi + 2]) * rbs;
          a_sum += (stack.a = pa = pixels[yi + 3]) * rbs;
          r_in_sum += pr;
          g_in_sum += pg;
          b_in_sum += pb;
          a_in_sum += pa;
          stack = stack.next;
          if (i < heightMinus1) {
            yp += width;
          }
        }
        yi = x;
        stackIn = stackStart;
        stackOut = stackEnd;
        for (y = 0; y < height; y++) {
          p = yi << 2;
          pixels[p + 3] = pa = a_sum * mul_sum >> shg_sum;
          if (pa > 0) {
            pa = 255 / pa;
            pixels[p] = (r_sum * mul_sum >> shg_sum) * pa;
            pixels[p + 1] = (g_sum * mul_sum >> shg_sum) * pa;
            pixels[p + 2] = (b_sum * mul_sum >> shg_sum) * pa;
          } else {
            pixels[p] = pixels[p + 1] = pixels[p + 2] = 0;
          }
          r_sum -= r_out_sum;
          g_sum -= g_out_sum;
          b_sum -= b_out_sum;
          a_sum -= a_out_sum;
          r_out_sum -= stackIn.r;
          g_out_sum -= stackIn.g;
          b_out_sum -= stackIn.b;
          a_out_sum -= stackIn.a;
          p = x + ((p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width << 2;
          r_sum += r_in_sum += stackIn.r = pixels[p];
          g_sum += g_in_sum += stackIn.g = pixels[p + 1];
          b_sum += b_in_sum += stackIn.b = pixels[p + 2];
          a_sum += a_in_sum += stackIn.a = pixels[p + 3];
          stackIn = stackIn.next;
          r_out_sum += pr = stackOut.r;
          g_out_sum += pg = stackOut.g;
          b_out_sum += pb = stackOut.b;
          a_out_sum += pa = stackOut.a;
          r_in_sum -= pr;
          g_in_sum -= pg;
          b_in_sum -= pb;
          a_in_sum -= pa;
          stackOut = stackOut.next;
          yi += width;
        }
      }
    }
    var Blur = function Blur2(imageData) {
      var radius = Math.round(this.blurRadius());
      if (radius > 0) {
        filterGaussBlurRGBA(imageData, radius);
      }
    };
    exports.Blur = Blur;
    Factory_1.Factory.addGetterSetter(Node_1.Node, "blurRadius", 0, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
  }
});

// node_modules/konva/lib/filters/Brighten.js
var require_Brighten = __commonJS({
  "node_modules/konva/lib/filters/Brighten.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Brighten = void 0;
    var Factory_1 = require_Factory();
    var Node_1 = require_Node();
    var Validators_1 = require_Validators();
    var Brighten = function(imageData) {
      var brightness = this.brightness() * 255, data = imageData.data, len = data.length, i;
      for (i = 0; i < len; i += 4) {
        data[i] += brightness;
        data[i + 1] += brightness;
        data[i + 2] += brightness;
      }
    };
    exports.Brighten = Brighten;
    Factory_1.Factory.addGetterSetter(Node_1.Node, "brightness", 0, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
  }
});

// node_modules/konva/lib/filters/Contrast.js
var require_Contrast = __commonJS({
  "node_modules/konva/lib/filters/Contrast.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Contrast = void 0;
    var Factory_1 = require_Factory();
    var Node_1 = require_Node();
    var Validators_1 = require_Validators();
    var Contrast = function(imageData) {
      var adjust = Math.pow((this.contrast() + 100) / 100, 2);
      var data = imageData.data, nPixels = data.length, red = 150, green = 150, blue = 150, i;
      for (i = 0; i < nPixels; i += 4) {
        red = data[i];
        green = data[i + 1];
        blue = data[i + 2];
        red /= 255;
        red -= 0.5;
        red *= adjust;
        red += 0.5;
        red *= 255;
        green /= 255;
        green -= 0.5;
        green *= adjust;
        green += 0.5;
        green *= 255;
        blue /= 255;
        blue -= 0.5;
        blue *= adjust;
        blue += 0.5;
        blue *= 255;
        red = red < 0 ? 0 : red > 255 ? 255 : red;
        green = green < 0 ? 0 : green > 255 ? 255 : green;
        blue = blue < 0 ? 0 : blue > 255 ? 255 : blue;
        data[i] = red;
        data[i + 1] = green;
        data[i + 2] = blue;
      }
    };
    exports.Contrast = Contrast;
    Factory_1.Factory.addGetterSetter(Node_1.Node, "contrast", 0, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
  }
});

// node_modules/konva/lib/filters/Emboss.js
var require_Emboss = __commonJS({
  "node_modules/konva/lib/filters/Emboss.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Emboss = void 0;
    var Factory_1 = require_Factory();
    var Node_1 = require_Node();
    var Util_1 = require_Util();
    var Validators_1 = require_Validators();
    var Emboss = function(imageData) {
      var strength = this.embossStrength() * 10, greyLevel = this.embossWhiteLevel() * 255, direction = this.embossDirection(), blend = this.embossBlend(), dirY = 0, dirX = 0, data = imageData.data, w = imageData.width, h = imageData.height, w4 = w * 4, y = h;
      switch (direction) {
        case "top-left":
          dirY = -1;
          dirX = -1;
          break;
        case "top":
          dirY = -1;
          dirX = 0;
          break;
        case "top-right":
          dirY = -1;
          dirX = 1;
          break;
        case "right":
          dirY = 0;
          dirX = 1;
          break;
        case "bottom-right":
          dirY = 1;
          dirX = 1;
          break;
        case "bottom":
          dirY = 1;
          dirX = 0;
          break;
        case "bottom-left":
          dirY = 1;
          dirX = -1;
          break;
        case "left":
          dirY = 0;
          dirX = -1;
          break;
        default:
          Util_1.Util.error("Unknown emboss direction: " + direction);
      }
      do {
        var offsetY = (y - 1) * w4;
        var otherY = dirY;
        if (y + otherY < 1) {
          otherY = 0;
        }
        if (y + otherY > h) {
          otherY = 0;
        }
        var offsetYOther = (y - 1 + otherY) * w * 4;
        var x = w;
        do {
          var offset = offsetY + (x - 1) * 4;
          var otherX = dirX;
          if (x + otherX < 1) {
            otherX = 0;
          }
          if (x + otherX > w) {
            otherX = 0;
          }
          var offsetOther = offsetYOther + (x - 1 + otherX) * 4;
          var dR = data[offset] - data[offsetOther];
          var dG = data[offset + 1] - data[offsetOther + 1];
          var dB = data[offset + 2] - data[offsetOther + 2];
          var dif = dR;
          var absDif = dif > 0 ? dif : -dif;
          var absG = dG > 0 ? dG : -dG;
          var absB = dB > 0 ? dB : -dB;
          if (absG > absDif) {
            dif = dG;
          }
          if (absB > absDif) {
            dif = dB;
          }
          dif *= strength;
          if (blend) {
            var r = data[offset] + dif;
            var g = data[offset + 1] + dif;
            var b = data[offset + 2] + dif;
            data[offset] = r > 255 ? 255 : r < 0 ? 0 : r;
            data[offset + 1] = g > 255 ? 255 : g < 0 ? 0 : g;
            data[offset + 2] = b > 255 ? 255 : b < 0 ? 0 : b;
          } else {
            var grey = greyLevel - dif;
            if (grey < 0) {
              grey = 0;
            } else if (grey > 255) {
              grey = 255;
            }
            data[offset] = data[offset + 1] = data[offset + 2] = grey;
          }
        } while (--x);
      } while (--y);
    };
    exports.Emboss = Emboss;
    Factory_1.Factory.addGetterSetter(Node_1.Node, "embossStrength", 0.5, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
    Factory_1.Factory.addGetterSetter(Node_1.Node, "embossWhiteLevel", 0.5, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
    Factory_1.Factory.addGetterSetter(Node_1.Node, "embossDirection", "top-left", null, Factory_1.Factory.afterSetFilter);
    Factory_1.Factory.addGetterSetter(Node_1.Node, "embossBlend", false, null, Factory_1.Factory.afterSetFilter);
  }
});

// node_modules/konva/lib/filters/Enhance.js
var require_Enhance = __commonJS({
  "node_modules/konva/lib/filters/Enhance.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Enhance = void 0;
    var Factory_1 = require_Factory();
    var Node_1 = require_Node();
    var Validators_1 = require_Validators();
    function remap(fromValue, fromMin, fromMax, toMin, toMax) {
      var fromRange = fromMax - fromMin, toRange = toMax - toMin, toValue;
      if (fromRange === 0) {
        return toMin + toRange / 2;
      }
      if (toRange === 0) {
        return toMin;
      }
      toValue = (fromValue - fromMin) / fromRange;
      toValue = toRange * toValue + toMin;
      return toValue;
    }
    var Enhance = function(imageData) {
      var data = imageData.data, nSubPixels = data.length, rMin = data[0], rMax = rMin, r, gMin = data[1], gMax = gMin, g, bMin = data[2], bMax = bMin, b, i;
      var enhanceAmount = this.enhance();
      if (enhanceAmount === 0) {
        return;
      }
      for (i = 0; i < nSubPixels; i += 4) {
        r = data[i + 0];
        if (r < rMin) {
          rMin = r;
        } else if (r > rMax) {
          rMax = r;
        }
        g = data[i + 1];
        if (g < gMin) {
          gMin = g;
        } else if (g > gMax) {
          gMax = g;
        }
        b = data[i + 2];
        if (b < bMin) {
          bMin = b;
        } else if (b > bMax) {
          bMax = b;
        }
      }
      if (rMax === rMin) {
        rMax = 255;
        rMin = 0;
      }
      if (gMax === gMin) {
        gMax = 255;
        gMin = 0;
      }
      if (bMax === bMin) {
        bMax = 255;
        bMin = 0;
      }
      var rMid, rGoalMax, rGoalMin, gMid, gGoalMax, gGoalMin, bMid, bGoalMax, bGoalMin;
      if (enhanceAmount > 0) {
        rGoalMax = rMax + enhanceAmount * (255 - rMax);
        rGoalMin = rMin - enhanceAmount * (rMin - 0);
        gGoalMax = gMax + enhanceAmount * (255 - gMax);
        gGoalMin = gMin - enhanceAmount * (gMin - 0);
        bGoalMax = bMax + enhanceAmount * (255 - bMax);
        bGoalMin = bMin - enhanceAmount * (bMin - 0);
      } else {
        rMid = (rMax + rMin) * 0.5;
        rGoalMax = rMax + enhanceAmount * (rMax - rMid);
        rGoalMin = rMin + enhanceAmount * (rMin - rMid);
        gMid = (gMax + gMin) * 0.5;
        gGoalMax = gMax + enhanceAmount * (gMax - gMid);
        gGoalMin = gMin + enhanceAmount * (gMin - gMid);
        bMid = (bMax + bMin) * 0.5;
        bGoalMax = bMax + enhanceAmount * (bMax - bMid);
        bGoalMin = bMin + enhanceAmount * (bMin - bMid);
      }
      for (i = 0; i < nSubPixels; i += 4) {
        data[i + 0] = remap(data[i + 0], rMin, rMax, rGoalMin, rGoalMax);
        data[i + 1] = remap(data[i + 1], gMin, gMax, gGoalMin, gGoalMax);
        data[i + 2] = remap(data[i + 2], bMin, bMax, bGoalMin, bGoalMax);
      }
    };
    exports.Enhance = Enhance;
    Factory_1.Factory.addGetterSetter(Node_1.Node, "enhance", 0, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
  }
});

// node_modules/konva/lib/filters/Grayscale.js
var require_Grayscale = __commonJS({
  "node_modules/konva/lib/filters/Grayscale.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Grayscale = void 0;
    var Grayscale = function(imageData) {
      var data = imageData.data, len = data.length, i, brightness;
      for (i = 0; i < len; i += 4) {
        brightness = 0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2];
        data[i] = brightness;
        data[i + 1] = brightness;
        data[i + 2] = brightness;
      }
    };
    exports.Grayscale = Grayscale;
  }
});

// node_modules/konva/lib/filters/HSL.js
var require_HSL = __commonJS({
  "node_modules/konva/lib/filters/HSL.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.HSL = void 0;
    var Factory_1 = require_Factory();
    var Node_1 = require_Node();
    var Validators_1 = require_Validators();
    Factory_1.Factory.addGetterSetter(Node_1.Node, "hue", 0, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
    Factory_1.Factory.addGetterSetter(Node_1.Node, "saturation", 0, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
    Factory_1.Factory.addGetterSetter(Node_1.Node, "luminance", 0, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
    var HSL = function(imageData) {
      var data = imageData.data, nPixels = data.length, v = 1, s = Math.pow(2, this.saturation()), h = Math.abs(this.hue() + 360) % 360, l = this.luminance() * 127, i;
      var vsu = v * s * Math.cos(h * Math.PI / 180), vsw = v * s * Math.sin(h * Math.PI / 180);
      var rr = 0.299 * v + 0.701 * vsu + 0.167 * vsw, rg = 0.587 * v - 0.587 * vsu + 0.33 * vsw, rb = 0.114 * v - 0.114 * vsu - 0.497 * vsw;
      var gr = 0.299 * v - 0.299 * vsu - 0.328 * vsw, gg = 0.587 * v + 0.413 * vsu + 0.035 * vsw, gb = 0.114 * v - 0.114 * vsu + 0.293 * vsw;
      var br = 0.299 * v - 0.3 * vsu + 1.25 * vsw, bg = 0.587 * v - 0.586 * vsu - 1.05 * vsw, bb = 0.114 * v + 0.886 * vsu - 0.2 * vsw;
      var r, g, b, a;
      for (i = 0; i < nPixels; i += 4) {
        r = data[i + 0];
        g = data[i + 1];
        b = data[i + 2];
        a = data[i + 3];
        data[i + 0] = rr * r + rg * g + rb * b + l;
        data[i + 1] = gr * r + gg * g + gb * b + l;
        data[i + 2] = br * r + bg * g + bb * b + l;
        data[i + 3] = a;
      }
    };
    exports.HSL = HSL;
  }
});

// node_modules/konva/lib/filters/HSV.js
var require_HSV = __commonJS({
  "node_modules/konva/lib/filters/HSV.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.HSV = void 0;
    var Factory_1 = require_Factory();
    var Node_1 = require_Node();
    var Validators_1 = require_Validators();
    var HSV = function(imageData) {
      var data = imageData.data, nPixels = data.length, v = Math.pow(2, this.value()), s = Math.pow(2, this.saturation()), h = Math.abs(this.hue() + 360) % 360, i;
      var vsu = v * s * Math.cos(h * Math.PI / 180), vsw = v * s * Math.sin(h * Math.PI / 180);
      var rr = 0.299 * v + 0.701 * vsu + 0.167 * vsw, rg = 0.587 * v - 0.587 * vsu + 0.33 * vsw, rb = 0.114 * v - 0.114 * vsu - 0.497 * vsw;
      var gr = 0.299 * v - 0.299 * vsu - 0.328 * vsw, gg = 0.587 * v + 0.413 * vsu + 0.035 * vsw, gb = 0.114 * v - 0.114 * vsu + 0.293 * vsw;
      var br = 0.299 * v - 0.3 * vsu + 1.25 * vsw, bg = 0.587 * v - 0.586 * vsu - 1.05 * vsw, bb = 0.114 * v + 0.886 * vsu - 0.2 * vsw;
      var r, g, b, a;
      for (i = 0; i < nPixels; i += 4) {
        r = data[i + 0];
        g = data[i + 1];
        b = data[i + 2];
        a = data[i + 3];
        data[i + 0] = rr * r + rg * g + rb * b;
        data[i + 1] = gr * r + gg * g + gb * b;
        data[i + 2] = br * r + bg * g + bb * b;
        data[i + 3] = a;
      }
    };
    exports.HSV = HSV;
    Factory_1.Factory.addGetterSetter(Node_1.Node, "hue", 0, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
    Factory_1.Factory.addGetterSetter(Node_1.Node, "saturation", 0, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
    Factory_1.Factory.addGetterSetter(Node_1.Node, "value", 0, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
  }
});

// node_modules/konva/lib/filters/Invert.js
var require_Invert = __commonJS({
  "node_modules/konva/lib/filters/Invert.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Invert = void 0;
    var Invert = function(imageData) {
      var data = imageData.data, len = data.length, i;
      for (i = 0; i < len; i += 4) {
        data[i] = 255 - data[i];
        data[i + 1] = 255 - data[i + 1];
        data[i + 2] = 255 - data[i + 2];
      }
    };
    exports.Invert = Invert;
  }
});

// node_modules/konva/lib/filters/Kaleidoscope.js
var require_Kaleidoscope = __commonJS({
  "node_modules/konva/lib/filters/Kaleidoscope.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Kaleidoscope = void 0;
    var Factory_1 = require_Factory();
    var Node_1 = require_Node();
    var Util_1 = require_Util();
    var Validators_1 = require_Validators();
    var ToPolar = function(src, dst, opt) {
      var srcPixels = src.data, dstPixels = dst.data, xSize = src.width, ySize = src.height, xMid = opt.polarCenterX || xSize / 2, yMid = opt.polarCenterY || ySize / 2, i, x, y, r = 0, g = 0, b = 0, a = 0;
      var rad, rMax = Math.sqrt(xMid * xMid + yMid * yMid);
      x = xSize - xMid;
      y = ySize - yMid;
      rad = Math.sqrt(x * x + y * y);
      rMax = rad > rMax ? rad : rMax;
      var rSize = ySize, tSize = xSize, radius, theta;
      var conversion = 360 / tSize * Math.PI / 180, sin, cos;
      for (theta = 0; theta < tSize; theta += 1) {
        sin = Math.sin(theta * conversion);
        cos = Math.cos(theta * conversion);
        for (radius = 0; radius < rSize; radius += 1) {
          x = Math.floor(xMid + rMax * radius / rSize * cos);
          y = Math.floor(yMid + rMax * radius / rSize * sin);
          i = (y * xSize + x) * 4;
          r = srcPixels[i + 0];
          g = srcPixels[i + 1];
          b = srcPixels[i + 2];
          a = srcPixels[i + 3];
          i = (theta + radius * xSize) * 4;
          dstPixels[i + 0] = r;
          dstPixels[i + 1] = g;
          dstPixels[i + 2] = b;
          dstPixels[i + 3] = a;
        }
      }
    };
    var FromPolar = function(src, dst, opt) {
      var srcPixels = src.data, dstPixels = dst.data, xSize = src.width, ySize = src.height, xMid = opt.polarCenterX || xSize / 2, yMid = opt.polarCenterY || ySize / 2, i, x, y, dx, dy, r = 0, g = 0, b = 0, a = 0;
      var rad, rMax = Math.sqrt(xMid * xMid + yMid * yMid);
      x = xSize - xMid;
      y = ySize - yMid;
      rad = Math.sqrt(x * x + y * y);
      rMax = rad > rMax ? rad : rMax;
      var rSize = ySize, tSize = xSize, radius, theta, phaseShift = opt.polarRotation || 0;
      var x1, y1;
      for (x = 0; x < xSize; x += 1) {
        for (y = 0; y < ySize; y += 1) {
          dx = x - xMid;
          dy = y - yMid;
          radius = Math.sqrt(dx * dx + dy * dy) * rSize / rMax;
          theta = (Math.atan2(dy, dx) * 180 / Math.PI + 360 + phaseShift) % 360;
          theta = theta * tSize / 360;
          x1 = Math.floor(theta);
          y1 = Math.floor(radius);
          i = (y1 * xSize + x1) * 4;
          r = srcPixels[i + 0];
          g = srcPixels[i + 1];
          b = srcPixels[i + 2];
          a = srcPixels[i + 3];
          i = (y * xSize + x) * 4;
          dstPixels[i + 0] = r;
          dstPixels[i + 1] = g;
          dstPixels[i + 2] = b;
          dstPixels[i + 3] = a;
        }
      }
    };
    var Kaleidoscope = function(imageData) {
      var xSize = imageData.width, ySize = imageData.height;
      var x, y, xoff, i, r, g, b, a, srcPos, dstPos;
      var power = Math.round(this.kaleidoscopePower());
      var angle = Math.round(this.kaleidoscopeAngle());
      var offset = Math.floor(xSize * (angle % 360) / 360);
      if (power < 1) {
        return;
      }
      var tempCanvas = Util_1.Util.createCanvasElement();
      tempCanvas.width = xSize;
      tempCanvas.height = ySize;
      var scratchData = tempCanvas.getContext("2d").getImageData(0, 0, xSize, ySize);
      Util_1.Util.releaseCanvas(tempCanvas);
      ToPolar(imageData, scratchData, {
        polarCenterX: xSize / 2,
        polarCenterY: ySize / 2
      });
      var minSectionSize = xSize / Math.pow(2, power);
      while (minSectionSize <= 8) {
        minSectionSize = minSectionSize * 2;
        power -= 1;
      }
      minSectionSize = Math.ceil(minSectionSize);
      var sectionSize = minSectionSize;
      var xStart = 0, xEnd = sectionSize, xDelta = 1;
      if (offset + minSectionSize > xSize) {
        xStart = sectionSize;
        xEnd = 0;
        xDelta = -1;
      }
      for (y = 0; y < ySize; y += 1) {
        for (x = xStart; x !== xEnd; x += xDelta) {
          xoff = Math.round(x + offset) % xSize;
          srcPos = (xSize * y + xoff) * 4;
          r = scratchData.data[srcPos + 0];
          g = scratchData.data[srcPos + 1];
          b = scratchData.data[srcPos + 2];
          a = scratchData.data[srcPos + 3];
          dstPos = (xSize * y + x) * 4;
          scratchData.data[dstPos + 0] = r;
          scratchData.data[dstPos + 1] = g;
          scratchData.data[dstPos + 2] = b;
          scratchData.data[dstPos + 3] = a;
        }
      }
      for (y = 0; y < ySize; y += 1) {
        sectionSize = Math.floor(minSectionSize);
        for (i = 0; i < power; i += 1) {
          for (x = 0; x < sectionSize + 1; x += 1) {
            srcPos = (xSize * y + x) * 4;
            r = scratchData.data[srcPos + 0];
            g = scratchData.data[srcPos + 1];
            b = scratchData.data[srcPos + 2];
            a = scratchData.data[srcPos + 3];
            dstPos = (xSize * y + sectionSize * 2 - x - 1) * 4;
            scratchData.data[dstPos + 0] = r;
            scratchData.data[dstPos + 1] = g;
            scratchData.data[dstPos + 2] = b;
            scratchData.data[dstPos + 3] = a;
          }
          sectionSize *= 2;
        }
      }
      FromPolar(scratchData, imageData, { polarRotation: 0 });
    };
    exports.Kaleidoscope = Kaleidoscope;
    Factory_1.Factory.addGetterSetter(Node_1.Node, "kaleidoscopePower", 2, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
    Factory_1.Factory.addGetterSetter(Node_1.Node, "kaleidoscopeAngle", 0, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
  }
});

// node_modules/konva/lib/filters/Mask.js
var require_Mask = __commonJS({
  "node_modules/konva/lib/filters/Mask.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Mask = void 0;
    var Factory_1 = require_Factory();
    var Node_1 = require_Node();
    var Validators_1 = require_Validators();
    function pixelAt(idata, x, y) {
      var idx = (y * idata.width + x) * 4;
      var d = [];
      d.push(idata.data[idx++], idata.data[idx++], idata.data[idx++], idata.data[idx++]);
      return d;
    }
    function rgbDistance(p1, p2) {
      return Math.sqrt(Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2) + Math.pow(p1[2] - p2[2], 2));
    }
    function rgbMean(pTab) {
      var m = [0, 0, 0];
      for (var i = 0; i < pTab.length; i++) {
        m[0] += pTab[i][0];
        m[1] += pTab[i][1];
        m[2] += pTab[i][2];
      }
      m[0] /= pTab.length;
      m[1] /= pTab.length;
      m[2] /= pTab.length;
      return m;
    }
    function backgroundMask(idata, threshold) {
      var rgbv_no = pixelAt(idata, 0, 0);
      var rgbv_ne = pixelAt(idata, idata.width - 1, 0);
      var rgbv_so = pixelAt(idata, 0, idata.height - 1);
      var rgbv_se = pixelAt(idata, idata.width - 1, idata.height - 1);
      var thres = threshold || 10;
      if (rgbDistance(rgbv_no, rgbv_ne) < thres && rgbDistance(rgbv_ne, rgbv_se) < thres && rgbDistance(rgbv_se, rgbv_so) < thres && rgbDistance(rgbv_so, rgbv_no) < thres) {
        var mean = rgbMean([rgbv_ne, rgbv_no, rgbv_se, rgbv_so]);
        var mask = [];
        for (var i = 0; i < idata.width * idata.height; i++) {
          var d = rgbDistance(mean, [
            idata.data[i * 4],
            idata.data[i * 4 + 1],
            idata.data[i * 4 + 2]
          ]);
          mask[i] = d < thres ? 0 : 255;
        }
        return mask;
      }
    }
    function applyMask(idata, mask) {
      for (var i = 0; i < idata.width * idata.height; i++) {
        idata.data[4 * i + 3] = mask[i];
      }
    }
    function erodeMask(mask, sw, sh) {
      var weights = [1, 1, 1, 1, 0, 1, 1, 1, 1];
      var side = Math.round(Math.sqrt(weights.length));
      var halfSide = Math.floor(side / 2);
      var maskResult = [];
      for (var y = 0; y < sh; y++) {
        for (var x = 0; x < sw; x++) {
          var so = y * sw + x;
          var a = 0;
          for (var cy = 0; cy < side; cy++) {
            for (var cx = 0; cx < side; cx++) {
              var scy = y + cy - halfSide;
              var scx = x + cx - halfSide;
              if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {
                var srcOff = scy * sw + scx;
                var wt = weights[cy * side + cx];
                a += mask[srcOff] * wt;
              }
            }
          }
          maskResult[so] = a === 255 * 8 ? 255 : 0;
        }
      }
      return maskResult;
    }
    function dilateMask(mask, sw, sh) {
      var weights = [1, 1, 1, 1, 1, 1, 1, 1, 1];
      var side = Math.round(Math.sqrt(weights.length));
      var halfSide = Math.floor(side / 2);
      var maskResult = [];
      for (var y = 0; y < sh; y++) {
        for (var x = 0; x < sw; x++) {
          var so = y * sw + x;
          var a = 0;
          for (var cy = 0; cy < side; cy++) {
            for (var cx = 0; cx < side; cx++) {
              var scy = y + cy - halfSide;
              var scx = x + cx - halfSide;
              if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {
                var srcOff = scy * sw + scx;
                var wt = weights[cy * side + cx];
                a += mask[srcOff] * wt;
              }
            }
          }
          maskResult[so] = a >= 255 * 4 ? 255 : 0;
        }
      }
      return maskResult;
    }
    function smoothEdgeMask(mask, sw, sh) {
      var weights = [1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9];
      var side = Math.round(Math.sqrt(weights.length));
      var halfSide = Math.floor(side / 2);
      var maskResult = [];
      for (var y = 0; y < sh; y++) {
        for (var x = 0; x < sw; x++) {
          var so = y * sw + x;
          var a = 0;
          for (var cy = 0; cy < side; cy++) {
            for (var cx = 0; cx < side; cx++) {
              var scy = y + cy - halfSide;
              var scx = x + cx - halfSide;
              if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {
                var srcOff = scy * sw + scx;
                var wt = weights[cy * side + cx];
                a += mask[srcOff] * wt;
              }
            }
          }
          maskResult[so] = a;
        }
      }
      return maskResult;
    }
    var Mask = function(imageData) {
      var threshold = this.threshold(), mask = backgroundMask(imageData, threshold);
      if (mask) {
        mask = erodeMask(mask, imageData.width, imageData.height);
        mask = dilateMask(mask, imageData.width, imageData.height);
        mask = smoothEdgeMask(mask, imageData.width, imageData.height);
        applyMask(imageData, mask);
      }
      return imageData;
    };
    exports.Mask = Mask;
    Factory_1.Factory.addGetterSetter(Node_1.Node, "threshold", 0, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
  }
});

// node_modules/konva/lib/filters/Noise.js
var require_Noise = __commonJS({
  "node_modules/konva/lib/filters/Noise.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Noise = void 0;
    var Factory_1 = require_Factory();
    var Node_1 = require_Node();
    var Validators_1 = require_Validators();
    var Noise = function(imageData) {
      var amount = this.noise() * 255, data = imageData.data, nPixels = data.length, half = amount / 2, i;
      for (i = 0; i < nPixels; i += 4) {
        data[i + 0] += half - 2 * half * Math.random();
        data[i + 1] += half - 2 * half * Math.random();
        data[i + 2] += half - 2 * half * Math.random();
      }
    };
    exports.Noise = Noise;
    Factory_1.Factory.addGetterSetter(Node_1.Node, "noise", 0.2, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
  }
});

// node_modules/konva/lib/filters/Pixelate.js
var require_Pixelate = __commonJS({
  "node_modules/konva/lib/filters/Pixelate.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Pixelate = void 0;
    var Factory_1 = require_Factory();
    var Util_1 = require_Util();
    var Node_1 = require_Node();
    var Validators_1 = require_Validators();
    var Pixelate = function(imageData) {
      var pixelSize = Math.ceil(this.pixelSize()), width = imageData.width, height = imageData.height, x, y, i, red, green, blue, alpha, nBinsX = Math.ceil(width / pixelSize), nBinsY = Math.ceil(height / pixelSize), xBinStart, xBinEnd, yBinStart, yBinEnd, xBin, yBin, pixelsInBin, data = imageData.data;
      if (pixelSize <= 0) {
        Util_1.Util.error("pixelSize value can not be <= 0");
        return;
      }
      for (xBin = 0; xBin < nBinsX; xBin += 1) {
        for (yBin = 0; yBin < nBinsY; yBin += 1) {
          red = 0;
          green = 0;
          blue = 0;
          alpha = 0;
          xBinStart = xBin * pixelSize;
          xBinEnd = xBinStart + pixelSize;
          yBinStart = yBin * pixelSize;
          yBinEnd = yBinStart + pixelSize;
          pixelsInBin = 0;
          for (x = xBinStart; x < xBinEnd; x += 1) {
            if (x >= width) {
              continue;
            }
            for (y = yBinStart; y < yBinEnd; y += 1) {
              if (y >= height) {
                continue;
              }
              i = (width * y + x) * 4;
              red += data[i + 0];
              green += data[i + 1];
              blue += data[i + 2];
              alpha += data[i + 3];
              pixelsInBin += 1;
            }
          }
          red = red / pixelsInBin;
          green = green / pixelsInBin;
          blue = blue / pixelsInBin;
          alpha = alpha / pixelsInBin;
          for (x = xBinStart; x < xBinEnd; x += 1) {
            if (x >= width) {
              continue;
            }
            for (y = yBinStart; y < yBinEnd; y += 1) {
              if (y >= height) {
                continue;
              }
              i = (width * y + x) * 4;
              data[i + 0] = red;
              data[i + 1] = green;
              data[i + 2] = blue;
              data[i + 3] = alpha;
            }
          }
        }
      }
    };
    exports.Pixelate = Pixelate;
    Factory_1.Factory.addGetterSetter(Node_1.Node, "pixelSize", 8, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
  }
});

// node_modules/konva/lib/filters/Posterize.js
var require_Posterize = __commonJS({
  "node_modules/konva/lib/filters/Posterize.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Posterize = void 0;
    var Factory_1 = require_Factory();
    var Node_1 = require_Node();
    var Validators_1 = require_Validators();
    var Posterize = function(imageData) {
      var levels = Math.round(this.levels() * 254) + 1, data = imageData.data, len = data.length, scale = 255 / levels, i;
      for (i = 0; i < len; i += 1) {
        data[i] = Math.floor(data[i] / scale) * scale;
      }
    };
    exports.Posterize = Posterize;
    Factory_1.Factory.addGetterSetter(Node_1.Node, "levels", 0.5, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
  }
});

// node_modules/konva/lib/filters/RGB.js
var require_RGB = __commonJS({
  "node_modules/konva/lib/filters/RGB.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.RGB = void 0;
    var Factory_1 = require_Factory();
    var Node_1 = require_Node();
    var Validators_1 = require_Validators();
    var RGB = function(imageData) {
      var data = imageData.data, nPixels = data.length, red = this.red(), green = this.green(), blue = this.blue(), i, brightness;
      for (i = 0; i < nPixels; i += 4) {
        brightness = (0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2]) / 255;
        data[i] = brightness * red;
        data[i + 1] = brightness * green;
        data[i + 2] = brightness * blue;
        data[i + 3] = data[i + 3];
      }
    };
    exports.RGB = RGB;
    Factory_1.Factory.addGetterSetter(Node_1.Node, "red", 0, function(val) {
      this._filterUpToDate = false;
      if (val > 255) {
        return 255;
      } else if (val < 0) {
        return 0;
      } else {
        return Math.round(val);
      }
    });
    Factory_1.Factory.addGetterSetter(Node_1.Node, "green", 0, function(val) {
      this._filterUpToDate = false;
      if (val > 255) {
        return 255;
      } else if (val < 0) {
        return 0;
      } else {
        return Math.round(val);
      }
    });
    Factory_1.Factory.addGetterSetter(Node_1.Node, "blue", 0, Validators_1.RGBComponent, Factory_1.Factory.afterSetFilter);
  }
});

// node_modules/konva/lib/filters/RGBA.js
var require_RGBA = __commonJS({
  "node_modules/konva/lib/filters/RGBA.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.RGBA = void 0;
    var Factory_1 = require_Factory();
    var Node_1 = require_Node();
    var Validators_1 = require_Validators();
    var RGBA = function(imageData) {
      var data = imageData.data, nPixels = data.length, red = this.red(), green = this.green(), blue = this.blue(), alpha = this.alpha(), i, ia;
      for (i = 0; i < nPixels; i += 4) {
        ia = 1 - alpha;
        data[i] = red * alpha + data[i] * ia;
        data[i + 1] = green * alpha + data[i + 1] * ia;
        data[i + 2] = blue * alpha + data[i + 2] * ia;
      }
    };
    exports.RGBA = RGBA;
    Factory_1.Factory.addGetterSetter(Node_1.Node, "red", 0, function(val) {
      this._filterUpToDate = false;
      if (val > 255) {
        return 255;
      } else if (val < 0) {
        return 0;
      } else {
        return Math.round(val);
      }
    });
    Factory_1.Factory.addGetterSetter(Node_1.Node, "green", 0, function(val) {
      this._filterUpToDate = false;
      if (val > 255) {
        return 255;
      } else if (val < 0) {
        return 0;
      } else {
        return Math.round(val);
      }
    });
    Factory_1.Factory.addGetterSetter(Node_1.Node, "blue", 0, Validators_1.RGBComponent, Factory_1.Factory.afterSetFilter);
    Factory_1.Factory.addGetterSetter(Node_1.Node, "alpha", 1, function(val) {
      this._filterUpToDate = false;
      if (val > 1) {
        return 1;
      } else if (val < 0) {
        return 0;
      } else {
        return val;
      }
    });
  }
});

// node_modules/konva/lib/filters/Sepia.js
var require_Sepia = __commonJS({
  "node_modules/konva/lib/filters/Sepia.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Sepia = void 0;
    var Sepia = function(imageData) {
      var data = imageData.data, nPixels = data.length, i, r, g, b;
      for (i = 0; i < nPixels; i += 4) {
        r = data[i + 0];
        g = data[i + 1];
        b = data[i + 2];
        data[i + 0] = Math.min(255, r * 0.393 + g * 0.769 + b * 0.189);
        data[i + 1] = Math.min(255, r * 0.349 + g * 0.686 + b * 0.168);
        data[i + 2] = Math.min(255, r * 0.272 + g * 0.534 + b * 0.131);
      }
    };
    exports.Sepia = Sepia;
  }
});

// node_modules/konva/lib/filters/Solarize.js
var require_Solarize = __commonJS({
  "node_modules/konva/lib/filters/Solarize.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Solarize = void 0;
    var Solarize = function(imageData) {
      var data = imageData.data, w = imageData.width, h = imageData.height, w4 = w * 4, y = h;
      do {
        var offsetY = (y - 1) * w4;
        var x = w;
        do {
          var offset = offsetY + (x - 1) * 4;
          var r = data[offset];
          var g = data[offset + 1];
          var b = data[offset + 2];
          if (r > 127) {
            r = 255 - r;
          }
          if (g > 127) {
            g = 255 - g;
          }
          if (b > 127) {
            b = 255 - b;
          }
          data[offset] = r;
          data[offset + 1] = g;
          data[offset + 2] = b;
        } while (--x);
      } while (--y);
    };
    exports.Solarize = Solarize;
  }
});

// node_modules/konva/lib/filters/Threshold.js
var require_Threshold = __commonJS({
  "node_modules/konva/lib/filters/Threshold.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Threshold = void 0;
    var Factory_1 = require_Factory();
    var Node_1 = require_Node();
    var Validators_1 = require_Validators();
    var Threshold = function(imageData) {
      var level = this.threshold() * 255, data = imageData.data, len = data.length, i;
      for (i = 0; i < len; i += 1) {
        data[i] = data[i] < level ? 0 : 255;
      }
    };
    exports.Threshold = Threshold;
    Factory_1.Factory.addGetterSetter(Node_1.Node, "threshold", 0.5, (0, Validators_1.getNumberValidator)(), Factory_1.Factory.afterSetFilter);
  }
});

// node_modules/konva/lib/_FullInternals.js
var require_FullInternals = __commonJS({
  "node_modules/konva/lib/_FullInternals.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Konva = void 0;
    var _CoreInternals_1 = require_CoreInternals();
    var Arc_1 = require_Arc();
    var Arrow_1 = require_Arrow();
    var Circle_1 = require_Circle();
    var Ellipse_1 = require_Ellipse();
    var Image_1 = require_Image();
    var Label_1 = require_Label();
    var Line_1 = require_Line();
    var Path_1 = require_Path();
    var Rect_1 = require_Rect();
    var RegularPolygon_1 = require_RegularPolygon();
    var Ring_1 = require_Ring();
    var Sprite_1 = require_Sprite();
    var Star_1 = require_Star();
    var Text_1 = require_Text();
    var TextPath_1 = require_TextPath();
    var Transformer_1 = require_Transformer();
    var Wedge_1 = require_Wedge();
    var Blur_1 = require_Blur();
    var Brighten_1 = require_Brighten();
    var Contrast_1 = require_Contrast();
    var Emboss_1 = require_Emboss();
    var Enhance_1 = require_Enhance();
    var Grayscale_1 = require_Grayscale();
    var HSL_1 = require_HSL();
    var HSV_1 = require_HSV();
    var Invert_1 = require_Invert();
    var Kaleidoscope_1 = require_Kaleidoscope();
    var Mask_1 = require_Mask();
    var Noise_1 = require_Noise();
    var Pixelate_1 = require_Pixelate();
    var Posterize_1 = require_Posterize();
    var RGB_1 = require_RGB();
    var RGBA_1 = require_RGBA();
    var Sepia_1 = require_Sepia();
    var Solarize_1 = require_Solarize();
    var Threshold_1 = require_Threshold();
    exports.Konva = _CoreInternals_1.Konva.Util._assign(_CoreInternals_1.Konva, {
      Arc: Arc_1.Arc,
      Arrow: Arrow_1.Arrow,
      Circle: Circle_1.Circle,
      Ellipse: Ellipse_1.Ellipse,
      Image: Image_1.Image,
      Label: Label_1.Label,
      Tag: Label_1.Tag,
      Line: Line_1.Line,
      Path: Path_1.Path,
      Rect: Rect_1.Rect,
      RegularPolygon: RegularPolygon_1.RegularPolygon,
      Ring: Ring_1.Ring,
      Sprite: Sprite_1.Sprite,
      Star: Star_1.Star,
      Text: Text_1.Text,
      TextPath: TextPath_1.TextPath,
      Transformer: Transformer_1.Transformer,
      Wedge: Wedge_1.Wedge,
      Filters: {
        Blur: Blur_1.Blur,
        Brighten: Brighten_1.Brighten,
        Contrast: Contrast_1.Contrast,
        Emboss: Emboss_1.Emboss,
        Enhance: Enhance_1.Enhance,
        Grayscale: Grayscale_1.Grayscale,
        HSL: HSL_1.HSL,
        HSV: HSV_1.HSV,
        Invert: Invert_1.Invert,
        Kaleidoscope: Kaleidoscope_1.Kaleidoscope,
        Mask: Mask_1.Mask,
        Noise: Noise_1.Noise,
        Pixelate: Pixelate_1.Pixelate,
        Posterize: Posterize_1.Posterize,
        RGB: RGB_1.RGB,
        RGBA: RGBA_1.RGBA,
        Sepia: Sepia_1.Sepia,
        Solarize: Solarize_1.Solarize,
        Threshold: Threshold_1.Threshold
      }
    });
  }
});

// node_modules/konva/lib/index.js
var require_lib = __commonJS({
  "node_modules/konva/lib/index.js"(exports, module2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var _FullInternals_1 = require_FullInternals();
    module2.exports = _FullInternals_1.Konva;
  }
});

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => SketchMD2
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");

// src/modal/mainModal.ts
var import_obsidian2 = require("obsidian");

// node_modules/svelte/src/runtime/internal/utils.js
function noop() {
}
function assign(tar, src) {
  for (const k in src)
    tar[k] = src[k];
  return (
    /** @type {T & S} */
    tar
  );
}
function run(fn) {
  return fn();
}
function blank_object() {
  return /* @__PURE__ */ Object.create(null);
}
function run_all(fns) {
  fns.forEach(run);
}
function is_function(thing) {
  return typeof thing === "function";
}
function safe_not_equal(a, b) {
  return a != a ? b == b : a !== b || a && typeof a === "object" || typeof a === "function";
}
function is_empty(obj) {
  return Object.keys(obj).length === 0;
}
function subscribe(store, ...callbacks) {
  if (store == null) {
    for (const callback of callbacks) {
      callback(void 0);
    }
    return noop;
  }
  const unsub = store.subscribe(...callbacks);
  return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;
}
function get_store_value(store) {
  let value;
  subscribe(store, (_) => value = _)();
  return value;
}
function component_subscribe(component, store, callback) {
  component.$$.on_destroy.push(subscribe(store, callback));
}
function create_slot(definition, ctx, $$scope, fn) {
  if (definition) {
    const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);
    return definition[0](slot_ctx);
  }
}
function get_slot_context(definition, ctx, $$scope, fn) {
  return definition[1] && fn ? assign($$scope.ctx.slice(), definition[1](fn(ctx))) : $$scope.ctx;
}
function get_slot_changes(definition, $$scope, dirty, fn) {
  if (definition[2] && fn) {
    const lets = definition[2](fn(dirty));
    if ($$scope.dirty === void 0) {
      return lets;
    }
    if (typeof lets === "object") {
      const merged = [];
      const len = Math.max($$scope.dirty.length, lets.length);
      for (let i = 0; i < len; i += 1) {
        merged[i] = $$scope.dirty[i] | lets[i];
      }
      return merged;
    }
    return $$scope.dirty | lets;
  }
  return $$scope.dirty;
}
function update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {
  if (slot_changes) {
    const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);
    slot.p(slot_context, slot_changes);
  }
}
function get_all_dirty_from_scope($$scope) {
  if ($$scope.ctx.length > 32) {
    const dirty = [];
    const length = $$scope.ctx.length / 32;
    for (let i = 0; i < length; i++) {
      dirty[i] = -1;
    }
    return dirty;
  }
  return -1;
}
function exclude_internal_props(props) {
  const result = {};
  for (const k in props)
    if (k[0] !== "$")
      result[k] = props[k];
  return result;
}
function compute_rest_props(props, keys) {
  const rest = {};
  keys = new Set(keys);
  for (const k in props)
    if (!keys.has(k) && k[0] !== "$")
      rest[k] = props[k];
  return rest;
}
function null_to_empty(value) {
  return value == null ? "" : value;
}

// node_modules/svelte/src/runtime/internal/globals.js
var globals = typeof window !== "undefined" ? window : typeof globalThis !== "undefined" ? globalThis : (
  // @ts-ignore Node typings have this
  global
);

// node_modules/svelte/src/runtime/internal/ResizeObserverSingleton.js
var ResizeObserverSingleton = class {
  /** @param {ResizeObserverOptions} options */
  constructor(options) {
    /**
     * @private
     * @readonly
     * @type {WeakMap<Element, import('./private.js').Listener>}
     */
    __publicField(this, "_listeners", "WeakMap" in globals ? /* @__PURE__ */ new WeakMap() : void 0);
    /**
     * @private
     * @type {ResizeObserver}
     */
    __publicField(this, "_observer");
    /** @type {ResizeObserverOptions} */
    __publicField(this, "options");
    this.options = options;
  }
  /**
   * @param {Element} element
   * @param {import('./private.js').Listener} listener
   * @returns {() => void}
   */
  observe(element2, listener) {
    this._listeners.set(element2, listener);
    this._getObserver().observe(element2, this.options);
    return () => {
      this._listeners.delete(element2);
      this._observer.unobserve(element2);
    };
  }
  /**
   * @private
   */
  _getObserver() {
    var _a;
    return (_a = this._observer) != null ? _a : this._observer = new ResizeObserver((entries) => {
      var _a2;
      for (const entry of entries) {
        ResizeObserverSingleton.entries.set(entry.target, entry);
        (_a2 = this._listeners.get(entry.target)) == null ? void 0 : _a2(entry);
      }
    });
  }
};
ResizeObserverSingleton.entries = "WeakMap" in globals ? /* @__PURE__ */ new WeakMap() : void 0;

// node_modules/svelte/src/runtime/internal/dom.js
var is_hydrating = false;
function start_hydrating() {
  is_hydrating = true;
}
function end_hydrating() {
  is_hydrating = false;
}
function upper_bound(low, high, key, value) {
  while (low < high) {
    const mid = low + (high - low >> 1);
    if (key(mid) <= value) {
      low = mid + 1;
    } else {
      high = mid;
    }
  }
  return low;
}
function init_hydrate(target) {
  if (target.hydrate_init)
    return;
  target.hydrate_init = true;
  let children2 = (
    /** @type {ArrayLike<NodeEx2>} */
    target.childNodes
  );
  if (target.nodeName === "HEAD") {
    const my_children = [];
    for (let i = 0; i < children2.length; i++) {
      const node = children2[i];
      if (node.claim_order !== void 0) {
        my_children.push(node);
      }
    }
    children2 = my_children;
  }
  const m = new Int32Array(children2.length + 1);
  const p = new Int32Array(children2.length);
  m[0] = -1;
  let longest = 0;
  for (let i = 0; i < children2.length; i++) {
    const current = children2[i].claim_order;
    const seq_len = (longest > 0 && children2[m[longest]].claim_order <= current ? longest + 1 : upper_bound(1, longest, (idx) => children2[m[idx]].claim_order, current)) - 1;
    p[i] = m[seq_len] + 1;
    const new_len = seq_len + 1;
    m[new_len] = i;
    longest = Math.max(new_len, longest);
  }
  const lis = [];
  const to_move = [];
  let last = children2.length - 1;
  for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {
    lis.push(children2[cur - 1]);
    for (; last >= cur; last--) {
      to_move.push(children2[last]);
    }
    last--;
  }
  for (; last >= 0; last--) {
    to_move.push(children2[last]);
  }
  lis.reverse();
  to_move.sort((a, b) => a.claim_order - b.claim_order);
  for (let i = 0, j = 0; i < to_move.length; i++) {
    while (j < lis.length && to_move[i].claim_order >= lis[j].claim_order) {
      j++;
    }
    const anchor = j < lis.length ? lis[j] : null;
    target.insertBefore(to_move[i], anchor);
  }
}
function append(target, node) {
  target.appendChild(node);
}
function append_styles(target, style_sheet_id, styles) {
  const append_styles_to = get_root_for_style(target);
  if (!append_styles_to.getElementById(style_sheet_id)) {
    const style = element("style");
    style.id = style_sheet_id;
    style.textContent = styles;
    append_stylesheet(append_styles_to, style);
  }
}
function get_root_for_style(node) {
  if (!node)
    return document;
  const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;
  if (root && /** @type {ShadowRoot} */
  root.host) {
    return (
      /** @type {ShadowRoot} */
      root
    );
  }
  return node.ownerDocument;
}
function append_stylesheet(node, style) {
  append(
    /** @type {Document} */
    node.head || node,
    style
  );
  return style.sheet;
}
function append_hydration(target, node) {
  if (is_hydrating) {
    init_hydrate(target);
    if (target.actual_end_child === void 0 || target.actual_end_child !== null && target.actual_end_child.parentNode !== target) {
      target.actual_end_child = target.firstChild;
    }
    while (target.actual_end_child !== null && target.actual_end_child.claim_order === void 0) {
      target.actual_end_child = target.actual_end_child.nextSibling;
    }
    if (node !== target.actual_end_child) {
      if (node.claim_order !== void 0 || node.parentNode !== target) {
        target.insertBefore(node, target.actual_end_child);
      }
    } else {
      target.actual_end_child = node.nextSibling;
    }
  } else if (node.parentNode !== target || node.nextSibling !== null) {
    target.appendChild(node);
  }
}
function insert(target, node, anchor) {
  target.insertBefore(node, anchor || null);
}
function insert_hydration(target, node, anchor) {
  if (is_hydrating && !anchor) {
    append_hydration(target, node);
  } else if (node.parentNode !== target || node.nextSibling != anchor) {
    target.insertBefore(node, anchor || null);
  }
}
function detach(node) {
  if (node.parentNode) {
    node.parentNode.removeChild(node);
  }
}
function destroy_each(iterations, detaching) {
  for (let i = 0; i < iterations.length; i += 1) {
    if (iterations[i])
      iterations[i].d(detaching);
  }
}
function element(name) {
  return document.createElement(name);
}
function svg_element(name) {
  return document.createElementNS("http://www.w3.org/2000/svg", name);
}
function text(data) {
  return document.createTextNode(data);
}
function space() {
  return text(" ");
}
function empty() {
  return text("");
}
function listen(node, event2, handler, options) {
  node.addEventListener(event2, handler, options);
  return () => node.removeEventListener(event2, handler, options);
}
function attr(node, attribute, value) {
  if (value == null)
    node.removeAttribute(attribute);
  else if (node.getAttribute(attribute) !== value)
    node.setAttribute(attribute, value);
}
var always_set_through_set_attribute = ["width", "height"];
function set_attributes(node, attributes) {
  const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);
  for (const key in attributes) {
    if (attributes[key] == null) {
      node.removeAttribute(key);
    } else if (key === "style") {
      node.style.cssText = attributes[key];
    } else if (key === "__value") {
      node.value = node[key] = attributes[key];
    } else if (descriptors[key] && descriptors[key].set && always_set_through_set_attribute.indexOf(key) === -1) {
      node[key] = attributes[key];
    } else {
      attr(node, key, attributes[key]);
    }
  }
}
function set_svg_attributes(node, attributes) {
  for (const key in attributes) {
    attr(node, key, attributes[key]);
  }
}
function children(element2) {
  return Array.from(element2.childNodes);
}
function init_claim_info(nodes) {
  if (nodes.claim_info === void 0) {
    nodes.claim_info = { last_index: 0, total_claimed: 0 };
  }
}
function claim_node(nodes, predicate, process_node, create_node, dont_update_last_index = false) {
  init_claim_info(nodes);
  const result_node = (() => {
    for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {
      const node = nodes[i];
      if (predicate(node)) {
        const replacement = process_node(node);
        if (replacement === void 0) {
          nodes.splice(i, 1);
        } else {
          nodes[i] = replacement;
        }
        if (!dont_update_last_index) {
          nodes.claim_info.last_index = i;
        }
        return node;
      }
    }
    for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {
      const node = nodes[i];
      if (predicate(node)) {
        const replacement = process_node(node);
        if (replacement === void 0) {
          nodes.splice(i, 1);
        } else {
          nodes[i] = replacement;
        }
        if (!dont_update_last_index) {
          nodes.claim_info.last_index = i;
        } else if (replacement === void 0) {
          nodes.claim_info.last_index--;
        }
        return node;
      }
    }
    return create_node();
  })();
  result_node.claim_order = nodes.claim_info.total_claimed;
  nodes.claim_info.total_claimed += 1;
  return result_node;
}
function claim_element_base(nodes, name, attributes, create_element) {
  return claim_node(
    nodes,
    /** @returns {node is Element | SVGElement} */
    (node) => node.nodeName === name,
    /** @param {Element} node */
    (node) => {
      const remove = [];
      for (let j = 0; j < node.attributes.length; j++) {
        const attribute = node.attributes[j];
        if (!attributes[attribute.name]) {
          remove.push(attribute.name);
        }
      }
      remove.forEach((v) => node.removeAttribute(v));
      return void 0;
    },
    () => create_element(name)
  );
}
function claim_svg_element(nodes, name, attributes) {
  return claim_element_base(nodes, name, attributes, svg_element);
}
function set_style(node, key, value, important) {
  if (value == null) {
    node.style.removeProperty(key);
  } else {
    node.style.setProperty(key, value, important ? "important" : "");
  }
}
function toggle_class(element2, name, toggle) {
  element2.classList.toggle(name, !!toggle);
}
function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {
  return new CustomEvent(type, { detail, bubbles, cancelable });
}
function get_custom_elements_slots(element2) {
  const result = {};
  element2.childNodes.forEach(
    /** @param {Element} node */
    (node) => {
      result[node.slot || "default"] = true;
    }
  );
  return result;
}

// node_modules/svelte/src/runtime/internal/lifecycle.js
var current_component;
function set_current_component(component) {
  current_component = component;
}
function get_current_component() {
  if (!current_component)
    throw new Error("Function called outside component initialization");
  return current_component;
}
function onMount(fn) {
  get_current_component().$$.on_mount.push(fn);
}
function onDestroy(fn) {
  get_current_component().$$.on_destroy.push(fn);
}
function createEventDispatcher() {
  const component = get_current_component();
  return (type, detail, { cancelable = false } = {}) => {
    const callbacks = component.$$.callbacks[type];
    if (callbacks) {
      const event2 = custom_event(
        /** @type {string} */
        type,
        detail,
        { cancelable }
      );
      callbacks.slice().forEach((fn) => {
        fn.call(component, event2);
      });
      return !event2.defaultPrevented;
    }
    return true;
  };
}
function setContext(key, context) {
  get_current_component().$$.context.set(key, context);
  return context;
}
function getContext(key) {
  return get_current_component().$$.context.get(key);
}

// node_modules/svelte/src/runtime/internal/scheduler.js
var dirty_components = [];
var binding_callbacks = [];
var render_callbacks = [];
var flush_callbacks = [];
var resolved_promise = /* @__PURE__ */ Promise.resolve();
var update_scheduled = false;
function schedule_update() {
  if (!update_scheduled) {
    update_scheduled = true;
    resolved_promise.then(flush);
  }
}
function add_render_callback(fn) {
  render_callbacks.push(fn);
}
var seen_callbacks = /* @__PURE__ */ new Set();
var flushidx = 0;
function flush() {
  if (flushidx !== 0) {
    return;
  }
  const saved_component = current_component;
  do {
    try {
      while (flushidx < dirty_components.length) {
        const component = dirty_components[flushidx];
        flushidx++;
        set_current_component(component);
        update(component.$$);
      }
    } catch (e) {
      dirty_components.length = 0;
      flushidx = 0;
      throw e;
    }
    set_current_component(null);
    dirty_components.length = 0;
    flushidx = 0;
    while (binding_callbacks.length)
      binding_callbacks.pop()();
    for (let i = 0; i < render_callbacks.length; i += 1) {
      const callback = render_callbacks[i];
      if (!seen_callbacks.has(callback)) {
        seen_callbacks.add(callback);
        callback();
      }
    }
    render_callbacks.length = 0;
  } while (dirty_components.length);
  while (flush_callbacks.length) {
    flush_callbacks.pop()();
  }
  update_scheduled = false;
  seen_callbacks.clear();
  set_current_component(saved_component);
}
function update($$) {
  if ($$.fragment !== null) {
    $$.update();
    run_all($$.before_update);
    const dirty = $$.dirty;
    $$.dirty = [-1];
    $$.fragment && $$.fragment.p($$.ctx, dirty);
    $$.after_update.forEach(add_render_callback);
  }
}
function flush_render_callbacks(fns) {
  const filtered = [];
  const targets = [];
  render_callbacks.forEach((c) => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));
  targets.forEach((c) => c());
  render_callbacks = filtered;
}

// node_modules/svelte/src/runtime/internal/transitions.js
var outroing = /* @__PURE__ */ new Set();
var outros;
function group_outros() {
  outros = {
    r: 0,
    c: [],
    p: outros
    // parent group
  };
}
function check_outros() {
  if (!outros.r) {
    run_all(outros.c);
  }
  outros = outros.p;
}
function transition_in(block, local) {
  if (block && block.i) {
    outroing.delete(block);
    block.i(local);
  }
}
function transition_out(block, local, detach2, callback) {
  if (block && block.o) {
    if (outroing.has(block))
      return;
    outroing.add(block);
    outros.c.push(() => {
      outroing.delete(block);
      if (callback) {
        if (detach2)
          block.d(1);
        callback();
      }
    });
    block.o(local);
  } else if (callback) {
    callback();
  }
}

// node_modules/svelte/src/runtime/internal/each.js
function ensure_array_like(array_like_or_iterator) {
  return (array_like_or_iterator == null ? void 0 : array_like_or_iterator.length) !== void 0 ? array_like_or_iterator : Array.from(array_like_or_iterator);
}

// node_modules/svelte/src/runtime/internal/spread.js
function get_spread_update(levels, updates) {
  const update2 = {};
  const to_null_out = {};
  const accounted_for = { $$scope: 1 };
  let i = levels.length;
  while (i--) {
    const o = levels[i];
    const n = updates[i];
    if (n) {
      for (const key in o) {
        if (!(key in n))
          to_null_out[key] = 1;
      }
      for (const key in n) {
        if (!accounted_for[key]) {
          update2[key] = n[key];
          accounted_for[key] = 1;
        }
      }
      levels[i] = n;
    } else {
      for (const key in o) {
        accounted_for[key] = 1;
      }
    }
  }
  for (const key in to_null_out) {
    if (!(key in update2))
      update2[key] = void 0;
  }
  return update2;
}
function get_spread_object(spread_props) {
  return typeof spread_props === "object" && spread_props !== null ? spread_props : {};
}

// node_modules/svelte/src/shared/boolean_attributes.js
var _boolean_attributes = (
  /** @type {const} */
  [
    "allowfullscreen",
    "allowpaymentrequest",
    "async",
    "autofocus",
    "autoplay",
    "checked",
    "controls",
    "default",
    "defer",
    "disabled",
    "formnovalidate",
    "hidden",
    "inert",
    "ismap",
    "loop",
    "multiple",
    "muted",
    "nomodule",
    "novalidate",
    "open",
    "playsinline",
    "readonly",
    "required",
    "reversed",
    "selected"
  ]
);
var boolean_attributes = /* @__PURE__ */ new Set([..._boolean_attributes]);

// node_modules/svelte/src/runtime/internal/Component.js
function create_component(block) {
  block && block.c();
}
function claim_component(block, parent_nodes) {
  block && block.l(parent_nodes);
}
function mount_component(component, target, anchor) {
  const { fragment, after_update } = component.$$;
  fragment && fragment.m(target, anchor);
  add_render_callback(() => {
    const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);
    if (component.$$.on_destroy) {
      component.$$.on_destroy.push(...new_on_destroy);
    } else {
      run_all(new_on_destroy);
    }
    component.$$.on_mount = [];
  });
  after_update.forEach(add_render_callback);
}
function destroy_component(component, detaching) {
  const $$ = component.$$;
  if ($$.fragment !== null) {
    flush_render_callbacks($$.after_update);
    run_all($$.on_destroy);
    $$.fragment && $$.fragment.d(detaching);
    $$.on_destroy = $$.fragment = null;
    $$.ctx = [];
  }
}
function make_dirty(component, i) {
  if (component.$$.dirty[0] === -1) {
    dirty_components.push(component);
    schedule_update();
    component.$$.dirty.fill(0);
  }
  component.$$.dirty[i / 31 | 0] |= 1 << i % 31;
}
function init(component, options, instance15, create_fragment14, not_equal, props, append_styles2 = null, dirty = [-1]) {
  const parent_component = current_component;
  set_current_component(component);
  const $$ = component.$$ = {
    fragment: null,
    ctx: [],
    // state
    props,
    update: noop,
    not_equal,
    bound: blank_object(),
    // lifecycle
    on_mount: [],
    on_destroy: [],
    on_disconnect: [],
    before_update: [],
    after_update: [],
    context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),
    // everything else
    callbacks: blank_object(),
    dirty,
    skip_bound: false,
    root: options.target || parent_component.$$.root
  };
  append_styles2 && append_styles2($$.root);
  let ready = false;
  $$.ctx = instance15 ? instance15(component, options.props || {}, (i, ret, ...rest) => {
    const value = rest.length ? rest[0] : ret;
    if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {
      if (!$$.skip_bound && $$.bound[i])
        $$.bound[i](value);
      if (ready)
        make_dirty(component, i);
    }
    return ret;
  }) : [];
  $$.update();
  ready = true;
  run_all($$.before_update);
  $$.fragment = create_fragment14 ? create_fragment14($$.ctx) : false;
  if (options.target) {
    if (options.hydrate) {
      start_hydrating();
      const nodes = children(options.target);
      $$.fragment && $$.fragment.l(nodes);
      nodes.forEach(detach);
    } else {
      $$.fragment && $$.fragment.c();
    }
    if (options.intro)
      transition_in(component.$$.fragment);
    mount_component(component, options.target, options.anchor);
    end_hydrating();
    flush();
  }
  set_current_component(parent_component);
}
var SvelteElement;
if (typeof HTMLElement === "function") {
  SvelteElement = class extends HTMLElement {
    constructor($$componentCtor, $$slots, use_shadow_dom) {
      super();
      /** The Svelte component constructor */
      __publicField(this, "$$ctor");
      /** Slots */
      __publicField(this, "$$s");
      /** The Svelte component instance */
      __publicField(this, "$$c");
      /** Whether or not the custom element is connected */
      __publicField(this, "$$cn", false);
      /** Component props data */
      __publicField(this, "$$d", {});
      /** `true` if currently in the process of reflecting component props back to attributes */
      __publicField(this, "$$r", false);
      /** @type {Record<string, CustomElementPropDefinition>} Props definition (name, reflected, type etc) */
      __publicField(this, "$$p_d", {});
      /** @type {Record<string, Function[]>} Event listeners */
      __publicField(this, "$$l", {});
      /** @type {Map<Function, Function>} Event listener unsubscribe functions */
      __publicField(this, "$$l_u", /* @__PURE__ */ new Map());
      this.$$ctor = $$componentCtor;
      this.$$s = $$slots;
      if (use_shadow_dom) {
        this.attachShadow({ mode: "open" });
      }
    }
    addEventListener(type, listener, options) {
      this.$$l[type] = this.$$l[type] || [];
      this.$$l[type].push(listener);
      if (this.$$c) {
        const unsub = this.$$c.$on(type, listener);
        this.$$l_u.set(listener, unsub);
      }
      super.addEventListener(type, listener, options);
    }
    removeEventListener(type, listener, options) {
      super.removeEventListener(type, listener, options);
      if (this.$$c) {
        const unsub = this.$$l_u.get(listener);
        if (unsub) {
          unsub();
          this.$$l_u.delete(listener);
        }
      }
    }
    async connectedCallback() {
      this.$$cn = true;
      if (!this.$$c) {
        let create_slot2 = function(name) {
          return () => {
            let node;
            const obj = {
              c: function create() {
                node = element("slot");
                if (name !== "default") {
                  attr(node, "name", name);
                }
              },
              /**
               * @param {HTMLElement} target
               * @param {HTMLElement} [anchor]
               */
              m: function mount(target, anchor) {
                insert(target, node, anchor);
              },
              d: function destroy(detaching) {
                if (detaching) {
                  detach(node);
                }
              }
            };
            return obj;
          };
        };
        await Promise.resolve();
        if (!this.$$cn) {
          return;
        }
        const $$slots = {};
        const existing_slots = get_custom_elements_slots(this);
        for (const name of this.$$s) {
          if (name in existing_slots) {
            $$slots[name] = [create_slot2(name)];
          }
        }
        for (const attribute of this.attributes) {
          const name = this.$$g_p(attribute.name);
          if (!(name in this.$$d)) {
            this.$$d[name] = get_custom_element_value(name, attribute.value, this.$$p_d, "toProp");
          }
        }
        for (const key in this.$$p_d) {
          if (!(key in this.$$d) && this[key] !== void 0) {
            this.$$d[key] = this[key];
            delete this[key];
          }
        }
        this.$$c = new this.$$ctor({
          target: this.shadowRoot || this,
          props: {
            ...this.$$d,
            $$slots,
            $$scope: {
              ctx: []
            }
          }
        });
        const reflect_attributes = () => {
          this.$$r = true;
          for (const key in this.$$p_d) {
            this.$$d[key] = this.$$c.$$.ctx[this.$$c.$$.props[key]];
            if (this.$$p_d[key].reflect) {
              const attribute_value = get_custom_element_value(
                key,
                this.$$d[key],
                this.$$p_d,
                "toAttribute"
              );
              if (attribute_value == null) {
                this.removeAttribute(this.$$p_d[key].attribute || key);
              } else {
                this.setAttribute(this.$$p_d[key].attribute || key, attribute_value);
              }
            }
          }
          this.$$r = false;
        };
        this.$$c.$$.after_update.push(reflect_attributes);
        reflect_attributes();
        for (const type in this.$$l) {
          for (const listener of this.$$l[type]) {
            const unsub = this.$$c.$on(type, listener);
            this.$$l_u.set(listener, unsub);
          }
        }
        this.$$l = {};
      }
    }
    // We don't need this when working within Svelte code, but for compatibility of people using this outside of Svelte
    // and setting attributes through setAttribute etc, this is helpful
    attributeChangedCallback(attr2, _oldValue, newValue) {
      var _a;
      if (this.$$r)
        return;
      attr2 = this.$$g_p(attr2);
      this.$$d[attr2] = get_custom_element_value(attr2, newValue, this.$$p_d, "toProp");
      (_a = this.$$c) == null ? void 0 : _a.$set({ [attr2]: this.$$d[attr2] });
    }
    disconnectedCallback() {
      this.$$cn = false;
      Promise.resolve().then(() => {
        if (!this.$$cn) {
          this.$$c.$destroy();
          this.$$c = void 0;
        }
      });
    }
    $$g_p(attribute_name) {
      return Object.keys(this.$$p_d).find(
        (key) => this.$$p_d[key].attribute === attribute_name || !this.$$p_d[key].attribute && key.toLowerCase() === attribute_name
      ) || attribute_name;
    }
  };
}
function get_custom_element_value(prop, value, props_definition, transform) {
  var _a;
  const type = (_a = props_definition[prop]) == null ? void 0 : _a.type;
  value = type === "Boolean" && typeof value !== "boolean" ? value != null : value;
  if (!transform || !props_definition[prop]) {
    return value;
  } else if (transform === "toAttribute") {
    switch (type) {
      case "Object":
      case "Array":
        return value == null ? null : JSON.stringify(value);
      case "Boolean":
        return value ? "" : null;
      case "Number":
        return value == null ? null : value;
      default:
        return value;
    }
  } else {
    switch (type) {
      case "Object":
      case "Array":
        return value && JSON.parse(value);
      case "Boolean":
        return value;
      case "Number":
        return value != null ? +value : value;
      default:
        return value;
    }
  }
}
var SvelteComponent = class {
  constructor() {
    /**
     * ### PRIVATE API
     *
     * Do not use, may change at any time
     *
     * @type {any}
     */
    __publicField(this, "$$");
    /**
     * ### PRIVATE API
     *
     * Do not use, may change at any time
     *
     * @type {any}
     */
    __publicField(this, "$$set");
  }
  /** @returns {void} */
  $destroy() {
    destroy_component(this, 1);
    this.$destroy = noop;
  }
  /**
   * @template {Extract<keyof Events, string>} K
   * @param {K} type
   * @param {((e: Events[K]) => void) | null | undefined} callback
   * @returns {() => void}
   */
  $on(type, callback) {
    if (!is_function(callback)) {
      return noop;
    }
    const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);
    callbacks.push(callback);
    return () => {
      const index = callbacks.indexOf(callback);
      if (index !== -1)
        callbacks.splice(index, 1);
    };
  }
  /**
   * @param {Partial<Props>} props
   * @returns {void}
   */
  $set(props) {
    if (this.$$set && !is_empty(props)) {
      this.$$.skip_bound = true;
      this.$$set(props);
      this.$$.skip_bound = false;
    }
  }
};

// node_modules/svelte/src/shared/version.js
var PUBLIC_VERSION = "4";

// node_modules/svelte/src/runtime/internal/disclose-version/index.js
if (typeof window !== "undefined")
  (window.__svelte || (window.__svelte = { v: /* @__PURE__ */ new Set() })).v.add(PUBLIC_VERSION);

// node_modules/lucide-svelte/dist/esm/defaultAttributes.js
var defaultAttributes = {
  xmlns: "http://www.w3.org/2000/svg",
  width: 24,
  height: 24,
  viewBox: "0 0 24 24",
  fill: "none",
  stroke: "currentColor",
  "stroke-width": 2,
  "stroke-linecap": "round",
  "stroke-linejoin": "round"
};

// node_modules/lucide-svelte/dist/esm/Icon.svelte.js
function get_each_context(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[10] = list[i][0];
  child_ctx[11] = list[i][1];
  return child_ctx;
}
function create_dynamic_element(ctx) {
  let svelte_element;
  let svelte_element_levels = [
    /*attrs*/
    ctx[11]
  ];
  let svelte_element_data = {};
  for (let i = 0; i < svelte_element_levels.length; i += 1) {
    svelte_element_data = assign(svelte_element_data, svelte_element_levels[i]);
  }
  return {
    c() {
      svelte_element = svg_element(
        /*tag*/
        ctx[10]
      );
      this.h();
    },
    l(nodes) {
      svelte_element = claim_svg_element(
        nodes,
        /*tag*/
        ctx[10],
        {}
      );
      children(svelte_element).forEach(detach);
      this.h();
    },
    h() {
      set_svg_attributes(svelte_element, svelte_element_data);
    },
    m(target, anchor) {
      insert_hydration(target, svelte_element, anchor);
    },
    p(ctx2, dirty) {
      set_svg_attributes(svelte_element, svelte_element_data = get_spread_update(svelte_element_levels, [dirty & /*iconNode*/
      32 && /*attrs*/
      ctx2[11]]));
    },
    d(detaching) {
      if (detaching) {
        detach(svelte_element);
      }
    }
  };
}
function create_each_block(ctx) {
  let previous_tag = (
    /*tag*/
    ctx[10]
  );
  let svelte_element_anchor;
  let svelte_element = (
    /*tag*/
    ctx[10] && create_dynamic_element(ctx)
  );
  return {
    c() {
      if (svelte_element)
        svelte_element.c();
      svelte_element_anchor = empty();
    },
    l(nodes) {
      if (svelte_element)
        svelte_element.l(nodes);
      svelte_element_anchor = empty();
    },
    m(target, anchor) {
      if (svelte_element)
        svelte_element.m(target, anchor);
      insert_hydration(target, svelte_element_anchor, anchor);
    },
    p(ctx2, dirty) {
      if (
        /*tag*/
        ctx2[10]
      ) {
        if (!previous_tag) {
          svelte_element = create_dynamic_element(ctx2);
          previous_tag = /*tag*/
          ctx2[10];
          svelte_element.c();
          svelte_element.m(svelte_element_anchor.parentNode, svelte_element_anchor);
        } else if (safe_not_equal(
          previous_tag,
          /*tag*/
          ctx2[10]
        )) {
          svelte_element.d(1);
          svelte_element = create_dynamic_element(ctx2);
          previous_tag = /*tag*/
          ctx2[10];
          svelte_element.c();
          svelte_element.m(svelte_element_anchor.parentNode, svelte_element_anchor);
        } else {
          svelte_element.p(ctx2, dirty);
        }
      } else if (previous_tag) {
        svelte_element.d(1);
        svelte_element = null;
        previous_tag = /*tag*/
        ctx2[10];
      }
    },
    d(detaching) {
      if (detaching) {
        detach(svelte_element_anchor);
      }
      if (svelte_element)
        svelte_element.d(detaching);
    }
  };
}
function create_fragment(ctx) {
  var _a;
  let svg;
  let each_1_anchor;
  let svg_stroke_width_value;
  let svg_class_value;
  let current;
  let each_value = ensure_array_like(
    /*iconNode*/
    ctx[5]
  );
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));
  }
  const default_slot_template = (
    /*#slots*/
    ctx[9].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[8],
    null
  );
  let svg_levels = [
    defaultAttributes,
    /*$$restProps*/
    ctx[6],
    { width: (
      /*size*/
      ctx[2]
    ) },
    { height: (
      /*size*/
      ctx[2]
    ) },
    { stroke: (
      /*color*/
      ctx[1]
    ) },
    {
      "stroke-width": svg_stroke_width_value = /*absoluteStrokeWidth*/
      ctx[4] ? Number(
        /*strokeWidth*/
        ctx[3]
      ) * 24 / Number(
        /*size*/
        ctx[2]
      ) : (
        /*strokeWidth*/
        ctx[3]
      )
    },
    {
      class: svg_class_value = `lucide-icon lucide lucide-${/*name*/
      ctx[0]} ${/*$$props*/
      (_a = ctx[7].class) != null ? _a : ""}`
    }
  ];
  let svg_data = {};
  for (let i = 0; i < svg_levels.length; i += 1) {
    svg_data = assign(svg_data, svg_levels[i]);
  }
  return {
    c() {
      svg = svg_element("svg");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      each_1_anchor = empty();
      if (default_slot)
        default_slot.c();
      this.h();
    },
    l(nodes) {
      svg = claim_svg_element(nodes, "svg", {
        width: true,
        height: true,
        stroke: true,
        "stroke-width": true,
        class: true
      });
      var svg_nodes = children(svg);
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].l(svg_nodes);
      }
      each_1_anchor = empty();
      if (default_slot)
        default_slot.l(svg_nodes);
      svg_nodes.forEach(detach);
      this.h();
    },
    h() {
      set_svg_attributes(svg, svg_data);
    },
    m(target, anchor) {
      insert_hydration(target, svg, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(svg, null);
        }
      }
      append_hydration(svg, each_1_anchor);
      if (default_slot) {
        default_slot.m(svg, null);
      }
      current = true;
    },
    p(ctx2, [dirty]) {
      var _a2;
      if (dirty & /*iconNode*/
      32) {
        each_value = ensure_array_like(
          /*iconNode*/
          ctx2[5]
        );
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(svg, each_1_anchor);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        256)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[8],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[8]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[8],
              dirty,
              null
            ),
            null
          );
        }
      }
      set_svg_attributes(svg, svg_data = get_spread_update(svg_levels, [
        defaultAttributes,
        dirty & /*$$restProps*/
        64 && /*$$restProps*/
        ctx2[6],
        (!current || dirty & /*size*/
        4) && { width: (
          /*size*/
          ctx2[2]
        ) },
        (!current || dirty & /*size*/
        4) && { height: (
          /*size*/
          ctx2[2]
        ) },
        (!current || dirty & /*color*/
        2) && { stroke: (
          /*color*/
          ctx2[1]
        ) },
        (!current || dirty & /*absoluteStrokeWidth, strokeWidth, size*/
        28 && svg_stroke_width_value !== (svg_stroke_width_value = /*absoluteStrokeWidth*/
        ctx2[4] ? Number(
          /*strokeWidth*/
          ctx2[3]
        ) * 24 / Number(
          /*size*/
          ctx2[2]
        ) : (
          /*strokeWidth*/
          ctx2[3]
        ))) && { "stroke-width": svg_stroke_width_value },
        (!current || dirty & /*name, $$props*/
        129 && svg_class_value !== (svg_class_value = `lucide-icon lucide lucide-${/*name*/
        ctx2[0]} ${/*$$props*/
        (_a2 = ctx2[7].class) != null ? _a2 : ""}`)) && { class: svg_class_value }
      ]));
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching) {
        detach(svg);
      }
      destroy_each(each_blocks, detaching);
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function instance($$self, $$props, $$invalidate) {
  const omit_props_names = ["name", "color", "size", "strokeWidth", "absoluteStrokeWidth", "iconNode"];
  let $$restProps = compute_rest_props($$props, omit_props_names);
  let { $$slots: slots = {}, $$scope } = $$props;
  let { name } = $$props;
  let { color = "currentColor" } = $$props;
  let { size = 24 } = $$props;
  let { strokeWidth = 2 } = $$props;
  let { absoluteStrokeWidth = false } = $$props;
  let { iconNode } = $$props;
  $$self.$$set = ($$new_props) => {
    $$invalidate(7, $$props = assign(assign({}, $$props), exclude_internal_props($$new_props)));
    $$invalidate(6, $$restProps = compute_rest_props($$props, omit_props_names));
    if ("name" in $$new_props)
      $$invalidate(0, name = $$new_props.name);
    if ("color" in $$new_props)
      $$invalidate(1, color = $$new_props.color);
    if ("size" in $$new_props)
      $$invalidate(2, size = $$new_props.size);
    if ("strokeWidth" in $$new_props)
      $$invalidate(3, strokeWidth = $$new_props.strokeWidth);
    if ("absoluteStrokeWidth" in $$new_props)
      $$invalidate(4, absoluteStrokeWidth = $$new_props.absoluteStrokeWidth);
    if ("iconNode" in $$new_props)
      $$invalidate(5, iconNode = $$new_props.iconNode);
    if ("$$scope" in $$new_props)
      $$invalidate(8, $$scope = $$new_props.$$scope);
  };
  $$props = exclude_internal_props($$props);
  return [
    name,
    color,
    size,
    strokeWidth,
    absoluteStrokeWidth,
    iconNode,
    $$restProps,
    $$props,
    $$scope,
    slots
  ];
}
var Icon = class extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance, create_fragment, safe_not_equal, {
      name: 0,
      color: 1,
      size: 2,
      strokeWidth: 3,
      absoluteStrokeWidth: 4,
      iconNode: 5
    });
  }
};
var Icon$1 = Icon;

// node_modules/lucide-svelte/dist/esm/icons/eraser.svelte.js
function create_default_slot(ctx) {
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[2].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[3],
    null
  );
  return {
    c() {
      if (default_slot)
        default_slot.c();
    },
    l(nodes) {
      if (default_slot)
        default_slot.l(nodes);
    },
    m(target, anchor) {
      if (default_slot) {
        default_slot.m(target, anchor);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        8)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[3],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[3]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[3],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_fragment2(ctx) {
  let icon;
  let current;
  const icon_spread_levels = [
    { name: "eraser" },
    /*$$props*/
    ctx[1],
    { iconNode: (
      /*iconNode*/
      ctx[0]
    ) }
  ];
  let icon_props = {
    $$slots: { default: [create_default_slot] },
    $$scope: { ctx }
  };
  for (let i = 0; i < icon_spread_levels.length; i += 1) {
    icon_props = assign(icon_props, icon_spread_levels[i]);
  }
  icon = new Icon$1({ props: icon_props });
  return {
    c() {
      create_component(icon.$$.fragment);
    },
    l(nodes) {
      claim_component(icon.$$.fragment, nodes);
    },
    m(target, anchor) {
      mount_component(icon, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const icon_changes = dirty & /*$$props, iconNode*/
      3 ? get_spread_update(icon_spread_levels, [
        icon_spread_levels[0],
        dirty & /*$$props*/
        2 && get_spread_object(
          /*$$props*/
          ctx2[1]
        ),
        dirty & /*iconNode*/
        1 && { iconNode: (
          /*iconNode*/
          ctx2[0]
        ) }
      ]) : {};
      if (dirty & /*$$scope*/
      8) {
        icon_changes.$$scope = { dirty, ctx: ctx2 };
      }
      icon.$set(icon_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(icon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(icon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(icon, detaching);
    }
  };
}
function instance2($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  const iconNode = [
    [
      "path",
      {
        "d": "m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21"
      }
    ],
    ["path", { "d": "M22 21H7" }],
    ["path", { "d": "m5 11 9 9" }]
  ];
  $$self.$$set = ($$new_props) => {
    $$invalidate(1, $$props = assign(assign({}, $$props), exclude_internal_props($$new_props)));
    if ("$$scope" in $$new_props)
      $$invalidate(3, $$scope = $$new_props.$$scope);
  };
  $$props = exclude_internal_props($$props);
  return [iconNode, $$props, slots, $$scope];
}
var Eraser = class extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance2, create_fragment2, safe_not_equal, {});
  }
};
var Eraser$1 = Eraser;

// node_modules/lucide-svelte/dist/esm/icons/file.svelte.js
function create_default_slot2(ctx) {
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[2].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[3],
    null
  );
  return {
    c() {
      if (default_slot)
        default_slot.c();
    },
    l(nodes) {
      if (default_slot)
        default_slot.l(nodes);
    },
    m(target, anchor) {
      if (default_slot) {
        default_slot.m(target, anchor);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        8)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[3],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[3]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[3],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_fragment3(ctx) {
  let icon;
  let current;
  const icon_spread_levels = [
    { name: "file" },
    /*$$props*/
    ctx[1],
    { iconNode: (
      /*iconNode*/
      ctx[0]
    ) }
  ];
  let icon_props = {
    $$slots: { default: [create_default_slot2] },
    $$scope: { ctx }
  };
  for (let i = 0; i < icon_spread_levels.length; i += 1) {
    icon_props = assign(icon_props, icon_spread_levels[i]);
  }
  icon = new Icon$1({ props: icon_props });
  return {
    c() {
      create_component(icon.$$.fragment);
    },
    l(nodes) {
      claim_component(icon.$$.fragment, nodes);
    },
    m(target, anchor) {
      mount_component(icon, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const icon_changes = dirty & /*$$props, iconNode*/
      3 ? get_spread_update(icon_spread_levels, [
        icon_spread_levels[0],
        dirty & /*$$props*/
        2 && get_spread_object(
          /*$$props*/
          ctx2[1]
        ),
        dirty & /*iconNode*/
        1 && { iconNode: (
          /*iconNode*/
          ctx2[0]
        ) }
      ]) : {};
      if (dirty & /*$$scope*/
      8) {
        icon_changes.$$scope = { dirty, ctx: ctx2 };
      }
      icon.$set(icon_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(icon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(icon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(icon, detaching);
    }
  };
}
function instance3($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  const iconNode = [
    [
      "path",
      {
        "d": "M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"
      }
    ],
    ["polyline", { "points": "14 2 14 8 20 8" }]
  ];
  $$self.$$set = ($$new_props) => {
    $$invalidate(1, $$props = assign(assign({}, $$props), exclude_internal_props($$new_props)));
    if ("$$scope" in $$new_props)
      $$invalidate(3, $$scope = $$new_props.$$scope);
  };
  $$props = exclude_internal_props($$props);
  return [iconNode, $$props, slots, $$scope];
}
var File = class extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance3, create_fragment3, safe_not_equal, {});
  }
};
var File$1 = File;

// node_modules/lucide-svelte/dist/esm/icons/import.svelte.js
function create_default_slot3(ctx) {
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[2].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[3],
    null
  );
  return {
    c() {
      if (default_slot)
        default_slot.c();
    },
    l(nodes) {
      if (default_slot)
        default_slot.l(nodes);
    },
    m(target, anchor) {
      if (default_slot) {
        default_slot.m(target, anchor);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        8)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[3],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[3]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[3],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_fragment4(ctx) {
  let icon;
  let current;
  const icon_spread_levels = [
    { name: "import" },
    /*$$props*/
    ctx[1],
    { iconNode: (
      /*iconNode*/
      ctx[0]
    ) }
  ];
  let icon_props = {
    $$slots: { default: [create_default_slot3] },
    $$scope: { ctx }
  };
  for (let i = 0; i < icon_spread_levels.length; i += 1) {
    icon_props = assign(icon_props, icon_spread_levels[i]);
  }
  icon = new Icon$1({ props: icon_props });
  return {
    c() {
      create_component(icon.$$.fragment);
    },
    l(nodes) {
      claim_component(icon.$$.fragment, nodes);
    },
    m(target, anchor) {
      mount_component(icon, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const icon_changes = dirty & /*$$props, iconNode*/
      3 ? get_spread_update(icon_spread_levels, [
        icon_spread_levels[0],
        dirty & /*$$props*/
        2 && get_spread_object(
          /*$$props*/
          ctx2[1]
        ),
        dirty & /*iconNode*/
        1 && { iconNode: (
          /*iconNode*/
          ctx2[0]
        ) }
      ]) : {};
      if (dirty & /*$$scope*/
      8) {
        icon_changes.$$scope = { dirty, ctx: ctx2 };
      }
      icon.$set(icon_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(icon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(icon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(icon, detaching);
    }
  };
}
function instance4($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  const iconNode = [
    ["path", { "d": "M12 3v12" }],
    ["path", { "d": "m8 11 4 4 4-4" }],
    [
      "path",
      {
        "d": "M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4"
      }
    ]
  ];
  $$self.$$set = ($$new_props) => {
    $$invalidate(1, $$props = assign(assign({}, $$props), exclude_internal_props($$new_props)));
    if ("$$scope" in $$new_props)
      $$invalidate(3, $$scope = $$new_props.$$scope);
  };
  $$props = exclude_internal_props($$props);
  return [iconNode, $$props, slots, $$scope];
}
var Import = class extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance4, create_fragment4, safe_not_equal, {});
  }
};
var Import$1 = Import;

// node_modules/lucide-svelte/dist/esm/icons/move-vertical.svelte.js
function create_default_slot4(ctx) {
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[2].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[3],
    null
  );
  return {
    c() {
      if (default_slot)
        default_slot.c();
    },
    l(nodes) {
      if (default_slot)
        default_slot.l(nodes);
    },
    m(target, anchor) {
      if (default_slot) {
        default_slot.m(target, anchor);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        8)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[3],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[3]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[3],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_fragment5(ctx) {
  let icon;
  let current;
  const icon_spread_levels = [
    { name: "move-vertical" },
    /*$$props*/
    ctx[1],
    { iconNode: (
      /*iconNode*/
      ctx[0]
    ) }
  ];
  let icon_props = {
    $$slots: { default: [create_default_slot4] },
    $$scope: { ctx }
  };
  for (let i = 0; i < icon_spread_levels.length; i += 1) {
    icon_props = assign(icon_props, icon_spread_levels[i]);
  }
  icon = new Icon$1({ props: icon_props });
  return {
    c() {
      create_component(icon.$$.fragment);
    },
    l(nodes) {
      claim_component(icon.$$.fragment, nodes);
    },
    m(target, anchor) {
      mount_component(icon, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const icon_changes = dirty & /*$$props, iconNode*/
      3 ? get_spread_update(icon_spread_levels, [
        icon_spread_levels[0],
        dirty & /*$$props*/
        2 && get_spread_object(
          /*$$props*/
          ctx2[1]
        ),
        dirty & /*iconNode*/
        1 && { iconNode: (
          /*iconNode*/
          ctx2[0]
        ) }
      ]) : {};
      if (dirty & /*$$scope*/
      8) {
        icon_changes.$$scope = { dirty, ctx: ctx2 };
      }
      icon.$set(icon_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(icon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(icon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(icon, detaching);
    }
  };
}
function instance5($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  const iconNode = [
    ["polyline", { "points": "8 18 12 22 16 18" }],
    ["polyline", { "points": "8 6 12 2 16 6" }],
    [
      "line",
      {
        "x1": "12",
        "x2": "12",
        "y1": "2",
        "y2": "22"
      }
    ]
  ];
  $$self.$$set = ($$new_props) => {
    $$invalidate(1, $$props = assign(assign({}, $$props), exclude_internal_props($$new_props)));
    if ("$$scope" in $$new_props)
      $$invalidate(3, $$scope = $$new_props.$$scope);
  };
  $$props = exclude_internal_props($$props);
  return [iconNode, $$props, slots, $$scope];
}
var Move_vertical = class extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance5, create_fragment5, safe_not_equal, {});
  }
};
var Move_vertical$1 = Move_vertical;

// node_modules/lucide-svelte/dist/esm/icons/pen-line.svelte.js
function create_default_slot5(ctx) {
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[2].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[3],
    null
  );
  return {
    c() {
      if (default_slot)
        default_slot.c();
    },
    l(nodes) {
      if (default_slot)
        default_slot.l(nodes);
    },
    m(target, anchor) {
      if (default_slot) {
        default_slot.m(target, anchor);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        8)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[3],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[3]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[3],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_fragment6(ctx) {
  let icon;
  let current;
  const icon_spread_levels = [
    { name: "pen-line" },
    /*$$props*/
    ctx[1],
    { iconNode: (
      /*iconNode*/
      ctx[0]
    ) }
  ];
  let icon_props = {
    $$slots: { default: [create_default_slot5] },
    $$scope: { ctx }
  };
  for (let i = 0; i < icon_spread_levels.length; i += 1) {
    icon_props = assign(icon_props, icon_spread_levels[i]);
  }
  icon = new Icon$1({ props: icon_props });
  return {
    c() {
      create_component(icon.$$.fragment);
    },
    l(nodes) {
      claim_component(icon.$$.fragment, nodes);
    },
    m(target, anchor) {
      mount_component(icon, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const icon_changes = dirty & /*$$props, iconNode*/
      3 ? get_spread_update(icon_spread_levels, [
        icon_spread_levels[0],
        dirty & /*$$props*/
        2 && get_spread_object(
          /*$$props*/
          ctx2[1]
        ),
        dirty & /*iconNode*/
        1 && { iconNode: (
          /*iconNode*/
          ctx2[0]
        ) }
      ]) : {};
      if (dirty & /*$$scope*/
      8) {
        icon_changes.$$scope = { dirty, ctx: ctx2 };
      }
      icon.$set(icon_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(icon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(icon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(icon, detaching);
    }
  };
}
function instance6($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  const iconNode = [
    ["path", { "d": "M12 20h9" }],
    [
      "path",
      {
        "d": "M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"
      }
    ]
  ];
  $$self.$$set = ($$new_props) => {
    $$invalidate(1, $$props = assign(assign({}, $$props), exclude_internal_props($$new_props)));
    if ("$$scope" in $$new_props)
      $$invalidate(3, $$scope = $$new_props.$$scope);
  };
  $$props = exclude_internal_props($$props);
  return [iconNode, $$props, slots, $$scope];
}
var Pen_line = class extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance6, create_fragment6, safe_not_equal, {});
  }
};
var Pen_line$1 = Pen_line;

// node_modules/lucide-svelte/dist/esm/icons/pipette.svelte.js
function create_default_slot6(ctx) {
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[2].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[3],
    null
  );
  return {
    c() {
      if (default_slot)
        default_slot.c();
    },
    l(nodes) {
      if (default_slot)
        default_slot.l(nodes);
    },
    m(target, anchor) {
      if (default_slot) {
        default_slot.m(target, anchor);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        8)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[3],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[3]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[3],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_fragment7(ctx) {
  let icon;
  let current;
  const icon_spread_levels = [
    { name: "pipette" },
    /*$$props*/
    ctx[1],
    { iconNode: (
      /*iconNode*/
      ctx[0]
    ) }
  ];
  let icon_props = {
    $$slots: { default: [create_default_slot6] },
    $$scope: { ctx }
  };
  for (let i = 0; i < icon_spread_levels.length; i += 1) {
    icon_props = assign(icon_props, icon_spread_levels[i]);
  }
  icon = new Icon$1({ props: icon_props });
  return {
    c() {
      create_component(icon.$$.fragment);
    },
    l(nodes) {
      claim_component(icon.$$.fragment, nodes);
    },
    m(target, anchor) {
      mount_component(icon, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const icon_changes = dirty & /*$$props, iconNode*/
      3 ? get_spread_update(icon_spread_levels, [
        icon_spread_levels[0],
        dirty & /*$$props*/
        2 && get_spread_object(
          /*$$props*/
          ctx2[1]
        ),
        dirty & /*iconNode*/
        1 && { iconNode: (
          /*iconNode*/
          ctx2[0]
        ) }
      ]) : {};
      if (dirty & /*$$scope*/
      8) {
        icon_changes.$$scope = { dirty, ctx: ctx2 };
      }
      icon.$set(icon_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(icon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(icon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(icon, detaching);
    }
  };
}
function instance7($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  const iconNode = [
    ["path", { "d": "m2 22 1-1h3l9-9" }],
    ["path", { "d": "M3 21v-3l9-9" }],
    [
      "path",
      {
        "d": "m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z"
      }
    ]
  ];
  $$self.$$set = ($$new_props) => {
    $$invalidate(1, $$props = assign(assign({}, $$props), exclude_internal_props($$new_props)));
    if ("$$scope" in $$new_props)
      $$invalidate(3, $$scope = $$new_props.$$scope);
  };
  $$props = exclude_internal_props($$props);
  return [iconNode, $$props, slots, $$scope];
}
var Pipette = class extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance7, create_fragment7, safe_not_equal, {});
  }
};
var Pipette$1 = Pipette;

// node_modules/lucide-svelte/dist/esm/icons/slash.svelte.js
function create_default_slot7(ctx) {
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[2].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[3],
    null
  );
  return {
    c() {
      if (default_slot)
        default_slot.c();
    },
    l(nodes) {
      if (default_slot)
        default_slot.l(nodes);
    },
    m(target, anchor) {
      if (default_slot) {
        default_slot.m(target, anchor);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        8)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[3],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[3]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[3],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_fragment8(ctx) {
  let icon;
  let current;
  const icon_spread_levels = [
    { name: "slash" },
    /*$$props*/
    ctx[1],
    { iconNode: (
      /*iconNode*/
      ctx[0]
    ) }
  ];
  let icon_props = {
    $$slots: { default: [create_default_slot7] },
    $$scope: { ctx }
  };
  for (let i = 0; i < icon_spread_levels.length; i += 1) {
    icon_props = assign(icon_props, icon_spread_levels[i]);
  }
  icon = new Icon$1({ props: icon_props });
  return {
    c() {
      create_component(icon.$$.fragment);
    },
    l(nodes) {
      claim_component(icon.$$.fragment, nodes);
    },
    m(target, anchor) {
      mount_component(icon, target, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const icon_changes = dirty & /*$$props, iconNode*/
      3 ? get_spread_update(icon_spread_levels, [
        icon_spread_levels[0],
        dirty & /*$$props*/
        2 && get_spread_object(
          /*$$props*/
          ctx2[1]
        ),
        dirty & /*iconNode*/
        1 && { iconNode: (
          /*iconNode*/
          ctx2[0]
        ) }
      ]) : {};
      if (dirty & /*$$scope*/
      8) {
        icon_changes.$$scope = { dirty, ctx: ctx2 };
      }
      icon.$set(icon_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(icon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(icon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(icon, detaching);
    }
  };
}
function instance8($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  const iconNode = [["path", { "d": "M22 2 2 22" }]];
  $$self.$$set = ($$new_props) => {
    $$invalidate(1, $$props = assign(assign({}, $$props), exclude_internal_props($$new_props)));
    if ("$$scope" in $$new_props)
      $$invalidate(3, $$scope = $$new_props.$$scope);
  };
  $$props = exclude_internal_props($$props);
  return [iconNode, $$props, slots, $$scope];
}
var Slash = class extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance8, create_fragment8, safe_not_equal, {});
  }
};
var Slash$1 = Slash;

// node_modules/svelte/src/runtime/store/index.js
var subscriber_queue = [];
function writable(value, start = noop) {
  let stop;
  const subscribers = /* @__PURE__ */ new Set();
  function set(new_value) {
    if (safe_not_equal(value, new_value)) {
      value = new_value;
      if (stop) {
        const run_queue = !subscriber_queue.length;
        for (const subscriber of subscribers) {
          subscriber[1]();
          subscriber_queue.push(subscriber, value);
        }
        if (run_queue) {
          for (let i = 0; i < subscriber_queue.length; i += 2) {
            subscriber_queue[i][0](subscriber_queue[i + 1]);
          }
          subscriber_queue.length = 0;
        }
      }
    }
  }
  function update2(fn) {
    set(fn(value));
  }
  function subscribe2(run2, invalidate = noop) {
    const subscriber = [run2, invalidate];
    subscribers.add(subscriber);
    if (subscribers.size === 1) {
      stop = start(set, update2) || noop;
    }
    run2(value);
    return () => {
      subscribers.delete(subscriber);
      if (subscribers.size === 0 && stop) {
        stop();
        stop = null;
      }
    };
  }
  return { set, update: update2, subscribe: subscribe2 };
}

// src/store/config.ts
var initialState = {
  stage: {
    width: 530,
    height: 100
  },
  eraserPointer: { x: -10, y: -10 },
  fileName: "sketch-md"
};
var configStore = writable(initialState);
var useConfig = {
  subscribe: configStore.subscribe,
  get: () => get_store_value(configStore),
  set: (data) => configStore.set(data),
  update: configStore.update,
  init: () => configStore.set(initialState),
  updateStageSize: (type, value) => {
    configStore.update((state) => {
      const newStage = { ...state.stage, [type]: value };
      return { ...state, stage: newStage };
    });
  },
  updateEraserPointer: (x, y) => {
    configStore.update((state) => {
      return { ...state, eraserPointer: { x, y } };
    });
  },
  updateFileName: (fileName) => {
    configStore.update((state) => {
      return { ...state, fileName };
    });
  }
};

// src/store/main.ts
var initialState2 = {
  isPaint: false,
  mode: "brush" /* Brush */,
  color: "#C3ACD0" /* PRIMARY */,
  strokeWidth: 3,
  lines: [
    {
      mode: "brush" /* Brush */,
      color: "#C3ACD0" /* PRIMARY */,
      strokeWidth: 3,
      points: []
    }
  ]
};
var drawingStore = writable(initialState2);
var useDrawing = {
  subscribe: drawingStore.subscribe,
  get: () => get_store_value(drawingStore),
  set: (data) => drawingStore.set(data),
  update: drawingStore.update,
  init: () => drawingStore.set(initialState2),
  setMode: (mode) => {
    drawingStore.update((state) => ({ ...state, mode }));
  },
  setColor: (color) => {
    drawingStore.update((state) => ({ ...state, color }));
  },
  setStrokeWidth: (strokeWidth) => {
    drawingStore.update((state) => ({ ...state, strokeWidth }));
  }
};

// src/constant/const.ts
var lineColors = [
  {
    isActive: false,
    color: "#FF9B9B" /* RED */
  },
  {
    isActive: false,
    color: "#6E85B7" /* BLUE */
  },
  {
    isActive: false,
    color: "#76BA99" /* GREEN */
  },
  {
    isActive: false,
    color: "#FFD24C" /* YELLOW */
  },
  {
    isActive: true,
    color: "#C3ACD0" /* PURPLE */
  },
  {
    isActive: false,
    color: "#525252" /* GRAY */
  },
  {
    isActive: false,
    color: "#313131" /* BLACK */
  }
];
var lineWeights = [
  {
    isActive: true,
    weight: 1
  },
  {
    isActive: false,
    weight: 2
  },
  {
    isActive: false,
    weight: 3
  }
];
var realLineWeights = {
  1: 3,
  2: 5,
  3: 10
};

// src/util/features.ts
var import_obsidian = require("obsidian");
function isDocumentActive(app) {
  const activeView = app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
  return activeView !== null;
}
function insertImageToMarkdown(app, dataUrl, name) {
  const markdownView = app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
  if (!markdownView) {
    return;
  }
  const editor = markdownView.editor;
  if (!editor) {
    return;
  }
  saveImageToFile(app, dataUrl, editor, name);
}
function dataUrlToBlob(dataUrl) {
  return fetch(dataUrl).then((res) => res.blob());
}
function getUniqueFileName(fileName) {
  const date = new Date();
  const timestamp = date.getTime();
  return `${fileName || "sketch-md"}-${timestamp}.png`;
}
function blobToArrayBuffer(blob) {
  return new Promise((resolve, reject) => {
    const reader = new FileReader();
    reader.onloadend = () => resolve(reader.result);
    reader.onerror = reject;
    reader.readAsArrayBuffer(blob);
  });
}
async function saveImageToFile(app, dataUrl, editor, name) {
  const fileName = getUniqueFileName(name);
  const filePath = `./${fileName}`;
  const blob = await dataUrlToBlob(dataUrl);
  const arrayBuffer = await blobToArrayBuffer(blob);
  await app.vault.createBinary(filePath, arrayBuffer);
  const markdownImageText = `![Drawing](${filePath})`;
  editor.replaceSelection(markdownImageText);
}

// src/component/Controller.svelte
function add_css(target) {
  append_styles(target, "svelte-zlg3x2", '.container.svelte-zlg3x2.svelte-zlg3x2{box-sizing:border-box;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;gap:5px}.container.svelte-zlg3x2>div.svelte-zlg3x2{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;gap:3px}.color-box.svelte-zlg3x2.svelte-zlg3x2{width:20px;height:20px;cursor:pointer}.color-picker-box.svelte-zlg3x2.svelte-zlg3x2{display:flex;align-items:center;justify-content:center;gap:3px}.color-picker.svelte-zlg3x2.svelte-zlg3x2{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:23px;height:20px;border-radius:50%;background-color:transparent;border:none;cursor:pointer}.color-picker.svelte-zlg3x2.svelte-zlg3x2::-webkit-color-swatch{border-radius:50%;border:none;width:23px;height:20px}.color-picker.svelte-zlg3x2.svelte-zlg3x2::-moz-color-swatch{border-radius:50%;border:none;width:23px;height:20px}.btn-active.svelte-zlg3x2.svelte-zlg3x2{border:1px solid #674188;border-radius:10%;padding:2px}.box.svelte-zlg3x2.svelte-zlg3x2{position:relative;width:100%}.alias-right.svelte-zlg3x2.svelte-zlg3x2{position:absolute;right:0px;top:0px;display:flex;flex-direction:row;align-items:center}.filename-instructions.svelte-zlg3x2.svelte-zlg3x2{margin-top:1px;font-size:8px;color:#666;line-height:0.8}input[type="text"].svelte-zlg3x2.svelte-zlg3x2{width:230px}input[type="range"].svelte-zlg3x2.svelte-zlg3x2{width:230px}');
}
function get_each_context2(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[26] = list[i];
  return child_ctx;
}
function get_each_context_1(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[29] = list[i];
  child_ctx[31] = i;
  return child_ctx;
}
function create_each_block_1(ctx) {
  let div1;
  let div0;
  let div0_tabindex_value;
  let t;
  let div1_class_value;
  let mounted;
  let dispose;
  function mousedown_handler() {
    return (
      /*mousedown_handler*/
      ctx[19](
        /*pc*/
        ctx[29],
        /*idx*/
        ctx[31]
      )
    );
  }
  function touchstart_handler() {
    return (
      /*touchstart_handler*/
      ctx[20](
        /*pc*/
        ctx[29],
        /*idx*/
        ctx[31]
      )
    );
  }
  return {
    c() {
      div1 = element("div");
      div0 = element("div");
      t = space();
      attr(div0, "role", "button");
      attr(div0, "class", "color-box svelte-zlg3x2");
      set_style(
        div0,
        "background-color",
        /*pc*/
        ctx[29].color
      );
      attr(div0, "tabindex", div0_tabindex_value = /*idx*/
      ctx[31]);
      attr(div1, "class", div1_class_value = null_to_empty(
        /*pc*/
        ctx[29].isActive ? "btn-active" : ""
      ) + " svelte-zlg3x2");
    },
    m(target, anchor) {
      insert(target, div1, anchor);
      append(div1, div0);
      append(div1, t);
      if (!mounted) {
        dispose = [
          listen(div0, "mousedown", mousedown_handler),
          listen(div0, "touchstart", touchstart_handler, { passive: true })
        ];
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
    },
    d(detaching) {
      if (detaching) {
        detach(div1);
      }
      mounted = false;
      run_all(dispose);
    }
  };
}
function create_key_block_1(ctx) {
  let button;
  let pipette;
  let t0;
  let input;
  let t1;
  let each_1_anchor;
  let current;
  let mounted;
  let dispose;
  pipette = new Pipette$1({
    props: {
      size: 18,
      color: (
        /*isColorPickerActive*/
        ctx[4] ? "#674188" /* ACTIVE */ : "#C3ACD0" /* PRIMARY */
      )
    }
  });
  let each_value_1 = ensure_array_like(lineColors);
  let each_blocks = [];
  for (let i = 0; i < each_value_1.length; i += 1) {
    each_blocks[i] = create_each_block_1(get_each_context_1(ctx, each_value_1, i));
  }
  return {
    c() {
      button = element("button");
      create_component(pipette.$$.fragment);
      t0 = space();
      input = element("input");
      t1 = space();
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      each_1_anchor = empty();
      attr(input, "type", "color");
      attr(input, "class", "color-picker svelte-zlg3x2");
      input.value = /*color*/
      ctx[7];
      attr(button, "class", "color-picker-box svelte-zlg3x2");
    },
    m(target, anchor) {
      insert(target, button, anchor);
      mount_component(pipette, button, null);
      append(button, t0);
      append(button, input);
      insert(target, t1, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(target, anchor);
        }
      }
      insert(target, each_1_anchor, anchor);
      current = true;
      if (!mounted) {
        dispose = listen(
          input,
          "change",
          /*change_handler*/
          ctx[18]
        );
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      const pipette_changes = {};
      if (dirty[0] & /*isColorPickerActive*/
      16)
        pipette_changes.color = /*isColorPickerActive*/
        ctx2[4] ? "#674188" /* ACTIVE */ : "#C3ACD0" /* PRIMARY */;
      pipette.$set(pipette_changes);
      if (!current || dirty[0] & /*color*/
      128) {
        input.value = /*color*/
        ctx2[7];
      }
      if (dirty[0] & /*changeColor*/
      512) {
        each_value_1 = ensure_array_like(lineColors);
        let i;
        for (i = 0; i < each_value_1.length; i += 1) {
          const child_ctx = get_each_context_1(ctx2, each_value_1, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block_1(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value_1.length;
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(pipette.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(pipette.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching) {
        detach(button);
        detach(t1);
        detach(each_1_anchor);
      }
      destroy_component(pipette);
      destroy_each(each_blocks, detaching);
      mounted = false;
      dispose();
    }
  };
}
function create_each_block2(ctx) {
  let button;
  let slash;
  let t;
  let current;
  let mounted;
  let dispose;
  slash = new Slash$1({
    props: {
      size: 15,
      strokeWidth: (
        /*lw*/
        ctx[26].weight
      ),
      absoluteStrokeWidth: true,
      color: (
        /*lw*/
        ctx[26].isActive ? "#674188" /* ACTIVE */ : "#C3ACD0" /* PRIMARY */
      )
    }
  });
  function click_handler_1() {
    return (
      /*click_handler_1*/
      ctx[21](
        /*lw*/
        ctx[26]
      )
    );
  }
  return {
    c() {
      button = element("button");
      create_component(slash.$$.fragment);
      t = space();
    },
    m(target, anchor) {
      insert(target, button, anchor);
      mount_component(slash, button, null);
      append(button, t);
      current = true;
      if (!mounted) {
        dispose = listen(button, "click", click_handler_1);
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
    },
    i(local) {
      if (current)
        return;
      transition_in(slash.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(slash.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching) {
        detach(button);
      }
      destroy_component(slash);
      mounted = false;
      dispose();
    }
  };
}
function create_key_block(ctx) {
  let each_1_anchor;
  let current;
  let each_value = ensure_array_like(lineWeights);
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block2(get_each_context2(ctx, each_value, i));
  }
  const out = (i) => transition_out(each_blocks[i], 1, 1, () => {
    each_blocks[i] = null;
  });
  return {
    c() {
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      each_1_anchor = empty();
    },
    m(target, anchor) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(target, anchor);
        }
      }
      insert(target, each_1_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      if (dirty[0] & /*changeWeight*/
      1024) {
        each_value = ensure_array_like(lineWeights);
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context2(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
            transition_in(each_blocks[i], 1);
          } else {
            each_blocks[i] = create_each_block2(child_ctx);
            each_blocks[i].c();
            transition_in(each_blocks[i], 1);
            each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
          }
        }
        group_outros();
        for (i = each_value.length; i < each_blocks.length; i += 1) {
          out(i);
        }
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      current = true;
    },
    o(local) {
      each_blocks = each_blocks.filter(Boolean);
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      current = false;
    },
    d(detaching) {
      if (detaching) {
        detach(each_1_anchor);
      }
      destroy_each(each_blocks, detaching);
    }
  };
}
function create_fragment9(ctx) {
  let div6;
  let div1;
  let button0;
  let penline;
  let t0;
  let previous_key = (
    /*selectedColor*/
    ctx[2]
  );
  let t1;
  let div0;
  let previous_key_1 = (
    /*selectedLineWidth*/
    ctx[3]
  );
  let t2;
  let div2;
  let button1;
  let eraser;
  let t3;
  let div3;
  let button2;
  let movevertical;
  let t4;
  let input0;
  let input0_value_value;
  let t5;
  let div5;
  let button3;
  let file;
  let t6;
  let input1;
  let t7;
  let div4;
  let button4;
  let import_1;
  let t8;
  let p0;
  let t10;
  let p1;
  let current;
  let mounted;
  let dispose;
  penline = new Pen_line$1({
    props: {
      color: (
        /*penLineActive*/
        ctx[0] ? "#674188" /* ACTIVE */ : "#C3ACD0" /* PRIMARY */
      )
    }
  });
  let key_block0 = create_key_block_1(ctx);
  let key_block1 = create_key_block(ctx);
  eraser = new Eraser$1({
    props: {
      color: (
        /*eraserActive*/
        ctx[1] ? "#674188" /* ACTIVE */ : "#C3ACD0" /* PRIMARY */
      )
    }
  });
  movevertical = new Move_vertical$1({ props: { color: "#C3ACD0" /* PRIMARY */ } });
  file = new File$1({ props: { color: "#C3ACD0" /* PRIMARY */ } });
  import_1 = new Import$1({ props: { color: "#674188" /* ACTIVE */ } });
  return {
    c() {
      div6 = element("div");
      div1 = element("div");
      button0 = element("button");
      create_component(penline.$$.fragment);
      t0 = space();
      key_block0.c();
      t1 = space();
      div0 = element("div");
      key_block1.c();
      t2 = space();
      div2 = element("div");
      button1 = element("button");
      create_component(eraser.$$.fragment);
      t3 = space();
      div3 = element("div");
      button2 = element("button");
      create_component(movevertical.$$.fragment);
      t4 = space();
      input0 = element("input");
      t5 = space();
      div5 = element("div");
      button3 = element("button");
      create_component(file.$$.fragment);
      t6 = space();
      input1 = element("input");
      t7 = space();
      div4 = element("div");
      button4 = element("button");
      create_component(import_1.$$.fragment);
      t8 = space();
      p0 = element("p");
      p0.textContent = "Filename should be less than 20 characters, no spaces, and only includes\n		letters, numbers, dashes (-), and underscores (_).";
      t10 = space();
      p1 = element("p");
      p1.textContent = "The file will be saved in the current root folder.";
      attr(div0, "class", "alias-right svelte-zlg3x2");
      attr(div1, "class", "box svelte-zlg3x2");
      attr(div2, "class", "box svelte-zlg3x2");
      attr(input0, "type", "range");
      attr(input0, "min", "100");
      attr(input0, "max", "500");
      input0.value = input0_value_value = /*stage*/
      ctx[6].height;
      attr(input0, "class", "svelte-zlg3x2");
      attr(div3, "class", "box svelte-zlg3x2");
      attr(input1, "type", "text");
      attr(input1, "placeholder", "file name");
      input1.value = /*fileName*/
      ctx[5];
      attr(input1, "maxlength", "20");
      attr(input1, "class", "svelte-zlg3x2");
      attr(div4, "class", "alias-right svelte-zlg3x2");
      attr(div5, "class", "box svelte-zlg3x2");
      attr(p0, "class", "filename-instructions svelte-zlg3x2");
      attr(p1, "class", "filename-instructions svelte-zlg3x2");
      attr(div6, "class", "container svelte-zlg3x2");
    },
    m(target, anchor) {
      insert(target, div6, anchor);
      append(div6, div1);
      append(div1, button0);
      mount_component(penline, button0, null);
      append(div1, t0);
      key_block0.m(div1, null);
      append(div1, t1);
      append(div1, div0);
      key_block1.m(div0, null);
      append(div6, t2);
      append(div6, div2);
      append(div2, button1);
      mount_component(eraser, button1, null);
      append(div6, t3);
      append(div6, div3);
      append(div3, button2);
      mount_component(movevertical, button2, null);
      append(div3, t4);
      append(div3, input0);
      append(div6, t5);
      append(div6, div5);
      append(div5, button3);
      mount_component(file, button3, null);
      append(div5, t6);
      append(div5, input1);
      append(div5, t7);
      append(div5, div4);
      append(div4, button4);
      mount_component(import_1, button4, null);
      append(div6, t8);
      append(div6, p0);
      append(div6, t10);
      append(div6, p1);
      current = true;
      if (!mounted) {
        dispose = [
          listen(
            button0,
            "click",
            /*click_handler*/
            ctx[17]
          ),
          listen(
            button1,
            "click",
            /*click_handler_2*/
            ctx[22]
          ),
          listen(
            input0,
            "change",
            /*change_handler_1*/
            ctx[23]
          ),
          listen(
            input1,
            "change",
            /*fileNameChange*/
            ctx[13]
          ),
          listen(
            button4,
            "click",
            /*handleCanvasExport*/
            ctx[11]
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      const penline_changes = {};
      if (dirty[0] & /*penLineActive*/
      1)
        penline_changes.color = /*penLineActive*/
        ctx2[0] ? "#674188" /* ACTIVE */ : "#C3ACD0" /* PRIMARY */;
      penline.$set(penline_changes);
      if (dirty[0] & /*selectedColor*/
      4 && safe_not_equal(previous_key, previous_key = /*selectedColor*/
      ctx2[2])) {
        group_outros();
        transition_out(key_block0, 1, 1, noop);
        check_outros();
        key_block0 = create_key_block_1(ctx2);
        key_block0.c();
        transition_in(key_block0, 1);
        key_block0.m(div1, t1);
      } else {
        key_block0.p(ctx2, dirty);
      }
      if (dirty[0] & /*selectedLineWidth*/
      8 && safe_not_equal(previous_key_1, previous_key_1 = /*selectedLineWidth*/
      ctx2[3])) {
        group_outros();
        transition_out(key_block1, 1, 1, noop);
        check_outros();
        key_block1 = create_key_block(ctx2);
        key_block1.c();
        transition_in(key_block1, 1);
        key_block1.m(div0, null);
      } else {
        key_block1.p(ctx2, dirty);
      }
      const eraser_changes = {};
      if (dirty[0] & /*eraserActive*/
      2)
        eraser_changes.color = /*eraserActive*/
        ctx2[1] ? "#674188" /* ACTIVE */ : "#C3ACD0" /* PRIMARY */;
      eraser.$set(eraser_changes);
      if (!current || dirty[0] & /*stage*/
      64 && input0_value_value !== (input0_value_value = /*stage*/
      ctx2[6].height)) {
        input0.value = input0_value_value;
      }
      if (!current || dirty[0] & /*fileName*/
      32 && input1.value !== /*fileName*/
      ctx2[5]) {
        input1.value = /*fileName*/
        ctx2[5];
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(penline.$$.fragment, local);
      transition_in(key_block0);
      transition_in(key_block1);
      transition_in(eraser.$$.fragment, local);
      transition_in(movevertical.$$.fragment, local);
      transition_in(file.$$.fragment, local);
      transition_in(import_1.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(penline.$$.fragment, local);
      transition_out(key_block0);
      transition_out(key_block1);
      transition_out(eraser.$$.fragment, local);
      transition_out(movevertical.$$.fragment, local);
      transition_out(file.$$.fragment, local);
      transition_out(import_1.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching) {
        detach(div6);
      }
      destroy_component(penline);
      key_block0.d(detaching);
      key_block1.d(detaching);
      destroy_component(eraser);
      destroy_component(movevertical);
      destroy_component(file);
      destroy_component(import_1);
      mounted = false;
      run_all(dispose);
    }
  };
}
function instance9($$self, $$props, $$invalidate) {
  let color;
  let stage;
  let fileName;
  let $configStore;
  let $drawingStore;
  component_subscribe($$self, configStore, ($$value) => $$invalidate(15, $configStore = $$value));
  component_subscribe($$self, drawingStore, ($$value) => $$invalidate(16, $drawingStore = $$value));
  let { app } = $$props;
  let penLineActive = true;
  let eraserActive = false;
  let selectedColor = "#C3ACD0" /* PRIMARY */;
  let selectedLineWidth = 1;
  let isColorPickerActive = true;
  const changeMode = (newMode) => {
    $$invalidate(0, penLineActive = newMode === "brush" /* Brush */);
    $$invalidate(1, eraserActive = newMode === "eraser" /* Eraser */);
    useDrawing.setMode(newMode);
  };
  const changeColor = (newColor, idx) => {
    $$invalidate(4, isColorPickerActive = idx === -1);
    $$invalidate(2, selectedColor = newColor);
    useDrawing.setColor(newColor);
    updateColorPickerState(idx);
  };
  const changeWeight = (newWeight) => {
    $$invalidate(3, selectedLineWidth = newWeight);
    useDrawing.setStrokeWidth(realLineWeights[newWeight]);
    updateWeightPickerState(newWeight);
  };
  const updateColorPickerState = (activeIdx) => {
    lineColors.forEach((pc, i) => pc.isActive = i === activeIdx);
  };
  const updateWeightPickerState = (activeWeight) => {
    lineWeights.forEach((lw) => lw.isActive = lw.weight === activeWeight);
  };
  const handleCanvasExport = () => {
    const canvas = document.querySelector(".konvajs-content canvas");
    const dataUrl = canvas.toDataURL("image/png");
    insertImageToMarkdown(app, dataUrl, fileName);
  };
  const updateStageSize = (type, value) => {
    useConfig.updateStageSize(type, parseInt(value));
  };
  const fileNameChange = (event2) => {
    let updatedFileName = event2.target.value;
    updatedFileName = updatedFileName.replace(/\s/g, "");
    if (updatedFileName.length > 20) {
      updatedFileName = updatedFileName.substring(0, 20);
    }
    updatedFileName = updatedFileName.replace(/[^a-zA-Z0-9_.-]/g, "");
    useConfig.updateFileName(updatedFileName);
  };
  const click_handler = () => changeMode("brush" /* Brush */);
  const change_handler = (e) => changeColor(e.target.value, -1);
  const mousedown_handler = (pc, idx) => changeColor(pc.color, idx);
  const touchstart_handler = (pc, idx) => changeColor(pc.color, idx);
  const click_handler_1 = (lw) => changeWeight(lw.weight);
  const click_handler_2 = () => changeMode("eraser" /* Eraser */);
  const change_handler_1 = () => updateStageSize("height", event.target.value);
  $$self.$$set = ($$props2) => {
    if ("app" in $$props2)
      $$invalidate(14, app = $$props2.app);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty[0] & /*$drawingStore*/
    65536) {
      $:
        $$invalidate(7, { color } = $drawingStore, color);
    }
    if ($$self.$$.dirty[0] & /*$configStore*/
    32768) {
      $:
        $$invalidate(6, { stage, fileName } = $configStore, stage, ($$invalidate(5, fileName), $$invalidate(15, $configStore)));
    }
  };
  return [
    penLineActive,
    eraserActive,
    selectedColor,
    selectedLineWidth,
    isColorPickerActive,
    fileName,
    stage,
    color,
    changeMode,
    changeColor,
    changeWeight,
    handleCanvasExport,
    updateStageSize,
    fileNameChange,
    app,
    $configStore,
    $drawingStore,
    click_handler,
    change_handler,
    mousedown_handler,
    touchstart_handler,
    click_handler_1,
    click_handler_2,
    change_handler_1
  ];
}
var Controller = class extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance9, create_fragment9, safe_not_equal, { app: 14 }, add_css, [-1, -1]);
  }
};
var Controller_default = Controller;

// node_modules/svelte-konva/dist/Arc.svelte
var import_konva = __toESM(require_lib());

// node_modules/svelte-konva/dist/util/events.js
var KONVA_EVENTS = [
  "mouseover",
  "mouseout",
  "mouseenter",
  "mouseleave",
  "mousemove",
  "mousedown",
  "mouseup",
  "wheel",
  "click",
  "dblclick",
  "touchstart",
  "touchmove",
  "touchend",
  "tap",
  "dbltap",
  "pointerdown",
  "pointermove",
  "pointerup",
  "pointercancel",
  "pointerover",
  "pointerenter",
  "pointerout",
  "pointerleave",
  "pointerclick",
  "pointerdblclick",
  "dragstart",
  "dragmove",
  "dragend",
  "transformstart",
  "transform",
  "transformend"
];
function registerEvents(dispatch, node) {
  KONVA_EVENTS.forEach((event2) => {
    node.on(event2, (payload) => {
      if (!dispatch(event2, payload, { cancelable: true })) {
        payload.cancelBubble = true;
      }
    });
  });
}

// node_modules/svelte-konva/dist/util/manageContext.js
var CONTAINER_COMPONENT_KEYS = [
  "svelte-konva-stage",
  "svelte-konva-layer",
  "svelte-konva-group",
  "svelte-konva-label"
];
var Container;
(function(Container2) {
  Container2[Container2["Stage"] = 0] = "Stage";
  Container2[Container2["Layer"] = 1] = "Layer";
  Container2[Container2["Group"] = 2] = "Group";
  Container2[Container2["Label"] = 3] = "Label";
})(Container || (Container = {}));
var CONTAINER_ERROR = "svelte-konva: Component does not have any parent container. Please make sure that the component is wrapped inside a Layer or Group.";
var LAYER_ERROR = "svelte-konva: A Layer needs to have a Stage as parent.";
function setContainerContext(kind, value) {
  CONTAINER_COMPONENT_KEYS.forEach((key) => {
    setContext(key, null);
  });
  setContext(CONTAINER_COMPONENT_KEYS[kind], value);
}
function getParentContainer() {
  for (let i = 1; i < 4; i++) {
    const parent = getContext(CONTAINER_COMPONENT_KEYS[i]);
    if (parent) {
      return parent;
    }
  }
  throw new Error(CONTAINER_ERROR);
}
function getParentStage() {
  const parent = getContext(CONTAINER_COMPONENT_KEYS[Container.Stage]);
  if (parent) {
    return parent;
  }
  throw new Error(LAYER_ERROR);
}

// node_modules/svelte-konva/dist/util/object.js
function copyExistingKeys(target, source) {
  for (const key in target) {
    if (Object.prototype.hasOwnProperty.call(source, key)) {
      target[key] = source[key];
    }
  }
}

// node_modules/svelte-konva/dist/Arrow.svelte
var import_konva2 = __toESM(require_lib());

// node_modules/svelte-konva/dist/Circle.svelte
var import_konva3 = __toESM(require_lib());

// node_modules/svelte-konva/dist/Ellipse.svelte
var import_konva4 = __toESM(require_lib());

// node_modules/svelte-konva/dist/Group.svelte
var import_konva5 = __toESM(require_lib());

// node_modules/svelte-konva/dist/Image.svelte
var import_konva6 = __toESM(require_lib());

// node_modules/svelte-konva/dist/Label.svelte
var import_konva7 = __toESM(require_lib());

// node_modules/svelte-konva/dist/Layer.svelte
var import_konva8 = __toESM(require_lib());
function create_if_block(ctx) {
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[6].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[5],
    null
  );
  return {
    c() {
      if (default_slot)
        default_slot.c();
    },
    m(target, anchor) {
      if (default_slot) {
        default_slot.m(target, anchor);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        32)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[5],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[5]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[5],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_fragment10(ctx) {
  let if_block_anchor;
  let current;
  let if_block = (
    /*isReady*/
    ctx[0] && create_if_block(ctx)
  );
  return {
    c() {
      if (if_block)
        if_block.c();
      if_block_anchor = empty();
    },
    m(target, anchor) {
      if (if_block)
        if_block.m(target, anchor);
      insert(target, if_block_anchor, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      if (
        /*isReady*/
        ctx2[0]
      ) {
        if (if_block) {
          if_block.p(ctx2, dirty);
          if (dirty & /*isReady*/
          1) {
            transition_in(if_block, 1);
          }
        } else {
          if_block = create_if_block(ctx2);
          if_block.c();
          transition_in(if_block, 1);
          if_block.m(if_block_anchor.parentNode, if_block_anchor);
        }
      } else if (if_block) {
        group_outros();
        transition_out(if_block, 1, 1, () => {
          if_block = null;
        });
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if (detaching) {
        detach(if_block_anchor);
      }
      if (if_block)
        if_block.d(detaching);
    }
  };
}
function instance10($$self, $$props, $$invalidate) {
  let $parent;
  let { $$slots: slots = {}, $$scope } = $$props;
  let { config = {} } = $$props;
  let { handle = new import_konva8.default.Layer(config) } = $$props;
  let { staticConfig = false } = $$props;
  let inner = writable(null);
  let dispatcher = createEventDispatcher();
  let isReady = false;
  let parent = getParentStage();
  component_subscribe($$self, parent, (value) => $$invalidate(7, $parent = value));
  onMount(() => {
    $parent.add(handle);
    if (!staticConfig) {
      handle.on("transformend", () => {
        copyExistingKeys(config, handle.getAttrs());
        $$invalidate(2, config);
      });
      handle.on("dragend", () => {
        copyExistingKeys(config, handle.getAttrs());
        $$invalidate(2, config);
      });
    }
    registerEvents(dispatcher, handle);
    inner.set(handle);
    $$invalidate(0, isReady = true);
  });
  onDestroy(() => {
    if (handle) {
      handle.destroy();
    }
  });
  setContainerContext(Container.Layer, inner);
  $$self.$$set = ($$props2) => {
    if ("config" in $$props2)
      $$invalidate(2, config = $$props2.config);
    if ("handle" in $$props2)
      $$invalidate(3, handle = $$props2.handle);
    if ("staticConfig" in $$props2)
      $$invalidate(4, staticConfig = $$props2.staticConfig);
    if ("$$scope" in $$props2)
      $$invalidate(5, $$scope = $$props2.$$scope);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*handle, config*/
    12) {
      $:
        if (handle) {
          handle.setAttrs(config);
        }
    }
  };
  return [isReady, parent, config, handle, staticConfig, $$scope, slots];
}
var Layer = class extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance10, create_fragment10, safe_not_equal, { config: 2, handle: 3, staticConfig: 4 });
  }
};
var Layer_default = Layer;

// node_modules/svelte-konva/dist/Line.svelte
var import_konva9 = __toESM(require_lib());
function instance11($$self, $$props, $$invalidate) {
  let $parent;
  let { config } = $$props;
  let { handle = new import_konva9.default.Line(config) } = $$props;
  let { staticConfig = false } = $$props;
  let parent = getParentContainer();
  component_subscribe($$self, parent, (value) => $$invalidate(4, $parent = value));
  let dispatcher = createEventDispatcher();
  onMount(() => {
    $parent.add(handle);
    if (!staticConfig) {
      handle.on("transformend", () => {
        copyExistingKeys(config, handle.getAttrs());
        $$invalidate(1, config);
      });
      handle.on("dragend", () => {
        copyExistingKeys(config, handle.getAttrs());
        $$invalidate(1, config);
      });
    }
    registerEvents(dispatcher, handle);
  });
  onDestroy(() => {
    handle.destroy();
  });
  $$self.$$set = ($$props2) => {
    if ("config" in $$props2)
      $$invalidate(1, config = $$props2.config);
    if ("handle" in $$props2)
      $$invalidate(2, handle = $$props2.handle);
    if ("staticConfig" in $$props2)
      $$invalidate(3, staticConfig = $$props2.staticConfig);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*handle, config*/
    6) {
      $:
        handle.setAttrs(config);
    }
  };
  return [parent, config, handle, staticConfig];
}
var Line = class extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance11, null, safe_not_equal, { config: 1, handle: 2, staticConfig: 3 });
  }
};
var Line_default = Line;

// node_modules/svelte-konva/dist/Path.svelte
var import_konva10 = __toESM(require_lib());

// node_modules/svelte-konva/dist/Rect.svelte
var import_konva11 = __toESM(require_lib());

// node_modules/svelte-konva/dist/RegularPolygon.svelte
var import_konva12 = __toESM(require_lib());

// node_modules/svelte-konva/dist/Ring.svelte
var import_konva13 = __toESM(require_lib());

// node_modules/svelte-konva/dist/Shape.svelte
var import_konva14 = __toESM(require_lib());

// node_modules/svelte-konva/dist/Sprite.svelte
var import_konva15 = __toESM(require_lib());

// node_modules/svelte-konva/dist/Stage.svelte
var import_konva16 = __toESM(require_lib());
function create_if_block2(ctx) {
  let current;
  const default_slot_template = (
    /*#slots*/
    ctx[7].default
  );
  const default_slot = create_slot(
    default_slot_template,
    ctx,
    /*$$scope*/
    ctx[6],
    null
  );
  return {
    c() {
      if (default_slot)
        default_slot.c();
    },
    m(target, anchor) {
      if (default_slot) {
        default_slot.m(target, anchor);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & /*$$scope*/
        64)) {
          update_slot_base(
            default_slot,
            default_slot_template,
            ctx2,
            /*$$scope*/
            ctx2[6],
            !current ? get_all_dirty_from_scope(
              /*$$scope*/
              ctx2[6]
            ) : get_slot_changes(
              default_slot_template,
              /*$$scope*/
              ctx2[6],
              dirty,
              null
            ),
            null
          );
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (default_slot)
        default_slot.d(detaching);
    }
  };
}
function create_fragment11(ctx) {
  let div;
  let current;
  let if_block = (
    /*isReady*/
    ctx[1] && create_if_block2(ctx)
  );
  let div_levels = [
    /*$$restProps*/
    ctx[2]
  ];
  let div_data = {};
  for (let i = 0; i < div_levels.length; i += 1) {
    div_data = assign(div_data, div_levels[i]);
  }
  return {
    c() {
      div = element("div");
      if (if_block)
        if_block.c();
      set_attributes(div, div_data);
    },
    m(target, anchor) {
      insert(target, div, anchor);
      if (if_block)
        if_block.m(div, null);
      ctx[8](div);
      current = true;
    },
    p(ctx2, [dirty]) {
      if (
        /*isReady*/
        ctx2[1]
      ) {
        if (if_block) {
          if_block.p(ctx2, dirty);
          if (dirty & /*isReady*/
          2) {
            transition_in(if_block, 1);
          }
        } else {
          if_block = create_if_block2(ctx2);
          if_block.c();
          transition_in(if_block, 1);
          if_block.m(div, null);
        }
      } else if (if_block) {
        group_outros();
        transition_out(if_block, 1, 1, () => {
          if_block = null;
        });
        check_outros();
      }
      set_attributes(div, div_data = get_spread_update(div_levels, [dirty & /*$$restProps*/
      4 && /*$$restProps*/
      ctx2[2]]));
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if (detaching) {
        detach(div);
      }
      if (if_block)
        if_block.d();
      ctx[8](null);
    }
  };
}
function instance12($$self, $$props, $$invalidate) {
  const omit_props_names = ["config", "handle", "staticConfig"];
  let $$restProps = compute_rest_props($$props, omit_props_names);
  let { $$slots: slots = {}, $$scope } = $$props;
  let { config } = $$props;
  let { handle = null } = $$props;
  let { staticConfig = false } = $$props;
  let inner = writable(null);
  let stage;
  let dispatcher = createEventDispatcher();
  let isReady = false;
  onMount(() => {
    $$invalidate(4, handle = new import_konva16.default.Stage({ container: stage, ...config }));
    if (!staticConfig) {
      handle.on("dragend", () => {
        copyExistingKeys(config, handle.getAttrs());
        $$invalidate(3, config);
      });
    }
    registerEvents(dispatcher, handle);
    inner.set(handle);
    $$invalidate(1, isReady = true);
  });
  onDestroy(() => {
    if (handle) {
      handle.destroy();
    }
  });
  setContainerContext(Container.Stage, inner);
  function div_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      stage = $$value;
      $$invalidate(0, stage);
    });
  }
  $$self.$$set = ($$new_props) => {
    $$props = assign(assign({}, $$props), exclude_internal_props($$new_props));
    $$invalidate(2, $$restProps = compute_rest_props($$props, omit_props_names));
    if ("config" in $$new_props)
      $$invalidate(3, config = $$new_props.config);
    if ("handle" in $$new_props)
      $$invalidate(4, handle = $$new_props.handle);
    if ("staticConfig" in $$new_props)
      $$invalidate(5, staticConfig = $$new_props.staticConfig);
    if ("$$scope" in $$new_props)
      $$invalidate(6, $$scope = $$new_props.$$scope);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*handle, config*/
    24) {
      $:
        if (handle) {
          handle.setAttrs(config);
        }
    }
  };
  return [
    stage,
    isReady,
    $$restProps,
    config,
    handle,
    staticConfig,
    $$scope,
    slots,
    div_binding
  ];
}
var Stage = class extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance12, create_fragment11, safe_not_equal, { config: 3, handle: 4, staticConfig: 5 });
  }
};
var Stage_default = Stage;

// node_modules/svelte-konva/dist/Star.svelte
var import_konva17 = __toESM(require_lib());

// node_modules/svelte-konva/dist/Text.svelte
var import_konva18 = __toESM(require_lib());

// node_modules/svelte-konva/dist/TextPath.svelte
var import_konva19 = __toESM(require_lib());

// node_modules/svelte-konva/dist/Transformer.svelte
var import_konva20 = __toESM(require_lib());

// node_modules/svelte-konva/dist/Wedge.svelte
var import_konva21 = __toESM(require_lib());

// node_modules/svelte-konva/dist/Tag.svelte
var import_konva22 = __toESM(require_lib());

// src/component/DrawingCanvas.svelte
function add_css2(target) {
  append_styles(target, "svelte-l6z17p", `.container.svelte-l6z17p{display:flex;justify-content:flex-start;align-items:flex-start;border:2px solid #674188;border-radius:10px}.eraser-cursor.svelte-l6z17p{cursor:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-dashed"><path d="M10.1 2.18a9.93 9.93 0 0 1 3.8 0"/><path d="M17.6 3.71a9.95 9.95 0 0 1 2.69 2.7"/><path d="M21.82 10.1a9.93 9.93 0 0 1 0 3.8"/><path d="M20.29 17.6a9.95 9.95 0 0 1-2.7 2.69"/><path d="M13.9 21.82a9.94 9.94 0 0 1-3.8 0"/><path d="M6.4 20.29a9.95 9.95 0 0 1-2.69-2.7"/><path d="M2.18 13.9a9.93 9.93 0 0 1 0-3.8"/><path d="M3.71 6.4a9.95 9.95 0 0 1 2.7-2.69"/></svg>')
				12 12,
			auto}.custom-cursor.svelte-l6z17p{position:fixed;width:24px;height:24px;border-radius:50%;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-dashed"><path d="M10.1 2.18a9.93 9.93 0 0 1 3.8 0"/><path d="M17.6 3.71a9.95 9.95 0 0 1 2.69 2.7"/><path d="M21.82 10.1a9.93 9.93 0 0 1 0 3.8"/><path d="M20.29 17.6a9.95 9.95 0 0 1-2.7 2.69"/><path d="M13.9 21.82a9.94 9.94 0 0 1-3.8 0"/><path d="M6.4 20.29a9.95 9.95 0 0 1-2.69-2.7"/><path d="M2.18 13.9a9.93 9.93 0 0 1 0-3.8"/><path d="M3.71 6.4a9.95 9.95 0 0 1 2.7-2.69"/></svg>');background-size:cover;pointer-events:none;z-index:9999}`);
}
function get_each_context3(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[25] = list[i];
  return child_ctx;
}
function create_each_block3(ctx) {
  let line_1;
  let current;
  line_1 = new Line_default({
    props: {
      config: {
        stroke: (
          /*line*/
          ctx[25].color
        ),
        strokeWidth: (
          /*line*/
          ctx[25].mode === "brush" /* Brush */ ? (
            /*line*/
            ctx[25].strokeWidth
          ) : 10
        ),
        globalCompositeOperation: (
          /*line*/
          ctx[25].mode === "brush" /* Brush */ ? "source-over" : "destination-out"
        ),
        lineCap: "round",
        lineJoin: "round",
        points: (
          /*line*/
          ctx[25].points
        ),
        tension: 0.5,
        opacity: (
          /*line*/
          ctx[25].mode === "brush" /* Brush */ ? 0.8 : 1
        )
      }
    }
  });
  return {
    c() {
      create_component(line_1.$$.fragment);
    },
    m(target, anchor) {
      mount_component(line_1, target, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const line_1_changes = {};
      if (dirty & /*lines*/
      1)
        line_1_changes.config = {
          stroke: (
            /*line*/
            ctx2[25].color
          ),
          strokeWidth: (
            /*line*/
            ctx2[25].mode === "brush" /* Brush */ ? (
              /*line*/
              ctx2[25].strokeWidth
            ) : 10
          ),
          globalCompositeOperation: (
            /*line*/
            ctx2[25].mode === "brush" /* Brush */ ? "source-over" : "destination-out"
          ),
          lineCap: "round",
          lineJoin: "round",
          points: (
            /*line*/
            ctx2[25].points
          ),
          tension: 0.5,
          opacity: (
            /*line*/
            ctx2[25].mode === "brush" /* Brush */ ? 0.8 : 1
          )
        };
      line_1.$set(line_1_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(line_1.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(line_1.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(line_1, detaching);
    }
  };
}
function create_default_slot_1(ctx) {
  let each_1_anchor;
  let current;
  let each_value = ensure_array_like(
    /*lines*/
    ctx[0]
  );
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block3(get_each_context3(ctx, each_value, i));
  }
  const out = (i) => transition_out(each_blocks[i], 1, 1, () => {
    each_blocks[i] = null;
  });
  return {
    c() {
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      each_1_anchor = empty();
    },
    m(target, anchor) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(target, anchor);
        }
      }
      insert(target, each_1_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      if (dirty & /*lines*/
      1) {
        each_value = ensure_array_like(
          /*lines*/
          ctx2[0]
        );
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context3(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
            transition_in(each_blocks[i], 1);
          } else {
            each_blocks[i] = create_each_block3(child_ctx);
            each_blocks[i].c();
            transition_in(each_blocks[i], 1);
            each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
          }
        }
        group_outros();
        for (i = each_value.length; i < each_blocks.length; i += 1) {
          out(i);
        }
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      current = true;
    },
    o(local) {
      each_blocks = each_blocks.filter(Boolean);
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      current = false;
    },
    d(detaching) {
      if (detaching) {
        detach(each_1_anchor);
      }
      destroy_each(each_blocks, detaching);
    }
  };
}
function create_default_slot8(ctx) {
  let layer;
  let current;
  layer = new Layer_default({
    props: {
      $$slots: { default: [create_default_slot_1] },
      $$scope: { ctx }
    }
  });
  return {
    c() {
      create_component(layer.$$.fragment);
    },
    m(target, anchor) {
      mount_component(layer, target, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const layer_changes = {};
      if (dirty & /*$$scope, lines*/
      268435457) {
        layer_changes.$$scope = { dirty, ctx: ctx2 };
      }
      layer.$set(layer_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(layer.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(layer.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(layer, detaching);
    }
  };
}
function create_fragment12(ctx) {
  let div2;
  let div0;
  let div0_class_value;
  let t;
  let div1;
  let stage;
  let current;
  let mounted;
  let dispose;
  stage = new Stage_default({
    props: {
      config: {
        width: (
          /*stageConfig*/
          ctx[2].width
        ),
        height: (
          /*stageConfig*/
          ctx[2].height
        )
      },
      $$slots: { default: [create_default_slot8] },
      $$scope: { ctx }
    }
  });
  stage.$on(
    "mousedown",
    /*handlePointerDown*/
    ctx[4]
  );
  stage.$on(
    "mouseup",
    /*handlePointerUp*/
    ctx[6]
  );
  stage.$on(
    "mousemove",
    /*handlePointerMove*/
    ctx[5]
  );
  stage.$on(
    "touchstart",
    /*handlePointerDown*/
    ctx[4]
  );
  stage.$on(
    "touchend",
    /*handlePointerUp*/
    ctx[6]
  );
  stage.$on(
    "touchmove",
    /*handlePointerMove*/
    ctx[5]
  );
  return {
    c() {
      div2 = element("div");
      div0 = element("div");
      t = space();
      div1 = element("div");
      create_component(stage.$$.fragment);
      attr(div0, "class", div0_class_value = null_to_empty(
        /*isEraserMode*/
        ctx[1] && /*eraserConfig*/
        ctx[3].x !== -10 ? "custom-cursor" : ""
      ) + " svelte-l6z17p");
      set_style(
        div0,
        "left",
        /*eraserConfig*/
        ctx[3].x + "px"
      );
      set_style(
        div0,
        "top",
        /*eraserConfig*/
        ctx[3].y + "px"
      );
      attr(div1, "class", "svelte-l6z17p");
      toggle_class(
        div1,
        "eraser-cursor",
        /*isEraserMode*/
        ctx[1]
      );
      set_style(div2, "position", "relative");
      set_style(
        div2,
        "width",
        /*stageConfig*/
        ctx[2].width
      );
      set_style(
        div2,
        "height",
        /*stageConfig*/
        ctx[2].height
      );
      attr(div2, "class", "container svelte-l6z17p");
    },
    m(target, anchor) {
      insert(target, div2, anchor);
      append(div2, div0);
      append(div2, t);
      append(div2, div1);
      mount_component(stage, div1, null);
      current = true;
      if (!mounted) {
        dispose = [
          listen(
            div2,
            "touchstart",
            /*mobileTouchStartEvt*/
            ctx[7]
          ),
          listen(
            div2,
            "touchmove",
            /*mobileTouchMoveEvt*/
            ctx[8]
          ),
          listen(
            div2,
            "touchend",
            /*mobileTouchEndEvt*/
            ctx[9],
            { passive: true }
          )
        ];
        mounted = true;
      }
    },
    p(ctx2, [dirty]) {
      if (!current || dirty & /*isEraserMode, eraserConfig*/
      10 && div0_class_value !== (div0_class_value = null_to_empty(
        /*isEraserMode*/
        ctx2[1] && /*eraserConfig*/
        ctx2[3].x !== -10 ? "custom-cursor" : ""
      ) + " svelte-l6z17p")) {
        attr(div0, "class", div0_class_value);
      }
      if (!current || dirty & /*eraserConfig*/
      8) {
        set_style(
          div0,
          "left",
          /*eraserConfig*/
          ctx2[3].x + "px"
        );
      }
      if (!current || dirty & /*eraserConfig*/
      8) {
        set_style(
          div0,
          "top",
          /*eraserConfig*/
          ctx2[3].y + "px"
        );
      }
      const stage_changes = {};
      if (dirty & /*stageConfig*/
      4)
        stage_changes.config = {
          width: (
            /*stageConfig*/
            ctx2[2].width
          ),
          height: (
            /*stageConfig*/
            ctx2[2].height
          )
        };
      if (dirty & /*$$scope, lines*/
      268435457) {
        stage_changes.$$scope = { dirty, ctx: ctx2 };
      }
      stage.$set(stage_changes);
      if (!current || dirty & /*isEraserMode*/
      2) {
        toggle_class(
          div1,
          "eraser-cursor",
          /*isEraserMode*/
          ctx2[1]
        );
      }
      if (!current || dirty & /*stageConfig*/
      4) {
        set_style(
          div2,
          "width",
          /*stageConfig*/
          ctx2[2].width
        );
      }
      if (!current || dirty & /*stageConfig*/
      4) {
        set_style(
          div2,
          "height",
          /*stageConfig*/
          ctx2[2].height
        );
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(stage.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(stage.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching) {
        detach(div2);
      }
      destroy_component(stage);
      mounted = false;
      run_all(dispose);
    }
  };
}
function instance13($$self, $$props, $$invalidate) {
  let { width } = $$props;
  let { height = 100 } = $$props;
  let unsubscribeDrawing, unsubscribeConfig;
  let lines = [];
  let isPainting = false;
  let isErasing = false;
  let isEraserMode = false;
  let stageConfig = { width, height };
  let eraserConfig = { x: 0, y: 0 };
  const handlePointerDown = (e, isTouch = false) => {
    isPainting = true;
    const pos = getPointerPosition(e, isTouch);
    addNewLine(pos);
  };
  const handlePointerMove = (e, isTouch = false) => {
    if (!isPainting)
      return;
    const pos = getPointerPosition(e, isTouch);
    updateLastLine(pos);
  };
  const handlePointerUp = () => {
    isPainting = false;
    drawingStore.update((state) => ({ ...state, isPainting: false }));
  };
  const getPointerPosition = (e, isTouch) => {
    let target = e.detail.target;
    if (typeof target.getPointerPosition !== "function") {
      target = target.parent.parent;
    }
    return isTouch ? e.detail.evt.touches[0] : target.getPointerPosition();
  };
  const addNewLine = (pos) => {
    drawingStore.update((state) => {
      const newLine = {
        color: state.color || "#C3ACD0",
        mode: state.mode,
        strokeWidth: state.strokeWidth,
        points: [pos.x, pos.y]
      };
      return {
        ...state,
        isPainting: true,
        lines: [...state.lines, newLine]
      };
    });
  };
  const updateLastLine = (pos) => {
    drawingStore.update((state) => {
      let lastLine = state.lines[state.lines.length - 1];
      lastLine = {
        ...lastLine,
        points: [...lastLine.points, pos.x, pos.y]
      };
      return {
        ...state,
        lines: [...state.lines.slice(0, -1), lastLine]
      };
    });
  };
  const mobileTouchStartEvt = (e) => {
    if (!isEraserMode)
      return;
    const touchPos = getTouchPosition(e);
    updateEraserConfig(touchPos);
    isErasing = true;
  };
  const mobileTouchMoveEvt = (e) => {
    if (!isErasing || !isEraserMode)
      return;
    const touchPos = getTouchPosition(e);
    updateEraserConfig(touchPos);
  };
  const mobileTouchEndEvt = () => {
    if (!isEraserMode)
      return;
    resetEraserConfig();
    isErasing = false;
  };
  const getTouchPosition = (e) => {
    if (e.touches[0].touchType !== "stylus")
      return;
    const canvasBounds = e.target.getBoundingClientRect();
    const touch = e.touches[0];
    const scaleX = canvasBounds.width / e.target.offsetWidth;
    const scaleY = canvasBounds.height / e.target.offsetHeight;
    const x = (touch.clientX - canvasBounds.left + 5) * scaleX;
    const y = (touch.clientY - canvasBounds.top + 40) * scaleY;
    return { x, y };
  };
  const updateEraserConfig = (pos) => {
    configStore.update((state) => ({ ...state, eraserPointer: pos }));
  };
  const resetEraserConfig = () => {
    configStore.update((state) => ({
      ...state,
      eraserPointer: { x: -10, y: -10 }
    }));
  };
  const initializeSubscriptions = () => {
    unsubscribeDrawing = drawingStore.subscribe((state) => {
      $$invalidate(0, lines = state.lines);
      $$invalidate(1, isEraserMode = state.mode === "eraser" /* Eraser */);
    });
    unsubscribeConfig = configStore.subscribe((state) => {
      $$invalidate(2, stageConfig = state.stage);
      $$invalidate(3, eraserConfig = state.eraserPointer);
    });
  };
  const setStageConfig = () => {
    configStore.update((state) => ({ ...state, stage: stageConfig }));
  };
  const cleanupSubscriptions = () => {
    useDrawing.init();
    useConfig.init();
    unsubscribeDrawing();
    unsubscribeConfig();
  };
  onMount(() => {
    initializeSubscriptions();
    setStageConfig();
  });
  onDestroy(cleanupSubscriptions);
  $$self.$$set = ($$props2) => {
    if ("width" in $$props2)
      $$invalidate(10, width = $$props2.width);
    if ("height" in $$props2)
      $$invalidate(11, height = $$props2.height);
  };
  return [
    lines,
    isEraserMode,
    stageConfig,
    eraserConfig,
    handlePointerDown,
    handlePointerMove,
    handlePointerUp,
    mobileTouchStartEvt,
    mobileTouchMoveEvt,
    mobileTouchEndEvt,
    width,
    height
  ];
}
var DrawingCanvas = class extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance13, create_fragment12, safe_not_equal, { width: 10, height: 11 }, add_css2);
  }
};
var DrawingCanvas_default = DrawingCanvas;

// src/page/SketchMD.svelte
function add_css3(target) {
  append_styles(target, "svelte-22czpy", ".container.svelte-22czpy{display:flex;flex-direction:column;gap:10px}");
}
function create_fragment13(ctx) {
  let div;
  let drawingcanvas;
  let t;
  let controller;
  let current;
  drawingcanvas = new DrawingCanvas_default({
    props: {
      width: (
        /*width*/
        ctx[1]
      ),
      height: (
        /*height*/
        ctx[2]
      )
    }
  });
  controller = new Controller_default({ props: { app: (
    /*app*/
    ctx[0]
  ) } });
  return {
    c() {
      div = element("div");
      create_component(drawingcanvas.$$.fragment);
      t = space();
      create_component(controller.$$.fragment);
      attr(div, "class", "container svelte-22czpy");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      mount_component(drawingcanvas, div, null);
      append(div, t);
      mount_component(controller, div, null);
      current = true;
    },
    p(ctx2, [dirty]) {
      const drawingcanvas_changes = {};
      if (dirty & /*width*/
      2)
        drawingcanvas_changes.width = /*width*/
        ctx2[1];
      if (dirty & /*height*/
      4)
        drawingcanvas_changes.height = /*height*/
        ctx2[2];
      drawingcanvas.$set(drawingcanvas_changes);
      const controller_changes = {};
      if (dirty & /*app*/
      1)
        controller_changes.app = /*app*/
        ctx2[0];
      controller.$set(controller_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(drawingcanvas.$$.fragment, local);
      transition_in(controller.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(drawingcanvas.$$.fragment, local);
      transition_out(controller.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching) {
        detach(div);
      }
      destroy_component(drawingcanvas);
      destroy_component(controller);
    }
  };
}
function instance14($$self, $$props, $$invalidate) {
  let { app } = $$props;
  let { width } = $$props;
  let { height = 100 } = $$props;
  onDestroy(() => {
  });
  $$self.$$set = ($$props2) => {
    if ("app" in $$props2)
      $$invalidate(0, app = $$props2.app);
    if ("width" in $$props2)
      $$invalidate(1, width = $$props2.width);
    if ("height" in $$props2)
      $$invalidate(2, height = $$props2.height);
  };
  return [app, width, height];
}
var SketchMD = class extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance14, create_fragment13, safe_not_equal, { app: 0, width: 1, height: 2 }, add_css3);
  }
};
var SketchMD_default = SketchMD;

// src/modal/mainModal.ts
var SketchMDModal = class extends import_obsidian2.Modal {
  constructor(app) {
    super(app);
    this.modalName = "sketch-md-modal";
    this.width = 500;
    this.height = 400;
    this.isValidOpen = false;
  }
  onOpen() {
    const { contentEl, titleEl } = this;
    this.isValidOpen = isDocumentActive(this.app);
    titleEl.setText(this.modalName);
    if (!this.isValidOpen) {
      const textElement = document.createElement("p");
      textElement.textContent = "Please create and open the edit document first.";
      contentEl.appendChild(textElement);
    } else {
      setTimeout(() => {
        this.width = contentEl.offsetWidth;
        this.height = contentEl.offsetHeight;
      }, 0);
      this.canvasComponent = new SketchMD_default({
        target: contentEl,
        props: {
          app: this.app,
          width: this.width,
          height: this.height
        }
      });
    }
  }
  onClose() {
    this.canvasComponent.$destroy();
  }
};

// main.ts
var SketchMD2 = class extends import_obsidian3.Plugin {
  async onload() {
    const ribbonIconEl = this.addRibbonIcon(
      "file-signature",
      "sketch-md",
      (evt) => {
        new SketchMDModal(this.app).open();
      }
    );
  }
};
/*! Bundled license information:

lucide-svelte/dist/esm/defaultAttributes.js:
  (**
   * @license lucide-svelte v0.297.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/esm/Icon.svelte.js:
  (**
   * @license lucide-svelte v0.297.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/esm/icons/eraser.svelte.js:
  (**
   * @license lucide-svelte v0.297.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/esm/icons/file.svelte.js:
  (**
   * @license lucide-svelte v0.297.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/esm/icons/import.svelte.js:
  (**
   * @license lucide-svelte v0.297.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/esm/icons/move-vertical.svelte.js:
  (**
   * @license lucide-svelte v0.297.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/esm/icons/pen-line.svelte.js:
  (**
   * @license lucide-svelte v0.297.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/esm/icons/pipette.svelte.js:
  (**
   * @license lucide-svelte v0.297.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/esm/icons/slash.svelte.js:
  (**
   * @license lucide-svelte v0.297.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-svelte/dist/esm/lucide-svelte.js:
  (**
   * @license lucide-svelte v0.297.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL2tvbnZhL2xpYi9HbG9iYWwuanMiLCAibm9kZV9tb2R1bGVzL2tvbnZhL2xpYi9VdGlsLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvVmFsaWRhdG9ycy5qcyIsICJub2RlX21vZHVsZXMva29udmEvbGliL0ZhY3RvcnkuanMiLCAibm9kZV9tb2R1bGVzL2tvbnZhL2xpYi9Db250ZXh0LmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvQ2FudmFzLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvRHJhZ0FuZERyb3AuanMiLCAibm9kZV9tb2R1bGVzL2tvbnZhL2xpYi9Ob2RlLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvQ29udGFpbmVyLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvUG9pbnRlckV2ZW50cy5qcyIsICJub2RlX21vZHVsZXMva29udmEvbGliL1N0YWdlLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvU2hhcGUuanMiLCAibm9kZV9tb2R1bGVzL2tvbnZhL2xpYi9MYXllci5qcyIsICJub2RlX21vZHVsZXMva29udmEvbGliL0Zhc3RMYXllci5qcyIsICJub2RlX21vZHVsZXMva29udmEvbGliL0dyb3VwLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvQW5pbWF0aW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvVHdlZW4uanMiLCAibm9kZV9tb2R1bGVzL2tvbnZhL2xpYi9fQ29yZUludGVybmFscy5qcyIsICJub2RlX21vZHVsZXMva29udmEvbGliL3NoYXBlcy9BcmMuanMiLCAibm9kZV9tb2R1bGVzL2tvbnZhL2xpYi9zaGFwZXMvTGluZS5qcyIsICJub2RlX21vZHVsZXMva29udmEvbGliL0JlemllckZ1bmN0aW9ucy5qcyIsICJub2RlX21vZHVsZXMva29udmEvbGliL3NoYXBlcy9QYXRoLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvc2hhcGVzL0Fycm93LmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvc2hhcGVzL0NpcmNsZS5qcyIsICJub2RlX21vZHVsZXMva29udmEvbGliL3NoYXBlcy9FbGxpcHNlLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvc2hhcGVzL0ltYWdlLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvc2hhcGVzL0xhYmVsLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvc2hhcGVzL1JlY3QuanMiLCAibm9kZV9tb2R1bGVzL2tvbnZhL2xpYi9zaGFwZXMvUmVndWxhclBvbHlnb24uanMiLCAibm9kZV9tb2R1bGVzL2tvbnZhL2xpYi9zaGFwZXMvUmluZy5qcyIsICJub2RlX21vZHVsZXMva29udmEvbGliL3NoYXBlcy9TcHJpdGUuanMiLCAibm9kZV9tb2R1bGVzL2tvbnZhL2xpYi9zaGFwZXMvU3Rhci5qcyIsICJub2RlX21vZHVsZXMva29udmEvbGliL3NoYXBlcy9UZXh0LmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvc2hhcGVzL1RleHRQYXRoLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvc2hhcGVzL1RyYW5zZm9ybWVyLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvc2hhcGVzL1dlZGdlLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvZmlsdGVycy9CbHVyLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvZmlsdGVycy9CcmlnaHRlbi5qcyIsICJub2RlX21vZHVsZXMva29udmEvbGliL2ZpbHRlcnMvQ29udHJhc3QuanMiLCAibm9kZV9tb2R1bGVzL2tvbnZhL2xpYi9maWx0ZXJzL0VtYm9zcy5qcyIsICJub2RlX21vZHVsZXMva29udmEvbGliL2ZpbHRlcnMvRW5oYW5jZS5qcyIsICJub2RlX21vZHVsZXMva29udmEvbGliL2ZpbHRlcnMvR3JheXNjYWxlLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvZmlsdGVycy9IU0wuanMiLCAibm9kZV9tb2R1bGVzL2tvbnZhL2xpYi9maWx0ZXJzL0hTVi5qcyIsICJub2RlX21vZHVsZXMva29udmEvbGliL2ZpbHRlcnMvSW52ZXJ0LmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvZmlsdGVycy9LYWxlaWRvc2NvcGUuanMiLCAibm9kZV9tb2R1bGVzL2tvbnZhL2xpYi9maWx0ZXJzL01hc2suanMiLCAibm9kZV9tb2R1bGVzL2tvbnZhL2xpYi9maWx0ZXJzL05vaXNlLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvZmlsdGVycy9QaXhlbGF0ZS5qcyIsICJub2RlX21vZHVsZXMva29udmEvbGliL2ZpbHRlcnMvUG9zdGVyaXplLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvZmlsdGVycy9SR0IuanMiLCAibm9kZV9tb2R1bGVzL2tvbnZhL2xpYi9maWx0ZXJzL1JHQkEuanMiLCAibm9kZV9tb2R1bGVzL2tvbnZhL2xpYi9maWx0ZXJzL1NlcGlhLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvZmlsdGVycy9Tb2xhcml6ZS5qcyIsICJub2RlX21vZHVsZXMva29udmEvbGliL2ZpbHRlcnMvVGhyZXNob2xkLmpzIiwgIm5vZGVfbW9kdWxlcy9rb252YS9saWIvX0Z1bGxJbnRlcm5hbHMuanMiLCAibm9kZV9tb2R1bGVzL2tvbnZhL2xpYi9pbmRleC5qcyIsICJtYWluLnRzIiwgInNyYy9tb2RhbC9tYWluTW9kYWwudHMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC91dGlscy5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2dsb2JhbHMuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9SZXNpemVPYnNlcnZlclNpbmdsZXRvbi5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2RvbS5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2xpZmVjeWNsZS5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3NjaGVkdWxlci5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3RyYW5zaXRpb25zLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvZWFjaC5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3NwcmVhZC5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9zaGFyZWQvYm9vbGVhbl9hdHRyaWJ1dGVzLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvQ29tcG9uZW50LmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3NoYXJlZC92ZXJzaW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvZGlzY2xvc2UtdmVyc2lvbi9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvbHVjaWRlLXN2ZWx0ZS9zcmMvZGVmYXVsdEF0dHJpYnV0ZXMudHMiLCAibm9kZV9tb2R1bGVzL2x1Y2lkZS1zdmVsdGUvc3JjL0ljb24uc3ZlbHRlIiwgIm5vZGVfbW9kdWxlcy9sdWNpZGUtc3ZlbHRlL3NyYy9pY29ucy9lcmFzZXIuc3ZlbHRlIiwgIm5vZGVfbW9kdWxlcy9sdWNpZGUtc3ZlbHRlL3NyYy9pY29ucy9maWxlLnN2ZWx0ZSIsICJub2RlX21vZHVsZXMvbHVjaWRlLXN2ZWx0ZS9zcmMvaWNvbnMvaW1wb3J0LnN2ZWx0ZSIsICJub2RlX21vZHVsZXMvbHVjaWRlLXN2ZWx0ZS9zcmMvaWNvbnMvbW92ZS12ZXJ0aWNhbC5zdmVsdGUiLCAibm9kZV9tb2R1bGVzL2x1Y2lkZS1zdmVsdGUvc3JjL2ljb25zL3Blbi1saW5lLnN2ZWx0ZSIsICJub2RlX21vZHVsZXMvbHVjaWRlLXN2ZWx0ZS9zcmMvaWNvbnMvcGlwZXR0ZS5zdmVsdGUiLCAibm9kZV9tb2R1bGVzL2x1Y2lkZS1zdmVsdGUvc3JjL2ljb25zL3NsYXNoLnN2ZWx0ZSIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL3N0b3JlL2luZGV4LmpzIiwgInNyYy9cYnN0b3JlL2NvbmZpZy50cyIsICJzcmMvXGJzdG9yZS9tYWluLnRzIiwgInNyYy9jb25zdGFudC9jb25zdC50cyIsICJzcmMvdXRpbC9mZWF0dXJlcy50cyIsICJzcmMvY29tcG9uZW50L0NvbnRyb2xsZXIuc3ZlbHRlIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUta29udmEvZGlzdC9BcmMuc3ZlbHRlIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUta29udmEvZGlzdC91dGlsL2V2ZW50cy5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlLWtvbnZhL2Rpc3QvdXRpbC9tYW5hZ2VDb250ZXh0LmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUta29udmEvZGlzdC91dGlsL29iamVjdC5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlLWtvbnZhL2Rpc3QvQXJyb3cuc3ZlbHRlIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUta29udmEvZGlzdC9DaXJjbGUuc3ZlbHRlIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUta29udmEvZGlzdC9FbGxpcHNlLnN2ZWx0ZSIsICJub2RlX21vZHVsZXMvc3ZlbHRlLWtvbnZhL2Rpc3QvR3JvdXAuc3ZlbHRlIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUta29udmEvZGlzdC9JbWFnZS5zdmVsdGUiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS1rb252YS9kaXN0L0xhYmVsLnN2ZWx0ZSIsICJub2RlX21vZHVsZXMvc3ZlbHRlLWtvbnZhL2Rpc3QvTGF5ZXIuc3ZlbHRlIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUta29udmEvZGlzdC9MaW5lLnN2ZWx0ZSIsICJub2RlX21vZHVsZXMvc3ZlbHRlLWtvbnZhL2Rpc3QvUGF0aC5zdmVsdGUiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS1rb252YS9kaXN0L1JlY3Quc3ZlbHRlIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUta29udmEvZGlzdC9SZWd1bGFyUG9seWdvbi5zdmVsdGUiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS1rb252YS9kaXN0L1Jpbmcuc3ZlbHRlIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUta29udmEvZGlzdC9TaGFwZS5zdmVsdGUiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS1rb252YS9kaXN0L1Nwcml0ZS5zdmVsdGUiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS1rb252YS9kaXN0L1N0YWdlLnN2ZWx0ZSIsICJub2RlX21vZHVsZXMvc3ZlbHRlLWtvbnZhL2Rpc3QvU3Rhci5zdmVsdGUiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS1rb252YS9kaXN0L1RleHQuc3ZlbHRlIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUta29udmEvZGlzdC9UZXh0UGF0aC5zdmVsdGUiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS1rb252YS9kaXN0L1RyYW5zZm9ybWVyLnN2ZWx0ZSIsICJub2RlX21vZHVsZXMvc3ZlbHRlLWtvbnZhL2Rpc3QvV2VkZ2Uuc3ZlbHRlIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUta29udmEvZGlzdC9UYWcuc3ZlbHRlIiwgInNyYy9jb21wb25lbnQvRHJhd2luZ0NhbnZhcy5zdmVsdGUiLCAic3JjL3BhZ2UvU2tldGNoTUQuc3ZlbHRlIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuX3JlZ2lzdGVyTm9kZSA9IGV4cG9ydHMuS29udmEgPSBleHBvcnRzLmdsb2IgPSB2b2lkIDA7XG5jb25zdCBQSV9PVkVSXzE4MCA9IE1hdGguUEkgLyAxODA7XG5mdW5jdGlvbiBkZXRlY3RCcm93c2VyKCkge1xuICAgIHJldHVybiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgKHt9LnRvU3RyaW5nLmNhbGwod2luZG93KSA9PT0gJ1tvYmplY3QgV2luZG93XScgfHxcbiAgICAgICAgICAgIHt9LnRvU3RyaW5nLmNhbGwod2luZG93KSA9PT0gJ1tvYmplY3QgZ2xvYmFsXScpKTtcbn1cbmV4cG9ydHMuZ2xvYiA9IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXG4gICAgPyBnbG9iYWxcbiAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgICAgID8gd2luZG93XG4gICAgICAgIDogdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgPyBzZWxmXG4gICAgICAgICAgICA6IHt9O1xuZXhwb3J0cy5Lb252YSA9IHtcbiAgICBfZ2xvYmFsOiBleHBvcnRzLmdsb2IsXG4gICAgdmVyc2lvbjogJzkuMi4zJyxcbiAgICBpc0Jyb3dzZXI6IGRldGVjdEJyb3dzZXIoKSxcbiAgICBpc1VubWluaWZpZWQ6IC9wYXJhbS8udGVzdChmdW5jdGlvbiAocGFyYW0pIHsgfS50b1N0cmluZygpKSxcbiAgICBkYmxDbGlja1dpbmRvdzogNDAwLFxuICAgIGdldEFuZ2xlKGFuZ2xlKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLktvbnZhLmFuZ2xlRGVnID8gYW5nbGUgKiBQSV9PVkVSXzE4MCA6IGFuZ2xlO1xuICAgIH0sXG4gICAgZW5hYmxlVHJhY2U6IGZhbHNlLFxuICAgIHBvaW50ZXJFdmVudHNFbmFibGVkOiB0cnVlLFxuICAgIGF1dG9EcmF3RW5hYmxlZDogdHJ1ZSxcbiAgICBoaXRPbkRyYWdFbmFibGVkOiBmYWxzZSxcbiAgICBjYXB0dXJlUG9pbnRlckV2ZW50c0VuYWJsZWQ6IGZhbHNlLFxuICAgIF9tb3VzZUxpc3RlbkNsaWNrOiBmYWxzZSxcbiAgICBfdG91Y2hMaXN0ZW5DbGljazogZmFsc2UsXG4gICAgX3BvaW50ZXJMaXN0ZW5DbGljazogZmFsc2UsXG4gICAgX21vdXNlSW5EYmxDbGlja1dpbmRvdzogZmFsc2UsXG4gICAgX3RvdWNoSW5EYmxDbGlja1dpbmRvdzogZmFsc2UsXG4gICAgX3BvaW50ZXJJbkRibENsaWNrV2luZG93OiBmYWxzZSxcbiAgICBfbW91c2VEYmxDbGlja1BvaW50ZXJJZDogbnVsbCxcbiAgICBfdG91Y2hEYmxDbGlja1BvaW50ZXJJZDogbnVsbCxcbiAgICBfcG9pbnRlckRibENsaWNrUG9pbnRlcklkOiBudWxsLFxuICAgIHBpeGVsUmF0aW86ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbykgfHwgMSxcbiAgICBkcmFnRGlzdGFuY2U6IDMsXG4gICAgYW5nbGVEZWc6IHRydWUsXG4gICAgc2hvd1dhcm5pbmdzOiB0cnVlLFxuICAgIGRyYWdCdXR0b25zOiBbMCwgMV0sXG4gICAgaXNEcmFnZ2luZygpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuS29udmFbJ0REJ10uaXNEcmFnZ2luZztcbiAgICB9LFxuICAgIGlzRHJhZ1JlYWR5KCkge1xuICAgICAgICByZXR1cm4gISFleHBvcnRzLktvbnZhWydERCddLm5vZGU7XG4gICAgfSxcbiAgICByZWxlYXNlQ2FudmFzT25EZXN0cm95OiB0cnVlLFxuICAgIGRvY3VtZW50OiBleHBvcnRzLmdsb2IuZG9jdW1lbnQsXG4gICAgX2luamVjdEdsb2JhbChLb252YSkge1xuICAgICAgICBleHBvcnRzLmdsb2IuS29udmEgPSBLb252YTtcbiAgICB9LFxufTtcbmNvbnN0IF9yZWdpc3Rlck5vZGUgPSAoTm9kZUNsYXNzKSA9PiB7XG4gICAgZXhwb3J0cy5Lb252YVtOb2RlQ2xhc3MucHJvdG90eXBlLmdldENsYXNzTmFtZSgpXSA9IE5vZGVDbGFzcztcbn07XG5leHBvcnRzLl9yZWdpc3Rlck5vZGUgPSBfcmVnaXN0ZXJOb2RlO1xuZXhwb3J0cy5Lb252YS5faW5qZWN0R2xvYmFsKGV4cG9ydHMuS29udmEpO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5VdGlsID0gZXhwb3J0cy5UcmFuc2Zvcm0gPSB2b2lkIDA7XG5jb25zdCBHbG9iYWxfMSA9IHJlcXVpcmUoXCIuL0dsb2JhbFwiKTtcbmNsYXNzIFRyYW5zZm9ybSB7XG4gICAgY29uc3RydWN0b3IobSA9IFsxLCAwLCAwLCAxLCAwLCAwXSkge1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMubSA9IChtICYmIG0uc2xpY2UoKSkgfHwgWzEsIDAsIDAsIDEsIDAsIDBdO1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5tWzBdID0gMTtcbiAgICAgICAgdGhpcy5tWzFdID0gMDtcbiAgICAgICAgdGhpcy5tWzJdID0gMDtcbiAgICAgICAgdGhpcy5tWzNdID0gMTtcbiAgICAgICAgdGhpcy5tWzRdID0gMDtcbiAgICAgICAgdGhpcy5tWzVdID0gMDtcbiAgICB9XG4gICAgY29weSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm0odGhpcy5tKTtcbiAgICB9XG4gICAgY29weUludG8odHIpIHtcbiAgICAgICAgdHIubVswXSA9IHRoaXMubVswXTtcbiAgICAgICAgdHIubVsxXSA9IHRoaXMubVsxXTtcbiAgICAgICAgdHIubVsyXSA9IHRoaXMubVsyXTtcbiAgICAgICAgdHIubVszXSA9IHRoaXMubVszXTtcbiAgICAgICAgdHIubVs0XSA9IHRoaXMubVs0XTtcbiAgICAgICAgdHIubVs1XSA9IHRoaXMubVs1XTtcbiAgICB9XG4gICAgcG9pbnQocG9pbnQpIHtcbiAgICAgICAgdmFyIG0gPSB0aGlzLm07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBtWzBdICogcG9pbnQueCArIG1bMl0gKiBwb2ludC55ICsgbVs0XSxcbiAgICAgICAgICAgIHk6IG1bMV0gKiBwb2ludC54ICsgbVszXSAqIHBvaW50LnkgKyBtWzVdLFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0cmFuc2xhdGUoeCwgeSkge1xuICAgICAgICB0aGlzLm1bNF0gKz0gdGhpcy5tWzBdICogeCArIHRoaXMubVsyXSAqIHk7XG4gICAgICAgIHRoaXMubVs1XSArPSB0aGlzLm1bMV0gKiB4ICsgdGhpcy5tWzNdICogeTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNjYWxlKHN4LCBzeSkge1xuICAgICAgICB0aGlzLm1bMF0gKj0gc3g7XG4gICAgICAgIHRoaXMubVsxXSAqPSBzeDtcbiAgICAgICAgdGhpcy5tWzJdICo9IHN5O1xuICAgICAgICB0aGlzLm1bM10gKj0gc3k7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByb3RhdGUocmFkKSB7XG4gICAgICAgIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgICAgICAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICAgICAgICB2YXIgbTExID0gdGhpcy5tWzBdICogYyArIHRoaXMubVsyXSAqIHM7XG4gICAgICAgIHZhciBtMTIgPSB0aGlzLm1bMV0gKiBjICsgdGhpcy5tWzNdICogcztcbiAgICAgICAgdmFyIG0yMSA9IHRoaXMubVswXSAqIC1zICsgdGhpcy5tWzJdICogYztcbiAgICAgICAgdmFyIG0yMiA9IHRoaXMubVsxXSAqIC1zICsgdGhpcy5tWzNdICogYztcbiAgICAgICAgdGhpcy5tWzBdID0gbTExO1xuICAgICAgICB0aGlzLm1bMV0gPSBtMTI7XG4gICAgICAgIHRoaXMubVsyXSA9IG0yMTtcbiAgICAgICAgdGhpcy5tWzNdID0gbTIyO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0VHJhbnNsYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB0aGlzLm1bNF0sXG4gICAgICAgICAgICB5OiB0aGlzLm1bNV0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHNrZXcoc3gsIHN5KSB7XG4gICAgICAgIHZhciBtMTEgPSB0aGlzLm1bMF0gKyB0aGlzLm1bMl0gKiBzeTtcbiAgICAgICAgdmFyIG0xMiA9IHRoaXMubVsxXSArIHRoaXMubVszXSAqIHN5O1xuICAgICAgICB2YXIgbTIxID0gdGhpcy5tWzJdICsgdGhpcy5tWzBdICogc3g7XG4gICAgICAgIHZhciBtMjIgPSB0aGlzLm1bM10gKyB0aGlzLm1bMV0gKiBzeDtcbiAgICAgICAgdGhpcy5tWzBdID0gbTExO1xuICAgICAgICB0aGlzLm1bMV0gPSBtMTI7XG4gICAgICAgIHRoaXMubVsyXSA9IG0yMTtcbiAgICAgICAgdGhpcy5tWzNdID0gbTIyO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgbXVsdGlwbHkobWF0cml4KSB7XG4gICAgICAgIHZhciBtMTEgPSB0aGlzLm1bMF0gKiBtYXRyaXgubVswXSArIHRoaXMubVsyXSAqIG1hdHJpeC5tWzFdO1xuICAgICAgICB2YXIgbTEyID0gdGhpcy5tWzFdICogbWF0cml4Lm1bMF0gKyB0aGlzLm1bM10gKiBtYXRyaXgubVsxXTtcbiAgICAgICAgdmFyIG0yMSA9IHRoaXMubVswXSAqIG1hdHJpeC5tWzJdICsgdGhpcy5tWzJdICogbWF0cml4Lm1bM107XG4gICAgICAgIHZhciBtMjIgPSB0aGlzLm1bMV0gKiBtYXRyaXgubVsyXSArIHRoaXMubVszXSAqIG1hdHJpeC5tWzNdO1xuICAgICAgICB2YXIgZHggPSB0aGlzLm1bMF0gKiBtYXRyaXgubVs0XSArIHRoaXMubVsyXSAqIG1hdHJpeC5tWzVdICsgdGhpcy5tWzRdO1xuICAgICAgICB2YXIgZHkgPSB0aGlzLm1bMV0gKiBtYXRyaXgubVs0XSArIHRoaXMubVszXSAqIG1hdHJpeC5tWzVdICsgdGhpcy5tWzVdO1xuICAgICAgICB0aGlzLm1bMF0gPSBtMTE7XG4gICAgICAgIHRoaXMubVsxXSA9IG0xMjtcbiAgICAgICAgdGhpcy5tWzJdID0gbTIxO1xuICAgICAgICB0aGlzLm1bM10gPSBtMjI7XG4gICAgICAgIHRoaXMubVs0XSA9IGR4O1xuICAgICAgICB0aGlzLm1bNV0gPSBkeTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGludmVydCgpIHtcbiAgICAgICAgdmFyIGQgPSAxIC8gKHRoaXMubVswXSAqIHRoaXMubVszXSAtIHRoaXMubVsxXSAqIHRoaXMubVsyXSk7XG4gICAgICAgIHZhciBtMCA9IHRoaXMubVszXSAqIGQ7XG4gICAgICAgIHZhciBtMSA9IC10aGlzLm1bMV0gKiBkO1xuICAgICAgICB2YXIgbTIgPSAtdGhpcy5tWzJdICogZDtcbiAgICAgICAgdmFyIG0zID0gdGhpcy5tWzBdICogZDtcbiAgICAgICAgdmFyIG00ID0gZCAqICh0aGlzLm1bMl0gKiB0aGlzLm1bNV0gLSB0aGlzLm1bM10gKiB0aGlzLm1bNF0pO1xuICAgICAgICB2YXIgbTUgPSBkICogKHRoaXMubVsxXSAqIHRoaXMubVs0XSAtIHRoaXMubVswXSAqIHRoaXMubVs1XSk7XG4gICAgICAgIHRoaXMubVswXSA9IG0wO1xuICAgICAgICB0aGlzLm1bMV0gPSBtMTtcbiAgICAgICAgdGhpcy5tWzJdID0gbTI7XG4gICAgICAgIHRoaXMubVszXSA9IG0zO1xuICAgICAgICB0aGlzLm1bNF0gPSBtNDtcbiAgICAgICAgdGhpcy5tWzVdID0gbTU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXRNYXRyaXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm07XG4gICAgfVxuICAgIGRlY29tcG9zZSgpIHtcbiAgICAgICAgdmFyIGEgPSB0aGlzLm1bMF07XG4gICAgICAgIHZhciBiID0gdGhpcy5tWzFdO1xuICAgICAgICB2YXIgYyA9IHRoaXMubVsyXTtcbiAgICAgICAgdmFyIGQgPSB0aGlzLm1bM107XG4gICAgICAgIHZhciBlID0gdGhpcy5tWzRdO1xuICAgICAgICB2YXIgZiA9IHRoaXMubVs1XTtcbiAgICAgICAgdmFyIGRlbHRhID0gYSAqIGQgLSBiICogYztcbiAgICAgICAgbGV0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgIHg6IGUsXG4gICAgICAgICAgICB5OiBmLFxuICAgICAgICAgICAgcm90YXRpb246IDAsXG4gICAgICAgICAgICBzY2FsZVg6IDAsXG4gICAgICAgICAgICBzY2FsZVk6IDAsXG4gICAgICAgICAgICBza2V3WDogMCxcbiAgICAgICAgICAgIHNrZXdZOiAwLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoYSAhPSAwIHx8IGIgIT0gMCkge1xuICAgICAgICAgICAgdmFyIHIgPSBNYXRoLnNxcnQoYSAqIGEgKyBiICogYik7XG4gICAgICAgICAgICByZXN1bHQucm90YXRpb24gPSBiID4gMCA/IE1hdGguYWNvcyhhIC8gcikgOiAtTWF0aC5hY29zKGEgLyByKTtcbiAgICAgICAgICAgIHJlc3VsdC5zY2FsZVggPSByO1xuICAgICAgICAgICAgcmVzdWx0LnNjYWxlWSA9IGRlbHRhIC8gcjtcbiAgICAgICAgICAgIHJlc3VsdC5za2V3WCA9IChhICogYyArIGIgKiBkKSAvIGRlbHRhO1xuICAgICAgICAgICAgcmVzdWx0LnNrZXdZID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjICE9IDAgfHwgZCAhPSAwKSB7XG4gICAgICAgICAgICB2YXIgcyA9IE1hdGguc3FydChjICogYyArIGQgKiBkKTtcbiAgICAgICAgICAgIHJlc3VsdC5yb3RhdGlvbiA9XG4gICAgICAgICAgICAgICAgTWF0aC5QSSAvIDIgLSAoZCA+IDAgPyBNYXRoLmFjb3MoLWMgLyBzKSA6IC1NYXRoLmFjb3MoYyAvIHMpKTtcbiAgICAgICAgICAgIHJlc3VsdC5zY2FsZVggPSBkZWx0YSAvIHM7XG4gICAgICAgICAgICByZXN1bHQuc2NhbGVZID0gcztcbiAgICAgICAgICAgIHJlc3VsdC5za2V3WCA9IDA7XG4gICAgICAgICAgICByZXN1bHQuc2tld1kgPSAoYSAqIGMgKyBiICogZCkgLyBkZWx0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQucm90YXRpb24gPSBleHBvcnRzLlV0aWwuX2dldFJvdGF0aW9uKHJlc3VsdC5yb3RhdGlvbik7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuZXhwb3J0cy5UcmFuc2Zvcm0gPSBUcmFuc2Zvcm07XG52YXIgT0JKRUNUX0FSUkFZID0gJ1tvYmplY3QgQXJyYXldJywgT0JKRUNUX05VTUJFUiA9ICdbb2JqZWN0IE51bWJlcl0nLCBPQkpFQ1RfU1RSSU5HID0gJ1tvYmplY3QgU3RyaW5nXScsIE9CSkVDVF9CT09MRUFOID0gJ1tvYmplY3QgQm9vbGVhbl0nLCBQSV9PVkVSX0RFRzE4MCA9IE1hdGguUEkgLyAxODAsIERFRzE4MF9PVkVSX1BJID0gMTgwIC8gTWF0aC5QSSwgSEFTSCA9ICcjJywgRU1QVFlfU1RSSU5HID0gJycsIFpFUk8gPSAnMCcsIEtPTlZBX1dBUk5JTkcgPSAnS29udmEgd2FybmluZzogJywgS09OVkFfRVJST1IgPSAnS29udmEgZXJyb3I6ICcsIFJHQl9QQVJFTiA9ICdyZ2IoJywgQ09MT1JTID0ge1xuICAgIGFsaWNlYmx1ZTogWzI0MCwgMjQ4LCAyNTVdLFxuICAgIGFudGlxdWV3aGl0ZTogWzI1MCwgMjM1LCAyMTVdLFxuICAgIGFxdWE6IFswLCAyNTUsIDI1NV0sXG4gICAgYXF1YW1hcmluZTogWzEyNywgMjU1LCAyMTJdLFxuICAgIGF6dXJlOiBbMjQwLCAyNTUsIDI1NV0sXG4gICAgYmVpZ2U6IFsyNDUsIDI0NSwgMjIwXSxcbiAgICBiaXNxdWU6IFsyNTUsIDIyOCwgMTk2XSxcbiAgICBibGFjazogWzAsIDAsIDBdLFxuICAgIGJsYW5jaGVkYWxtb25kOiBbMjU1LCAyMzUsIDIwNV0sXG4gICAgYmx1ZTogWzAsIDAsIDI1NV0sXG4gICAgYmx1ZXZpb2xldDogWzEzOCwgNDMsIDIyNl0sXG4gICAgYnJvd246IFsxNjUsIDQyLCA0Ml0sXG4gICAgYnVybHl3b29kOiBbMjIyLCAxODQsIDEzNV0sXG4gICAgY2FkZXRibHVlOiBbOTUsIDE1OCwgMTYwXSxcbiAgICBjaGFydHJldXNlOiBbMTI3LCAyNTUsIDBdLFxuICAgIGNob2NvbGF0ZTogWzIxMCwgMTA1LCAzMF0sXG4gICAgY29yYWw6IFsyNTUsIDEyNywgODBdLFxuICAgIGNvcm5mbG93ZXJibHVlOiBbMTAwLCAxNDksIDIzN10sXG4gICAgY29ybnNpbGs6IFsyNTUsIDI0OCwgMjIwXSxcbiAgICBjcmltc29uOiBbMjIwLCAyMCwgNjBdLFxuICAgIGN5YW46IFswLCAyNTUsIDI1NV0sXG4gICAgZGFya2JsdWU6IFswLCAwLCAxMzldLFxuICAgIGRhcmtjeWFuOiBbMCwgMTM5LCAxMzldLFxuICAgIGRhcmtnb2xkZW5yb2Q6IFsxODQsIDEzMiwgMTFdLFxuICAgIGRhcmtncmF5OiBbMTY5LCAxNjksIDE2OV0sXG4gICAgZGFya2dyZWVuOiBbMCwgMTAwLCAwXSxcbiAgICBkYXJrZ3JleTogWzE2OSwgMTY5LCAxNjldLFxuICAgIGRhcmtraGFraTogWzE4OSwgMTgzLCAxMDddLFxuICAgIGRhcmttYWdlbnRhOiBbMTM5LCAwLCAxMzldLFxuICAgIGRhcmtvbGl2ZWdyZWVuOiBbODUsIDEwNywgNDddLFxuICAgIGRhcmtvcmFuZ2U6IFsyNTUsIDE0MCwgMF0sXG4gICAgZGFya29yY2hpZDogWzE1MywgNTAsIDIwNF0sXG4gICAgZGFya3JlZDogWzEzOSwgMCwgMF0sXG4gICAgZGFya3NhbG1vbjogWzIzMywgMTUwLCAxMjJdLFxuICAgIGRhcmtzZWFncmVlbjogWzE0MywgMTg4LCAxNDNdLFxuICAgIGRhcmtzbGF0ZWJsdWU6IFs3MiwgNjEsIDEzOV0sXG4gICAgZGFya3NsYXRlZ3JheTogWzQ3LCA3OSwgNzldLFxuICAgIGRhcmtzbGF0ZWdyZXk6IFs0NywgNzksIDc5XSxcbiAgICBkYXJrdHVycXVvaXNlOiBbMCwgMjA2LCAyMDldLFxuICAgIGRhcmt2aW9sZXQ6IFsxNDgsIDAsIDIxMV0sXG4gICAgZGVlcHBpbms6IFsyNTUsIDIwLCAxNDddLFxuICAgIGRlZXBza3libHVlOiBbMCwgMTkxLCAyNTVdLFxuICAgIGRpbWdyYXk6IFsxMDUsIDEwNSwgMTA1XSxcbiAgICBkaW1ncmV5OiBbMTA1LCAxMDUsIDEwNV0sXG4gICAgZG9kZ2VyYmx1ZTogWzMwLCAxNDQsIDI1NV0sXG4gICAgZmlyZWJyaWNrOiBbMTc4LCAzNCwgMzRdLFxuICAgIGZsb3JhbHdoaXRlOiBbMjU1LCAyNTUsIDI0MF0sXG4gICAgZm9yZXN0Z3JlZW46IFszNCwgMTM5LCAzNF0sXG4gICAgZnVjaHNpYTogWzI1NSwgMCwgMjU1XSxcbiAgICBnYWluc2Jvcm86IFsyMjAsIDIyMCwgMjIwXSxcbiAgICBnaG9zdHdoaXRlOiBbMjQ4LCAyNDgsIDI1NV0sXG4gICAgZ29sZDogWzI1NSwgMjE1LCAwXSxcbiAgICBnb2xkZW5yb2Q6IFsyMTgsIDE2NSwgMzJdLFxuICAgIGdyYXk6IFsxMjgsIDEyOCwgMTI4XSxcbiAgICBncmVlbjogWzAsIDEyOCwgMF0sXG4gICAgZ3JlZW55ZWxsb3c6IFsxNzMsIDI1NSwgNDddLFxuICAgIGdyZXk6IFsxMjgsIDEyOCwgMTI4XSxcbiAgICBob25leWRldzogWzI0MCwgMjU1LCAyNDBdLFxuICAgIGhvdHBpbms6IFsyNTUsIDEwNSwgMTgwXSxcbiAgICBpbmRpYW5yZWQ6IFsyMDUsIDkyLCA5Ml0sXG4gICAgaW5kaWdvOiBbNzUsIDAsIDEzMF0sXG4gICAgaXZvcnk6IFsyNTUsIDI1NSwgMjQwXSxcbiAgICBraGFraTogWzI0MCwgMjMwLCAxNDBdLFxuICAgIGxhdmVuZGVyOiBbMjMwLCAyMzAsIDI1MF0sXG4gICAgbGF2ZW5kZXJibHVzaDogWzI1NSwgMjQwLCAyNDVdLFxuICAgIGxhd25ncmVlbjogWzEyNCwgMjUyLCAwXSxcbiAgICBsZW1vbmNoaWZmb246IFsyNTUsIDI1MCwgMjA1XSxcbiAgICBsaWdodGJsdWU6IFsxNzMsIDIxNiwgMjMwXSxcbiAgICBsaWdodGNvcmFsOiBbMjQwLCAxMjgsIDEyOF0sXG4gICAgbGlnaHRjeWFuOiBbMjI0LCAyNTUsIDI1NV0sXG4gICAgbGlnaHRnb2xkZW5yb2R5ZWxsb3c6IFsyNTAsIDI1MCwgMjEwXSxcbiAgICBsaWdodGdyYXk6IFsyMTEsIDIxMSwgMjExXSxcbiAgICBsaWdodGdyZWVuOiBbMTQ0LCAyMzgsIDE0NF0sXG4gICAgbGlnaHRncmV5OiBbMjExLCAyMTEsIDIxMV0sXG4gICAgbGlnaHRwaW5rOiBbMjU1LCAxODIsIDE5M10sXG4gICAgbGlnaHRzYWxtb246IFsyNTUsIDE2MCwgMTIyXSxcbiAgICBsaWdodHNlYWdyZWVuOiBbMzIsIDE3OCwgMTcwXSxcbiAgICBsaWdodHNreWJsdWU6IFsxMzUsIDIwNiwgMjUwXSxcbiAgICBsaWdodHNsYXRlZ3JheTogWzExOSwgMTM2LCAxNTNdLFxuICAgIGxpZ2h0c2xhdGVncmV5OiBbMTE5LCAxMzYsIDE1M10sXG4gICAgbGlnaHRzdGVlbGJsdWU6IFsxNzYsIDE5NiwgMjIyXSxcbiAgICBsaWdodHllbGxvdzogWzI1NSwgMjU1LCAyMjRdLFxuICAgIGxpbWU6IFswLCAyNTUsIDBdLFxuICAgIGxpbWVncmVlbjogWzUwLCAyMDUsIDUwXSxcbiAgICBsaW5lbjogWzI1MCwgMjQwLCAyMzBdLFxuICAgIG1hZ2VudGE6IFsyNTUsIDAsIDI1NV0sXG4gICAgbWFyb29uOiBbMTI4LCAwLCAwXSxcbiAgICBtZWRpdW1hcXVhbWFyaW5lOiBbMTAyLCAyMDUsIDE3MF0sXG4gICAgbWVkaXVtYmx1ZTogWzAsIDAsIDIwNV0sXG4gICAgbWVkaXVtb3JjaGlkOiBbMTg2LCA4NSwgMjExXSxcbiAgICBtZWRpdW1wdXJwbGU6IFsxNDcsIDExMiwgMjE5XSxcbiAgICBtZWRpdW1zZWFncmVlbjogWzYwLCAxNzksIDExM10sXG4gICAgbWVkaXVtc2xhdGVibHVlOiBbMTIzLCAxMDQsIDIzOF0sXG4gICAgbWVkaXVtc3ByaW5nZ3JlZW46IFswLCAyNTAsIDE1NF0sXG4gICAgbWVkaXVtdHVycXVvaXNlOiBbNzIsIDIwOSwgMjA0XSxcbiAgICBtZWRpdW12aW9sZXRyZWQ6IFsxOTksIDIxLCAxMzNdLFxuICAgIG1pZG5pZ2h0Ymx1ZTogWzI1LCAyNSwgMTEyXSxcbiAgICBtaW50Y3JlYW06IFsyNDUsIDI1NSwgMjUwXSxcbiAgICBtaXN0eXJvc2U6IFsyNTUsIDIyOCwgMjI1XSxcbiAgICBtb2NjYXNpbjogWzI1NSwgMjI4LCAxODFdLFxuICAgIG5hdmFqb3doaXRlOiBbMjU1LCAyMjIsIDE3M10sXG4gICAgbmF2eTogWzAsIDAsIDEyOF0sXG4gICAgb2xkbGFjZTogWzI1MywgMjQ1LCAyMzBdLFxuICAgIG9saXZlOiBbMTI4LCAxMjgsIDBdLFxuICAgIG9saXZlZHJhYjogWzEwNywgMTQyLCAzNV0sXG4gICAgb3JhbmdlOiBbMjU1LCAxNjUsIDBdLFxuICAgIG9yYW5nZXJlZDogWzI1NSwgNjksIDBdLFxuICAgIG9yY2hpZDogWzIxOCwgMTEyLCAyMTRdLFxuICAgIHBhbGVnb2xkZW5yb2Q6IFsyMzgsIDIzMiwgMTcwXSxcbiAgICBwYWxlZ3JlZW46IFsxNTIsIDI1MSwgMTUyXSxcbiAgICBwYWxldHVycXVvaXNlOiBbMTc1LCAyMzgsIDIzOF0sXG4gICAgcGFsZXZpb2xldHJlZDogWzIxOSwgMTEyLCAxNDddLFxuICAgIHBhcGF5YXdoaXA6IFsyNTUsIDIzOSwgMjEzXSxcbiAgICBwZWFjaHB1ZmY6IFsyNTUsIDIxOCwgMTg1XSxcbiAgICBwZXJ1OiBbMjA1LCAxMzMsIDYzXSxcbiAgICBwaW5rOiBbMjU1LCAxOTIsIDIwM10sXG4gICAgcGx1bTogWzIyMSwgMTYwLCAyMDNdLFxuICAgIHBvd2RlcmJsdWU6IFsxNzYsIDIyNCwgMjMwXSxcbiAgICBwdXJwbGU6IFsxMjgsIDAsIDEyOF0sXG4gICAgcmViZWNjYXB1cnBsZTogWzEwMiwgNTEsIDE1M10sXG4gICAgcmVkOiBbMjU1LCAwLCAwXSxcbiAgICByb3N5YnJvd246IFsxODgsIDE0MywgMTQzXSxcbiAgICByb3lhbGJsdWU6IFs2NSwgMTA1LCAyMjVdLFxuICAgIHNhZGRsZWJyb3duOiBbMTM5LCA2OSwgMTldLFxuICAgIHNhbG1vbjogWzI1MCwgMTI4LCAxMTRdLFxuICAgIHNhbmR5YnJvd246IFsyNDQsIDE2NCwgOTZdLFxuICAgIHNlYWdyZWVuOiBbNDYsIDEzOSwgODddLFxuICAgIHNlYXNoZWxsOiBbMjU1LCAyNDUsIDIzOF0sXG4gICAgc2llbm5hOiBbMTYwLCA4MiwgNDVdLFxuICAgIHNpbHZlcjogWzE5MiwgMTkyLCAxOTJdLFxuICAgIHNreWJsdWU6IFsxMzUsIDIwNiwgMjM1XSxcbiAgICBzbGF0ZWJsdWU6IFsxMDYsIDkwLCAyMDVdLFxuICAgIHNsYXRlZ3JheTogWzExOSwgMTI4LCAxNDRdLFxuICAgIHNsYXRlZ3JleTogWzExOSwgMTI4LCAxNDRdLFxuICAgIHNub3c6IFsyNTUsIDI1NSwgMjUwXSxcbiAgICBzcHJpbmdncmVlbjogWzAsIDI1NSwgMTI3XSxcbiAgICBzdGVlbGJsdWU6IFs3MCwgMTMwLCAxODBdLFxuICAgIHRhbjogWzIxMCwgMTgwLCAxNDBdLFxuICAgIHRlYWw6IFswLCAxMjgsIDEyOF0sXG4gICAgdGhpc3RsZTogWzIxNiwgMTkxLCAyMTZdLFxuICAgIHRyYW5zcGFyZW50OiBbMjU1LCAyNTUsIDI1NSwgMF0sXG4gICAgdG9tYXRvOiBbMjU1LCA5OSwgNzFdLFxuICAgIHR1cnF1b2lzZTogWzY0LCAyMjQsIDIwOF0sXG4gICAgdmlvbGV0OiBbMjM4LCAxMzAsIDIzOF0sXG4gICAgd2hlYXQ6IFsyNDUsIDIyMiwgMTc5XSxcbiAgICB3aGl0ZTogWzI1NSwgMjU1LCAyNTVdLFxuICAgIHdoaXRlc21va2U6IFsyNDUsIDI0NSwgMjQ1XSxcbiAgICB5ZWxsb3c6IFsyNTUsIDI1NSwgMF0sXG4gICAgeWVsbG93Z3JlZW46IFsxNTQsIDIwNSwgNV0sXG59LCBSR0JfUkVHRVggPSAvcmdiXFwoKFxcZHsxLDN9KSwoXFxkezEsM30pLChcXGR7MSwzfSlcXCkvLCBhbmltUXVldWUgPSBbXTtcbmNvbnN0IHJlcSA9ICh0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lICE9PSAndW5kZWZpbmVkJyAmJiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHx8XG4gICAgZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgc2V0VGltZW91dChmLCA2MCk7XG4gICAgfTtcbmV4cG9ydHMuVXRpbCA9IHtcbiAgICBfaXNFbGVtZW50KG9iaikge1xuICAgICAgICByZXR1cm4gISEob2JqICYmIG9iai5ub2RlVHlwZSA9PSAxKTtcbiAgICB9LFxuICAgIF9pc0Z1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gISEob2JqICYmIG9iai5jb25zdHJ1Y3RvciAmJiBvYmouY2FsbCAmJiBvYmouYXBwbHkpO1xuICAgIH0sXG4gICAgX2lzUGxhaW5PYmplY3Qob2JqKSB7XG4gICAgICAgIHJldHVybiAhIW9iaiAmJiBvYmouY29uc3RydWN0b3IgPT09IE9iamVjdDtcbiAgICB9LFxuICAgIF9pc0FycmF5KG9iaikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09IE9CSkVDVF9BUlJBWTtcbiAgICB9LFxuICAgIF9pc051bWJlcihvYmopIHtcbiAgICAgICAgcmV0dXJuIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gT0JKRUNUX05VTUJFUiAmJlxuICAgICAgICAgICAgIWlzTmFOKG9iaikgJiZcbiAgICAgICAgICAgIGlzRmluaXRlKG9iaikpO1xuICAgIH0sXG4gICAgX2lzU3RyaW5nKG9iaikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09IE9CSkVDVF9TVFJJTkc7XG4gICAgfSxcbiAgICBfaXNCb29sZWFuKG9iaikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09IE9CSkVDVF9CT09MRUFOO1xuICAgIH0sXG4gICAgaXNPYmplY3QodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWwgaW5zdGFuY2VvZiBPYmplY3Q7XG4gICAgfSxcbiAgICBpc1ZhbGlkU2VsZWN0b3Ioc2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmlyc3RDaGFyID0gc2VsZWN0b3JbMF07XG4gICAgICAgIHJldHVybiAoZmlyc3RDaGFyID09PSAnIycgfHxcbiAgICAgICAgICAgIGZpcnN0Q2hhciA9PT0gJy4nIHx8XG4gICAgICAgICAgICBmaXJzdENoYXIgPT09IGZpcnN0Q2hhci50b1VwcGVyQ2FzZSgpKTtcbiAgICB9LFxuICAgIF9zaWduKG51bWJlcikge1xuICAgICAgICBpZiAobnVtYmVyID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnVtYmVyID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlcXVlc3RBbmltRnJhbWUoY2FsbGJhY2spIHtcbiAgICAgICAgYW5pbVF1ZXVlLnB1c2goY2FsbGJhY2spO1xuICAgICAgICBpZiAoYW5pbVF1ZXVlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmVxKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBxdWV1ZSA9IGFuaW1RdWV1ZTtcbiAgICAgICAgICAgICAgICBhbmltUXVldWUgPSBbXTtcbiAgICAgICAgICAgICAgICBxdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgICAgICAgICBjYigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNyZWF0ZUNhbnZhc0VsZW1lbnQoKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNhbnZhcy5zdHlsZSA9IGNhbnZhcy5zdHlsZSB8fCB7fTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfSxcbiAgICBjcmVhdGVJbWFnZUVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICB9LFxuICAgIF9pc0luRG9jdW1lbnQoZWwpIHtcbiAgICAgICAgd2hpbGUgKChlbCA9IGVsLnBhcmVudE5vZGUpKSB7XG4gICAgICAgICAgICBpZiAoZWwgPT0gZG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBfdXJsVG9JbWFnZSh1cmwsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBpbWFnZU9iaiA9IGV4cG9ydHMuVXRpbC5jcmVhdGVJbWFnZUVsZW1lbnQoKTtcbiAgICAgICAgaW1hZ2VPYmoub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2FsbGJhY2soaW1hZ2VPYmopO1xuICAgICAgICB9O1xuICAgICAgICBpbWFnZU9iai5zcmMgPSB1cmw7XG4gICAgfSxcbiAgICBfcmdiVG9IZXgociwgZywgYikge1xuICAgICAgICByZXR1cm4gKCgxIDw8IDI0KSArIChyIDw8IDE2KSArIChnIDw8IDgpICsgYikudG9TdHJpbmcoMTYpLnNsaWNlKDEpO1xuICAgIH0sXG4gICAgX2hleFRvUmdiKGhleCkge1xuICAgICAgICBoZXggPSBoZXgucmVwbGFjZShIQVNILCBFTVBUWV9TVFJJTkcpO1xuICAgICAgICB2YXIgYmlnaW50ID0gcGFyc2VJbnQoaGV4LCAxNik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByOiAoYmlnaW50ID4+IDE2KSAmIDI1NSxcbiAgICAgICAgICAgIGc6IChiaWdpbnQgPj4gOCkgJiAyNTUsXG4gICAgICAgICAgICBiOiBiaWdpbnQgJiAyNTUsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBnZXRSYW5kb21Db2xvcigpIHtcbiAgICAgICAgdmFyIHJhbmRDb2xvciA9ICgoTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmKSA8PCAwKS50b1N0cmluZygxNik7XG4gICAgICAgIHdoaWxlIChyYW5kQ29sb3IubGVuZ3RoIDwgNikge1xuICAgICAgICAgICAgcmFuZENvbG9yID0gWkVSTyArIHJhbmRDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSEFTSCArIHJhbmRDb2xvcjtcbiAgICB9LFxuICAgIGdldFJHQihjb2xvcikge1xuICAgICAgICB2YXIgcmdiO1xuICAgICAgICBpZiAoY29sb3IgaW4gQ09MT1JTKSB7XG4gICAgICAgICAgICByZ2IgPSBDT0xPUlNbY29sb3JdO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByOiByZ2JbMF0sXG4gICAgICAgICAgICAgICAgZzogcmdiWzFdLFxuICAgICAgICAgICAgICAgIGI6IHJnYlsyXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29sb3JbMF0gPT09IEhBU0gpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oZXhUb1JnYihjb2xvci5zdWJzdHJpbmcoMSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbG9yLnN1YnN0cigwLCA0KSA9PT0gUkdCX1BBUkVOKSB7XG4gICAgICAgICAgICByZ2IgPSBSR0JfUkVHRVguZXhlYyhjb2xvci5yZXBsYWNlKC8gL2csICcnKSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHI6IHBhcnNlSW50KHJnYlsxXSwgMTApLFxuICAgICAgICAgICAgICAgIGc6IHBhcnNlSW50KHJnYlsyXSwgMTApLFxuICAgICAgICAgICAgICAgIGI6IHBhcnNlSW50KHJnYlszXSwgMTApLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcjogMCxcbiAgICAgICAgICAgICAgICBnOiAwLFxuICAgICAgICAgICAgICAgIGI6IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjb2xvclRvUkdCQShzdHIpIHtcbiAgICAgICAgc3RyID0gc3RyIHx8ICdibGFjayc7XG4gICAgICAgIHJldHVybiAoZXhwb3J0cy5VdGlsLl9uYW1lZENvbG9yVG9SQkEoc3RyKSB8fFxuICAgICAgICAgICAgZXhwb3J0cy5VdGlsLl9oZXgzQ29sb3JUb1JHQkEoc3RyKSB8fFxuICAgICAgICAgICAgZXhwb3J0cy5VdGlsLl9oZXg0Q29sb3JUb1JHQkEoc3RyKSB8fFxuICAgICAgICAgICAgZXhwb3J0cy5VdGlsLl9oZXg2Q29sb3JUb1JHQkEoc3RyKSB8fFxuICAgICAgICAgICAgZXhwb3J0cy5VdGlsLl9oZXg4Q29sb3JUb1JHQkEoc3RyKSB8fFxuICAgICAgICAgICAgZXhwb3J0cy5VdGlsLl9yZ2JDb2xvclRvUkdCQShzdHIpIHx8XG4gICAgICAgICAgICBleHBvcnRzLlV0aWwuX3JnYmFDb2xvclRvUkdCQShzdHIpIHx8XG4gICAgICAgICAgICBleHBvcnRzLlV0aWwuX2hzbENvbG9yVG9SR0JBKHN0cikpO1xuICAgIH0sXG4gICAgX25hbWVkQ29sb3JUb1JCQShzdHIpIHtcbiAgICAgICAgdmFyIGMgPSBDT0xPUlNbc3RyLnRvTG93ZXJDYXNlKCldO1xuICAgICAgICBpZiAoIWMpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByOiBjWzBdLFxuICAgICAgICAgICAgZzogY1sxXSxcbiAgICAgICAgICAgIGI6IGNbMl0sXG4gICAgICAgICAgICBhOiAxLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgX3JnYkNvbG9yVG9SR0JBKHN0cikge1xuICAgICAgICBpZiAoc3RyLmluZGV4T2YoJ3JnYignKSA9PT0gMCkge1xuICAgICAgICAgICAgc3RyID0gc3RyLm1hdGNoKC9yZ2JcXCgoW14pXSspXFwpLylbMV07XG4gICAgICAgICAgICB2YXIgcGFydHMgPSBzdHIuc3BsaXQoLyAqLCAqLykubWFwKE51bWJlcik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHI6IHBhcnRzWzBdLFxuICAgICAgICAgICAgICAgIGc6IHBhcnRzWzFdLFxuICAgICAgICAgICAgICAgIGI6IHBhcnRzWzJdLFxuICAgICAgICAgICAgICAgIGE6IDEsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSxcbiAgICBfcmdiYUNvbG9yVG9SR0JBKHN0cikge1xuICAgICAgICBpZiAoc3RyLmluZGV4T2YoJ3JnYmEoJykgPT09IDApIHtcbiAgICAgICAgICAgIHN0ciA9IHN0ci5tYXRjaCgvcmdiYVxcKChbXildKylcXCkvKVsxXTtcbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IHN0ci5zcGxpdCgvICosICovKS5tYXAoKG4sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG4uc2xpY2UoLTEpID09PSAnJScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4ID09PSAzID8gcGFyc2VJbnQobikgLyAxMDAgOiAocGFyc2VJbnQobikgLyAxMDApICogMjU1O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyKG4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHI6IHBhcnRzWzBdLFxuICAgICAgICAgICAgICAgIGc6IHBhcnRzWzFdLFxuICAgICAgICAgICAgICAgIGI6IHBhcnRzWzJdLFxuICAgICAgICAgICAgICAgIGE6IHBhcnRzWzNdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgX2hleDhDb2xvclRvUkdCQShzdHIpIHtcbiAgICAgICAgaWYgKHN0clswXSA9PT0gJyMnICYmIHN0ci5sZW5ndGggPT09IDkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcjogcGFyc2VJbnQoc3RyLnNsaWNlKDEsIDMpLCAxNiksXG4gICAgICAgICAgICAgICAgZzogcGFyc2VJbnQoc3RyLnNsaWNlKDMsIDUpLCAxNiksXG4gICAgICAgICAgICAgICAgYjogcGFyc2VJbnQoc3RyLnNsaWNlKDUsIDcpLCAxNiksXG4gICAgICAgICAgICAgICAgYTogcGFyc2VJbnQoc3RyLnNsaWNlKDcsIDkpLCAxNikgLyAweGZmLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgX2hleDZDb2xvclRvUkdCQShzdHIpIHtcbiAgICAgICAgaWYgKHN0clswXSA9PT0gJyMnICYmIHN0ci5sZW5ndGggPT09IDcpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcjogcGFyc2VJbnQoc3RyLnNsaWNlKDEsIDMpLCAxNiksXG4gICAgICAgICAgICAgICAgZzogcGFyc2VJbnQoc3RyLnNsaWNlKDMsIDUpLCAxNiksXG4gICAgICAgICAgICAgICAgYjogcGFyc2VJbnQoc3RyLnNsaWNlKDUsIDcpLCAxNiksXG4gICAgICAgICAgICAgICAgYTogMSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LFxuICAgIF9oZXg0Q29sb3JUb1JHQkEoc3RyKSB7XG4gICAgICAgIGlmIChzdHJbMF0gPT09ICcjJyAmJiBzdHIubGVuZ3RoID09PSA1KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHI6IHBhcnNlSW50KHN0clsxXSArIHN0clsxXSwgMTYpLFxuICAgICAgICAgICAgICAgIGc6IHBhcnNlSW50KHN0clsyXSArIHN0clsyXSwgMTYpLFxuICAgICAgICAgICAgICAgIGI6IHBhcnNlSW50KHN0clszXSArIHN0clszXSwgMTYpLFxuICAgICAgICAgICAgICAgIGE6IHBhcnNlSW50KHN0cls0XSArIHN0cls0XSwgMTYpIC8gMHhmZixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LFxuICAgIF9oZXgzQ29sb3JUb1JHQkEoc3RyKSB7XG4gICAgICAgIGlmIChzdHJbMF0gPT09ICcjJyAmJiBzdHIubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHI6IHBhcnNlSW50KHN0clsxXSArIHN0clsxXSwgMTYpLFxuICAgICAgICAgICAgICAgIGc6IHBhcnNlSW50KHN0clsyXSArIHN0clsyXSwgMTYpLFxuICAgICAgICAgICAgICAgIGI6IHBhcnNlSW50KHN0clszXSArIHN0clszXSwgMTYpLFxuICAgICAgICAgICAgICAgIGE6IDEsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSxcbiAgICBfaHNsQ29sb3JUb1JHQkEoc3RyKSB7XG4gICAgICAgIGlmICgvaHNsXFwoKFxcZCspLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKyklXFwpL2cudGVzdChzdHIpKSB7XG4gICAgICAgICAgICBjb25zdCBbXywgLi4uaHNsXSA9IC9oc2xcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSVcXCkvZy5leGVjKHN0cik7XG4gICAgICAgICAgICBjb25zdCBoID0gTnVtYmVyKGhzbFswXSkgLyAzNjA7XG4gICAgICAgICAgICBjb25zdCBzID0gTnVtYmVyKGhzbFsxXSkgLyAxMDA7XG4gICAgICAgICAgICBjb25zdCBsID0gTnVtYmVyKGhzbFsyXSkgLyAxMDA7XG4gICAgICAgICAgICBsZXQgdDI7XG4gICAgICAgICAgICBsZXQgdDM7XG4gICAgICAgICAgICBsZXQgdmFsO1xuICAgICAgICAgICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICB2YWwgPSBsICogMjU1O1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHI6IE1hdGgucm91bmQodmFsKSxcbiAgICAgICAgICAgICAgICAgICAgZzogTWF0aC5yb3VuZCh2YWwpLFxuICAgICAgICAgICAgICAgICAgICBiOiBNYXRoLnJvdW5kKHZhbCksXG4gICAgICAgICAgICAgICAgICAgIGE6IDEsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsIDwgMC41KSB7XG4gICAgICAgICAgICAgICAgdDIgPSBsICogKDEgKyBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHQyID0gbCArIHMgLSBsICogcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHQxID0gMiAqIGwgLSB0MjtcbiAgICAgICAgICAgIGNvbnN0IHJnYiA9IFswLCAwLCAwXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdDMgPSBoICsgKDEgLyAzKSAqIC0oaSAtIDEpO1xuICAgICAgICAgICAgICAgIGlmICh0MyA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdDMrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHQzID4gMSkge1xuICAgICAgICAgICAgICAgICAgICB0My0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoNiAqIHQzIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICB2YWwgPSB0MSArICh0MiAtIHQxKSAqIDYgKiB0MztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoMiAqIHQzIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICB2YWwgPSB0MjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoMyAqIHQzIDwgMikge1xuICAgICAgICAgICAgICAgICAgICB2YWwgPSB0MSArICh0MiAtIHQxKSAqICgyIC8gMyAtIHQzKSAqIDY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWwgPSB0MTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmdiW2ldID0gdmFsICogMjU1O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByOiBNYXRoLnJvdW5kKHJnYlswXSksXG4gICAgICAgICAgICAgICAgZzogTWF0aC5yb3VuZChyZ2JbMV0pLFxuICAgICAgICAgICAgICAgIGI6IE1hdGgucm91bmQocmdiWzJdKSxcbiAgICAgICAgICAgICAgICBhOiAxLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaGF2ZUludGVyc2VjdGlvbihyMSwgcjIpIHtcbiAgICAgICAgcmV0dXJuICEocjIueCA+IHIxLnggKyByMS53aWR0aCB8fFxuICAgICAgICAgICAgcjIueCArIHIyLndpZHRoIDwgcjEueCB8fFxuICAgICAgICAgICAgcjIueSA+IHIxLnkgKyByMS5oZWlnaHQgfHxcbiAgICAgICAgICAgIHIyLnkgKyByMi5oZWlnaHQgPCByMS55KTtcbiAgICB9LFxuICAgIGNsb25lT2JqZWN0KG9iaikge1xuICAgICAgICB2YXIgcmV0T2JqID0ge307XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1BsYWluT2JqZWN0KG9ialtrZXldKSkge1xuICAgICAgICAgICAgICAgIHJldE9ialtrZXldID0gdGhpcy5jbG9uZU9iamVjdChvYmpba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9pc0FycmF5KG9ialtrZXldKSkge1xuICAgICAgICAgICAgICAgIHJldE9ialtrZXldID0gdGhpcy5jbG9uZUFycmF5KG9ialtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldE9ialtrZXldID0gb2JqW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldE9iajtcbiAgICB9LFxuICAgIGNsb25lQXJyYXkoYXJyKSB7XG4gICAgICAgIHJldHVybiBhcnIuc2xpY2UoMCk7XG4gICAgfSxcbiAgICBkZWdUb1JhZChkZWcpIHtcbiAgICAgICAgcmV0dXJuIGRlZyAqIFBJX09WRVJfREVHMTgwO1xuICAgIH0sXG4gICAgcmFkVG9EZWcocmFkKSB7XG4gICAgICAgIHJldHVybiByYWQgKiBERUcxODBfT1ZFUl9QSTtcbiAgICB9LFxuICAgIF9kZWdUb1JhZChkZWcpIHtcbiAgICAgICAgZXhwb3J0cy5VdGlsLndhcm4oJ1V0aWwuX2RlZ1RvUmFkIGlzIHJlbW92ZWQuIFBsZWFzZSB1c2UgcHVibGljIFV0aWwuZGVnVG9SYWQgaW5zdGVhZC4nKTtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuVXRpbC5kZWdUb1JhZChkZWcpO1xuICAgIH0sXG4gICAgX3JhZFRvRGVnKHJhZCkge1xuICAgICAgICBleHBvcnRzLlV0aWwud2FybignVXRpbC5fcmFkVG9EZWcgaXMgcmVtb3ZlZC4gUGxlYXNlIHVzZSBwdWJsaWMgVXRpbC5yYWRUb0RlZyBpbnN0ZWFkLicpO1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5VdGlsLnJhZFRvRGVnKHJhZCk7XG4gICAgfSxcbiAgICBfZ2V0Um90YXRpb24ocmFkaWFucykge1xuICAgICAgICByZXR1cm4gR2xvYmFsXzEuS29udmEuYW5nbGVEZWcgPyBleHBvcnRzLlV0aWwucmFkVG9EZWcocmFkaWFucykgOiByYWRpYW5zO1xuICAgIH0sXG4gICAgX2NhcGl0YWxpemUoc3RyKSB7XG4gICAgICAgIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XG4gICAgfSxcbiAgICB0aHJvdyhzdHIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKEtPTlZBX0VSUk9SICsgc3RyKTtcbiAgICB9LFxuICAgIGVycm9yKHN0cikge1xuICAgICAgICBjb25zb2xlLmVycm9yKEtPTlZBX0VSUk9SICsgc3RyKTtcbiAgICB9LFxuICAgIHdhcm4oc3RyKSB7XG4gICAgICAgIGlmICghR2xvYmFsXzEuS29udmEuc2hvd1dhcm5pbmdzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS53YXJuKEtPTlZBX1dBUk5JTkcgKyBzdHIpO1xuICAgIH0sXG4gICAgZWFjaChvYmosIGZ1bmMpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICAgICAgZnVuYyhrZXksIG9ialtrZXldKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgX2luUmFuZ2UodmFsLCBsZWZ0LCByaWdodCkge1xuICAgICAgICByZXR1cm4gbGVmdCA8PSB2YWwgJiYgdmFsIDwgcmlnaHQ7XG4gICAgfSxcbiAgICBfZ2V0UHJvamVjdGlvblRvU2VnbWVudCh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzKSB7XG4gICAgICAgIHZhciB4LCB5LCBkaXN0O1xuICAgICAgICB2YXIgcGQyID0gKHgxIC0geDIpICogKHgxIC0geDIpICsgKHkxIC0geTIpICogKHkxIC0geTIpO1xuICAgICAgICBpZiAocGQyID09IDApIHtcbiAgICAgICAgICAgIHggPSB4MTtcbiAgICAgICAgICAgIHkgPSB5MTtcbiAgICAgICAgICAgIGRpc3QgPSAoeDMgLSB4MikgKiAoeDMgLSB4MikgKyAoeTMgLSB5MikgKiAoeTMgLSB5Mik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgdSA9ICgoeDMgLSB4MSkgKiAoeDIgLSB4MSkgKyAoeTMgLSB5MSkgKiAoeTIgLSB5MSkpIC8gcGQyO1xuICAgICAgICAgICAgaWYgKHUgPCAwKSB7XG4gICAgICAgICAgICAgICAgeCA9IHgxO1xuICAgICAgICAgICAgICAgIHkgPSB5MTtcbiAgICAgICAgICAgICAgICBkaXN0ID0gKHgxIC0geDMpICogKHgxIC0geDMpICsgKHkxIC0geTMpICogKHkxIC0geTMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodSA+IDEuMCkge1xuICAgICAgICAgICAgICAgIHggPSB4MjtcbiAgICAgICAgICAgICAgICB5ID0geTI7XG4gICAgICAgICAgICAgICAgZGlzdCA9ICh4MiAtIHgzKSAqICh4MiAtIHgzKSArICh5MiAtIHkzKSAqICh5MiAtIHkzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHggPSB4MSArIHUgKiAoeDIgLSB4MSk7XG4gICAgICAgICAgICAgICAgeSA9IHkxICsgdSAqICh5MiAtIHkxKTtcbiAgICAgICAgICAgICAgICBkaXN0ID0gKHggLSB4MykgKiAoeCAtIHgzKSArICh5IC0geTMpICogKHkgLSB5Myk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt4LCB5LCBkaXN0XTtcbiAgICB9LFxuICAgIF9nZXRQcm9qZWN0aW9uVG9MaW5lKHB0LCBsaW5lLCBpc0Nsb3NlZCkge1xuICAgICAgICB2YXIgcGMgPSBleHBvcnRzLlV0aWwuY2xvbmVPYmplY3QocHQpO1xuICAgICAgICB2YXIgZGlzdCA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgIGxpbmUuZm9yRWFjaChmdW5jdGlvbiAocDEsIGkpIHtcbiAgICAgICAgICAgIGlmICghaXNDbG9zZWQgJiYgaSA9PT0gbGluZS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHAyID0gbGluZVsoaSArIDEpICUgbGluZS5sZW5ndGhdO1xuICAgICAgICAgICAgdmFyIHByb2ogPSBleHBvcnRzLlV0aWwuX2dldFByb2plY3Rpb25Ub1NlZ21lbnQocDEueCwgcDEueSwgcDIueCwgcDIueSwgcHQueCwgcHQueSk7XG4gICAgICAgICAgICB2YXIgcHggPSBwcm9qWzBdLCBweSA9IHByb2pbMV0sIHBkaXN0ID0gcHJvalsyXTtcbiAgICAgICAgICAgIGlmIChwZGlzdCA8IGRpc3QpIHtcbiAgICAgICAgICAgICAgICBwYy54ID0gcHg7XG4gICAgICAgICAgICAgICAgcGMueSA9IHB5O1xuICAgICAgICAgICAgICAgIGRpc3QgPSBwZGlzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYztcbiAgICB9LFxuICAgIF9wcmVwYXJlQXJyYXlGb3JUd2VlbihzdGFydEFycmF5LCBlbmRBcnJheSwgaXNDbG9zZWQpIHtcbiAgICAgICAgdmFyIG4sIHN0YXJ0ID0gW10sIGVuZCA9IFtdO1xuICAgICAgICBpZiAoc3RhcnRBcnJheS5sZW5ndGggPiBlbmRBcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gZW5kQXJyYXk7XG4gICAgICAgICAgICBlbmRBcnJheSA9IHN0YXJ0QXJyYXk7XG4gICAgICAgICAgICBzdGFydEFycmF5ID0gdGVtcDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKG4gPSAwOyBuIDwgc3RhcnRBcnJheS5sZW5ndGg7IG4gKz0gMikge1xuICAgICAgICAgICAgc3RhcnQucHVzaCh7XG4gICAgICAgICAgICAgICAgeDogc3RhcnRBcnJheVtuXSxcbiAgICAgICAgICAgICAgICB5OiBzdGFydEFycmF5W24gKyAxXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobiA9IDA7IG4gPCBlbmRBcnJheS5sZW5ndGg7IG4gKz0gMikge1xuICAgICAgICAgICAgZW5kLnB1c2goe1xuICAgICAgICAgICAgICAgIHg6IGVuZEFycmF5W25dLFxuICAgICAgICAgICAgICAgIHk6IGVuZEFycmF5W24gKyAxXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXdTdGFydCA9IFtdO1xuICAgICAgICBlbmQuZm9yRWFjaChmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgICAgIHZhciBwciA9IGV4cG9ydHMuVXRpbC5fZ2V0UHJvamVjdGlvblRvTGluZShwb2ludCwgc3RhcnQsIGlzQ2xvc2VkKTtcbiAgICAgICAgICAgIG5ld1N0YXJ0LnB1c2gocHIueCk7XG4gICAgICAgICAgICBuZXdTdGFydC5wdXNoKHByLnkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ld1N0YXJ0O1xuICAgIH0sXG4gICAgX3ByZXBhcmVUb1N0cmluZ2lmeShvYmopIHtcbiAgICAgICAgdmFyIGRlc2M7XG4gICAgICAgIG9iai52aXNpdGVkQnlDaXJjdWxhclJlZmVyZW5jZVJlbW92YWwgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAoIShvYmouaGFzT3duUHJvcGVydHkoa2V5KSAmJiBvYmpba2V5XSAmJiB0eXBlb2Ygb2JqW2tleV0gPT0gJ29iamVjdCcpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSk7XG4gICAgICAgICAgICBpZiAob2JqW2tleV0udmlzaXRlZEJ5Q2lyY3VsYXJSZWZlcmVuY2VSZW1vdmFsIHx8XG4gICAgICAgICAgICAgICAgZXhwb3J0cy5VdGlsLl9pc0VsZW1lbnQob2JqW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlc2MuY29uZmlndXJhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmpba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV4cG9ydHMuVXRpbC5fcHJlcGFyZVRvU3RyaW5naWZ5KG9ialtrZXldKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChkZXNjLmNvbmZpZ3VyYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgb2JqW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIG9iai52aXNpdGVkQnlDaXJjdWxhclJlZmVyZW5jZVJlbW92YWw7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBfYXNzaWduKHRhcmdldCwgc291cmNlKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9LFxuICAgIF9nZXRGaXJzdFBvaW50ZXJJZChldnQpIHtcbiAgICAgICAgaWYgKCFldnQudG91Y2hlcykge1xuICAgICAgICAgICAgcmV0dXJuIGV2dC5wb2ludGVySWQgfHwgOTk5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGV2dC5jaGFuZ2VkVG91Y2hlc1swXS5pZGVudGlmaWVyO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZWxlYXNlQ2FudmFzKC4uLmNhbnZhc2VzKSB7XG4gICAgICAgIGlmICghR2xvYmFsXzEuS29udmEucmVsZWFzZUNhbnZhc09uRGVzdHJveSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FudmFzZXMuZm9yRWFjaCgoYykgPT4ge1xuICAgICAgICAgICAgYy53aWR0aCA9IDA7XG4gICAgICAgICAgICBjLmhlaWdodCA9IDA7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZHJhd1JvdW5kZWRSZWN0UGF0aChjb250ZXh0LCB3aWR0aCwgaGVpZ2h0LCBjb3JuZXJSYWRpdXMpIHtcbiAgICAgICAgbGV0IHRvcExlZnQgPSAwO1xuICAgICAgICBsZXQgdG9wUmlnaHQgPSAwO1xuICAgICAgICBsZXQgYm90dG9tTGVmdCA9IDA7XG4gICAgICAgIGxldCBib3R0b21SaWdodCA9IDA7XG4gICAgICAgIGlmICh0eXBlb2YgY29ybmVyUmFkaXVzID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdG9wTGVmdCA9XG4gICAgICAgICAgICAgICAgdG9wUmlnaHQgPVxuICAgICAgICAgICAgICAgICAgICBib3R0b21MZWZ0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbVJpZ2h0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihjb3JuZXJSYWRpdXMsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0b3BMZWZ0ID0gTWF0aC5taW4oY29ybmVyUmFkaXVzWzBdIHx8IDAsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICB0b3BSaWdodCA9IE1hdGgubWluKGNvcm5lclJhZGl1c1sxXSB8fCAwLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgICAgICAgICAgYm90dG9tUmlnaHQgPSBNYXRoLm1pbihjb3JuZXJSYWRpdXNbMl0gfHwgMCwgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICAgICAgICAgIGJvdHRvbUxlZnQgPSBNYXRoLm1pbihjb3JuZXJSYWRpdXNbM10gfHwgMCwgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0Lm1vdmVUbyh0b3BMZWZ0LCAwKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8od2lkdGggLSB0b3BSaWdodCwgMCk7XG4gICAgICAgIGNvbnRleHQuYXJjKHdpZHRoIC0gdG9wUmlnaHQsIHRvcFJpZ2h0LCB0b3BSaWdodCwgKE1hdGguUEkgKiAzKSAvIDIsIDAsIGZhbHNlKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8od2lkdGgsIGhlaWdodCAtIGJvdHRvbVJpZ2h0KTtcbiAgICAgICAgY29udGV4dC5hcmMod2lkdGggLSBib3R0b21SaWdodCwgaGVpZ2h0IC0gYm90dG9tUmlnaHQsIGJvdHRvbVJpZ2h0LCAwLCBNYXRoLlBJIC8gMiwgZmFsc2UpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhib3R0b21MZWZ0LCBoZWlnaHQpO1xuICAgICAgICBjb250ZXh0LmFyYyhib3R0b21MZWZ0LCBoZWlnaHQgLSBib3R0b21MZWZ0LCBib3R0b21MZWZ0LCBNYXRoLlBJIC8gMiwgTWF0aC5QSSwgZmFsc2UpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbygwLCB0b3BMZWZ0KTtcbiAgICAgICAgY29udGV4dC5hcmModG9wTGVmdCwgdG9wTGVmdCwgdG9wTGVmdCwgTWF0aC5QSSwgKE1hdGguUEkgKiAzKSAvIDIsIGZhbHNlKTtcbiAgICB9LFxufTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0Q29tcG9uZW50VmFsaWRhdG9yID0gZXhwb3J0cy5nZXRCb29sZWFuVmFsaWRhdG9yID0gZXhwb3J0cy5nZXROdW1iZXJBcnJheVZhbGlkYXRvciA9IGV4cG9ydHMuZ2V0RnVuY3Rpb25WYWxpZGF0b3IgPSBleHBvcnRzLmdldFN0cmluZ09yR3JhZGllbnRWYWxpZGF0b3IgPSBleHBvcnRzLmdldFN0cmluZ1ZhbGlkYXRvciA9IGV4cG9ydHMuZ2V0TnVtYmVyT3JBdXRvVmFsaWRhdG9yID0gZXhwb3J0cy5nZXROdW1iZXJPckFycmF5T2ZOdW1iZXJzVmFsaWRhdG9yID0gZXhwb3J0cy5nZXROdW1iZXJWYWxpZGF0b3IgPSBleHBvcnRzLmFscGhhQ29tcG9uZW50ID0gZXhwb3J0cy5SR0JDb21wb25lbnQgPSB2b2lkIDA7XG5jb25zdCBHbG9iYWxfMSA9IHJlcXVpcmUoXCIuL0dsb2JhbFwiKTtcbmNvbnN0IFV0aWxfMSA9IHJlcXVpcmUoXCIuL1V0aWxcIik7XG5mdW5jdGlvbiBfZm9ybWF0VmFsdWUodmFsKSB7XG4gICAgaWYgKFV0aWxfMS5VdGlsLl9pc1N0cmluZyh2YWwpKSB7XG4gICAgICAgIHJldHVybiAnXCInICsgdmFsICsgJ1wiJztcbiAgICB9XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBOdW1iZXJdJykge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICBpZiAoVXRpbF8xLlV0aWwuX2lzQm9vbGVhbih2YWwpKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsKTtcbn1cbmZ1bmN0aW9uIFJHQkNvbXBvbmVudCh2YWwpIHtcbiAgICBpZiAodmFsID4gMjU1KSB7XG4gICAgICAgIHJldHVybiAyNTU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbCA8IDApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbCk7XG59XG5leHBvcnRzLlJHQkNvbXBvbmVudCA9IFJHQkNvbXBvbmVudDtcbmZ1bmN0aW9uIGFscGhhQ29tcG9uZW50KHZhbCkge1xuICAgIGlmICh2YWwgPiAxKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBlbHNlIGlmICh2YWwgPCAwLjAwMDEpIHtcbiAgICAgICAgcmV0dXJuIDAuMDAwMTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbn1cbmV4cG9ydHMuYWxwaGFDb21wb25lbnQgPSBhbHBoYUNvbXBvbmVudDtcbmZ1bmN0aW9uIGdldE51bWJlclZhbGlkYXRvcigpIHtcbiAgICBpZiAoR2xvYmFsXzEuS29udmEuaXNVbm1pbmlmaWVkKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsLCBhdHRyKSB7XG4gICAgICAgICAgICBpZiAoIVV0aWxfMS5VdGlsLl9pc051bWJlcih2YWwpKSB7XG4gICAgICAgICAgICAgICAgVXRpbF8xLlV0aWwud2FybihfZm9ybWF0VmFsdWUodmFsKSArXG4gICAgICAgICAgICAgICAgICAgICcgaXMgYSBub3QgdmFsaWQgdmFsdWUgZm9yIFwiJyArXG4gICAgICAgICAgICAgICAgICAgIGF0dHIgK1xuICAgICAgICAgICAgICAgICAgICAnXCIgYXR0cmlidXRlLiBUaGUgdmFsdWUgc2hvdWxkIGJlIGEgbnVtYmVyLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLmdldE51bWJlclZhbGlkYXRvciA9IGdldE51bWJlclZhbGlkYXRvcjtcbmZ1bmN0aW9uIGdldE51bWJlck9yQXJyYXlPZk51bWJlcnNWYWxpZGF0b3Iobm9PZkVsZW1lbnRzKSB7XG4gICAgaWYgKEdsb2JhbF8xLktvbnZhLmlzVW5taW5pZmllZCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCwgYXR0cikge1xuICAgICAgICAgICAgbGV0IGlzTnVtYmVyID0gVXRpbF8xLlV0aWwuX2lzTnVtYmVyKHZhbCk7XG4gICAgICAgICAgICBsZXQgaXNWYWxpZEFycmF5ID0gVXRpbF8xLlV0aWwuX2lzQXJyYXkodmFsKSAmJiB2YWwubGVuZ3RoID09IG5vT2ZFbGVtZW50cztcbiAgICAgICAgICAgIGlmICghaXNOdW1iZXIgJiYgIWlzVmFsaWRBcnJheSkge1xuICAgICAgICAgICAgICAgIFV0aWxfMS5VdGlsLndhcm4oX2Zvcm1hdFZhbHVlKHZhbCkgK1xuICAgICAgICAgICAgICAgICAgICAnIGlzIGEgbm90IHZhbGlkIHZhbHVlIGZvciBcIicgK1xuICAgICAgICAgICAgICAgICAgICBhdHRyICtcbiAgICAgICAgICAgICAgICAgICAgJ1wiIGF0dHJpYnV0ZS4gVGhlIHZhbHVlIHNob3VsZCBiZSBhIG51bWJlciBvciBBcnJheTxudW1iZXI+KCcgK1xuICAgICAgICAgICAgICAgICAgICBub09mRWxlbWVudHMgK1xuICAgICAgICAgICAgICAgICAgICAnKScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLmdldE51bWJlck9yQXJyYXlPZk51bWJlcnNWYWxpZGF0b3IgPSBnZXROdW1iZXJPckFycmF5T2ZOdW1iZXJzVmFsaWRhdG9yO1xuZnVuY3Rpb24gZ2V0TnVtYmVyT3JBdXRvVmFsaWRhdG9yKCkge1xuICAgIGlmIChHbG9iYWxfMS5Lb252YS5pc1VubWluaWZpZWQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwsIGF0dHIpIHtcbiAgICAgICAgICAgIHZhciBpc051bWJlciA9IFV0aWxfMS5VdGlsLl9pc051bWJlcih2YWwpO1xuICAgICAgICAgICAgdmFyIGlzQXV0byA9IHZhbCA9PT0gJ2F1dG8nO1xuICAgICAgICAgICAgaWYgKCEoaXNOdW1iZXIgfHwgaXNBdXRvKSkge1xuICAgICAgICAgICAgICAgIFV0aWxfMS5VdGlsLndhcm4oX2Zvcm1hdFZhbHVlKHZhbCkgK1xuICAgICAgICAgICAgICAgICAgICAnIGlzIGEgbm90IHZhbGlkIHZhbHVlIGZvciBcIicgK1xuICAgICAgICAgICAgICAgICAgICBhdHRyICtcbiAgICAgICAgICAgICAgICAgICAgJ1wiIGF0dHJpYnV0ZS4gVGhlIHZhbHVlIHNob3VsZCBiZSBhIG51bWJlciBvciBcImF1dG9cIi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5nZXROdW1iZXJPckF1dG9WYWxpZGF0b3IgPSBnZXROdW1iZXJPckF1dG9WYWxpZGF0b3I7XG5mdW5jdGlvbiBnZXRTdHJpbmdWYWxpZGF0b3IoKSB7XG4gICAgaWYgKEdsb2JhbF8xLktvbnZhLmlzVW5taW5pZmllZCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCwgYXR0cikge1xuICAgICAgICAgICAgaWYgKCFVdGlsXzEuVXRpbC5faXNTdHJpbmcodmFsKSkge1xuICAgICAgICAgICAgICAgIFV0aWxfMS5VdGlsLndhcm4oX2Zvcm1hdFZhbHVlKHZhbCkgK1xuICAgICAgICAgICAgICAgICAgICAnIGlzIGEgbm90IHZhbGlkIHZhbHVlIGZvciBcIicgK1xuICAgICAgICAgICAgICAgICAgICBhdHRyICtcbiAgICAgICAgICAgICAgICAgICAgJ1wiIGF0dHJpYnV0ZS4gVGhlIHZhbHVlIHNob3VsZCBiZSBhIHN0cmluZy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5nZXRTdHJpbmdWYWxpZGF0b3IgPSBnZXRTdHJpbmdWYWxpZGF0b3I7XG5mdW5jdGlvbiBnZXRTdHJpbmdPckdyYWRpZW50VmFsaWRhdG9yKCkge1xuICAgIGlmIChHbG9iYWxfMS5Lb252YS5pc1VubWluaWZpZWQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwsIGF0dHIpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzU3RyaW5nID0gVXRpbF8xLlV0aWwuX2lzU3RyaW5nKHZhbCk7XG4gICAgICAgICAgICBjb25zdCBpc0dyYWRpZW50ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IENhbnZhc0dyYWRpZW50XScgfHxcbiAgICAgICAgICAgICAgICAodmFsICYmIHZhbC5hZGRDb2xvclN0b3ApO1xuICAgICAgICAgICAgaWYgKCEoaXNTdHJpbmcgfHwgaXNHcmFkaWVudCkpIHtcbiAgICAgICAgICAgICAgICBVdGlsXzEuVXRpbC53YXJuKF9mb3JtYXRWYWx1ZSh2YWwpICtcbiAgICAgICAgICAgICAgICAgICAgJyBpcyBhIG5vdCB2YWxpZCB2YWx1ZSBmb3IgXCInICtcbiAgICAgICAgICAgICAgICAgICAgYXR0ciArXG4gICAgICAgICAgICAgICAgICAgICdcIiBhdHRyaWJ1dGUuIFRoZSB2YWx1ZSBzaG91bGQgYmUgYSBzdHJpbmcgb3IgYSBuYXRpdmUgZ3JhZGllbnQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZ2V0U3RyaW5nT3JHcmFkaWVudFZhbGlkYXRvciA9IGdldFN0cmluZ09yR3JhZGllbnRWYWxpZGF0b3I7XG5mdW5jdGlvbiBnZXRGdW5jdGlvblZhbGlkYXRvcigpIHtcbiAgICBpZiAoR2xvYmFsXzEuS29udmEuaXNVbm1pbmlmaWVkKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsLCBhdHRyKSB7XG4gICAgICAgICAgICBpZiAoIVV0aWxfMS5VdGlsLl9pc0Z1bmN0aW9uKHZhbCkpIHtcbiAgICAgICAgICAgICAgICBVdGlsXzEuVXRpbC53YXJuKF9mb3JtYXRWYWx1ZSh2YWwpICtcbiAgICAgICAgICAgICAgICAgICAgJyBpcyBhIG5vdCB2YWxpZCB2YWx1ZSBmb3IgXCInICtcbiAgICAgICAgICAgICAgICAgICAgYXR0ciArXG4gICAgICAgICAgICAgICAgICAgICdcIiBhdHRyaWJ1dGUuIFRoZSB2YWx1ZSBzaG91bGQgYmUgYSBmdW5jdGlvbi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5nZXRGdW5jdGlvblZhbGlkYXRvciA9IGdldEZ1bmN0aW9uVmFsaWRhdG9yO1xuZnVuY3Rpb24gZ2V0TnVtYmVyQXJyYXlWYWxpZGF0b3IoKSB7XG4gICAgaWYgKEdsb2JhbF8xLktvbnZhLmlzVW5taW5pZmllZCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCwgYXR0cikge1xuICAgICAgICAgICAgY29uc3QgVHlwZWRBcnJheSA9IEludDhBcnJheSA/IE9iamVjdC5nZXRQcm90b3R5cGVPZihJbnQ4QXJyYXkpIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChUeXBlZEFycmF5ICYmIHZhbCBpbnN0YW5jZW9mIFR5cGVkQXJyYXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFVdGlsXzEuVXRpbC5faXNBcnJheSh2YWwpKSB7XG4gICAgICAgICAgICAgICAgVXRpbF8xLlV0aWwud2FybihfZm9ybWF0VmFsdWUodmFsKSArXG4gICAgICAgICAgICAgICAgICAgICcgaXMgYSBub3QgdmFsaWQgdmFsdWUgZm9yIFwiJyArXG4gICAgICAgICAgICAgICAgICAgIGF0dHIgK1xuICAgICAgICAgICAgICAgICAgICAnXCIgYXR0cmlidXRlLiBUaGUgdmFsdWUgc2hvdWxkIGJlIGEgYXJyYXkgb2YgbnVtYmVycy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghVXRpbF8xLlV0aWwuX2lzTnVtYmVyKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBVdGlsXzEuVXRpbC53YXJuKCdcIicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcIiBhdHRyaWJ1dGUgaGFzIG5vbiBudW1lcmljIGVsZW1lbnQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJy4gTWFrZSBzdXJlIHRoYXQgYWxsIGVsZW1lbnRzIGFyZSBudW1iZXJzLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZ2V0TnVtYmVyQXJyYXlWYWxpZGF0b3IgPSBnZXROdW1iZXJBcnJheVZhbGlkYXRvcjtcbmZ1bmN0aW9uIGdldEJvb2xlYW5WYWxpZGF0b3IoKSB7XG4gICAgaWYgKEdsb2JhbF8xLktvbnZhLmlzVW5taW5pZmllZCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCwgYXR0cikge1xuICAgICAgICAgICAgdmFyIGlzQm9vbCA9IHZhbCA9PT0gdHJ1ZSB8fCB2YWwgPT09IGZhbHNlO1xuICAgICAgICAgICAgaWYgKCFpc0Jvb2wpIHtcbiAgICAgICAgICAgICAgICBVdGlsXzEuVXRpbC53YXJuKF9mb3JtYXRWYWx1ZSh2YWwpICtcbiAgICAgICAgICAgICAgICAgICAgJyBpcyBhIG5vdCB2YWxpZCB2YWx1ZSBmb3IgXCInICtcbiAgICAgICAgICAgICAgICAgICAgYXR0ciArXG4gICAgICAgICAgICAgICAgICAgICdcIiBhdHRyaWJ1dGUuIFRoZSB2YWx1ZSBzaG91bGQgYmUgYSBib29sZWFuLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLmdldEJvb2xlYW5WYWxpZGF0b3IgPSBnZXRCb29sZWFuVmFsaWRhdG9yO1xuZnVuY3Rpb24gZ2V0Q29tcG9uZW50VmFsaWRhdG9yKGNvbXBvbmVudHMpIHtcbiAgICBpZiAoR2xvYmFsXzEuS29udmEuaXNVbm1pbmlmaWVkKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsLCBhdHRyKSB7XG4gICAgICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQgfHwgdmFsID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghVXRpbF8xLlV0aWwuaXNPYmplY3QodmFsKSkge1xuICAgICAgICAgICAgICAgIFV0aWxfMS5VdGlsLndhcm4oX2Zvcm1hdFZhbHVlKHZhbCkgK1xuICAgICAgICAgICAgICAgICAgICAnIGlzIGEgbm90IHZhbGlkIHZhbHVlIGZvciBcIicgK1xuICAgICAgICAgICAgICAgICAgICBhdHRyICtcbiAgICAgICAgICAgICAgICAgICAgJ1wiIGF0dHJpYnV0ZS4gVGhlIHZhbHVlIHNob3VsZCBiZSBhbiBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzICcgK1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5nZXRDb21wb25lbnRWYWxpZGF0b3IgPSBnZXRDb21wb25lbnRWYWxpZGF0b3I7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZhY3RvcnkgPSB2b2lkIDA7XG5jb25zdCBVdGlsXzEgPSByZXF1aXJlKFwiLi9VdGlsXCIpO1xuY29uc3QgVmFsaWRhdG9yc18xID0gcmVxdWlyZShcIi4vVmFsaWRhdG9yc1wiKTtcbnZhciBHRVQgPSAnZ2V0JywgU0VUID0gJ3NldCc7XG5leHBvcnRzLkZhY3RvcnkgPSB7XG4gICAgYWRkR2V0dGVyU2V0dGVyKGNvbnN0cnVjdG9yLCBhdHRyLCBkZWYsIHZhbGlkYXRvciwgYWZ0ZXIpIHtcbiAgICAgICAgZXhwb3J0cy5GYWN0b3J5LmFkZEdldHRlcihjb25zdHJ1Y3RvciwgYXR0ciwgZGVmKTtcbiAgICAgICAgZXhwb3J0cy5GYWN0b3J5LmFkZFNldHRlcihjb25zdHJ1Y3RvciwgYXR0ciwgdmFsaWRhdG9yLCBhZnRlcik7XG4gICAgICAgIGV4cG9ydHMuRmFjdG9yeS5hZGRPdmVybG9hZGVkR2V0dGVyU2V0dGVyKGNvbnN0cnVjdG9yLCBhdHRyKTtcbiAgICB9LFxuICAgIGFkZEdldHRlcihjb25zdHJ1Y3RvciwgYXR0ciwgZGVmKSB7XG4gICAgICAgIHZhciBtZXRob2QgPSBHRVQgKyBVdGlsXzEuVXRpbC5fY2FwaXRhbGl6ZShhdHRyKTtcbiAgICAgICAgY29uc3RydWN0b3IucHJvdG90eXBlW21ldGhvZF0gPVxuICAgICAgICAgICAgY29uc3RydWN0b3IucHJvdG90eXBlW21ldGhvZF0gfHxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSB0aGlzLmF0dHJzW2F0dHJdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsID09PSB1bmRlZmluZWQgPyBkZWYgOiB2YWw7XG4gICAgICAgICAgICAgICAgfTtcbiAgICB9LFxuICAgIGFkZFNldHRlcihjb25zdHJ1Y3RvciwgYXR0ciwgdmFsaWRhdG9yLCBhZnRlcikge1xuICAgICAgICB2YXIgbWV0aG9kID0gU0VUICsgVXRpbF8xLlV0aWwuX2NhcGl0YWxpemUoYXR0cik7XG4gICAgICAgIGlmICghY29uc3RydWN0b3IucHJvdG90eXBlW21ldGhvZF0pIHtcbiAgICAgICAgICAgIGV4cG9ydHMuRmFjdG9yeS5vdmVyV3JpdGVTZXR0ZXIoY29uc3RydWN0b3IsIGF0dHIsIHZhbGlkYXRvciwgYWZ0ZXIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBvdmVyV3JpdGVTZXR0ZXIoY29uc3RydWN0b3IsIGF0dHIsIHZhbGlkYXRvciwgYWZ0ZXIpIHtcbiAgICAgICAgdmFyIG1ldGhvZCA9IFNFVCArIFV0aWxfMS5VdGlsLl9jYXBpdGFsaXplKGF0dHIpO1xuICAgICAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIGlmICh2YWxpZGF0b3IgJiYgdmFsICE9PSB1bmRlZmluZWQgJiYgdmFsICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gdmFsaWRhdG9yLmNhbGwodGhpcywgdmFsLCBhdHRyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3NldEF0dHIoYXR0ciwgdmFsKTtcbiAgICAgICAgICAgIGlmIChhZnRlcikge1xuICAgICAgICAgICAgICAgIGFmdGVyLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGFkZENvbXBvbmVudHNHZXR0ZXJTZXR0ZXIoY29uc3RydWN0b3IsIGF0dHIsIGNvbXBvbmVudHMsIHZhbGlkYXRvciwgYWZ0ZXIpIHtcbiAgICAgICAgdmFyIGxlbiA9IGNvbXBvbmVudHMubGVuZ3RoLCBjYXBpdGFsaXplID0gVXRpbF8xLlV0aWwuX2NhcGl0YWxpemUsIGdldHRlciA9IEdFVCArIGNhcGl0YWxpemUoYXR0ciksIHNldHRlciA9IFNFVCArIGNhcGl0YWxpemUoYXR0ciksIG4sIGNvbXBvbmVudDtcbiAgICAgICAgY29uc3RydWN0b3IucHJvdG90eXBlW2dldHRlcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmV0ID0ge307XG4gICAgICAgICAgICBmb3IgKG4gPSAwOyBuIDwgbGVuOyBuKyspIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQgPSBjb21wb25lbnRzW25dO1xuICAgICAgICAgICAgICAgIHJldFtjb21wb25lbnRdID0gdGhpcy5nZXRBdHRyKGF0dHIgKyBjYXBpdGFsaXplKGNvbXBvbmVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGJhc2ljVmFsaWRhdG9yID0gKDAsIFZhbGlkYXRvcnNfMS5nZXRDb21wb25lbnRWYWxpZGF0b3IpKGNvbXBvbmVudHMpO1xuICAgICAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGVbc2V0dGVyXSA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHZhciBvbGRWYWwgPSB0aGlzLmF0dHJzW2F0dHJdLCBrZXk7XG4gICAgICAgICAgICBpZiAodmFsaWRhdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gdmFsaWRhdG9yLmNhbGwodGhpcywgdmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiYXNpY1ZhbGlkYXRvcikge1xuICAgICAgICAgICAgICAgIGJhc2ljVmFsaWRhdG9yLmNhbGwodGhpcywgdmFsLCBhdHRyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoa2V5IGluIHZhbCkge1xuICAgICAgICAgICAgICAgIGlmICghdmFsLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3NldEF0dHIoYXR0ciArIGNhcGl0YWxpemUoa2V5KSwgdmFsW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF2YWwpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzLmZvckVhY2goKGNvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRBdHRyKGF0dHIgKyBjYXBpdGFsaXplKGNvbXBvbmVudCksIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9maXJlQ2hhbmdlRXZlbnQoYXR0ciwgb2xkVmFsLCB2YWwpO1xuICAgICAgICAgICAgaWYgKGFmdGVyKSB7XG4gICAgICAgICAgICAgICAgYWZ0ZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBleHBvcnRzLkZhY3RvcnkuYWRkT3ZlcmxvYWRlZEdldHRlclNldHRlcihjb25zdHJ1Y3RvciwgYXR0cik7XG4gICAgfSxcbiAgICBhZGRPdmVybG9hZGVkR2V0dGVyU2V0dGVyKGNvbnN0cnVjdG9yLCBhdHRyKSB7XG4gICAgICAgIHZhciBjYXBpdGFsaXplZEF0dHIgPSBVdGlsXzEuVXRpbC5fY2FwaXRhbGl6ZShhdHRyKSwgc2V0dGVyID0gU0VUICsgY2FwaXRhbGl6ZWRBdHRyLCBnZXR0ZXIgPSBHRVQgKyBjYXBpdGFsaXplZEF0dHI7XG4gICAgICAgIGNvbnN0cnVjdG9yLnByb3RvdHlwZVthdHRyXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tzZXR0ZXJdKGFyZ3VtZW50c1swXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpc1tnZXR0ZXJdKCk7XG4gICAgICAgIH07XG4gICAgfSxcbiAgICBhZGREZXByZWNhdGVkR2V0dGVyU2V0dGVyKGNvbnN0cnVjdG9yLCBhdHRyLCBkZWYsIHZhbGlkYXRvcikge1xuICAgICAgICBVdGlsXzEuVXRpbC5lcnJvcignQWRkaW5nIGRlcHJlY2F0ZWQgJyArIGF0dHIpO1xuICAgICAgICB2YXIgbWV0aG9kID0gR0VUICsgVXRpbF8xLlV0aWwuX2NhcGl0YWxpemUoYXR0cik7XG4gICAgICAgIHZhciBtZXNzYWdlID0gYXR0ciArXG4gICAgICAgICAgICAnIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBzb29uLiBMb29rIGF0IEtvbnZhIGNoYW5nZSBsb2cgZm9yIG1vcmUgaW5mb3JtYXRpb24uJztcbiAgICAgICAgY29uc3RydWN0b3IucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBVdGlsXzEuVXRpbC5lcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICAgIHZhciB2YWwgPSB0aGlzLmF0dHJzW2F0dHJdO1xuICAgICAgICAgICAgcmV0dXJuIHZhbCA9PT0gdW5kZWZpbmVkID8gZGVmIDogdmFsO1xuICAgICAgICB9O1xuICAgICAgICBleHBvcnRzLkZhY3RvcnkuYWRkU2V0dGVyKGNvbnN0cnVjdG9yLCBhdHRyLCB2YWxpZGF0b3IsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFV0aWxfMS5VdGlsLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgZXhwb3J0cy5GYWN0b3J5LmFkZE92ZXJsb2FkZWRHZXR0ZXJTZXR0ZXIoY29uc3RydWN0b3IsIGF0dHIpO1xuICAgIH0sXG4gICAgYmFja0NvbXBhdChjb25zdHJ1Y3RvciwgbWV0aG9kcykge1xuICAgICAgICBVdGlsXzEuVXRpbC5lYWNoKG1ldGhvZHMsIGZ1bmN0aW9uIChvbGRNZXRob2ROYW1lLCBuZXdNZXRob2ROYW1lKSB7XG4gICAgICAgICAgICB2YXIgbWV0aG9kID0gY29uc3RydWN0b3IucHJvdG90eXBlW25ld01ldGhvZE5hbWVdO1xuICAgICAgICAgICAgdmFyIG9sZEdldHRlciA9IEdFVCArIFV0aWxfMS5VdGlsLl9jYXBpdGFsaXplKG9sZE1ldGhvZE5hbWUpO1xuICAgICAgICAgICAgdmFyIG9sZFNldHRlciA9IFNFVCArIFV0aWxfMS5VdGlsLl9jYXBpdGFsaXplKG9sZE1ldGhvZE5hbWUpO1xuICAgICAgICAgICAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICAgICAgICAgICAgICBtZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICBVdGlsXzEuVXRpbC5lcnJvcignXCInICtcbiAgICAgICAgICAgICAgICAgICAgb2xkTWV0aG9kTmFtZSArXG4gICAgICAgICAgICAgICAgICAgICdcIiBtZXRob2QgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIHNvb24uIFVzZSBcIlwiJyArXG4gICAgICAgICAgICAgICAgICAgIG5ld01ldGhvZE5hbWUgK1xuICAgICAgICAgICAgICAgICAgICAnXCIgaW5zdGVhZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0cnVjdG9yLnByb3RvdHlwZVtvbGRNZXRob2ROYW1lXSA9IGRlcHJlY2F0ZWQ7XG4gICAgICAgICAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGVbb2xkR2V0dGVyXSA9IGRlcHJlY2F0ZWQ7XG4gICAgICAgICAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGVbb2xkU2V0dGVyXSA9IGRlcHJlY2F0ZWQ7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYWZ0ZXJTZXRGaWx0ZXIoKSB7XG4gICAgICAgIHRoaXMuX2ZpbHRlclVwVG9EYXRlID0gZmFsc2U7XG4gICAgfSxcbn07XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkhpdENvbnRleHQgPSBleHBvcnRzLlNjZW5lQ29udGV4dCA9IGV4cG9ydHMuQ29udGV4dCA9IHZvaWQgMDtcbmNvbnN0IFV0aWxfMSA9IHJlcXVpcmUoXCIuL1V0aWxcIik7XG5jb25zdCBHbG9iYWxfMSA9IHJlcXVpcmUoXCIuL0dsb2JhbFwiKTtcbmZ1bmN0aW9uIHNpbXBsaWZ5QXJyYXkoYXJyKSB7XG4gICAgdmFyIHJldEFyciA9IFtdLCBsZW4gPSBhcnIubGVuZ3RoLCB1dGlsID0gVXRpbF8xLlV0aWwsIG4sIHZhbDtcbiAgICBmb3IgKG4gPSAwOyBuIDwgbGVuOyBuKyspIHtcbiAgICAgICAgdmFsID0gYXJyW25dO1xuICAgICAgICBpZiAodXRpbC5faXNOdW1iZXIodmFsKSkge1xuICAgICAgICAgICAgdmFsID0gTWF0aC5yb3VuZCh2YWwgKiAxMDAwKSAvIDEwMDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXV0aWwuX2lzU3RyaW5nKHZhbCkpIHtcbiAgICAgICAgICAgIHZhbCA9IHZhbCArICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldEFyci5wdXNoKHZhbCk7XG4gICAgfVxuICAgIHJldHVybiByZXRBcnI7XG59XG52YXIgQ09NTUEgPSAnLCcsIE9QRU5fUEFSRU4gPSAnKCcsIENMT1NFX1BBUkVOID0gJyknLCBPUEVOX1BBUkVOX0JSQUNLRVQgPSAnKFsnLCBDTE9TRV9CUkFDS0VUX1BBUkVOID0gJ10pJywgU0VNSUNPTE9OID0gJzsnLCBET1VCTEVfUEFSRU4gPSAnKCknLCBFUVVBTFMgPSAnPScsIENPTlRFWFRfTUVUSE9EUyA9IFtcbiAgICAnYXJjJyxcbiAgICAnYXJjVG8nLFxuICAgICdiZWdpblBhdGgnLFxuICAgICdiZXppZXJDdXJ2ZVRvJyxcbiAgICAnY2xlYXJSZWN0JyxcbiAgICAnY2xpcCcsXG4gICAgJ2Nsb3NlUGF0aCcsXG4gICAgJ2NyZWF0ZUxpbmVhckdyYWRpZW50JyxcbiAgICAnY3JlYXRlUGF0dGVybicsXG4gICAgJ2NyZWF0ZVJhZGlhbEdyYWRpZW50JyxcbiAgICAnZHJhd0ltYWdlJyxcbiAgICAnZWxsaXBzZScsXG4gICAgJ2ZpbGwnLFxuICAgICdmaWxsVGV4dCcsXG4gICAgJ2dldEltYWdlRGF0YScsXG4gICAgJ2NyZWF0ZUltYWdlRGF0YScsXG4gICAgJ2xpbmVUbycsXG4gICAgJ21vdmVUbycsXG4gICAgJ3B1dEltYWdlRGF0YScsXG4gICAgJ3F1YWRyYXRpY0N1cnZlVG8nLFxuICAgICdyZWN0JyxcbiAgICAncmVzdG9yZScsXG4gICAgJ3JvdGF0ZScsXG4gICAgJ3NhdmUnLFxuICAgICdzY2FsZScsXG4gICAgJ3NldExpbmVEYXNoJyxcbiAgICAnc2V0VHJhbnNmb3JtJyxcbiAgICAnc3Ryb2tlJyxcbiAgICAnc3Ryb2tlVGV4dCcsXG4gICAgJ3RyYW5zZm9ybScsXG4gICAgJ3RyYW5zbGF0ZScsXG5dO1xudmFyIENPTlRFWFRfUFJPUEVSVElFUyA9IFtcbiAgICAnZmlsbFN0eWxlJyxcbiAgICAnc3Ryb2tlU3R5bGUnLFxuICAgICdzaGFkb3dDb2xvcicsXG4gICAgJ3NoYWRvd0JsdXInLFxuICAgICdzaGFkb3dPZmZzZXRYJyxcbiAgICAnc2hhZG93T2Zmc2V0WScsXG4gICAgJ2xldHRlclNwYWNpbmcnLFxuICAgICdsaW5lQ2FwJyxcbiAgICAnbGluZURhc2hPZmZzZXQnLFxuICAgICdsaW5lSm9pbicsXG4gICAgJ2xpbmVXaWR0aCcsXG4gICAgJ21pdGVyTGltaXQnLFxuICAgICdkaXJlY3Rpb24nLFxuICAgICdmb250JyxcbiAgICAndGV4dEFsaWduJyxcbiAgICAndGV4dEJhc2VsaW5lJyxcbiAgICAnZ2xvYmFsQWxwaGEnLFxuICAgICdnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24nLFxuICAgICdpbWFnZVNtb290aGluZ0VuYWJsZWQnLFxuXTtcbmNvbnN0IHRyYWNlQXJyTWF4ID0gMTAwO1xuY2xhc3MgQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoY2FudmFzKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgICBpZiAoR2xvYmFsXzEuS29udmEuZW5hYmxlVHJhY2UpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2VBcnIgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZVRyYWNlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmlsbFNoYXBlKHNoYXBlKSB7XG4gICAgICAgIGlmIChzaGFwZS5maWxsRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9maWxsKHNoYXBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZmlsbChzaGFwZSkge1xuICAgIH1cbiAgICBzdHJva2VTaGFwZShzaGFwZSkge1xuICAgICAgICBpZiAoc2hhcGUuaGFzU3Ryb2tlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0cm9rZShzaGFwZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3N0cm9rZShzaGFwZSkge1xuICAgIH1cbiAgICBmaWxsU3Ryb2tlU2hhcGUoc2hhcGUpIHtcbiAgICAgICAgaWYgKHNoYXBlLmF0dHJzLmZpbGxBZnRlclN0cm9rZUVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3Ryb2tlU2hhcGUoc2hhcGUpO1xuICAgICAgICAgICAgdGhpcy5maWxsU2hhcGUoc2hhcGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5maWxsU2hhcGUoc2hhcGUpO1xuICAgICAgICAgICAgdGhpcy5zdHJva2VTaGFwZShzaGFwZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0VHJhY2UocmVsYXhlZCwgcm91bmRlZCkge1xuICAgICAgICB2YXIgdHJhY2VBcnIgPSB0aGlzLnRyYWNlQXJyLCBsZW4gPSB0cmFjZUFyci5sZW5ndGgsIHN0ciA9ICcnLCBuLCB0cmFjZSwgbWV0aG9kLCBhcmdzO1xuICAgICAgICBmb3IgKG4gPSAwOyBuIDwgbGVuOyBuKyspIHtcbiAgICAgICAgICAgIHRyYWNlID0gdHJhY2VBcnJbbl07XG4gICAgICAgICAgICBtZXRob2QgPSB0cmFjZS5tZXRob2Q7XG4gICAgICAgICAgICBpZiAobWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgYXJncyA9IHRyYWNlLmFyZ3M7XG4gICAgICAgICAgICAgICAgc3RyICs9IG1ldGhvZDtcbiAgICAgICAgICAgICAgICBpZiAocmVsYXhlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdHIgKz0gRE9VQkxFX1BBUkVOO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFV0aWxfMS5VdGlsLl9pc0FycmF5KGFyZ3NbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gT1BFTl9QQVJFTl9CUkFDS0VUICsgYXJncy5qb2luKENPTU1BKSArIENMT1NFX0JSQUNLRVRfUEFSRU47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocm91bmRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBhcmdzLm1hcCgoYSkgPT4gdHlwZW9mIGEgPT09ICdudW1iZXInID8gTWF0aC5mbG9vcihhKSA6IGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IE9QRU5fUEFSRU4gKyBhcmdzLmpvaW4oQ09NTUEpICsgQ0xPU0VfUEFSRU47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdHIgKz0gdHJhY2UucHJvcGVydHk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWxheGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ciArPSBFUVVBTFMgKyB0cmFjZS52YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RyICs9IFNFTUlDT0xPTjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBjbGVhclRyYWNlKCkge1xuICAgICAgICB0aGlzLnRyYWNlQXJyID0gW107XG4gICAgfVxuICAgIF90cmFjZShzdHIpIHtcbiAgICAgICAgdmFyIHRyYWNlQXJyID0gdGhpcy50cmFjZUFyciwgbGVuO1xuICAgICAgICB0cmFjZUFyci5wdXNoKHN0cik7XG4gICAgICAgIGxlbiA9IHRyYWNlQXJyLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbiA+PSB0cmFjZUFyck1heCkge1xuICAgICAgICAgICAgdHJhY2VBcnIuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgdmFyIHBpeGVsUmF0aW8gPSB0aGlzLmdldENhbnZhcygpLmdldFBpeGVsUmF0aW8oKTtcbiAgICAgICAgdGhpcy5zZXRUcmFuc2Zvcm0oMSAqIHBpeGVsUmF0aW8sIDAsIDAsIDEgKiBwaXhlbFJhdGlvLCAwLCAwKTtcbiAgICB9XG4gICAgZ2V0Q2FudmFzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXM7XG4gICAgfVxuICAgIGNsZWFyKGJvdW5kcykge1xuICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5nZXRDYW52YXMoKTtcbiAgICAgICAgaWYgKGJvdW5kcykge1xuICAgICAgICAgICAgdGhpcy5jbGVhclJlY3QoYm91bmRzLnggfHwgMCwgYm91bmRzLnkgfHwgMCwgYm91bmRzLndpZHRoIHx8IDAsIGJvdW5kcy5oZWlnaHQgfHwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyUmVjdCgwLCAwLCBjYW52YXMuZ2V0V2lkdGgoKSAvIGNhbnZhcy5waXhlbFJhdGlvLCBjYW52YXMuZ2V0SGVpZ2h0KCkgLyBjYW52YXMucGl4ZWxSYXRpbyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2FwcGx5TGluZUNhcChzaGFwZSkge1xuICAgICAgICBjb25zdCBsaW5lQ2FwID0gc2hhcGUuYXR0cnMubGluZUNhcDtcbiAgICAgICAgaWYgKGxpbmVDYXApIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cignbGluZUNhcCcsIGxpbmVDYXApO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9hcHBseU9wYWNpdHkoc2hhcGUpIHtcbiAgICAgICAgdmFyIGFic09wYWNpdHkgPSBzaGFwZS5nZXRBYnNvbHV0ZU9wYWNpdHkoKTtcbiAgICAgICAgaWYgKGFic09wYWNpdHkgIT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cignZ2xvYmFsQWxwaGEnLCBhYnNPcGFjaXR5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYXBwbHlMaW5lSm9pbihzaGFwZSkge1xuICAgICAgICBjb25zdCBsaW5lSm9pbiA9IHNoYXBlLmF0dHJzLmxpbmVKb2luO1xuICAgICAgICBpZiAobGluZUpvaW4pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cignbGluZUpvaW4nLCBsaW5lSm9pbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0QXR0cihhdHRyLCB2YWwpIHtcbiAgICAgICAgdGhpcy5fY29udGV4dFthdHRyXSA9IHZhbDtcbiAgICB9XG4gICAgYXJjKHgsIHksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGNvdW50ZXJDbG9ja3dpc2UpIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5hcmMoeCwgeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgY291bnRlckNsb2Nrd2lzZSk7XG4gICAgfVxuICAgIGFyY1RvKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMpIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5hcmNUbyh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzKTtcbiAgICB9XG4gICAgYmVnaW5QYXRoKCkge1xuICAgICAgICB0aGlzLl9jb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIH1cbiAgICBiZXppZXJDdXJ2ZVRvKGNwMXgsIGNwMXksIGNwMngsIGNwMnksIHgsIHkpIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5iZXppZXJDdXJ2ZVRvKGNwMXgsIGNwMXksIGNwMngsIGNwMnksIHgsIHkpO1xuICAgIH1cbiAgICBjbGVhclJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLl9jb250ZXh0LmNsZWFyUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgY2xpcCguLi5hcmdzKSB7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuY2xpcC5hcHBseSh0aGlzLl9jb250ZXh0LCBhcmdzKTtcbiAgICB9XG4gICAgY2xvc2VQYXRoKCkge1xuICAgICAgICB0aGlzLl9jb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgIH1cbiAgICBjcmVhdGVJbWFnZURhdGEod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB2YXIgYSA9IGFyZ3VtZW50cztcbiAgICAgICAgaWYgKGEubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVJbWFnZURhdGEod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZUltYWdlRGF0YSh3aWR0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlTGluZWFyR3JhZGllbnQoeDAsIHkwLCB4MSwgeTEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQoeDAsIHkwLCB4MSwgeTEpO1xuICAgIH1cbiAgICBjcmVhdGVQYXR0ZXJuKGltYWdlLCByZXBldGl0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZVBhdHRlcm4oaW1hZ2UsIHJlcGV0aXRpb24pO1xuICAgIH1cbiAgICBjcmVhdGVSYWRpYWxHcmFkaWVudCh4MCwgeTAsIHIwLCB4MSwgeTEsIHIxKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZVJhZGlhbEdyYWRpZW50KHgwLCB5MCwgcjAsIHgxLCB5MSwgcjEpO1xuICAgIH1cbiAgICBkcmF3SW1hZ2UoaW1hZ2UsIHN4LCBzeSwgc1dpZHRoLCBzSGVpZ2h0LCBkeCwgZHksIGRXaWR0aCwgZEhlaWdodCkge1xuICAgICAgICB2YXIgYSA9IGFyZ3VtZW50cywgX2NvbnRleHQgPSB0aGlzLl9jb250ZXh0O1xuICAgICAgICBpZiAoYS5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgIF9jb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgc3gsIHN5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhLmxlbmd0aCA9PT0gNSkge1xuICAgICAgICAgICAgX2NvbnRleHQuZHJhd0ltYWdlKGltYWdlLCBzeCwgc3ksIHNXaWR0aCwgc0hlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYS5sZW5ndGggPT09IDkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgc3gsIHN5LCBzV2lkdGgsIHNIZWlnaHQsIGR4LCBkeSwgZFdpZHRoLCBkSGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGxpcHNlKHgsIHksIHJhZGl1c1gsIHJhZGl1c1ksIHJvdGF0aW9uLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgY291bnRlcmNsb2Nrd2lzZSkge1xuICAgICAgICB0aGlzLl9jb250ZXh0LmVsbGlwc2UoeCwgeSwgcmFkaXVzWCwgcmFkaXVzWSwgcm90YXRpb24sIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBjb3VudGVyY2xvY2t3aXNlKTtcbiAgICB9XG4gICAgaXNQb2ludEluUGF0aCh4LCB5LCBwYXRoLCBmaWxsUnVsZSkge1xuICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuaXNQb2ludEluUGF0aChwYXRoLCB4LCB5LCBmaWxsUnVsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuaXNQb2ludEluUGF0aCh4LCB5LCBmaWxsUnVsZSk7XG4gICAgfVxuICAgIGZpbGwoLi4uYXJncykge1xuICAgICAgICB0aGlzLl9jb250ZXh0LmZpbGwuYXBwbHkodGhpcy5fY29udGV4dCwgYXJncyk7XG4gICAgfVxuICAgIGZpbGxSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5maWxsUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgc3Ryb2tlUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuc3Ryb2tlUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgZmlsbFRleHQodGV4dCwgeCwgeSwgbWF4V2lkdGgpIHtcbiAgICAgICAgaWYgKG1heFdpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0LmZpbGxUZXh0KHRleHQsIHgsIHksIG1heFdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQuZmlsbFRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWVhc3VyZVRleHQodGV4dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0KTtcbiAgICB9XG4gICAgZ2V0SW1hZ2VEYXRhKHN4LCBzeSwgc3csIHNoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LmdldEltYWdlRGF0YShzeCwgc3ksIHN3LCBzaCk7XG4gICAgfVxuICAgIGxpbmVUbyh4LCB5KSB7XG4gICAgICAgIHRoaXMuX2NvbnRleHQubGluZVRvKHgsIHkpO1xuICAgIH1cbiAgICBtb3ZlVG8oeCwgeSkge1xuICAgICAgICB0aGlzLl9jb250ZXh0Lm1vdmVUbyh4LCB5KTtcbiAgICB9XG4gICAgcmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuX2NvbnRleHQucmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgcHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgZHgsIGR5KSB7XG4gICAgICAgIHRoaXMuX2NvbnRleHQucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgZHgsIGR5KTtcbiAgICB9XG4gICAgcXVhZHJhdGljQ3VydmVUbyhjcHgsIGNweSwgeCwgeSkge1xuICAgICAgICB0aGlzLl9jb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8oY3B4LCBjcHksIHgsIHkpO1xuICAgIH1cbiAgICByZXN0b3JlKCkge1xuICAgICAgICB0aGlzLl9jb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG4gICAgcm90YXRlKGFuZ2xlKSB7XG4gICAgICAgIHRoaXMuX2NvbnRleHQucm90YXRlKGFuZ2xlKTtcbiAgICB9XG4gICAgc2F2ZSgpIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5zYXZlKCk7XG4gICAgfVxuICAgIHNjYWxlKHgsIHkpIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5zY2FsZSh4LCB5KTtcbiAgICB9XG4gICAgc2V0TGluZURhc2goc2VnbWVudHMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRleHQuc2V0TGluZURhc2gpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQuc2V0TGluZURhc2goc2VnbWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCdtb3pEYXNoJyBpbiB0aGlzLl9jb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0Wydtb3pEYXNoJ10gPSBzZWdtZW50cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgnd2Via2l0TGluZURhc2gnIGluIHRoaXMuX2NvbnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHRbJ3dlYmtpdExpbmVEYXNoJ10gPSBzZWdtZW50cztcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRMaW5lRGFzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuZ2V0TGluZURhc2goKTtcbiAgICB9XG4gICAgc2V0VHJhbnNmb3JtKGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5zZXRUcmFuc2Zvcm0oYSwgYiwgYywgZCwgZSwgZik7XG4gICAgfVxuICAgIHN0cm9rZShwYXRoMmQpIHtcbiAgICAgICAgaWYgKHBhdGgyZCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGV4dC5zdHJva2UocGF0aDJkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3Ryb2tlVGV4dCh0ZXh0LCB4LCB5LCBtYXhXaWR0aCkge1xuICAgICAgICB0aGlzLl9jb250ZXh0LnN0cm9rZVRleHQodGV4dCwgeCwgeSwgbWF4V2lkdGgpO1xuICAgIH1cbiAgICB0cmFuc2Zvcm0oYSwgYiwgYywgZCwgZSwgZikge1xuICAgICAgICB0aGlzLl9jb250ZXh0LnRyYW5zZm9ybShhLCBiLCBjLCBkLCBlLCBmKTtcbiAgICB9XG4gICAgdHJhbnNsYXRlKHgsIHkpIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC50cmFuc2xhdGUoeCwgeSk7XG4gICAgfVxuICAgIF9lbmFibGVUcmFjZSgpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzLCBsZW4gPSBDT05URVhUX01FVEhPRFMubGVuZ3RoLCBvcmlnU2V0dGVyID0gdGhpcy5zZXRBdHRyLCBuLCBhcmdzO1xuICAgICAgICB2YXIgZnVuYyA9IGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7XG4gICAgICAgICAgICB2YXIgb3JpZ01ldGhvZCA9IHRoYXRbbWV0aG9kTmFtZV0sIHJldDtcbiAgICAgICAgICAgIHRoYXRbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYXJncyA9IHNpbXBsaWZ5QXJyYXkoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSk7XG4gICAgICAgICAgICAgICAgcmV0ID0gb3JpZ01ldGhvZC5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIHRoYXQuX3RyYWNlKHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2ROYW1lLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBhcmdzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKG4gPSAwOyBuIDwgbGVuOyBuKyspIHtcbiAgICAgICAgICAgIGZ1bmMoQ09OVEVYVF9NRVRIT0RTW25dKTtcbiAgICAgICAgfVxuICAgICAgICB0aGF0LnNldEF0dHIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcmlnU2V0dGVyLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB2YXIgcHJvcCA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIHZhciB2YWwgPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ3NoYWRvd09mZnNldFgnIHx8XG4gICAgICAgICAgICAgICAgcHJvcCA9PT0gJ3NoYWRvd09mZnNldFknIHx8XG4gICAgICAgICAgICAgICAgcHJvcCA9PT0gJ3NoYWRvd0JsdXInKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gdmFsIC8gdGhpcy5jYW52YXMuZ2V0UGl4ZWxSYXRpbygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhhdC5fdHJhY2Uoe1xuICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wLFxuICAgICAgICAgICAgICAgIHZhbDogdmFsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIF9hcHBseUdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbihub2RlKSB7XG4gICAgICAgIGNvbnN0IG9wID0gbm9kZS5hdHRycy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb247XG4gICAgICAgIHZhciBkZWYgPSAhb3AgfHwgb3AgPT09ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGlmICghZGVmKSB7XG4gICAgICAgICAgICB0aGlzLnNldEF0dHIoJ2dsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbicsIG9wKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQ29udGV4dCA9IENvbnRleHQ7XG5DT05URVhUX1BST1BFUlRJRVMuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb250ZXh0LnByb3RvdHlwZSwgcHJvcCwge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dFtwcm9wXTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0KHZhbCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGV4dFtwcm9wXSA9IHZhbDtcbiAgICAgICAgfSxcbiAgICB9KTtcbn0pO1xuY2xhc3MgU2NlbmVDb250ZXh0IGV4dGVuZHMgQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoY2FudmFzLCB7IHdpbGxSZWFkRnJlcXVlbnRseSA9IGZhbHNlIH0gPSB7fSkge1xuICAgICAgICBzdXBlcihjYW52YXMpO1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gY2FudmFzLl9jYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7XG4gICAgICAgICAgICB3aWxsUmVhZEZyZXF1ZW50bHksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfZmlsbENvbG9yKHNoYXBlKSB7XG4gICAgICAgIHZhciBmaWxsID0gc2hhcGUuZmlsbCgpO1xuICAgICAgICB0aGlzLnNldEF0dHIoJ2ZpbGxTdHlsZScsIGZpbGwpO1xuICAgICAgICBzaGFwZS5fZmlsbEZ1bmModGhpcyk7XG4gICAgfVxuICAgIF9maWxsUGF0dGVybihzaGFwZSkge1xuICAgICAgICB0aGlzLnNldEF0dHIoJ2ZpbGxTdHlsZScsIHNoYXBlLl9nZXRGaWxsUGF0dGVybigpKTtcbiAgICAgICAgc2hhcGUuX2ZpbGxGdW5jKHRoaXMpO1xuICAgIH1cbiAgICBfZmlsbExpbmVhckdyYWRpZW50KHNoYXBlKSB7XG4gICAgICAgIHZhciBncmQgPSBzaGFwZS5fZ2V0TGluZWFyR3JhZGllbnQoKTtcbiAgICAgICAgaWYgKGdyZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRBdHRyKCdmaWxsU3R5bGUnLCBncmQpO1xuICAgICAgICAgICAgc2hhcGUuX2ZpbGxGdW5jKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9maWxsUmFkaWFsR3JhZGllbnQoc2hhcGUpIHtcbiAgICAgICAgY29uc3QgZ3JkID0gc2hhcGUuX2dldFJhZGlhbEdyYWRpZW50KCk7XG4gICAgICAgIGlmIChncmQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cignZmlsbFN0eWxlJywgZ3JkKTtcbiAgICAgICAgICAgIHNoYXBlLl9maWxsRnVuYyh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZmlsbChzaGFwZSkge1xuICAgICAgICBjb25zdCBoYXNDb2xvciA9IHNoYXBlLmZpbGwoKSwgZmlsbFByaW9yaXR5ID0gc2hhcGUuZ2V0RmlsbFByaW9yaXR5KCk7XG4gICAgICAgIGlmIChoYXNDb2xvciAmJiBmaWxsUHJpb3JpdHkgPT09ICdjb2xvcicpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGxDb2xvcihzaGFwZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGFzUGF0dGVybiA9IHNoYXBlLmdldEZpbGxQYXR0ZXJuSW1hZ2UoKTtcbiAgICAgICAgaWYgKGhhc1BhdHRlcm4gJiYgZmlsbFByaW9yaXR5ID09PSAncGF0dGVybicpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGxQYXR0ZXJuKHNoYXBlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYXNMaW5lYXJHcmFkaWVudCA9IHNoYXBlLmdldEZpbGxMaW5lYXJHcmFkaWVudENvbG9yU3RvcHMoKTtcbiAgICAgICAgaWYgKGhhc0xpbmVhckdyYWRpZW50ICYmIGZpbGxQcmlvcml0eSA9PT0gJ2xpbmVhci1ncmFkaWVudCcpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGxMaW5lYXJHcmFkaWVudChzaGFwZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGFzUmFkaWFsR3JhZGllbnQgPSBzaGFwZS5nZXRGaWxsUmFkaWFsR3JhZGllbnRDb2xvclN0b3BzKCk7XG4gICAgICAgIGlmIChoYXNSYWRpYWxHcmFkaWVudCAmJiBmaWxsUHJpb3JpdHkgPT09ICdyYWRpYWwtZ3JhZGllbnQnKSB7XG4gICAgICAgICAgICB0aGlzLl9maWxsUmFkaWFsR3JhZGllbnQoc2hhcGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNDb2xvcikge1xuICAgICAgICAgICAgdGhpcy5fZmlsbENvbG9yKHNoYXBlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChoYXNQYXR0ZXJuKSB7XG4gICAgICAgICAgICB0aGlzLl9maWxsUGF0dGVybihzaGFwZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGFzTGluZWFyR3JhZGllbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGxMaW5lYXJHcmFkaWVudChzaGFwZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGFzUmFkaWFsR3JhZGllbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGxSYWRpYWxHcmFkaWVudChzaGFwZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3N0cm9rZUxpbmVhckdyYWRpZW50KHNoYXBlKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gc2hhcGUuZ2V0U3Ryb2tlTGluZWFyR3JhZGllbnRTdGFydFBvaW50KCksIGVuZCA9IHNoYXBlLmdldFN0cm9rZUxpbmVhckdyYWRpZW50RW5kUG9pbnQoKSwgY29sb3JTdG9wcyA9IHNoYXBlLmdldFN0cm9rZUxpbmVhckdyYWRpZW50Q29sb3JTdG9wcygpLCBncmQgPSB0aGlzLmNyZWF0ZUxpbmVhckdyYWRpZW50KHN0YXJ0LngsIHN0YXJ0LnksIGVuZC54LCBlbmQueSk7XG4gICAgICAgIGlmIChjb2xvclN0b3BzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IGNvbG9yU3RvcHMubGVuZ3RoOyBuICs9IDIpIHtcbiAgICAgICAgICAgICAgICBncmQuYWRkQ29sb3JTdG9wKGNvbG9yU3RvcHNbbl0sIGNvbG9yU3RvcHNbbiArIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cignc3Ryb2tlU3R5bGUnLCBncmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9zdHJva2Uoc2hhcGUpIHtcbiAgICAgICAgdmFyIGRhc2ggPSBzaGFwZS5kYXNoKCksIHN0cm9rZVNjYWxlRW5hYmxlZCA9IHNoYXBlLmdldFN0cm9rZVNjYWxlRW5hYmxlZCgpO1xuICAgICAgICBpZiAoc2hhcGUuaGFzU3Ryb2tlKCkpIHtcbiAgICAgICAgICAgIGlmICghc3Ryb2tlU2NhbGVFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgICAgICAgICAgICAgdmFyIHBpeGVsUmF0aW8gPSB0aGlzLmdldENhbnZhcygpLmdldFBpeGVsUmF0aW8oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRyYW5zZm9ybShwaXhlbFJhdGlvLCAwLCAwLCBwaXhlbFJhdGlvLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2FwcGx5TGluZUNhcChzaGFwZSk7XG4gICAgICAgICAgICBpZiAoZGFzaCAmJiBzaGFwZS5kYXNoRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRMaW5lRGFzaChkYXNoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHIoJ2xpbmVEYXNoT2Zmc2V0Jywgc2hhcGUuZGFzaE9mZnNldCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cignbGluZVdpZHRoJywgc2hhcGUuc3Ryb2tlV2lkdGgoKSk7XG4gICAgICAgICAgICBpZiAoIXNoYXBlLmdldFNoYWRvd0ZvclN0cm9rZUVuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cignc2hhZG93Q29sb3InLCAncmdiYSgwLDAsMCwwKScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhhc0xpbmVhckdyYWRpZW50ID0gc2hhcGUuZ2V0U3Ryb2tlTGluZWFyR3JhZGllbnRDb2xvclN0b3BzKCk7XG4gICAgICAgICAgICBpZiAoaGFzTGluZWFyR3JhZGllbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2VMaW5lYXJHcmFkaWVudChzaGFwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHIoJ3N0cm9rZVN0eWxlJywgc2hhcGUuc3Ryb2tlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2hhcGUuX3N0cm9rZUZ1bmModGhpcyk7XG4gICAgICAgICAgICBpZiAoIXN0cm9rZVNjYWxlRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdG9yZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9hcHBseVNoYWRvdyhzaGFwZSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgdmFyIGNvbG9yID0gKF9hID0gc2hhcGUuZ2V0U2hhZG93UkdCQSgpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnYmxhY2snLCBibHVyID0gKF9iID0gc2hhcGUuZ2V0U2hhZG93Qmx1cigpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiA1LCBvZmZzZXQgPSAoX2MgPSBzaGFwZS5nZXRTaGFkb3dPZmZzZXQoKSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDoge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgIH0sIHNjYWxlID0gc2hhcGUuZ2V0QWJzb2x1dGVTY2FsZSgpLCByYXRpbyA9IHRoaXMuY2FudmFzLmdldFBpeGVsUmF0aW8oKSwgc2NhbGVYID0gc2NhbGUueCAqIHJhdGlvLCBzY2FsZVkgPSBzY2FsZS55ICogcmF0aW87XG4gICAgICAgIHRoaXMuc2V0QXR0cignc2hhZG93Q29sb3InLCBjb2xvcik7XG4gICAgICAgIHRoaXMuc2V0QXR0cignc2hhZG93Qmx1cicsIGJsdXIgKiBNYXRoLm1pbihNYXRoLmFicyhzY2FsZVgpLCBNYXRoLmFicyhzY2FsZVkpKSk7XG4gICAgICAgIHRoaXMuc2V0QXR0cignc2hhZG93T2Zmc2V0WCcsIG9mZnNldC54ICogc2NhbGVYKTtcbiAgICAgICAgdGhpcy5zZXRBdHRyKCdzaGFkb3dPZmZzZXRZJywgb2Zmc2V0LnkgKiBzY2FsZVkpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2NlbmVDb250ZXh0ID0gU2NlbmVDb250ZXh0O1xuY2xhc3MgSGl0Q29udGV4dCBleHRlbmRzIENvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKGNhbnZhcykge1xuICAgICAgICBzdXBlcihjYW52YXMpO1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gY2FudmFzLl9jYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7XG4gICAgICAgICAgICB3aWxsUmVhZEZyZXF1ZW50bHk6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfZmlsbChzaGFwZSkge1xuICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICAgICAgdGhpcy5zZXRBdHRyKCdmaWxsU3R5bGUnLCBzaGFwZS5jb2xvcktleSk7XG4gICAgICAgIHNoYXBlLl9maWxsRnVuY0hpdCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZXN0b3JlKCk7XG4gICAgfVxuICAgIHN0cm9rZVNoYXBlKHNoYXBlKSB7XG4gICAgICAgIGlmIChzaGFwZS5oYXNIaXRTdHJva2UoKSkge1xuICAgICAgICAgICAgdGhpcy5fc3Ryb2tlKHNoYXBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfc3Ryb2tlKHNoYXBlKSB7XG4gICAgICAgIGlmIChzaGFwZS5oYXNIaXRTdHJva2UoKSkge1xuICAgICAgICAgICAgY29uc3Qgc3Ryb2tlU2NhbGVFbmFibGVkID0gc2hhcGUuZ2V0U3Ryb2tlU2NhbGVFbmFibGVkKCk7XG4gICAgICAgICAgICBpZiAoIXN0cm9rZVNjYWxlRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgICAgICAgICAgICAgIHZhciBwaXhlbFJhdGlvID0gdGhpcy5nZXRDYW52YXMoKS5nZXRQaXhlbFJhdGlvKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUcmFuc2Zvcm0ocGl4ZWxSYXRpbywgMCwgMCwgcGl4ZWxSYXRpbywgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9hcHBseUxpbmVDYXAoc2hhcGUpO1xuICAgICAgICAgICAgdmFyIGhpdFN0cm9rZVdpZHRoID0gc2hhcGUuaGl0U3Ryb2tlV2lkdGgoKTtcbiAgICAgICAgICAgIHZhciBzdHJva2VXaWR0aCA9IGhpdFN0cm9rZVdpZHRoID09PSAnYXV0bycgPyBzaGFwZS5zdHJva2VXaWR0aCgpIDogaGl0U3Ryb2tlV2lkdGg7XG4gICAgICAgICAgICB0aGlzLnNldEF0dHIoJ2xpbmVXaWR0aCcsIHN0cm9rZVdpZHRoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cignc3Ryb2tlU3R5bGUnLCBzaGFwZS5jb2xvcktleSk7XG4gICAgICAgICAgICBzaGFwZS5fc3Ryb2tlRnVuY0hpdCh0aGlzKTtcbiAgICAgICAgICAgIGlmICghc3Ryb2tlU2NhbGVFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN0b3JlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkhpdENvbnRleHQgPSBIaXRDb250ZXh0O1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5IaXRDYW52YXMgPSBleHBvcnRzLlNjZW5lQ2FudmFzID0gZXhwb3J0cy5DYW52YXMgPSB2b2lkIDA7XG5jb25zdCBVdGlsXzEgPSByZXF1aXJlKFwiLi9VdGlsXCIpO1xuY29uc3QgQ29udGV4dF8xID0gcmVxdWlyZShcIi4vQ29udGV4dFwiKTtcbmNvbnN0IEdsb2JhbF8xID0gcmVxdWlyZShcIi4vR2xvYmFsXCIpO1xuY29uc3QgRmFjdG9yeV8xID0gcmVxdWlyZShcIi4vRmFjdG9yeVwiKTtcbmNvbnN0IFZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoXCIuL1ZhbGlkYXRvcnNcIik7XG52YXIgX3BpeGVsUmF0aW87XG5mdW5jdGlvbiBnZXREZXZpY2VQaXhlbFJhdGlvKCkge1xuICAgIGlmIChfcGl4ZWxSYXRpbykge1xuICAgICAgICByZXR1cm4gX3BpeGVsUmF0aW87XG4gICAgfVxuICAgIHZhciBjYW52YXMgPSBVdGlsXzEuVXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBfcGl4ZWxSYXRpbyA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZXZpY2VQaXhlbFJhdGlvID0gR2xvYmFsXzEuS29udmEuX2dsb2JhbC5kZXZpY2VQaXhlbFJhdGlvIHx8IDEsIGJhY2tpbmdTdG9yZVJhdGlvID0gY29udGV4dC53ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICBjb250ZXh0Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgIGNvbnRleHQubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICBjb250ZXh0Lm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICBjb250ZXh0LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgIDE7XG4gICAgICAgIHJldHVybiBkZXZpY2VQaXhlbFJhdGlvIC8gYmFja2luZ1N0b3JlUmF0aW87XG4gICAgfSkoKTtcbiAgICBVdGlsXzEuVXRpbC5yZWxlYXNlQ2FudmFzKGNhbnZhcyk7XG4gICAgcmV0dXJuIF9waXhlbFJhdGlvO1xufVxuY2xhc3MgQ2FudmFzIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgdGhpcy5waXhlbFJhdGlvID0gMTtcbiAgICAgICAgdGhpcy53aWR0aCA9IDA7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgdGhpcy5pc0NhY2hlID0gZmFsc2U7XG4gICAgICAgIHZhciBjb25mID0gY29uZmlnIHx8IHt9O1xuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IGNvbmYucGl4ZWxSYXRpbyB8fCBHbG9iYWxfMS5Lb252YS5waXhlbFJhdGlvIHx8IGdldERldmljZVBpeGVsUmF0aW8oKTtcbiAgICAgICAgdGhpcy5waXhlbFJhdGlvID0gcGl4ZWxSYXRpbztcbiAgICAgICAgdGhpcy5fY2FudmFzID0gVXRpbF8xLlV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUucGFkZGluZyA9ICcwJztcbiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlLm1hcmdpbiA9ICcwJztcbiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlLmJvcmRlciA9ICcwJztcbiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlLmJhY2tncm91bmQgPSAndHJhbnNwYXJlbnQnO1xuICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUudG9wID0gJzAnO1xuICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUubGVmdCA9ICcwJztcbiAgICB9XG4gICAgZ2V0Q29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dDtcbiAgICB9XG4gICAgZ2V0UGl4ZWxSYXRpbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGl4ZWxSYXRpbztcbiAgICB9XG4gICAgc2V0UGl4ZWxSYXRpbyhwaXhlbFJhdGlvKSB7XG4gICAgICAgIHZhciBwcmV2aW91c1JhdGlvID0gdGhpcy5waXhlbFJhdGlvO1xuICAgICAgICB0aGlzLnBpeGVsUmF0aW8gPSBwaXhlbFJhdGlvO1xuICAgICAgICB0aGlzLnNldFNpemUodGhpcy5nZXRXaWR0aCgpIC8gcHJldmlvdXNSYXRpbywgdGhpcy5nZXRIZWlnaHQoKSAvIHByZXZpb3VzUmF0aW8pO1xuICAgIH1cbiAgICBzZXRXaWR0aCh3aWR0aCkge1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5fY2FudmFzLndpZHRoID0gd2lkdGggKiB0aGlzLnBpeGVsUmF0aW87XG4gICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JztcbiAgICAgICAgdmFyIHBpeGVsUmF0aW8gPSB0aGlzLnBpeGVsUmF0aW8sIF9jb250ZXh0ID0gdGhpcy5nZXRDb250ZXh0KCkuX2NvbnRleHQ7XG4gICAgICAgIF9jb250ZXh0LnNjYWxlKHBpeGVsUmF0aW8sIHBpeGVsUmF0aW8pO1xuICAgIH1cbiAgICBzZXRIZWlnaHQoaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5fY2FudmFzLmhlaWdodCA9IGhlaWdodCAqIHRoaXMucGl4ZWxSYXRpbztcbiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG4gICAgICAgIHZhciBwaXhlbFJhdGlvID0gdGhpcy5waXhlbFJhdGlvLCBfY29udGV4dCA9IHRoaXMuZ2V0Q29udGV4dCgpLl9jb250ZXh0O1xuICAgICAgICBfY29udGV4dC5zY2FsZShwaXhlbFJhdGlvLCBwaXhlbFJhdGlvKTtcbiAgICB9XG4gICAgZ2V0V2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoO1xuICAgIH1cbiAgICBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhlaWdodDtcbiAgICB9XG4gICAgc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuc2V0V2lkdGgod2lkdGggfHwgMCk7XG4gICAgICAgIHRoaXMuc2V0SGVpZ2h0KGhlaWdodCB8fCAwKTtcbiAgICB9XG4gICAgdG9EYXRhVVJMKG1pbWVUeXBlLCBxdWFsaXR5KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FudmFzLnRvRGF0YVVSTChtaW1lVHlwZSwgcXVhbGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbnZhcy50b0RhdGFVUkwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBVdGlsXzEuVXRpbC5lcnJvcignVW5hYmxlIHRvIGdldCBkYXRhIFVSTC4gJyArXG4gICAgICAgICAgICAgICAgICAgIGVyci5tZXNzYWdlICtcbiAgICAgICAgICAgICAgICAgICAgJyBGb3IgbW9yZSBpbmZvIHJlYWQgaHR0cHM6Ly9rb252YWpzLm9yZy9kb2NzL3Bvc3RzL1RhaW50ZWRfQ2FudmFzLmh0bWwuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5DYW52YXMgPSBDYW52YXM7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoQ2FudmFzLCAncGl4ZWxSYXRpbycsIHVuZGVmaW5lZCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuY2xhc3MgU2NlbmVDYW52YXMgZXh0ZW5kcyBDYW52YXMge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHsgd2lkdGg6IDAsIGhlaWdodDogMCwgd2lsbFJlYWRGcmVxdWVudGx5OiBmYWxzZSB9KSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG5ldyBDb250ZXh0XzEuU2NlbmVDb250ZXh0KHRoaXMsIHtcbiAgICAgICAgICAgIHdpbGxSZWFkRnJlcXVlbnRseTogY29uZmlnLndpbGxSZWFkRnJlcXVlbnRseSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0U2l6ZShjb25maWcud2lkdGgsIGNvbmZpZy5oZWlnaHQpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2NlbmVDYW52YXMgPSBTY2VuZUNhbnZhcztcbmNsYXNzIEhpdENhbnZhcyBleHRlbmRzIENhbnZhcyB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnID0geyB3aWR0aDogMCwgaGVpZ2h0OiAwIH0pIHtcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcbiAgICAgICAgdGhpcy5oaXRDYW52YXMgPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBuZXcgQ29udGV4dF8xLkhpdENvbnRleHQodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0U2l6ZShjb25maWcud2lkdGgsIGNvbmZpZy5oZWlnaHQpO1xuICAgIH1cbn1cbmV4cG9ydHMuSGl0Q2FudmFzID0gSGl0Q2FudmFzO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ERCA9IHZvaWQgMDtcbmNvbnN0IEdsb2JhbF8xID0gcmVxdWlyZShcIi4vR2xvYmFsXCIpO1xuY29uc3QgVXRpbF8xID0gcmVxdWlyZShcIi4vVXRpbFwiKTtcbmV4cG9ydHMuREQgPSB7XG4gICAgZ2V0IGlzRHJhZ2dpbmcoKSB7XG4gICAgICAgIHZhciBmbGFnID0gZmFsc2U7XG4gICAgICAgIGV4cG9ydHMuREQuX2RyYWdFbGVtZW50cy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgICAgICBpZiAoZWxlbS5kcmFnU3RhdHVzID09PSAnZHJhZ2dpbmcnKSB7XG4gICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmxhZztcbiAgICB9LFxuICAgIGp1c3REcmFnZ2VkOiBmYWxzZSxcbiAgICBnZXQgbm9kZSgpIHtcbiAgICAgICAgdmFyIG5vZGU7XG4gICAgICAgIGV4cG9ydHMuREQuX2RyYWdFbGVtZW50cy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgICAgICBub2RlID0gZWxlbS5ub2RlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSxcbiAgICBfZHJhZ0VsZW1lbnRzOiBuZXcgTWFwKCksXG4gICAgX2RyYWcoZXZ0KSB7XG4gICAgICAgIGNvbnN0IG5vZGVzVG9GaXJlRXZlbnRzID0gW107XG4gICAgICAgIGV4cG9ydHMuREQuX2RyYWdFbGVtZW50cy5mb3JFYWNoKChlbGVtLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgbm9kZSB9ID0gZWxlbTtcbiAgICAgICAgICAgIGNvbnN0IHN0YWdlID0gbm9kZS5nZXRTdGFnZSgpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0UG9pbnRlcnNQb3NpdGlvbnMoZXZ0KTtcbiAgICAgICAgICAgIGlmIChlbGVtLnBvaW50ZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZWxlbS5wb2ludGVySWQgPSBVdGlsXzEuVXRpbC5fZ2V0Rmlyc3RQb2ludGVySWQoZXZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IHN0YWdlLl9jaGFuZ2VkUG9pbnRlclBvc2l0aW9ucy5maW5kKChwb3MpID0+IHBvcy5pZCA9PT0gZWxlbS5wb2ludGVySWQpO1xuICAgICAgICAgICAgaWYgKCFwb3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZWxlbS5kcmFnU3RhdHVzICE9PSAnZHJhZ2dpbmcnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRyYWdEaXN0YW5jZSA9IG5vZGUuZHJhZ0Rpc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5tYXgoTWF0aC5hYnMocG9zLnggLSBlbGVtLnN0YXJ0UG9pbnRlclBvcy54KSwgTWF0aC5hYnMocG9zLnkgLSBlbGVtLnN0YXJ0UG9pbnRlclBvcy55KSk7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgZHJhZ0Rpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZS5zdGFydERyYWcoeyBldnQgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFub2RlLmlzRHJhZ2dpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZS5fc2V0RHJhZ1Bvc2l0aW9uKGV2dCwgZWxlbSk7XG4gICAgICAgICAgICBub2Rlc1RvRmlyZUV2ZW50cy5wdXNoKG5vZGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgbm9kZXNUb0ZpcmVFdmVudHMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgICAgbm9kZS5maXJlKCdkcmFnbW92ZScsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZHJhZ21vdmUnLFxuICAgICAgICAgICAgICAgIHRhcmdldDogbm9kZSxcbiAgICAgICAgICAgICAgICBldnQ6IGV2dCxcbiAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIF9lbmREcmFnQmVmb3JlKGV2dCkge1xuICAgICAgICBjb25zdCBkcmF3Tm9kZXMgPSBbXTtcbiAgICAgICAgZXhwb3J0cy5ERC5fZHJhZ0VsZW1lbnRzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgbm9kZSB9ID0gZWxlbTtcbiAgICAgICAgICAgIGNvbnN0IHN0YWdlID0gbm9kZS5nZXRTdGFnZSgpO1xuICAgICAgICAgICAgaWYgKGV2dCkge1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldFBvaW50ZXJzUG9zaXRpb25zKGV2dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3MgPSBzdGFnZS5fY2hhbmdlZFBvaW50ZXJQb3NpdGlvbnMuZmluZCgocG9zKSA9PiBwb3MuaWQgPT09IGVsZW0ucG9pbnRlcklkKTtcbiAgICAgICAgICAgIGlmICghcG9zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVsZW0uZHJhZ1N0YXR1cyA9PT0gJ2RyYWdnaW5nJyB8fCBlbGVtLmRyYWdTdGF0dXMgPT09ICdzdG9wcGVkJykge1xuICAgICAgICAgICAgICAgIGV4cG9ydHMuREQuanVzdERyYWdnZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIEdsb2JhbF8xLktvbnZhLl9tb3VzZUxpc3RlbkNsaWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgR2xvYmFsXzEuS29udmEuX3RvdWNoTGlzdGVuQ2xpY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBHbG9iYWxfMS5Lb252YS5fcG9pbnRlckxpc3RlbkNsaWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZWxlbS5kcmFnU3RhdHVzID0gJ3N0b3BwZWQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZHJhd05vZGUgPSBlbGVtLm5vZGUuZ2V0TGF5ZXIoKSB8fFxuICAgICAgICAgICAgICAgIChlbGVtLm5vZGUgaW5zdGFuY2VvZiBHbG9iYWxfMS5Lb252YVsnU3RhZ2UnXSAmJiBlbGVtLm5vZGUpO1xuICAgICAgICAgICAgaWYgKGRyYXdOb2RlICYmIGRyYXdOb2Rlcy5pbmRleE9mKGRyYXdOb2RlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBkcmF3Tm9kZXMucHVzaChkcmF3Tm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBkcmF3Tm9kZXMuZm9yRWFjaCgoZHJhd05vZGUpID0+IHtcbiAgICAgICAgICAgIGRyYXdOb2RlLmRyYXcoKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBfZW5kRHJhZ0FmdGVyKGV2dCkge1xuICAgICAgICBleHBvcnRzLkRELl9kcmFnRWxlbWVudHMuZm9yRWFjaCgoZWxlbSwga2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAoZWxlbS5kcmFnU3RhdHVzID09PSAnc3RvcHBlZCcpIHtcbiAgICAgICAgICAgICAgICBlbGVtLm5vZGUuZmlyZSgnZHJhZ2VuZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RyYWdlbmQnLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGVsZW0ubm9kZSxcbiAgICAgICAgICAgICAgICAgICAgZXZ0OiBldnQsXG4gICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZWxlbS5kcmFnU3RhdHVzICE9PSAnZHJhZ2dpbmcnKSB7XG4gICAgICAgICAgICAgICAgZXhwb3J0cy5ERC5fZHJhZ0VsZW1lbnRzLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxufTtcbmlmIChHbG9iYWxfMS5Lb252YS5pc0Jyb3dzZXIpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGV4cG9ydHMuREQuX2VuZERyYWdCZWZvcmUsIHRydWUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGV4cG9ydHMuREQuX2VuZERyYWdCZWZvcmUsIHRydWUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBleHBvcnRzLkRELl9kcmFnKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZXhwb3J0cy5ERC5fZHJhZyk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBleHBvcnRzLkRELl9lbmREcmFnQWZ0ZXIsIGZhbHNlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBleHBvcnRzLkRELl9lbmREcmFnQWZ0ZXIsIGZhbHNlKTtcbn1cbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTm9kZSA9IHZvaWQgMDtcbmNvbnN0IFV0aWxfMSA9IHJlcXVpcmUoXCIuL1V0aWxcIik7XG5jb25zdCBGYWN0b3J5XzEgPSByZXF1aXJlKFwiLi9GYWN0b3J5XCIpO1xuY29uc3QgQ2FudmFzXzEgPSByZXF1aXJlKFwiLi9DYW52YXNcIik7XG5jb25zdCBHbG9iYWxfMSA9IHJlcXVpcmUoXCIuL0dsb2JhbFwiKTtcbmNvbnN0IERyYWdBbmREcm9wXzEgPSByZXF1aXJlKFwiLi9EcmFnQW5kRHJvcFwiKTtcbmNvbnN0IFZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoXCIuL1ZhbGlkYXRvcnNcIik7XG52YXIgQUJTT0xVVEVfT1BBQ0lUWSA9ICdhYnNvbHV0ZU9wYWNpdHknLCBBTExfTElTVEVORVJTID0gJ2FsbEV2ZW50TGlzdGVuZXJzJywgQUJTT0xVVEVfVFJBTlNGT1JNID0gJ2Fic29sdXRlVHJhbnNmb3JtJywgQUJTT0xVVEVfU0NBTEUgPSAnYWJzb2x1dGVTY2FsZScsIENBTlZBUyA9ICdjYW52YXMnLCBDSEFOR0UgPSAnQ2hhbmdlJywgQ0hJTERSRU4gPSAnY2hpbGRyZW4nLCBLT05WQSA9ICdrb252YScsIExJU1RFTklORyA9ICdsaXN0ZW5pbmcnLCBNT1VTRUVOVEVSID0gJ21vdXNlZW50ZXInLCBNT1VTRUxFQVZFID0gJ21vdXNlbGVhdmUnLCBOQU1FID0gJ25hbWUnLCBTRVQgPSAnc2V0JywgU0hBUEUgPSAnU2hhcGUnLCBTUEFDRSA9ICcgJywgU1RBR0UgPSAnc3RhZ2UnLCBUUkFOU0ZPUk0gPSAndHJhbnNmb3JtJywgVVBQRVJfU1RBR0UgPSAnU3RhZ2UnLCBWSVNJQkxFID0gJ3Zpc2libGUnLCBUUkFOU0ZPUk1fQ0hBTkdFX1NUUiA9IFtcbiAgICAneENoYW5nZS5rb252YScsXG4gICAgJ3lDaGFuZ2Uua29udmEnLFxuICAgICdzY2FsZVhDaGFuZ2Uua29udmEnLFxuICAgICdzY2FsZVlDaGFuZ2Uua29udmEnLFxuICAgICdza2V3WENoYW5nZS5rb252YScsXG4gICAgJ3NrZXdZQ2hhbmdlLmtvbnZhJyxcbiAgICAncm90YXRpb25DaGFuZ2Uua29udmEnLFxuICAgICdvZmZzZXRYQ2hhbmdlLmtvbnZhJyxcbiAgICAnb2Zmc2V0WUNoYW5nZS5rb252YScsXG4gICAgJ3RyYW5zZm9ybXNFbmFibGVkQ2hhbmdlLmtvbnZhJyxcbl0uam9pbihTUEFDRSk7XG5sZXQgaWRDb3VudGVyID0gMTtcbmNsYXNzIE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB0aGlzLl9pZCA9IGlkQ291bnRlcisrO1xuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzID0ge307XG4gICAgICAgIHRoaXMuYXR0cnMgPSB7fTtcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2FsbEV2ZW50TGlzdGVuZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9jYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWREZXBzTGlzdGVuZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9sYXN0UG9zID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYmF0Y2hpbmdUcmFuc2Zvcm1DaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbmVlZENsZWFyVHJhbnNmb3JtQ2FjaGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZmlsdGVyVXBUb0RhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faXNVbmRlckNhY2hlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2RyYWdFdmVudElkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc2hvdWxkRmlyZUNoYW5nZUV2ZW50cyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNldEF0dHJzKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuX3Nob3VsZEZpcmVDaGFuZ2VFdmVudHMgPSB0cnVlO1xuICAgIH1cbiAgICBoYXNDaGlsZHJlbigpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBfY2xlYXJDYWNoZShhdHRyKSB7XG4gICAgICAgIGlmICgoYXR0ciA9PT0gVFJBTlNGT1JNIHx8IGF0dHIgPT09IEFCU09MVVRFX1RSQU5TRk9STSkgJiZcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlLmdldChhdHRyKSkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGUuZ2V0KGF0dHIpLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhdHRyKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZS5kZWxldGUoYXR0cik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9nZXRDYWNoZShhdHRyLCBwcml2YXRlR2V0dGVyKSB7XG4gICAgICAgIHZhciBjYWNoZSA9IHRoaXMuX2NhY2hlLmdldChhdHRyKTtcbiAgICAgICAgdmFyIGlzVHJhbnNmb3JtID0gYXR0ciA9PT0gVFJBTlNGT1JNIHx8IGF0dHIgPT09IEFCU09MVVRFX1RSQU5TRk9STTtcbiAgICAgICAgdmFyIGludmFsaWQgPSBjYWNoZSA9PT0gdW5kZWZpbmVkIHx8IChpc1RyYW5zZm9ybSAmJiBjYWNoZS5kaXJ0eSA9PT0gdHJ1ZSk7XG4gICAgICAgIGlmIChpbnZhbGlkKSB7XG4gICAgICAgICAgICBjYWNoZSA9IHByaXZhdGVHZXR0ZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlLnNldChhdHRyLCBjYWNoZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhY2hlO1xuICAgIH1cbiAgICBfY2FsY3VsYXRlKG5hbWUsIGRlcHMsIGdldHRlcikge1xuICAgICAgICBpZiAoIXRoaXMuX2F0dGFjaGVkRGVwc0xpc3RlbmVycy5nZXQobmFtZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlcHNTdHJpbmcgPSBkZXBzLm1hcCgoZGVwKSA9PiBkZXAgKyAnQ2hhbmdlLmtvbnZhJykuam9pbihTUEFDRSk7XG4gICAgICAgICAgICB0aGlzLm9uKGRlcHNTdHJpbmcsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhckNhY2hlKG5hbWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZERlcHNMaXN0ZW5lcnMuc2V0KG5hbWUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDYWNoZShuYW1lLCBnZXR0ZXIpO1xuICAgIH1cbiAgICBfZ2V0Q2FudmFzQ2FjaGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZS5nZXQoQ0FOVkFTKTtcbiAgICB9XG4gICAgX2NsZWFyU2VsZkFuZERlc2NlbmRhbnRDYWNoZShhdHRyKSB7XG4gICAgICAgIHRoaXMuX2NsZWFyQ2FjaGUoYXR0cik7XG4gICAgICAgIGlmIChhdHRyID09PSBBQlNPTFVURV9UUkFOU0ZPUk0pIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZSgnYWJzb2x1dGVUcmFuc2Zvcm1DaGFuZ2UnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhckNhY2hlKCkge1xuICAgICAgICBpZiAodGhpcy5fY2FjaGUuaGFzKENBTlZBUykpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2NlbmUsIGZpbHRlciwgaGl0IH0gPSB0aGlzLl9jYWNoZS5nZXQoQ0FOVkFTKTtcbiAgICAgICAgICAgIFV0aWxfMS5VdGlsLnJlbGVhc2VDYW52YXMoc2NlbmUsIGZpbHRlciwgaGl0KTtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlLmRlbGV0ZShDQU5WQVMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NsZWFyU2VsZkFuZERlc2NlbmRhbnRDYWNoZSgpO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0RHJhdygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY2FjaGUoY29uZmlnKSB7XG4gICAgICAgIHZhciBjb25mID0gY29uZmlnIHx8IHt9O1xuICAgICAgICB2YXIgcmVjdCA9IHt9O1xuICAgICAgICBpZiAoY29uZi54ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGNvbmYueSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBjb25mLndpZHRoID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGNvbmYuaGVpZ2h0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLmdldENsaWVudFJlY3Qoe1xuICAgICAgICAgICAgICAgIHNraXBUcmFuc2Zvcm06IHRydWUsXG4gICAgICAgICAgICAgICAgcmVsYXRpdmVUbzogdGhpcy5nZXRQYXJlbnQoKSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLmNlaWwoY29uZi53aWR0aCB8fCByZWN0LndpZHRoKSwgaGVpZ2h0ID0gTWF0aC5jZWlsKGNvbmYuaGVpZ2h0IHx8IHJlY3QuaGVpZ2h0KSwgcGl4ZWxSYXRpbyA9IGNvbmYucGl4ZWxSYXRpbywgeCA9IGNvbmYueCA9PT0gdW5kZWZpbmVkID8gTWF0aC5mbG9vcihyZWN0LngpIDogY29uZi54LCB5ID0gY29uZi55ID09PSB1bmRlZmluZWQgPyBNYXRoLmZsb29yKHJlY3QueSkgOiBjb25mLnksIG9mZnNldCA9IGNvbmYub2Zmc2V0IHx8IDAsIGRyYXdCb3JkZXIgPSBjb25mLmRyYXdCb3JkZXIgfHwgZmFsc2UsIGhpdENhbnZhc1BpeGVsUmF0aW8gPSBjb25mLmhpdENhbnZhc1BpeGVsUmF0aW8gfHwgMTtcbiAgICAgICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XG4gICAgICAgICAgICBVdGlsXzEuVXRpbC5lcnJvcignQ2FuIG5vdCBjYWNoZSB0aGUgbm9kZS4gV2lkdGggb3IgaGVpZ2h0IG9mIHRoZSBub2RlIGVxdWFscyAwLiBDYWNoaW5nIGlzIHNraXBwZWQuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2lkdGggKz0gb2Zmc2V0ICogMiArIDE7XG4gICAgICAgIGhlaWdodCArPSBvZmZzZXQgKiAyICsgMTtcbiAgICAgICAgeCAtPSBvZmZzZXQ7XG4gICAgICAgIHkgLT0gb2Zmc2V0O1xuICAgICAgICB2YXIgY2FjaGVkU2NlbmVDYW52YXMgPSBuZXcgQ2FudmFzXzEuU2NlbmVDYW52YXMoe1xuICAgICAgICAgICAgcGl4ZWxSYXRpbzogcGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICB9KSwgY2FjaGVkRmlsdGVyQ2FudmFzID0gbmV3IENhbnZhc18xLlNjZW5lQ2FudmFzKHtcbiAgICAgICAgICAgIHBpeGVsUmF0aW86IHBpeGVsUmF0aW8sXG4gICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICAgIHdpbGxSZWFkRnJlcXVlbnRseTogdHJ1ZSxcbiAgICAgICAgfSksIGNhY2hlZEhpdENhbnZhcyA9IG5ldyBDYW52YXNfMS5IaXRDYW52YXMoe1xuICAgICAgICAgICAgcGl4ZWxSYXRpbzogaGl0Q2FudmFzUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICB9KSwgc2NlbmVDb250ZXh0ID0gY2FjaGVkU2NlbmVDYW52YXMuZ2V0Q29udGV4dCgpLCBoaXRDb250ZXh0ID0gY2FjaGVkSGl0Q2FudmFzLmdldENvbnRleHQoKTtcbiAgICAgICAgY2FjaGVkSGl0Q2FudmFzLmlzQ2FjaGUgPSB0cnVlO1xuICAgICAgICBjYWNoZWRTY2VuZUNhbnZhcy5pc0NhY2hlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY2FjaGUuZGVsZXRlKENBTlZBUyk7XG4gICAgICAgIHRoaXMuX2ZpbHRlclVwVG9EYXRlID0gZmFsc2U7XG4gICAgICAgIGlmIChjb25mLmltYWdlU21vb3RoaW5nRW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNhY2hlZFNjZW5lQ2FudmFzLmdldENvbnRleHQoKS5fY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNhY2hlZEZpbHRlckNhbnZhcy5nZXRDb250ZXh0KCkuX2NvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgc2NlbmVDb250ZXh0LnNhdmUoKTtcbiAgICAgICAgaGl0Q29udGV4dC5zYXZlKCk7XG4gICAgICAgIHNjZW5lQ29udGV4dC50cmFuc2xhdGUoLXgsIC15KTtcbiAgICAgICAgaGl0Q29udGV4dC50cmFuc2xhdGUoLXgsIC15KTtcbiAgICAgICAgdGhpcy5faXNVbmRlckNhY2hlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY2xlYXJTZWxmQW5kRGVzY2VuZGFudENhY2hlKEFCU09MVVRFX09QQUNJVFkpO1xuICAgICAgICB0aGlzLl9jbGVhclNlbGZBbmREZXNjZW5kYW50Q2FjaGUoQUJTT0xVVEVfU0NBTEUpO1xuICAgICAgICB0aGlzLmRyYXdTY2VuZShjYWNoZWRTY2VuZUNhbnZhcywgdGhpcyk7XG4gICAgICAgIHRoaXMuZHJhd0hpdChjYWNoZWRIaXRDYW52YXMsIHRoaXMpO1xuICAgICAgICB0aGlzLl9pc1VuZGVyQ2FjaGUgPSBmYWxzZTtcbiAgICAgICAgc2NlbmVDb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgaGl0Q29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIGlmIChkcmF3Qm9yZGVyKSB7XG4gICAgICAgICAgICBzY2VuZUNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgc2NlbmVDb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgc2NlbmVDb250ZXh0LnJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICBzY2VuZUNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBzY2VuZUNvbnRleHQuc2V0QXR0cignc3Ryb2tlU3R5bGUnLCAncmVkJyk7XG4gICAgICAgICAgICBzY2VuZUNvbnRleHQuc2V0QXR0cignbGluZVdpZHRoJywgNSk7XG4gICAgICAgICAgICBzY2VuZUNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICBzY2VuZUNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NhY2hlLnNldChDQU5WQVMsIHtcbiAgICAgICAgICAgIHNjZW5lOiBjYWNoZWRTY2VuZUNhbnZhcyxcbiAgICAgICAgICAgIGZpbHRlcjogY2FjaGVkRmlsdGVyQ2FudmFzLFxuICAgICAgICAgICAgaGl0OiBjYWNoZWRIaXRDYW52YXMsXG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3JlcXVlc3REcmF3KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpc0NhY2hlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlLmhhcyhDQU5WQVMpO1xuICAgIH1cbiAgICBnZXRDbGllbnRSZWN0KGNvbmZpZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Fic3RyYWN0IFwiZ2V0Q2xpZW50UmVjdFwiIG1ldGhvZCBjYWxsJyk7XG4gICAgfVxuICAgIF90cmFuc2Zvcm1lZFJlY3QocmVjdCwgdG9wKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSBbXG4gICAgICAgICAgICB7IHg6IHJlY3QueCwgeTogcmVjdC55IH0sXG4gICAgICAgICAgICB7IHg6IHJlY3QueCArIHJlY3Qud2lkdGgsIHk6IHJlY3QueSB9LFxuICAgICAgICAgICAgeyB4OiByZWN0LnggKyByZWN0LndpZHRoLCB5OiByZWN0LnkgKyByZWN0LmhlaWdodCB9LFxuICAgICAgICAgICAgeyB4OiByZWN0LngsIHk6IHJlY3QueSArIHJlY3QuaGVpZ2h0IH0sXG4gICAgICAgIF07XG4gICAgICAgIHZhciBtaW5YID0gSW5maW5pdHksIG1pblkgPSBJbmZpbml0eSwgbWF4WCA9IC1JbmZpbml0eSwgbWF4WSA9IC1JbmZpbml0eTtcbiAgICAgICAgdmFyIHRyYW5zID0gdGhpcy5nZXRBYnNvbHV0ZVRyYW5zZm9ybSh0b3ApO1xuICAgICAgICBwb2ludHMuZm9yRWFjaChmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1lZCA9IHRyYW5zLnBvaW50KHBvaW50KTtcbiAgICAgICAgICAgIGlmIChtaW5YID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtaW5YID0gbWF4WCA9IHRyYW5zZm9ybWVkLng7XG4gICAgICAgICAgICAgICAgbWluWSA9IG1heFkgPSB0cmFuc2Zvcm1lZC55O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIHRyYW5zZm9ybWVkLngpO1xuICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIHRyYW5zZm9ybWVkLnkpO1xuICAgICAgICAgICAgbWF4WCA9IE1hdGgubWF4KG1heFgsIHRyYW5zZm9ybWVkLngpO1xuICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIHRyYW5zZm9ybWVkLnkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IG1pblgsXG4gICAgICAgICAgICB5OiBtaW5ZLFxuICAgICAgICAgICAgd2lkdGg6IG1heFggLSBtaW5YLFxuICAgICAgICAgICAgaGVpZ2h0OiBtYXhZIC0gbWluWSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2RyYXdDYWNoZWRTY2VuZUNhbnZhcyhjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0Ll9hcHBseU9wYWNpdHkodGhpcyk7XG4gICAgICAgIGNvbnRleHQuX2FwcGx5R2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uKHRoaXMpO1xuICAgICAgICBjb25zdCBjYW52YXNDYWNoZSA9IHRoaXMuX2dldENhbnZhc0NhY2hlKCk7XG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKGNhbnZhc0NhY2hlLngsIGNhbnZhc0NhY2hlLnkpO1xuICAgICAgICB2YXIgY2FjaGVDYW52YXMgPSB0aGlzLl9nZXRDYWNoZWRTY2VuZUNhbnZhcygpO1xuICAgICAgICB2YXIgcmF0aW8gPSBjYWNoZUNhbnZhcy5waXhlbFJhdGlvO1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShjYWNoZUNhbnZhcy5fY2FudmFzLCAwLCAwLCBjYWNoZUNhbnZhcy53aWR0aCAvIHJhdGlvLCBjYWNoZUNhbnZhcy5oZWlnaHQgLyByYXRpbyk7XG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cbiAgICBfZHJhd0NhY2hlZEhpdENhbnZhcyhjb250ZXh0KSB7XG4gICAgICAgIHZhciBjYW52YXNDYWNoZSA9IHRoaXMuX2dldENhbnZhc0NhY2hlKCksIGhpdENhbnZhcyA9IGNhbnZhc0NhY2hlLmhpdDtcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKGNhbnZhc0NhY2hlLngsIGNhbnZhc0NhY2hlLnkpO1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShoaXRDYW52YXMuX2NhbnZhcywgMCwgMCwgaGl0Q2FudmFzLndpZHRoIC8gaGl0Q2FudmFzLnBpeGVsUmF0aW8sIGhpdENhbnZhcy5oZWlnaHQgLyBoaXRDYW52YXMucGl4ZWxSYXRpbyk7XG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cbiAgICBfZ2V0Q2FjaGVkU2NlbmVDYW52YXMoKSB7XG4gICAgICAgIHZhciBmaWx0ZXJzID0gdGhpcy5maWx0ZXJzKCksIGNhY2hlZENhbnZhcyA9IHRoaXMuX2dldENhbnZhc0NhY2hlKCksIHNjZW5lQ2FudmFzID0gY2FjaGVkQ2FudmFzLnNjZW5lLCBmaWx0ZXJDYW52YXMgPSBjYWNoZWRDYW52YXMuZmlsdGVyLCBmaWx0ZXJDb250ZXh0ID0gZmlsdGVyQ2FudmFzLmdldENvbnRleHQoKSwgbGVuLCBpbWFnZURhdGEsIG4sIGZpbHRlcjtcbiAgICAgICAgaWYgKGZpbHRlcnMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZmlsdGVyVXBUb0RhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmF0aW8gPSBzY2VuZUNhbnZhcy5waXhlbFJhdGlvO1xuICAgICAgICAgICAgICAgIGZpbHRlckNhbnZhcy5zZXRTaXplKHNjZW5lQ2FudmFzLndpZHRoIC8gc2NlbmVDYW52YXMucGl4ZWxSYXRpbywgc2NlbmVDYW52YXMuaGVpZ2h0IC8gc2NlbmVDYW52YXMucGl4ZWxSYXRpbyk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbGVuID0gZmlsdGVycy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlckNvbnRleHQuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyQ29udGV4dC5kcmF3SW1hZ2Uoc2NlbmVDYW52YXMuX2NhbnZhcywgMCwgMCwgc2NlbmVDYW52YXMuZ2V0V2lkdGgoKSAvIHJhdGlvLCBzY2VuZUNhbnZhcy5nZXRIZWlnaHQoKSAvIHJhdGlvKTtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VEYXRhID0gZmlsdGVyQ29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgZmlsdGVyQ2FudmFzLmdldFdpZHRoKCksIGZpbHRlckNhbnZhcy5nZXRIZWlnaHQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobiA9IDA7IG4gPCBsZW47IG4rKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyID0gZmlsdGVyc1tuXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsdGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVXRpbF8xLlV0aWwuZXJyb3IoJ0ZpbHRlciBzaG91bGQgYmUgdHlwZSBvZiBmdW5jdGlvbiwgYnV0IGdvdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGZpbHRlciArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgaW5zdGVhZC4gUGxlYXNlIGNoZWNrIGNvcnJlY3QgZmlsdGVycycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyLmNhbGwodGhpcywgaW1hZ2VEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckNvbnRleHQucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgVXRpbF8xLlV0aWwuZXJyb3IoJ1VuYWJsZSB0byBhcHBseSBmaWx0ZXIuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5tZXNzYWdlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcgVGhpcyBwb3N0IG15IGhlbHAgeW91IGh0dHBzOi8va29udmFqcy5vcmcvZG9jcy9wb3N0cy9UYWludGVkX0NhbnZhcy5odG1sLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9maWx0ZXJVcFRvRGF0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyQ2FudmFzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzY2VuZUNhbnZhcztcbiAgICB9XG4gICAgb24oZXZ0U3RyLCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlICYmIHRoaXMuX2NhY2hlLmRlbGV0ZShBTExfTElTVEVORVJTKTtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBldmVudHMgPSBldnRTdHIuc3BsaXQoU1BBQ0UpLCBsZW4gPSBldmVudHMubGVuZ3RoLCBuLCBldmVudCwgcGFydHMsIGJhc2VFdmVudCwgbmFtZTtcbiAgICAgICAgZm9yIChuID0gMDsgbiA8IGxlbjsgbisrKSB7XG4gICAgICAgICAgICBldmVudCA9IGV2ZW50c1tuXTtcbiAgICAgICAgICAgIHBhcnRzID0gZXZlbnQuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIGJhc2VFdmVudCA9IHBhcnRzWzBdO1xuICAgICAgICAgICAgbmFtZSA9IHBhcnRzWzFdIHx8ICcnO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmV2ZW50TGlzdGVuZXJzW2Jhc2VFdmVudF0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzW2Jhc2VFdmVudF0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnNbYmFzZUV2ZW50XS5wdXNoKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IGhhbmRsZXIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgb2ZmKGV2dFN0ciwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGV2ZW50cyA9IChldnRTdHIgfHwgJycpLnNwbGl0KFNQQUNFKSwgbGVuID0gZXZlbnRzLmxlbmd0aCwgbiwgdCwgZXZlbnQsIHBhcnRzLCBiYXNlRXZlbnQsIG5hbWU7XG4gICAgICAgIHRoaXMuX2NhY2hlICYmIHRoaXMuX2NhY2hlLmRlbGV0ZShBTExfTElTVEVORVJTKTtcbiAgICAgICAgaWYgKCFldnRTdHIpIHtcbiAgICAgICAgICAgIGZvciAodCBpbiB0aGlzLmV2ZW50TGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb2ZmKHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobiA9IDA7IG4gPCBsZW47IG4rKykge1xuICAgICAgICAgICAgZXZlbnQgPSBldmVudHNbbl07XG4gICAgICAgICAgICBwYXJ0cyA9IGV2ZW50LnNwbGl0KCcuJyk7XG4gICAgICAgICAgICBiYXNlRXZlbnQgPSBwYXJ0c1swXTtcbiAgICAgICAgICAgIG5hbWUgPSBwYXJ0c1sxXTtcbiAgICAgICAgICAgIGlmIChiYXNlRXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ldmVudExpc3RlbmVyc1tiYXNlRXZlbnRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29mZihiYXNlRXZlbnQsIG5hbWUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKHQgaW4gdGhpcy5ldmVudExpc3RlbmVycykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vZmYodCwgbmFtZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGlzcGF0Y2hFdmVudChldnQpIHtcbiAgICAgICAgdmFyIGUgPSB7XG4gICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgICAgICB0eXBlOiBldnQudHlwZSxcbiAgICAgICAgICAgIGV2dDogZXZ0LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZpcmUoZXZ0LnR5cGUsIGUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMub24odHlwZSwgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGV2dC5ldnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSkge1xuICAgICAgICB0aGlzLm9mZih0eXBlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIF9kZWxlZ2F0ZShldmVudCwgc2VsZWN0b3IsIGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIHN0b3BOb2RlID0gdGhpcztcbiAgICAgICAgdGhpcy5vbihldmVudCwgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgdmFyIHRhcmdldHMgPSBldnQudGFyZ2V0LmZpbmRBbmNlc3RvcnMoc2VsZWN0b3IsIHRydWUsIHN0b3BOb2RlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFyZ2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGV2dCA9IFV0aWxfMS5VdGlsLmNsb25lT2JqZWN0KGV2dCk7XG4gICAgICAgICAgICAgICAgZXZ0LmN1cnJlbnRUYXJnZXQgPSB0YXJnZXRzW2ldO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuY2FsbCh0YXJnZXRzW2ldLCBldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVtb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcERyYWcoKTtcbiAgICAgICAgfVxuICAgICAgICBEcmFnQW5kRHJvcF8xLkRELl9kcmFnRWxlbWVudHMuZGVsZXRlKHRoaXMuX2lkKTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBfY2xlYXJDYWNoZXMoKSB7XG4gICAgICAgIHRoaXMuX2NsZWFyU2VsZkFuZERlc2NlbmRhbnRDYWNoZShBQlNPTFVURV9UUkFOU0ZPUk0pO1xuICAgICAgICB0aGlzLl9jbGVhclNlbGZBbmREZXNjZW5kYW50Q2FjaGUoQUJTT0xVVEVfT1BBQ0lUWSk7XG4gICAgICAgIHRoaXMuX2NsZWFyU2VsZkFuZERlc2NlbmRhbnRDYWNoZShBQlNPTFVURV9TQ0FMRSk7XG4gICAgICAgIHRoaXMuX2NsZWFyU2VsZkFuZERlc2NlbmRhbnRDYWNoZShTVEFHRSk7XG4gICAgICAgIHRoaXMuX2NsZWFyU2VsZkFuZERlc2NlbmRhbnRDYWNoZShWSVNJQkxFKTtcbiAgICAgICAgdGhpcy5fY2xlYXJTZWxmQW5kRGVzY2VuZGFudENhY2hlKExJU1RFTklORyk7XG4gICAgfVxuICAgIF9yZW1vdmUoKSB7XG4gICAgICAgIHRoaXMuX2NsZWFyQ2FjaGVzKCk7XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLmdldFBhcmVudCgpO1xuICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC5jaGlsZHJlbikge1xuICAgICAgICAgICAgcGFyZW50LmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4LCAxKTtcbiAgICAgICAgICAgIHBhcmVudC5fc2V0Q2hpbGRyZW5JbmRpY2VzKCk7XG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXRBdHRyKGF0dHIpIHtcbiAgICAgICAgdmFyIG1ldGhvZCA9ICdnZXQnICsgVXRpbF8xLlV0aWwuX2NhcGl0YWxpemUoYXR0cik7XG4gICAgICAgIGlmIChVdGlsXzEuVXRpbC5faXNGdW5jdGlvbih0aGlzW21ldGhvZF0pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1ttZXRob2RdKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cnNbYXR0cl07XG4gICAgfVxuICAgIGdldEFuY2VzdG9ycygpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KCksIGFuY2VzdG9ycyA9IFtdO1xuICAgICAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgICAgICBhbmNlc3RvcnMucHVzaChwYXJlbnQpO1xuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LmdldFBhcmVudCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbmNlc3RvcnM7XG4gICAgfVxuICAgIGdldEF0dHJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRycyB8fCB7fTtcbiAgICB9XG4gICAgc2V0QXR0cnMoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuX2JhdGNoVHJhbnNmb3JtQ2hhbmdlcygoKSA9PiB7XG4gICAgICAgICAgICB2YXIga2V5LCBtZXRob2Q7XG4gICAgICAgICAgICBpZiAoIWNvbmZpZykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChrZXkgaW4gY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gQ0hJTERSRU4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1ldGhvZCA9IFNFVCArIFV0aWxfMS5VdGlsLl9jYXBpdGFsaXplKGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKFV0aWxfMS5VdGlsLl9pc0Z1bmN0aW9uKHRoaXNbbWV0aG9kXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1ttZXRob2RdKGNvbmZpZ1trZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldEF0dHIoa2V5LCBjb25maWdba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlzTGlzdGVuaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q2FjaGUoTElTVEVOSU5HLCB0aGlzLl9pc0xpc3RlbmluZyk7XG4gICAgfVxuICAgIF9pc0xpc3RlbmluZyhyZWxhdGl2ZVRvKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmluZyA9IHRoaXMubGlzdGVuaW5nKCk7XG4gICAgICAgIGlmICghbGlzdGVuaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoKTtcbiAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQgIT09IHJlbGF0aXZlVG8gJiYgdGhpcyAhPT0gcmVsYXRpdmVUbykge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmVudC5faXNMaXN0ZW5pbmcocmVsYXRpdmVUbyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpc1Zpc2libGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDYWNoZShWSVNJQkxFLCB0aGlzLl9pc1Zpc2libGUpO1xuICAgIH1cbiAgICBfaXNWaXNpYmxlKHJlbGF0aXZlVG8pIHtcbiAgICAgICAgY29uc3QgdmlzaWJsZSA9IHRoaXMudmlzaWJsZSgpO1xuICAgICAgICBpZiAoIXZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmdldFBhcmVudCgpO1xuICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudCAhPT0gcmVsYXRpdmVUbyAmJiB0aGlzICE9PSByZWxhdGl2ZVRvKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50Ll9pc1Zpc2libGUocmVsYXRpdmVUbyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzaG91bGREcmF3SGl0KHRvcCwgc2tpcERyYWdDaGVjayA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh0b3ApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc1Zpc2libGUodG9wKSAmJiB0aGlzLl9pc0xpc3RlbmluZyh0b3ApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICAgICAgdmFyIGxheWVyVW5kZXJEcmFnID0gZmFsc2U7XG4gICAgICAgIERyYWdBbmREcm9wXzEuREQuX2RyYWdFbGVtZW50cy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgICAgICBpZiAoZWxlbS5kcmFnU3RhdHVzICE9PSAnZHJhZ2dpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZWxlbS5ub2RlLm5vZGVUeXBlID09PSAnU3RhZ2UnKSB7XG4gICAgICAgICAgICAgICAgbGF5ZXJVbmRlckRyYWcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZWxlbS5ub2RlLmdldExheWVyKCkgPT09IGxheWVyKSB7XG4gICAgICAgICAgICAgICAgbGF5ZXJVbmRlckRyYWcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGRyYWdTa2lwID0gIXNraXBEcmFnQ2hlY2sgJiYgIUdsb2JhbF8xLktvbnZhLmhpdE9uRHJhZ0VuYWJsZWQgJiYgbGF5ZXJVbmRlckRyYWc7XG4gICAgICAgIHJldHVybiB0aGlzLmlzTGlzdGVuaW5nKCkgJiYgdGhpcy5pc1Zpc2libGUoKSAmJiAhZHJhZ1NraXA7XG4gICAgfVxuICAgIHNob3coKSB7XG4gICAgICAgIHRoaXMudmlzaWJsZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMudmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXRaSW5kZXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4IHx8IDA7XG4gICAgfVxuICAgIGdldEFic29sdXRlWkluZGV4KCkge1xuICAgICAgICB2YXIgZGVwdGggPSB0aGlzLmdldERlcHRoKCksIHRoYXQgPSB0aGlzLCBpbmRleCA9IDAsIG5vZGVzLCBsZW4sIG4sIGNoaWxkO1xuICAgICAgICBmdW5jdGlvbiBhZGRDaGlsZHJlbihjaGlsZHJlbikge1xuICAgICAgICAgICAgbm9kZXMgPSBbXTtcbiAgICAgICAgICAgIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAobiA9IDA7IG4gPCBsZW47IG4rKykge1xuICAgICAgICAgICAgICAgIGNoaWxkID0gY2hpbGRyZW5bbl07XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgIT09IFNIQVBFKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzID0gbm9kZXMuY29uY2F0KGNoaWxkLmdldENoaWxkcmVuKCkuc2xpY2UoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5faWQgPT09IHRoYXQuX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSBsZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGVzLmxlbmd0aCA+IDAgJiYgbm9kZXNbMF0uZ2V0RGVwdGgoKSA8PSBkZXB0aCkge1xuICAgICAgICAgICAgICAgIGFkZENoaWxkcmVuKG5vZGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGFnZSA9IHRoaXMuZ2V0U3RhZ2UoKTtcbiAgICAgICAgaWYgKHRoYXQubm9kZVR5cGUgIT09IFVQUEVSX1NUQUdFICYmIHN0YWdlKSB7XG4gICAgICAgICAgICBhZGRDaGlsZHJlbihzdGFnZS5nZXRDaGlsZHJlbigpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICAgIGdldERlcHRoKCkge1xuICAgICAgICB2YXIgZGVwdGggPSAwLCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcbiAgICAgICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgICAgICAgZGVwdGgrKztcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlcHRoO1xuICAgIH1cbiAgICBfYmF0Y2hUcmFuc2Zvcm1DaGFuZ2VzKGZ1bmMpIHtcbiAgICAgICAgdGhpcy5fYmF0Y2hpbmdUcmFuc2Zvcm1DaGFuZ2UgPSB0cnVlO1xuICAgICAgICBmdW5jKCk7XG4gICAgICAgIHRoaXMuX2JhdGNoaW5nVHJhbnNmb3JtQ2hhbmdlID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9uZWVkQ2xlYXJUcmFuc2Zvcm1DYWNoZSkge1xuICAgICAgICAgICAgdGhpcy5fY2xlYXJDYWNoZShUUkFOU0ZPUk0pO1xuICAgICAgICAgICAgdGhpcy5fY2xlYXJTZWxmQW5kRGVzY2VuZGFudENhY2hlKEFCU09MVVRFX1RSQU5TRk9STSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbmVlZENsZWFyVHJhbnNmb3JtQ2FjaGUgPSBmYWxzZTtcbiAgICB9XG4gICAgc2V0UG9zaXRpb24ocG9zKSB7XG4gICAgICAgIHRoaXMuX2JhdGNoVHJhbnNmb3JtQ2hhbmdlcygoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLngocG9zLngpO1xuICAgICAgICAgICAgdGhpcy55KHBvcy55KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXRQb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHRoaXMueCgpLFxuICAgICAgICAgICAgeTogdGhpcy55KCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldFJlbGF0aXZlUG9pbnRlclBvc2l0aW9uKCkge1xuICAgICAgICBjb25zdCBzdGFnZSA9IHRoaXMuZ2V0U3RhZ2UoKTtcbiAgICAgICAgaWYgKCFzdGFnZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBvcyA9IHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpO1xuICAgICAgICBpZiAoIXBvcykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMuZ2V0QWJzb2x1dGVUcmFuc2Zvcm0oKS5jb3B5KCk7XG4gICAgICAgIHRyYW5zZm9ybS5pbnZlcnQoKTtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybS5wb2ludChwb3MpO1xuICAgIH1cbiAgICBnZXRBYnNvbHV0ZVBvc2l0aW9uKHRvcCkge1xuICAgICAgICBsZXQgaGF2ZUNhY2hlZFBhcmVudCA9IGZhbHNlO1xuICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gICAgICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQuaXNDYWNoZWQoKSkge1xuICAgICAgICAgICAgICAgIGhhdmVDYWNoZWRQYXJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGF2ZUNhY2hlZFBhcmVudCAmJiAhdG9wKSB7XG4gICAgICAgICAgICB0b3AgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhYnNvbHV0ZU1hdHJpeCA9IHRoaXMuZ2V0QWJzb2x1dGVUcmFuc2Zvcm0odG9wKS5nZXRNYXRyaXgoKSwgYWJzb2x1dGVUcmFuc2Zvcm0gPSBuZXcgVXRpbF8xLlRyYW5zZm9ybSgpLCBvZmZzZXQgPSB0aGlzLm9mZnNldCgpO1xuICAgICAgICBhYnNvbHV0ZVRyYW5zZm9ybS5tID0gYWJzb2x1dGVNYXRyaXguc2xpY2UoKTtcbiAgICAgICAgYWJzb2x1dGVUcmFuc2Zvcm0udHJhbnNsYXRlKG9mZnNldC54LCBvZmZzZXQueSk7XG4gICAgICAgIHJldHVybiBhYnNvbHV0ZVRyYW5zZm9ybS5nZXRUcmFuc2xhdGlvbigpO1xuICAgIH1cbiAgICBzZXRBYnNvbHV0ZVBvc2l0aW9uKHBvcykge1xuICAgICAgICBjb25zdCB7IHgsIHksIC4uLm9yaWdUcmFucyB9ID0gdGhpcy5fY2xlYXJUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5hdHRycy54ID0geDtcbiAgICAgICAgdGhpcy5hdHRycy55ID0geTtcbiAgICAgICAgdGhpcy5fY2xlYXJDYWNoZShUUkFOU0ZPUk0pO1xuICAgICAgICB2YXIgaXQgPSB0aGlzLl9nZXRBYnNvbHV0ZVRyYW5zZm9ybSgpLmNvcHkoKTtcbiAgICAgICAgaXQuaW52ZXJ0KCk7XG4gICAgICAgIGl0LnRyYW5zbGF0ZShwb3MueCwgcG9zLnkpO1xuICAgICAgICBwb3MgPSB7XG4gICAgICAgICAgICB4OiB0aGlzLmF0dHJzLnggKyBpdC5nZXRUcmFuc2xhdGlvbigpLngsXG4gICAgICAgICAgICB5OiB0aGlzLmF0dHJzLnkgKyBpdC5nZXRUcmFuc2xhdGlvbigpLnksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3NldFRyYW5zZm9ybShvcmlnVHJhbnMpO1xuICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHsgeDogcG9zLngsIHk6IHBvcy55IH0pO1xuICAgICAgICB0aGlzLl9jbGVhckNhY2hlKFRSQU5TRk9STSk7XG4gICAgICAgIHRoaXMuX2NsZWFyU2VsZkFuZERlc2NlbmRhbnRDYWNoZShBQlNPTFVURV9UUkFOU0ZPUk0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX3NldFRyYW5zZm9ybSh0cmFucykge1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKGtleSBpbiB0cmFucykge1xuICAgICAgICAgICAgdGhpcy5hdHRyc1trZXldID0gdHJhbnNba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY2xlYXJUcmFuc2Zvcm0oKSB7XG4gICAgICAgIHZhciB0cmFucyA9IHtcbiAgICAgICAgICAgIHg6IHRoaXMueCgpLFxuICAgICAgICAgICAgeTogdGhpcy55KCksXG4gICAgICAgICAgICByb3RhdGlvbjogdGhpcy5yb3RhdGlvbigpLFxuICAgICAgICAgICAgc2NhbGVYOiB0aGlzLnNjYWxlWCgpLFxuICAgICAgICAgICAgc2NhbGVZOiB0aGlzLnNjYWxlWSgpLFxuICAgICAgICAgICAgb2Zmc2V0WDogdGhpcy5vZmZzZXRYKCksXG4gICAgICAgICAgICBvZmZzZXRZOiB0aGlzLm9mZnNldFkoKSxcbiAgICAgICAgICAgIHNrZXdYOiB0aGlzLnNrZXdYKCksXG4gICAgICAgICAgICBza2V3WTogdGhpcy5za2V3WSgpLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmF0dHJzLnggPSAwO1xuICAgICAgICB0aGlzLmF0dHJzLnkgPSAwO1xuICAgICAgICB0aGlzLmF0dHJzLnJvdGF0aW9uID0gMDtcbiAgICAgICAgdGhpcy5hdHRycy5zY2FsZVggPSAxO1xuICAgICAgICB0aGlzLmF0dHJzLnNjYWxlWSA9IDE7XG4gICAgICAgIHRoaXMuYXR0cnMub2Zmc2V0WCA9IDA7XG4gICAgICAgIHRoaXMuYXR0cnMub2Zmc2V0WSA9IDA7XG4gICAgICAgIHRoaXMuYXR0cnMuc2tld1ggPSAwO1xuICAgICAgICB0aGlzLmF0dHJzLnNrZXdZID0gMDtcbiAgICAgICAgcmV0dXJuIHRyYW5zO1xuICAgIH1cbiAgICBtb3ZlKGNoYW5nZSkge1xuICAgICAgICB2YXIgY2hhbmdlWCA9IGNoYW5nZS54LCBjaGFuZ2VZID0gY2hhbmdlLnksIHggPSB0aGlzLngoKSwgeSA9IHRoaXMueSgpO1xuICAgICAgICBpZiAoY2hhbmdlWCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB4ICs9IGNoYW5nZVg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZVkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgeSArPSBjaGFuZ2VZO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0UG9zaXRpb24oeyB4OiB4LCB5OiB5IH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX2VhY2hBbmNlc3RvclJldmVyc2UoZnVuYywgdG9wKSB7XG4gICAgICAgIHZhciBmYW1pbHkgPSBbXSwgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoKSwgbGVuLCBuO1xuICAgICAgICBpZiAodG9wICYmIHRvcC5faWQgPT09IHRoaXMuX2lkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZmFtaWx5LnVuc2hpZnQodGhpcyk7XG4gICAgICAgIHdoaWxlIChwYXJlbnQgJiYgKCF0b3AgfHwgcGFyZW50Ll9pZCAhPT0gdG9wLl9pZCkpIHtcbiAgICAgICAgICAgIGZhbWlseS51bnNoaWZ0KHBhcmVudCk7XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGxlbiA9IGZhbWlseS5sZW5ndGg7XG4gICAgICAgIGZvciAobiA9IDA7IG4gPCBsZW47IG4rKykge1xuICAgICAgICAgICAgZnVuYyhmYW1pbHlbbl0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJvdGF0ZSh0aGV0YSkge1xuICAgICAgICB0aGlzLnJvdGF0aW9uKHRoaXMucm90YXRpb24oKSArIHRoZXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIG1vdmVUb1RvcCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgVXRpbF8xLlV0aWwud2FybignTm9kZSBoYXMgbm8gcGFyZW50LiBtb3ZlVG9Ub3AgZnVuY3Rpb24gaXMgaWdub3JlZC4nKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4LCBsZW4gPSB0aGlzLnBhcmVudC5nZXRDaGlsZHJlbigpLmxlbmd0aDtcbiAgICAgICAgaWYgKGluZGV4IDwgbGVuIC0gMSkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmNoaWxkcmVuLnB1c2godGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5fc2V0Q2hpbGRyZW5JbmRpY2VzKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG1vdmVVcCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgVXRpbF8xLlV0aWwud2FybignTm9kZSBoYXMgbm8gcGFyZW50LiBtb3ZlVXAgZnVuY3Rpb24gaXMgaWdub3JlZC4nKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4LCBsZW4gPSB0aGlzLnBhcmVudC5nZXRDaGlsZHJlbigpLmxlbmd0aDtcbiAgICAgICAgaWYgKGluZGV4IDwgbGVuIC0gMSkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmNoaWxkcmVuLnNwbGljZShpbmRleCArIDEsIDAsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuX3NldENoaWxkcmVuSW5kaWNlcygpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBtb3ZlRG93bigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgVXRpbF8xLlV0aWwud2FybignTm9kZSBoYXMgbm8gcGFyZW50LiBtb3ZlRG93biBmdW5jdGlvbiBpcyBpZ25vcmVkLicpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaW5kZXggLSAxLCAwLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50Ll9zZXRDaGlsZHJlbkluZGljZXMoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbW92ZVRvQm90dG9tKCkge1xuICAgICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICBVdGlsXzEuVXRpbC53YXJuKCdOb2RlIGhhcyBubyBwYXJlbnQuIG1vdmVUb0JvdHRvbSBmdW5jdGlvbiBpcyBpZ25vcmVkLicpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5jaGlsZHJlbi51bnNoaWZ0KHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuX3NldENoaWxkcmVuSW5kaWNlcygpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzZXRaSW5kZXgoekluZGV4KSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIFV0aWxfMS5VdGlsLndhcm4oJ05vZGUgaGFzIG5vIHBhcmVudC4gekluZGV4IHBhcmFtZXRlciBpcyBpZ25vcmVkLicpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHpJbmRleCA8IDAgfHwgekluZGV4ID49IHRoaXMucGFyZW50LmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgVXRpbF8xLlV0aWwud2FybignVW5leHBlY3RlZCB2YWx1ZSAnICtcbiAgICAgICAgICAgICAgICB6SW5kZXggK1xuICAgICAgICAgICAgICAgICcgZm9yIHpJbmRleCBwcm9wZXJ0eS4gekluZGV4IGlzIGp1c3QgaW5kZXggb2YgYSBub2RlIGluIGNoaWxkcmVuIG9mIGl0cyBwYXJlbnQuIEV4cGVjdGVkIHZhbHVlIGlzIGZyb20gMCB0byAnICtcbiAgICAgICAgICAgICAgICAodGhpcy5wYXJlbnQuY2hpbGRyZW4ubGVuZ3RoIC0gMSkgK1xuICAgICAgICAgICAgICAgICcuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleDtcbiAgICAgICAgdGhpcy5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgdGhpcy5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKHpJbmRleCwgMCwgdGhpcyk7XG4gICAgICAgIHRoaXMucGFyZW50Ll9zZXRDaGlsZHJlbkluZGljZXMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdldEFic29sdXRlT3BhY2l0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldENhY2hlKEFCU09MVVRFX09QQUNJVFksIHRoaXMuX2dldEFic29sdXRlT3BhY2l0eSk7XG4gICAgfVxuICAgIF9nZXRBYnNvbHV0ZU9wYWNpdHkoKSB7XG4gICAgICAgIHZhciBhYnNPcGFjaXR5ID0gdGhpcy5vcGFjaXR5KCk7XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLmdldFBhcmVudCgpO1xuICAgICAgICBpZiAocGFyZW50ICYmICFwYXJlbnQuX2lzVW5kZXJDYWNoZSkge1xuICAgICAgICAgICAgYWJzT3BhY2l0eSAqPSBwYXJlbnQuZ2V0QWJzb2x1dGVPcGFjaXR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFic09wYWNpdHk7XG4gICAgfVxuICAgIG1vdmVUbyhuZXdDb250YWluZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0UGFyZW50KCkgIT09IG5ld0NvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlKCk7XG4gICAgICAgICAgICBuZXdDb250YWluZXIuYWRkKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0b09iamVjdCgpIHtcbiAgICAgICAgdmFyIG9iaiA9IHt9LCBhdHRycyA9IHRoaXMuZ2V0QXR0cnMoKSwga2V5LCB2YWwsIGdldHRlciwgZGVmYXVsdFZhbHVlLCBub25QbGFpbk9iamVjdDtcbiAgICAgICAgb2JqLmF0dHJzID0ge307XG4gICAgICAgIGZvciAoa2V5IGluIGF0dHJzKSB7XG4gICAgICAgICAgICB2YWwgPSBhdHRyc1trZXldO1xuICAgICAgICAgICAgbm9uUGxhaW5PYmplY3QgPVxuICAgICAgICAgICAgICAgIFV0aWxfMS5VdGlsLmlzT2JqZWN0KHZhbCkgJiYgIVV0aWxfMS5VdGlsLl9pc1BsYWluT2JqZWN0KHZhbCkgJiYgIVV0aWxfMS5VdGlsLl9pc0FycmF5KHZhbCk7XG4gICAgICAgICAgICBpZiAobm9uUGxhaW5PYmplY3QpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldHRlciA9IHR5cGVvZiB0aGlzW2tleV0gPT09ICdmdW5jdGlvbicgJiYgdGhpc1trZXldO1xuICAgICAgICAgICAgZGVsZXRlIGF0dHJzW2tleV07XG4gICAgICAgICAgICBkZWZhdWx0VmFsdWUgPSBnZXR0ZXIgPyBnZXR0ZXIuY2FsbCh0aGlzKSA6IG51bGw7XG4gICAgICAgICAgICBhdHRyc1trZXldID0gdmFsO1xuICAgICAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gdmFsKSB7XG4gICAgICAgICAgICAgICAgb2JqLmF0dHJzW2tleV0gPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb2JqLmNsYXNzTmFtZSA9IHRoaXMuZ2V0Q2xhc3NOYW1lKCk7XG4gICAgICAgIHJldHVybiBVdGlsXzEuVXRpbC5fcHJlcGFyZVRvU3RyaW5naWZ5KG9iaik7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMudG9PYmplY3QoKSk7XG4gICAgfVxuICAgIGdldFBhcmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50O1xuICAgIH1cbiAgICBmaW5kQW5jZXN0b3JzKHNlbGVjdG9yLCBpbmNsdWRlU2VsZiwgc3RvcE5vZGUpIHtcbiAgICAgICAgdmFyIHJlcyA9IFtdO1xuICAgICAgICBpZiAoaW5jbHVkZVNlbGYgJiYgdGhpcy5faXNNYXRjaChzZWxlY3RvcikpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhbmNlc3RvciA9IHRoaXMucGFyZW50O1xuICAgICAgICB3aGlsZSAoYW5jZXN0b3IpIHtcbiAgICAgICAgICAgIGlmIChhbmNlc3RvciA9PT0gc3RvcE5vZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFuY2VzdG9yLl9pc01hdGNoKHNlbGVjdG9yKSkge1xuICAgICAgICAgICAgICAgIHJlcy5wdXNoKGFuY2VzdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlzQW5jZXN0b3JPZihub2RlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZmluZEFuY2VzdG9yKHNlbGVjdG9yLCBpbmNsdWRlU2VsZiwgc3RvcE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZEFuY2VzdG9ycyhzZWxlY3RvciwgaW5jbHVkZVNlbGYsIHN0b3BOb2RlKVswXTtcbiAgICB9XG4gICAgX2lzTWF0Y2goc2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxlY3Rvcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VsZWN0b3JBcnIgPSBzZWxlY3Rvci5yZXBsYWNlKC8gL2csICcnKS5zcGxpdCgnLCcpLCBsZW4gPSBzZWxlY3RvckFyci5sZW5ndGgsIG4sIHNlbDtcbiAgICAgICAgZm9yIChuID0gMDsgbiA8IGxlbjsgbisrKSB7XG4gICAgICAgICAgICBzZWwgPSBzZWxlY3RvckFycltuXTtcbiAgICAgICAgICAgIGlmICghVXRpbF8xLlV0aWwuaXNWYWxpZFNlbGVjdG9yKHNlbCkpIHtcbiAgICAgICAgICAgICAgICBVdGlsXzEuVXRpbC53YXJuKCdTZWxlY3RvciBcIicgK1xuICAgICAgICAgICAgICAgICAgICBzZWwgK1xuICAgICAgICAgICAgICAgICAgICAnXCIgaXMgaW52YWxpZC4gQWxsb3dlZCBzZWxlY3RvcnMgZXhhbXBsZXMgYXJlIFwiI2Zvb1wiLCBcIi5iYXJcIiBvciBcIkdyb3VwXCIuJyk7XG4gICAgICAgICAgICAgICAgVXRpbF8xLlV0aWwud2FybignSWYgeW91IGhhdmUgYSBjdXN0b20gc2hhcGUgd2l0aCBzdWNoIGNsYXNzTmFtZSwgcGxlYXNlIGNoYW5nZSBpdCB0byBzdGFydCB3aXRoIHVwcGVyIGxldHRlciBsaWtlIFwiVHJpYW5nbGVcIi4nKTtcbiAgICAgICAgICAgICAgICBVdGlsXzEuVXRpbC53YXJuKCdLb252YSBpcyBhd2Vzb21lLCByaWdodD8nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZWwuY2hhckF0KDApID09PSAnIycpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pZCgpID09PSBzZWwuc2xpY2UoMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2VsLmNoYXJBdCgwKSA9PT0gJy4nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzTmFtZShzZWwuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY2xhc3NOYW1lID09PSBzZWwgfHwgdGhpcy5ub2RlVHlwZSA9PT0gc2VsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBnZXRMYXllcigpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KCk7XG4gICAgICAgIHJldHVybiBwYXJlbnQgPyBwYXJlbnQuZ2V0TGF5ZXIoKSA6IG51bGw7XG4gICAgfVxuICAgIGdldFN0YWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q2FjaGUoU1RBR0UsIHRoaXMuX2dldFN0YWdlKTtcbiAgICB9XG4gICAgX2dldFN0YWdlKCkge1xuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoKTtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmVudC5nZXRTdGFnZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmlyZShldmVudFR5cGUsIGV2dCA9IHt9LCBidWJibGUpIHtcbiAgICAgICAgZXZ0LnRhcmdldCA9IGV2dC50YXJnZXQgfHwgdGhpcztcbiAgICAgICAgaWYgKGJ1YmJsZSkge1xuICAgICAgICAgICAgdGhpcy5fZmlyZUFuZEJ1YmJsZShldmVudFR5cGUsIGV2dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9maXJlKGV2ZW50VHlwZSwgZXZ0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0QWJzb2x1dGVUcmFuc2Zvcm0odG9wKSB7XG4gICAgICAgIGlmICh0b3ApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRBYnNvbHV0ZVRyYW5zZm9ybSh0b3ApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldENhY2hlKEFCU09MVVRFX1RSQU5TRk9STSwgdGhpcy5fZ2V0QWJzb2x1dGVUcmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9nZXRBYnNvbHV0ZVRyYW5zZm9ybSh0b3ApIHtcbiAgICAgICAgdmFyIGF0O1xuICAgICAgICBpZiAodG9wKSB7XG4gICAgICAgICAgICBhdCA9IG5ldyBVdGlsXzEuVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB0aGlzLl9lYWNoQW5jZXN0b3JSZXZlcnNlKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zZm9ybXNFbmFibGVkID0gbm9kZS50cmFuc2Zvcm1zRW5hYmxlZCgpO1xuICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1zRW5hYmxlZCA9PT0gJ2FsbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYXQubXVsdGlwbHkobm9kZS5nZXRUcmFuc2Zvcm0oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRyYW5zZm9ybXNFbmFibGVkID09PSAncG9zaXRpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGF0LnRyYW5zbGF0ZShub2RlLngoKSAtIG5vZGUub2Zmc2V0WCgpLCBub2RlLnkoKSAtIG5vZGUub2Zmc2V0WSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB0b3ApO1xuICAgICAgICAgICAgcmV0dXJuIGF0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXQgPSB0aGlzLl9jYWNoZS5nZXQoQUJTT0xVVEVfVFJBTlNGT1JNKSB8fCBuZXcgVXRpbF8xLlRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZ2V0QWJzb2x1dGVUcmFuc2Zvcm0oKS5jb3B5SW50byhhdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhdC5yZXNldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybXNFbmFibGVkID0gdGhpcy50cmFuc2Zvcm1zRW5hYmxlZCgpO1xuICAgICAgICAgICAgaWYgKHRyYW5zZm9ybXNFbmFibGVkID09PSAnYWxsJykge1xuICAgICAgICAgICAgICAgIGF0Lm11bHRpcGx5KHRoaXMuZ2V0VHJhbnNmb3JtKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHJhbnNmb3Jtc0VuYWJsZWQgPT09ICdwb3NpdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gdGhpcy5hdHRycy54IHx8IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IHRoaXMuYXR0cnMueSB8fCAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldFggPSB0aGlzLmF0dHJzLm9mZnNldFggfHwgMDtcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXRZID0gdGhpcy5hdHRycy5vZmZzZXRZIHx8IDA7XG4gICAgICAgICAgICAgICAgYXQudHJhbnNsYXRlKHggLSBvZmZzZXRYLCB5IC0gb2Zmc2V0WSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhdC5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGF0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldEFic29sdXRlU2NhbGUodG9wKSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzO1xuICAgICAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgICAgICBpZiAocGFyZW50Ll9pc1VuZGVyQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICB0b3AgPSBwYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQuZ2V0UGFyZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gdGhpcy5nZXRBYnNvbHV0ZVRyYW5zZm9ybSh0b3ApO1xuICAgICAgICBjb25zdCBhdHRycyA9IHRyYW5zZm9ybS5kZWNvbXBvc2UoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IGF0dHJzLnNjYWxlWCxcbiAgICAgICAgICAgIHk6IGF0dHJzLnNjYWxlWSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0QWJzb2x1dGVSb3RhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWJzb2x1dGVUcmFuc2Zvcm0oKS5kZWNvbXBvc2UoKS5yb3RhdGlvbjtcbiAgICB9XG4gICAgZ2V0VHJhbnNmb3JtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q2FjaGUoVFJBTlNGT1JNLCB0aGlzLl9nZXRUcmFuc2Zvcm0pO1xuICAgIH1cbiAgICBfZ2V0VHJhbnNmb3JtKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB2YXIgbSA9IHRoaXMuX2NhY2hlLmdldChUUkFOU0ZPUk0pIHx8IG5ldyBVdGlsXzEuVHJhbnNmb3JtKCk7XG4gICAgICAgIG0ucmVzZXQoKTtcbiAgICAgICAgdmFyIHggPSB0aGlzLngoKSwgeSA9IHRoaXMueSgpLCByb3RhdGlvbiA9IEdsb2JhbF8xLktvbnZhLmdldEFuZ2xlKHRoaXMucm90YXRpb24oKSksIHNjYWxlWCA9IChfYSA9IHRoaXMuYXR0cnMuc2NhbGVYKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAxLCBzY2FsZVkgPSAoX2IgPSB0aGlzLmF0dHJzLnNjYWxlWSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMSwgc2tld1ggPSB0aGlzLmF0dHJzLnNrZXdYIHx8IDAsIHNrZXdZID0gdGhpcy5hdHRycy5za2V3WSB8fCAwLCBvZmZzZXRYID0gdGhpcy5hdHRycy5vZmZzZXRYIHx8IDAsIG9mZnNldFkgPSB0aGlzLmF0dHJzLm9mZnNldFkgfHwgMDtcbiAgICAgICAgaWYgKHggIT09IDAgfHwgeSAhPT0gMCkge1xuICAgICAgICAgICAgbS50cmFuc2xhdGUoeCwgeSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvdGF0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICBtLnJvdGF0ZShyb3RhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNrZXdYICE9PSAwIHx8IHNrZXdZICE9PSAwKSB7XG4gICAgICAgICAgICBtLnNrZXcoc2tld1gsIHNrZXdZKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NhbGVYICE9PSAxIHx8IHNjYWxlWSAhPT0gMSkge1xuICAgICAgICAgICAgbS5zY2FsZShzY2FsZVgsIHNjYWxlWSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9mZnNldFggIT09IDAgfHwgb2Zmc2V0WSAhPT0gMCkge1xuICAgICAgICAgICAgbS50cmFuc2xhdGUoLTEgKiBvZmZzZXRYLCAtMSAqIG9mZnNldFkpO1xuICAgICAgICB9XG4gICAgICAgIG0uZGlydHkgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIG07XG4gICAgfVxuICAgIGNsb25lKG9iaikge1xuICAgICAgICB2YXIgYXR0cnMgPSBVdGlsXzEuVXRpbC5jbG9uZU9iamVjdCh0aGlzLmF0dHJzKSwga2V5LCBhbGxMaXN0ZW5lcnMsIGxlbiwgbiwgbGlzdGVuZXI7XG4gICAgICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgICAgICAgYXR0cnNba2V5XSA9IG9ialtrZXldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub2RlID0gbmV3IHRoaXMuY29uc3RydWN0b3IoYXR0cnMpO1xuICAgICAgICBmb3IgKGtleSBpbiB0aGlzLmV2ZW50TGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBhbGxMaXN0ZW5lcnMgPSB0aGlzLmV2ZW50TGlzdGVuZXJzW2tleV07XG4gICAgICAgICAgICBsZW4gPSBhbGxMaXN0ZW5lcnMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChuID0gMDsgbiA8IGxlbjsgbisrKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBhbGxMaXN0ZW5lcnNbbl07XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm5hbWUuaW5kZXhPZihLT05WQSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbm9kZS5ldmVudExpc3RlbmVyc1trZXldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmV2ZW50TGlzdGVuZXJzW2tleV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBub2RlLmV2ZW50TGlzdGVuZXJzW2tleV0ucHVzaChsaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBfdG9Lb252YUNhbnZhcyhjb25maWcpIHtcbiAgICAgICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgICAgICB2YXIgYm94ID0gdGhpcy5nZXRDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciBzdGFnZSA9IHRoaXMuZ2V0U3RhZ2UoKSwgeCA9IGNvbmZpZy54ICE9PSB1bmRlZmluZWQgPyBjb25maWcueCA6IE1hdGguZmxvb3IoYm94LngpLCB5ID0gY29uZmlnLnkgIT09IHVuZGVmaW5lZCA/IGNvbmZpZy55IDogTWF0aC5mbG9vcihib3gueSksIHBpeGVsUmF0aW8gPSBjb25maWcucGl4ZWxSYXRpbyB8fCAxLCBjYW52YXMgPSBuZXcgQ2FudmFzXzEuU2NlbmVDYW52YXMoe1xuICAgICAgICAgICAgd2lkdGg6IGNvbmZpZy53aWR0aCB8fCBNYXRoLmNlaWwoYm94LndpZHRoKSB8fCAoc3RhZ2UgPyBzdGFnZS53aWR0aCgpIDogMCksXG4gICAgICAgICAgICBoZWlnaHQ6IGNvbmZpZy5oZWlnaHQgfHxcbiAgICAgICAgICAgICAgICBNYXRoLmNlaWwoYm94LmhlaWdodCkgfHxcbiAgICAgICAgICAgICAgICAoc3RhZ2UgPyBzdGFnZS5oZWlnaHQoKSA6IDApLFxuICAgICAgICAgICAgcGl4ZWxSYXRpbzogcGl4ZWxSYXRpbyxcbiAgICAgICAgfSksIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgpO1xuICAgICAgICBpZiAoY29uZmlnLmltYWdlU21vb3RoaW5nRW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNvbnRleHQuX2NvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGlmICh4IHx8IHkpIHtcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKC0xICogeCwgLTEgKiB5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRyYXdTY2VuZShjYW52YXMpO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICB9XG4gICAgdG9DYW52YXMoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b0tvbnZhQ2FudmFzKGNvbmZpZykuX2NhbnZhcztcbiAgICB9XG4gICAgdG9EYXRhVVJMKGNvbmZpZykge1xuICAgICAgICBjb25maWcgPSBjb25maWcgfHwge307XG4gICAgICAgIHZhciBtaW1lVHlwZSA9IGNvbmZpZy5taW1lVHlwZSB8fCBudWxsLCBxdWFsaXR5ID0gY29uZmlnLnF1YWxpdHkgfHwgbnVsbDtcbiAgICAgICAgdmFyIHVybCA9IHRoaXMuX3RvS29udmFDYW52YXMoY29uZmlnKS50b0RhdGFVUkwobWltZVR5cGUsIHF1YWxpdHkpO1xuICAgICAgICBpZiAoY29uZmlnLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjb25maWcuY2FsbGJhY2sodXJsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgICB0b0ltYWdlKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IGNvbmZpZyA9PT0gbnVsbCB8fCBjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbmZpZy5jYWxsYmFjaztcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjb25maWcuY2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgVXRpbF8xLlV0aWwuX3VybFRvSW1hZ2UodGhpcy50b0RhdGFVUkwoY29uZmlnKSwgZnVuY3Rpb24gKGltZykge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGltZyk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID09PSBudWxsIHx8IGNhbGxiYWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYWxsYmFjayhpbWcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9CbG9iKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IGNvbmZpZyA9PT0gbnVsbCB8fCBjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbmZpZy5jYWxsYmFjaztcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjb25maWcuY2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgdGhpcy50b0NhbnZhcyhjb25maWcpLnRvQmxvYigoYmxvYikgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGJsb2IpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9PT0gbnVsbCB8fCBjYWxsYmFjayA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2FsbGJhY2soYmxvYik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXRTaXplKHNpemUpIHtcbiAgICAgICAgdGhpcy53aWR0aChzaXplLndpZHRoKTtcbiAgICAgICAgdGhpcy5oZWlnaHQoc2l6ZS5oZWlnaHQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0U2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoKCksXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0KCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldENsYXNzTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xhc3NOYW1lIHx8IHRoaXMubm9kZVR5cGU7XG4gICAgfVxuICAgIGdldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVUeXBlO1xuICAgIH1cbiAgICBnZXREcmFnRGlzdGFuY2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmF0dHJzLmRyYWdEaXN0YW5jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRycy5kcmFnRGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5nZXREcmFnRGlzdGFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBHbG9iYWxfMS5Lb252YS5kcmFnRGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX29mZih0eXBlLCBuYW1lLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgZXZ0TGlzdGVuZXJzID0gdGhpcy5ldmVudExpc3RlbmVyc1t0eXBlXSwgaSwgZXZ0TmFtZSwgaGFuZGxlcjtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGV2dExpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZXZ0TmFtZSA9IGV2dExpc3RlbmVyc1tpXS5uYW1lO1xuICAgICAgICAgICAgaGFuZGxlciA9IGV2dExpc3RlbmVyc1tpXS5oYW5kbGVyO1xuICAgICAgICAgICAgaWYgKChldnROYW1lICE9PSAna29udmEnIHx8IG5hbWUgPT09ICdrb252YScpICYmXG4gICAgICAgICAgICAgICAgKCFuYW1lIHx8IGV2dE5hbWUgPT09IG5hbWUpICYmXG4gICAgICAgICAgICAgICAgKCFjYWxsYmFjayB8fCBjYWxsYmFjayA9PT0gaGFuZGxlcikpIHtcbiAgICAgICAgICAgICAgICBldnRMaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGlmIChldnRMaXN0ZW5lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmV2ZW50TGlzdGVuZXJzW3R5cGVdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9maXJlQ2hhbmdlRXZlbnQoYXR0ciwgb2xkVmFsLCBuZXdWYWwpIHtcbiAgICAgICAgdGhpcy5fZmlyZShhdHRyICsgQ0hBTkdFLCB7XG4gICAgICAgICAgICBvbGRWYWw6IG9sZFZhbCxcbiAgICAgICAgICAgIG5ld1ZhbDogbmV3VmFsLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYWRkTmFtZShuYW1lKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNOYW1lKG5hbWUpKSB7XG4gICAgICAgICAgICB2YXIgb2xkTmFtZSA9IHRoaXMubmFtZSgpO1xuICAgICAgICAgICAgdmFyIG5ld05hbWUgPSBvbGROYW1lID8gb2xkTmFtZSArICcgJyArIG5hbWUgOiBuYW1lO1xuICAgICAgICAgICAgdGhpcy5uYW1lKG5ld05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBoYXNOYW1lKG5hbWUpIHtcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZnVsbE5hbWUgPSB0aGlzLm5hbWUoKTtcbiAgICAgICAgaWYgKCFmdWxsTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuYW1lcyA9IChmdWxsTmFtZSB8fCAnJykuc3BsaXQoL1xccy9nKTtcbiAgICAgICAgcmV0dXJuIG5hbWVzLmluZGV4T2YobmFtZSkgIT09IC0xO1xuICAgIH1cbiAgICByZW1vdmVOYW1lKG5hbWUpIHtcbiAgICAgICAgdmFyIG5hbWVzID0gKHRoaXMubmFtZSgpIHx8ICcnKS5zcGxpdCgvXFxzL2cpO1xuICAgICAgICB2YXIgaW5kZXggPSBuYW1lcy5pbmRleE9mKG5hbWUpO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBuYW1lcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgdGhpcy5uYW1lKG5hbWVzLmpvaW4oJyAnKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldEF0dHIoYXR0ciwgdmFsKSB7XG4gICAgICAgIHZhciBmdW5jID0gdGhpc1tTRVQgKyBVdGlsXzEuVXRpbC5fY2FwaXRhbGl6ZShhdHRyKV07XG4gICAgICAgIGlmIChVdGlsXzEuVXRpbC5faXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICAgICAgZnVuYy5jYWxsKHRoaXMsIHZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRBdHRyKGF0dHIsIHZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIF9yZXF1ZXN0RHJhdygpIHtcbiAgICAgICAgaWYgKEdsb2JhbF8xLktvbnZhLmF1dG9EcmF3RW5hYmxlZCkge1xuICAgICAgICAgICAgY29uc3QgZHJhd05vZGUgPSB0aGlzLmdldExheWVyKCkgfHwgdGhpcy5nZXRTdGFnZSgpO1xuICAgICAgICAgICAgZHJhd05vZGUgPT09IG51bGwgfHwgZHJhd05vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRyYXdOb2RlLmJhdGNoRHJhdygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9zZXRBdHRyKGtleSwgdmFsKSB7XG4gICAgICAgIHZhciBvbGRWYWwgPSB0aGlzLmF0dHJzW2tleV07XG4gICAgICAgIGlmIChvbGRWYWwgPT09IHZhbCAmJiAhVXRpbF8xLlV0aWwuaXNPYmplY3QodmFsKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCB8fCB2YWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmF0dHJzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJzW2tleV0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZEZpcmVDaGFuZ2VFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVDaGFuZ2VFdmVudChrZXksIG9sZFZhbCwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZXF1ZXN0RHJhdygpO1xuICAgIH1cbiAgICBfc2V0Q29tcG9uZW50QXR0cihrZXksIGNvbXBvbmVudCwgdmFsKSB7XG4gICAgICAgIHZhciBvbGRWYWw7XG4gICAgICAgIGlmICh2YWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb2xkVmFsID0gdGhpcy5hdHRyc1trZXldO1xuICAgICAgICAgICAgaWYgKCFvbGRWYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dHJzW2tleV0gPSB0aGlzLmdldEF0dHIoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYXR0cnNba2V5XVtjb21wb25lbnRdID0gdmFsO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUNoYW5nZUV2ZW50KGtleSwgb2xkVmFsLCB2YWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9maXJlQW5kQnViYmxlKGV2ZW50VHlwZSwgZXZ0LCBjb21wYXJlU2hhcGUpIHtcbiAgICAgICAgaWYgKGV2dCAmJiB0aGlzLm5vZGVUeXBlID09PSBTSEFQRSkge1xuICAgICAgICAgICAgZXZ0LnRhcmdldCA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNob3VsZFN0b3AgPSAoZXZlbnRUeXBlID09PSBNT1VTRUVOVEVSIHx8IGV2ZW50VHlwZSA9PT0gTU9VU0VMRUFWRSkgJiZcbiAgICAgICAgICAgICgoY29tcGFyZVNoYXBlICYmXG4gICAgICAgICAgICAgICAgKHRoaXMgPT09IGNvbXBhcmVTaGFwZSB8fFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5pc0FuY2VzdG9yT2YgJiYgdGhpcy5pc0FuY2VzdG9yT2YoY29tcGFyZVNoYXBlKSkpKSB8fFxuICAgICAgICAgICAgICAgICh0aGlzLm5vZGVUeXBlID09PSAnU3RhZ2UnICYmICFjb21wYXJlU2hhcGUpKTtcbiAgICAgICAgaWYgKCFzaG91bGRTdG9wKSB7XG4gICAgICAgICAgICB0aGlzLl9maXJlKGV2ZW50VHlwZSwgZXZ0KTtcbiAgICAgICAgICAgIHZhciBzdG9wQnViYmxlID0gKGV2ZW50VHlwZSA9PT0gTU9VU0VFTlRFUiB8fCBldmVudFR5cGUgPT09IE1PVVNFTEVBVkUpICYmXG4gICAgICAgICAgICAgICAgY29tcGFyZVNoYXBlICYmXG4gICAgICAgICAgICAgICAgY29tcGFyZVNoYXBlLmlzQW5jZXN0b3JPZiAmJlxuICAgICAgICAgICAgICAgIGNvbXBhcmVTaGFwZS5pc0FuY2VzdG9yT2YodGhpcykgJiZcbiAgICAgICAgICAgICAgICAhY29tcGFyZVNoYXBlLmlzQW5jZXN0b3JPZih0aGlzLnBhcmVudCk7XG4gICAgICAgICAgICBpZiAoKChldnQgJiYgIWV2dC5jYW5jZWxCdWJibGUpIHx8ICFldnQpICYmXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5pc0xpc3RlbmluZygpICYmXG4gICAgICAgICAgICAgICAgIXN0b3BCdWJibGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29tcGFyZVNoYXBlICYmIGNvbXBhcmVTaGFwZS5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmlyZUFuZEJ1YmJsZS5jYWxsKHRoaXMucGFyZW50LCBldmVudFR5cGUsIGV2dCwgY29tcGFyZVNoYXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmVBbmRCdWJibGUuY2FsbCh0aGlzLnBhcmVudCwgZXZlbnRUeXBlLCBldnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfZ2V0UHJvdG9MaXN0ZW5lcnMoZXZlbnRUeXBlKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBjb25zdCBhbGxMaXN0ZW5lcnMgPSAoX2EgPSB0aGlzLl9jYWNoZS5nZXQoQUxMX0xJU1RFTkVSUykpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9O1xuICAgICAgICBsZXQgZXZlbnRzID0gYWxsTGlzdGVuZXJzID09PSBudWxsIHx8IGFsbExpc3RlbmVycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWxsTGlzdGVuZXJzW2V2ZW50VHlwZV07XG4gICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZXZlbnRzID0gW107XG4gICAgICAgICAgICBsZXQgb2JqID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpO1xuICAgICAgICAgICAgd2hpbGUgKG9iaikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhpZXJhcmNoeUV2ZW50cyA9IChfYyA9IChfYiA9IG9iai5ldmVudExpc3RlbmVycykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iW2V2ZW50VHlwZV0pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IFtdO1xuICAgICAgICAgICAgICAgIGV2ZW50cy5wdXNoKC4uLmhpZXJhcmNoeUV2ZW50cyk7XG4gICAgICAgICAgICAgICAgb2JqID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhbGxMaXN0ZW5lcnNbZXZlbnRUeXBlXSA9IGV2ZW50cztcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlLnNldChBTExfTElTVEVORVJTLCBhbGxMaXN0ZW5lcnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBldmVudHM7XG4gICAgfVxuICAgIF9maXJlKGV2ZW50VHlwZSwgZXZ0KSB7XG4gICAgICAgIGV2dCA9IGV2dCB8fCB7fTtcbiAgICAgICAgZXZ0LmN1cnJlbnRUYXJnZXQgPSB0aGlzO1xuICAgICAgICBldnQudHlwZSA9IGV2ZW50VHlwZTtcbiAgICAgICAgY29uc3QgdG9wTGlzdGVuZXJzID0gdGhpcy5fZ2V0UHJvdG9MaXN0ZW5lcnMoZXZlbnRUeXBlKTtcbiAgICAgICAgaWYgKHRvcExpc3RlbmVycykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3BMaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0b3BMaXN0ZW5lcnNbaV0uaGFuZGxlci5jYWxsKHRoaXMsIGV2dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VsZkxpc3RlbmVycyA9IHRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnRUeXBlXTtcbiAgICAgICAgaWYgKHNlbGZMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZkxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHNlbGZMaXN0ZW5lcnNbaV0uaGFuZGxlci5jYWxsKHRoaXMsIGV2dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZHJhdygpIHtcbiAgICAgICAgdGhpcy5kcmF3U2NlbmUoKTtcbiAgICAgICAgdGhpcy5kcmF3SGl0KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBfY3JlYXRlRHJhZ0VsZW1lbnQoZXZ0KSB7XG4gICAgICAgIHZhciBwb2ludGVySWQgPSBldnQgPyBldnQucG9pbnRlcklkIDogdW5kZWZpbmVkO1xuICAgICAgICB2YXIgc3RhZ2UgPSB0aGlzLmdldFN0YWdlKCk7XG4gICAgICAgIHZhciBhcCA9IHRoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpO1xuICAgICAgICBpZiAoIXN0YWdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBvcyA9IHN0YWdlLl9nZXRQb2ludGVyQnlJZChwb2ludGVySWQpIHx8XG4gICAgICAgICAgICBzdGFnZS5fY2hhbmdlZFBvaW50ZXJQb3NpdGlvbnNbMF0gfHxcbiAgICAgICAgICAgIGFwO1xuICAgICAgICBEcmFnQW5kRHJvcF8xLkRELl9kcmFnRWxlbWVudHMuc2V0KHRoaXMuX2lkLCB7XG4gICAgICAgICAgICBub2RlOiB0aGlzLFxuICAgICAgICAgICAgc3RhcnRQb2ludGVyUG9zOiBwb3MsXG4gICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICB4OiBwb3MueCAtIGFwLngsXG4gICAgICAgICAgICAgICAgeTogcG9zLnkgLSBhcC55LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRyYWdTdGF0dXM6ICdyZWFkeScsXG4gICAgICAgICAgICBwb2ludGVySWQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGFydERyYWcoZXZ0LCBidWJibGVFdmVudCA9IHRydWUpIHtcbiAgICAgICAgaWYgKCFEcmFnQW5kRHJvcF8xLkRELl9kcmFnRWxlbWVudHMuaGFzKHRoaXMuX2lkKSkge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlRHJhZ0VsZW1lbnQoZXZ0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtID0gRHJhZ0FuZERyb3BfMS5ERC5fZHJhZ0VsZW1lbnRzLmdldCh0aGlzLl9pZCk7XG4gICAgICAgIGVsZW0uZHJhZ1N0YXR1cyA9ICdkcmFnZ2luZyc7XG4gICAgICAgIHRoaXMuZmlyZSgnZHJhZ3N0YXJ0Jywge1xuICAgICAgICAgICAgdHlwZTogJ2RyYWdzdGFydCcsXG4gICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgICAgICBldnQ6IGV2dCAmJiBldnQuZXZ0LFxuICAgICAgICB9LCBidWJibGVFdmVudCk7XG4gICAgfVxuICAgIF9zZXREcmFnUG9zaXRpb24oZXZ0LCBlbGVtKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IHRoaXMuZ2V0U3RhZ2UoKS5fZ2V0UG9pbnRlckJ5SWQoZWxlbS5wb2ludGVySWQpO1xuICAgICAgICBpZiAoIXBvcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXdOb2RlUG9zID0ge1xuICAgICAgICAgICAgeDogcG9zLnggLSBlbGVtLm9mZnNldC54LFxuICAgICAgICAgICAgeTogcG9zLnkgLSBlbGVtLm9mZnNldC55LFxuICAgICAgICB9O1xuICAgICAgICB2YXIgZGJmID0gdGhpcy5kcmFnQm91bmRGdW5jKCk7XG4gICAgICAgIGlmIChkYmYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgYm91bmRlZCA9IGRiZi5jYWxsKHRoaXMsIG5ld05vZGVQb3MsIGV2dCk7XG4gICAgICAgICAgICBpZiAoIWJvdW5kZWQpIHtcbiAgICAgICAgICAgICAgICBVdGlsXzEuVXRpbC53YXJuKCdkcmFnQm91bmRGdW5jIGRpZCBub3QgcmV0dXJuIGFueSB2YWx1ZS4gVGhhdCBpcyB1bmV4cGVjdGVkIGJlaGF2aW9yLiBZb3UgbXVzdCByZXR1cm4gbmV3IGFic29sdXRlIHBvc2l0aW9uIGZyb20gZHJhZ0JvdW5kRnVuYy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld05vZGVQb3MgPSBib3VuZGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fbGFzdFBvcyB8fFxuICAgICAgICAgICAgdGhpcy5fbGFzdFBvcy54ICE9PSBuZXdOb2RlUG9zLnggfHxcbiAgICAgICAgICAgIHRoaXMuX2xhc3RQb3MueSAhPT0gbmV3Tm9kZVBvcy55KSB7XG4gICAgICAgICAgICB0aGlzLnNldEFic29sdXRlUG9zaXRpb24obmV3Tm9kZVBvcyk7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xhc3RQb3MgPSBuZXdOb2RlUG9zO1xuICAgIH1cbiAgICBzdG9wRHJhZyhldnQpIHtcbiAgICAgICAgY29uc3QgZWxlbSA9IERyYWdBbmREcm9wXzEuREQuX2RyYWdFbGVtZW50cy5nZXQodGhpcy5faWQpO1xuICAgICAgICBpZiAoZWxlbSkge1xuICAgICAgICAgICAgZWxlbS5kcmFnU3RhdHVzID0gJ3N0b3BwZWQnO1xuICAgICAgICB9XG4gICAgICAgIERyYWdBbmREcm9wXzEuREQuX2VuZERyYWdCZWZvcmUoZXZ0KTtcbiAgICAgICAgRHJhZ0FuZERyb3BfMS5ERC5fZW5kRHJhZ0FmdGVyKGV2dCk7XG4gICAgfVxuICAgIHNldERyYWdnYWJsZShkcmFnZ2FibGUpIHtcbiAgICAgICAgdGhpcy5fc2V0QXR0cignZHJhZ2dhYmxlJywgZHJhZ2dhYmxlKTtcbiAgICAgICAgdGhpcy5fZHJhZ0NoYW5nZSgpO1xuICAgIH1cbiAgICBpc0RyYWdnaW5nKCkge1xuICAgICAgICBjb25zdCBlbGVtID0gRHJhZ0FuZERyb3BfMS5ERC5fZHJhZ0VsZW1lbnRzLmdldCh0aGlzLl9pZCk7XG4gICAgICAgIHJldHVybiBlbGVtID8gZWxlbS5kcmFnU3RhdHVzID09PSAnZHJhZ2dpbmcnIDogZmFsc2U7XG4gICAgfVxuICAgIF9saXN0ZW5EcmFnKCkge1xuICAgICAgICB0aGlzLl9kcmFnQ2xlYW51cCgpO1xuICAgICAgICB0aGlzLm9uKCdtb3VzZWRvd24ua29udmEgdG91Y2hzdGFydC5rb252YScsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIHZhciBzaG91bGRDaGVja0J1dHRvbiA9IGV2dC5ldnRbJ2J1dHRvbiddICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YXIgY2FuRHJhZyA9ICFzaG91bGRDaGVja0J1dHRvbiB8fCBHbG9iYWxfMS5Lb252YS5kcmFnQnV0dG9ucy5pbmRleE9mKGV2dC5ldnRbJ2J1dHRvbiddKSA+PSAwO1xuICAgICAgICAgICAgaWYgKCFjYW5EcmFnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZygpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhhc0RyYWdnaW5nQ2hpbGQgPSBmYWxzZTtcbiAgICAgICAgICAgIERyYWdBbmREcm9wXzEuREQuX2RyYWdFbGVtZW50cy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNBbmNlc3Rvck9mKGVsZW0ubm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzRHJhZ2dpbmdDaGlsZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWhhc0RyYWdnaW5nQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVEcmFnRWxlbWVudChldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2RyYWdDaGFuZ2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmF0dHJzLmRyYWdnYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5fbGlzdGVuRHJhZygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZHJhZ0NsZWFudXAoKTtcbiAgICAgICAgICAgIHZhciBzdGFnZSA9IHRoaXMuZ2V0U3RhZ2UoKTtcbiAgICAgICAgICAgIGlmICghc3RhZ2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkcmFnRWxlbWVudCA9IERyYWdBbmREcm9wXzEuREQuX2RyYWdFbGVtZW50cy5nZXQodGhpcy5faWQpO1xuICAgICAgICAgICAgY29uc3QgaXNEcmFnZ2luZyA9IGRyYWdFbGVtZW50ICYmIGRyYWdFbGVtZW50LmRyYWdTdGF0dXMgPT09ICdkcmFnZ2luZyc7XG4gICAgICAgICAgICBjb25zdCBpc1JlYWR5ID0gZHJhZ0VsZW1lbnQgJiYgZHJhZ0VsZW1lbnQuZHJhZ1N0YXR1cyA9PT0gJ3JlYWR5JztcbiAgICAgICAgICAgIGlmIChpc0RyYWdnaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wRHJhZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNSZWFkeSkge1xuICAgICAgICAgICAgICAgIERyYWdBbmREcm9wXzEuREQuX2RyYWdFbGVtZW50cy5kZWxldGUodGhpcy5faWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9kcmFnQ2xlYW51cCgpIHtcbiAgICAgICAgdGhpcy5vZmYoJ21vdXNlZG93bi5rb252YScpO1xuICAgICAgICB0aGlzLm9mZigndG91Y2hzdGFydC5rb252YScpO1xuICAgIH1cbiAgICBpc0NsaWVudFJlY3RPblNjcmVlbihtYXJnaW4gPSB7IHg6IDAsIHk6IDAgfSkge1xuICAgICAgICBjb25zdCBzdGFnZSA9IHRoaXMuZ2V0U3RhZ2UoKTtcbiAgICAgICAgaWYgKCFzdGFnZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNjcmVlblJlY3QgPSB7XG4gICAgICAgICAgICB4OiAtbWFyZ2luLngsXG4gICAgICAgICAgICB5OiAtbWFyZ2luLnksXG4gICAgICAgICAgICB3aWR0aDogc3RhZ2Uud2lkdGgoKSArIDIgKiBtYXJnaW4ueCxcbiAgICAgICAgICAgIGhlaWdodDogc3RhZ2UuaGVpZ2h0KCkgKyAyICogbWFyZ2luLnksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBVdGlsXzEuVXRpbC5oYXZlSW50ZXJzZWN0aW9uKHNjcmVlblJlY3QsIHRoaXMuZ2V0Q2xpZW50UmVjdCgpKTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShkYXRhLCBjb250YWluZXIpIHtcbiAgICAgICAgaWYgKFV0aWxfMS5VdGlsLl9pc1N0cmluZyhkYXRhKSkge1xuICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZU5vZGUoZGF0YSwgY29udGFpbmVyKTtcbiAgICB9XG4gICAgc3RhdGljIF9jcmVhdGVOb2RlKG9iaiwgY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBjbGFzc05hbWUgPSBOb2RlLnByb3RvdHlwZS5nZXRDbGFzc05hbWUuY2FsbChvYmopLCBjaGlsZHJlbiA9IG9iai5jaGlsZHJlbiwgbm8sIGxlbiwgbjtcbiAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgb2JqLmF0dHJzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUdsb2JhbF8xLktvbnZhW2NsYXNzTmFtZV0pIHtcbiAgICAgICAgICAgIFV0aWxfMS5VdGlsLndhcm4oJ0NhbiBub3QgZmluZCBhIG5vZGUgd2l0aCBjbGFzcyBuYW1lIFwiJyArXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lICtcbiAgICAgICAgICAgICAgICAnXCIuIEZhbGxiYWNrIHRvIFwiU2hhcGVcIi4nKTtcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9ICdTaGFwZSc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgQ2xhc3MgPSBHbG9iYWxfMS5Lb252YVtjbGFzc05hbWVdO1xuICAgICAgICBubyA9IG5ldyBDbGFzcyhvYmouYXR0cnMpO1xuICAgICAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAobiA9IDA7IG4gPCBsZW47IG4rKykge1xuICAgICAgICAgICAgICAgIG5vLmFkZChOb2RlLl9jcmVhdGVOb2RlKGNoaWxkcmVuW25dKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vO1xuICAgIH1cbn1cbmV4cG9ydHMuTm9kZSA9IE5vZGU7XG5Ob2RlLnByb3RvdHlwZS5ub2RlVHlwZSA9ICdOb2RlJztcbk5vZGUucHJvdG90eXBlLl9hdHRyc0FmZmVjdGluZ1NpemUgPSBbXTtcbk5vZGUucHJvdG90eXBlLmV2ZW50TGlzdGVuZXJzID0ge307XG5Ob2RlLnByb3RvdHlwZS5vbi5jYWxsKE5vZGUucHJvdG90eXBlLCBUUkFOU0ZPUk1fQ0hBTkdFX1NUUiwgZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl9iYXRjaGluZ1RyYW5zZm9ybUNoYW5nZSkge1xuICAgICAgICB0aGlzLl9uZWVkQ2xlYXJUcmFuc2Zvcm1DYWNoZSA9IHRydWU7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fY2xlYXJDYWNoZShUUkFOU0ZPUk0pO1xuICAgIHRoaXMuX2NsZWFyU2VsZkFuZERlc2NlbmRhbnRDYWNoZShBQlNPTFVURV9UUkFOU0ZPUk0pO1xufSk7XG5Ob2RlLnByb3RvdHlwZS5vbi5jYWxsKE5vZGUucHJvdG90eXBlLCAndmlzaWJsZUNoYW5nZS5rb252YScsIGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9jbGVhclNlbGZBbmREZXNjZW5kYW50Q2FjaGUoVklTSUJMRSk7XG59KTtcbk5vZGUucHJvdG90eXBlLm9uLmNhbGwoTm9kZS5wcm90b3R5cGUsICdsaXN0ZW5pbmdDaGFuZ2Uua29udmEnLCBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fY2xlYXJTZWxmQW5kRGVzY2VuZGFudENhY2hlKExJU1RFTklORyk7XG59KTtcbk5vZGUucHJvdG90eXBlLm9uLmNhbGwoTm9kZS5wcm90b3R5cGUsICdvcGFjaXR5Q2hhbmdlLmtvbnZhJywgZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2NsZWFyU2VsZkFuZERlc2NlbmRhbnRDYWNoZShBQlNPTFVURV9PUEFDSVRZKTtcbn0pO1xuY29uc3QgYWRkR2V0dGVyU2V0dGVyID0gRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyO1xuYWRkR2V0dGVyU2V0dGVyKE5vZGUsICd6SW5kZXgnKTtcbmFkZEdldHRlclNldHRlcihOb2RlLCAnYWJzb2x1dGVQb3NpdGlvbicpO1xuYWRkR2V0dGVyU2V0dGVyKE5vZGUsICdwb3NpdGlvbicpO1xuYWRkR2V0dGVyU2V0dGVyKE5vZGUsICd4JywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuYWRkR2V0dGVyU2V0dGVyKE5vZGUsICd5JywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuYWRkR2V0dGVyU2V0dGVyKE5vZGUsICdnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24nLCAnc291cmNlLW92ZXInLCAoMCwgVmFsaWRhdG9yc18xLmdldFN0cmluZ1ZhbGlkYXRvcikoKSk7XG5hZGRHZXR0ZXJTZXR0ZXIoTm9kZSwgJ29wYWNpdHknLCAxLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5hZGRHZXR0ZXJTZXR0ZXIoTm9kZSwgJ25hbWUnLCAnJywgKDAsIFZhbGlkYXRvcnNfMS5nZXRTdHJpbmdWYWxpZGF0b3IpKCkpO1xuYWRkR2V0dGVyU2V0dGVyKE5vZGUsICdpZCcsICcnLCAoMCwgVmFsaWRhdG9yc18xLmdldFN0cmluZ1ZhbGlkYXRvcikoKSk7XG5hZGRHZXR0ZXJTZXR0ZXIoTm9kZSwgJ3JvdGF0aW9uJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkQ29tcG9uZW50c0dldHRlclNldHRlcihOb2RlLCAnc2NhbGUnLCBbJ3gnLCAneSddKTtcbmFkZEdldHRlclNldHRlcihOb2RlLCAnc2NhbGVYJywgMSwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuYWRkR2V0dGVyU2V0dGVyKE5vZGUsICdzY2FsZVknLCAxLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRDb21wb25lbnRzR2V0dGVyU2V0dGVyKE5vZGUsICdza2V3JywgWyd4JywgJ3knXSk7XG5hZGRHZXR0ZXJTZXR0ZXIoTm9kZSwgJ3NrZXdYJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuYWRkR2V0dGVyU2V0dGVyKE5vZGUsICdza2V3WScsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZENvbXBvbmVudHNHZXR0ZXJTZXR0ZXIoTm9kZSwgJ29mZnNldCcsIFsneCcsICd5J10pO1xuYWRkR2V0dGVyU2V0dGVyKE5vZGUsICdvZmZzZXRYJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuYWRkR2V0dGVyU2V0dGVyKE5vZGUsICdvZmZzZXRZJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuYWRkR2V0dGVyU2V0dGVyKE5vZGUsICdkcmFnRGlzdGFuY2UnLCBudWxsLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5hZGRHZXR0ZXJTZXR0ZXIoTm9kZSwgJ3dpZHRoJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuYWRkR2V0dGVyU2V0dGVyKE5vZGUsICdoZWlnaHQnLCAwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5hZGRHZXR0ZXJTZXR0ZXIoTm9kZSwgJ2xpc3RlbmluZycsIHRydWUsICgwLCBWYWxpZGF0b3JzXzEuZ2V0Qm9vbGVhblZhbGlkYXRvcikoKSk7XG5hZGRHZXR0ZXJTZXR0ZXIoTm9kZSwgJ3ByZXZlbnREZWZhdWx0JywgdHJ1ZSwgKDAsIFZhbGlkYXRvcnNfMS5nZXRCb29sZWFuVmFsaWRhdG9yKSgpKTtcbmFkZEdldHRlclNldHRlcihOb2RlLCAnZmlsdGVycycsIG51bGwsIGZ1bmN0aW9uICh2YWwpIHtcbiAgICB0aGlzLl9maWx0ZXJVcFRvRGF0ZSA9IGZhbHNlO1xuICAgIHJldHVybiB2YWw7XG59KTtcbmFkZEdldHRlclNldHRlcihOb2RlLCAndmlzaWJsZScsIHRydWUsICgwLCBWYWxpZGF0b3JzXzEuZ2V0Qm9vbGVhblZhbGlkYXRvcikoKSk7XG5hZGRHZXR0ZXJTZXR0ZXIoTm9kZSwgJ3RyYW5zZm9ybXNFbmFibGVkJywgJ2FsbCcsICgwLCBWYWxpZGF0b3JzXzEuZ2V0U3RyaW5nVmFsaWRhdG9yKSgpKTtcbmFkZEdldHRlclNldHRlcihOb2RlLCAnc2l6ZScpO1xuYWRkR2V0dGVyU2V0dGVyKE5vZGUsICdkcmFnQm91bmRGdW5jJyk7XG5hZGRHZXR0ZXJTZXR0ZXIoTm9kZSwgJ2RyYWdnYWJsZScsIGZhbHNlLCAoMCwgVmFsaWRhdG9yc18xLmdldEJvb2xlYW5WYWxpZGF0b3IpKCkpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYmFja0NvbXBhdChOb2RlLCB7XG4gICAgcm90YXRlRGVnOiAncm90YXRlJyxcbiAgICBzZXRSb3RhdGlvbkRlZzogJ3NldFJvdGF0aW9uJyxcbiAgICBnZXRSb3RhdGlvbkRlZzogJ2dldFJvdGF0aW9uJyxcbn0pO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db250YWluZXIgPSB2b2lkIDA7XG5jb25zdCBGYWN0b3J5XzEgPSByZXF1aXJlKFwiLi9GYWN0b3J5XCIpO1xuY29uc3QgTm9kZV8xID0gcmVxdWlyZShcIi4vTm9kZVwiKTtcbmNvbnN0IFZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoXCIuL1ZhbGlkYXRvcnNcIik7XG5jbGFzcyBDb250YWluZXIgZXh0ZW5kcyBOb2RlXzEuTm9kZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICB9XG4gICAgZ2V0Q2hpbGRyZW4oZmlsdGVyRnVuYykge1xuICAgICAgICBpZiAoIWZpbHRlckZ1bmMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuIHx8IFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbiB8fCBbXTtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgIGlmIChmaWx0ZXJGdW5jKGNoaWxkKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG4gICAgaGFzQ2hpbGRyZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkcmVuKCkubGVuZ3RoID4gMDtcbiAgICB9XG4gICAgcmVtb3ZlQ2hpbGRyZW4oKSB7XG4gICAgICAgIHRoaXMuZ2V0Q2hpbGRyZW4oKS5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIGNoaWxkLmluZGV4ID0gMDtcbiAgICAgICAgICAgIGNoaWxkLnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0RHJhdygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGVzdHJveUNoaWxkcmVuKCkge1xuICAgICAgICB0aGlzLmdldENoaWxkcmVuKCkuZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICBjaGlsZC5pbmRleCA9IDA7XG4gICAgICAgICAgICBjaGlsZC5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIHRoaXMuX3JlcXVlc3REcmF3KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBhZGQoLi4uY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChjaGlsZHJlbltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICAgICAgICBpZiAoY2hpbGQuZ2V0UGFyZW50KCkpIHtcbiAgICAgICAgICAgIGNoaWxkLm1vdmVUbyh0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRlQWRkKGNoaWxkKTtcbiAgICAgICAgY2hpbGQuaW5kZXggPSB0aGlzLmdldENoaWxkcmVuKCkubGVuZ3RoO1xuICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICBjaGlsZC5fY2xlYXJDYWNoZXMoKTtcbiAgICAgICAgdGhpcy5nZXRDaGlsZHJlbigpLnB1c2goY2hpbGQpO1xuICAgICAgICB0aGlzLl9maXJlKCdhZGQnLCB7XG4gICAgICAgICAgICBjaGlsZDogY2hpbGQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0RHJhdygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzQ2hpbGRyZW4oKSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95Q2hpbGRyZW4oKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBmaW5kKHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZW5lcmFsRmluZChzZWxlY3RvciwgZmFsc2UpO1xuICAgIH1cbiAgICBmaW5kT25lKHNlbGVjdG9yKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9nZW5lcmFsRmluZChzZWxlY3RvciwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQubGVuZ3RoID4gMCA/IHJlc3VsdFswXSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgX2dlbmVyYWxGaW5kKHNlbGVjdG9yLCBmaW5kT25lKSB7XG4gICAgICAgIHZhciByZXRBcnIgPSBbXTtcbiAgICAgICAgdGhpcy5fZGVzY2VuZGFudHMoKG5vZGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkID0gbm9kZS5faXNNYXRjaChzZWxlY3Rvcik7XG4gICAgICAgICAgICBpZiAodmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXRBcnIucHVzaChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWxpZCAmJiBmaW5kT25lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmV0QXJyO1xuICAgIH1cbiAgICBfZGVzY2VuZGFudHMoZm4pIHtcbiAgICAgICAgbGV0IHNob3VsZFN0b3AgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmdldENoaWxkcmVuKCk7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHNob3VsZFN0b3AgPSBmbihjaGlsZCk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkU3RvcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjaGlsZC5oYXNDaGlsZHJlbigpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaG91bGRTdG9wID0gY2hpbGQuX2Rlc2NlbmRhbnRzKGZuKTtcbiAgICAgICAgICAgIGlmIChzaG91bGRTdG9wKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0b09iamVjdCgpIHtcbiAgICAgICAgdmFyIG9iaiA9IE5vZGVfMS5Ob2RlLnByb3RvdHlwZS50b09iamVjdC5jYWxsKHRoaXMpO1xuICAgICAgICBvYmouY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgdGhpcy5nZXRDaGlsZHJlbigpLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICBvYmouY2hpbGRyZW4ucHVzaChjaGlsZC50b09iamVjdCgpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIGlzQW5jZXN0b3JPZihub2RlKSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSBub2RlLmdldFBhcmVudCgpO1xuICAgICAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgICAgICBpZiAocGFyZW50Ll9pZCA9PT0gdGhpcy5faWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5nZXRQYXJlbnQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNsb25lKG9iaikge1xuICAgICAgICB2YXIgbm9kZSA9IE5vZGVfMS5Ob2RlLnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMsIG9iaik7XG4gICAgICAgIHRoaXMuZ2V0Q2hpbGRyZW4oKS5mb3JFYWNoKGZ1bmN0aW9uIChubykge1xuICAgICAgICAgICAgbm9kZS5hZGQobm8uY2xvbmUoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZ2V0QWxsSW50ZXJzZWN0aW9ucyhwb3MpIHtcbiAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICB0aGlzLmZpbmQoJ1NoYXBlJykuZm9yRWFjaCgoc2hhcGUpID0+IHtcbiAgICAgICAgICAgIGlmIChzaGFwZS5pc1Zpc2libGUoKSAmJiBzaGFwZS5pbnRlcnNlY3RzKHBvcykpIHtcbiAgICAgICAgICAgICAgICBhcnIucHVzaChzaGFwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH1cbiAgICBfY2xlYXJTZWxmQW5kRGVzY2VuZGFudENhY2hlKGF0dHIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlci5fY2xlYXJTZWxmQW5kRGVzY2VuZGFudENhY2hlKGF0dHIpO1xuICAgICAgICBpZiAodGhpcy5pc0NhY2hlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgKF9hID0gdGhpcy5jaGlsZHJlbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUuX2NsZWFyU2VsZkFuZERlc2NlbmRhbnRDYWNoZShhdHRyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9zZXRDaGlsZHJlbkluZGljZXMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5jaGlsZHJlbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkLCBuKSB7XG4gICAgICAgICAgICBjaGlsZC5pbmRleCA9IG47XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0RHJhdygpO1xuICAgIH1cbiAgICBkcmF3U2NlbmUoY2FuLCB0b3ApIHtcbiAgICAgICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpLCBjYW52YXMgPSBjYW4gfHwgKGxheWVyICYmIGxheWVyLmdldENhbnZhcygpKSwgY29udGV4dCA9IGNhbnZhcyAmJiBjYW52YXMuZ2V0Q29udGV4dCgpLCBjYWNoZWRDYW52YXMgPSB0aGlzLl9nZXRDYW52YXNDYWNoZSgpLCBjYWNoZWRTY2VuZUNhbnZhcyA9IGNhY2hlZENhbnZhcyAmJiBjYWNoZWRDYW52YXMuc2NlbmU7XG4gICAgICAgIHZhciBjYWNoaW5nID0gY2FudmFzICYmIGNhbnZhcy5pc0NhY2hlO1xuICAgICAgICBpZiAoIXRoaXMuaXNWaXNpYmxlKCkgJiYgIWNhY2hpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYWNoZWRTY2VuZUNhbnZhcykge1xuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICB2YXIgbSA9IHRoaXMuZ2V0QWJzb2x1dGVUcmFuc2Zvcm0odG9wKS5nZXRNYXRyaXgoKTtcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNmb3JtKG1bMF0sIG1bMV0sIG1bMl0sIG1bM10sIG1bNF0sIG1bNV0pO1xuICAgICAgICAgICAgdGhpcy5fZHJhd0NhY2hlZFNjZW5lQ2FudmFzKGNvbnRleHQpO1xuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9kcmF3Q2hpbGRyZW4oJ2RyYXdTY2VuZScsIGNhbnZhcywgdG9wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZHJhd0hpdChjYW4sIHRvcCkge1xuICAgICAgICBpZiAoIXRoaXMuc2hvdWxkRHJhd0hpdCh0b3ApKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldExheWVyKCksIGNhbnZhcyA9IGNhbiB8fCAobGF5ZXIgJiYgbGF5ZXIuaGl0Q2FudmFzKSwgY29udGV4dCA9IGNhbnZhcyAmJiBjYW52YXMuZ2V0Q29udGV4dCgpLCBjYWNoZWRDYW52YXMgPSB0aGlzLl9nZXRDYW52YXNDYWNoZSgpLCBjYWNoZWRIaXRDYW52YXMgPSBjYWNoZWRDYW52YXMgJiYgY2FjaGVkQ2FudmFzLmhpdDtcbiAgICAgICAgaWYgKGNhY2hlZEhpdENhbnZhcykge1xuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICB2YXIgbSA9IHRoaXMuZ2V0QWJzb2x1dGVUcmFuc2Zvcm0odG9wKS5nZXRNYXRyaXgoKTtcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNmb3JtKG1bMF0sIG1bMV0sIG1bMl0sIG1bM10sIG1bNF0sIG1bNV0pO1xuICAgICAgICAgICAgdGhpcy5fZHJhd0NhY2hlZEhpdENhbnZhcyhjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZHJhd0NoaWxkcmVuKCdkcmF3SGl0JywgY2FudmFzLCB0b3ApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBfZHJhd0NoaWxkcmVuKGRyYXdNZXRob2QsIGNhbnZhcywgdG9wKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMgJiYgY2FudmFzLmdldENvbnRleHQoKSwgY2xpcFdpZHRoID0gdGhpcy5jbGlwV2lkdGgoKSwgY2xpcEhlaWdodCA9IHRoaXMuY2xpcEhlaWdodCgpLCBjbGlwRnVuYyA9IHRoaXMuY2xpcEZ1bmMoKSwgaGFzQ2xpcCA9IChjbGlwV2lkdGggJiYgY2xpcEhlaWdodCkgfHwgY2xpcEZ1bmM7XG4gICAgICAgIGNvbnN0IHNlbGZDYWNoZSA9IHRvcCA9PT0gdGhpcztcbiAgICAgICAgaWYgKGhhc0NsaXApIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMuZ2V0QWJzb2x1dGVUcmFuc2Zvcm0odG9wKTtcbiAgICAgICAgICAgIHZhciBtID0gdHJhbnNmb3JtLmdldE1hdHJpeCgpO1xuICAgICAgICAgICAgY29udGV4dC50cmFuc2Zvcm0obVswXSwgbVsxXSwgbVsyXSwgbVszXSwgbVs0XSwgbVs1XSk7XG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgbGV0IGNsaXBBcmdzO1xuICAgICAgICAgICAgaWYgKGNsaXBGdW5jKSB7XG4gICAgICAgICAgICAgICAgY2xpcEFyZ3MgPSBjbGlwRnVuYy5jYWxsKHRoaXMsIGNvbnRleHQsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsaXBYID0gdGhpcy5jbGlwWCgpO1xuICAgICAgICAgICAgICAgIHZhciBjbGlwWSA9IHRoaXMuY2xpcFkoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlY3QoY2xpcFgsIGNsaXBZLCBjbGlwV2lkdGgsIGNsaXBIZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5jbGlwLmFwcGx5KGNvbnRleHQsIGNsaXBBcmdzKTtcbiAgICAgICAgICAgIG0gPSB0cmFuc2Zvcm0uY29weSgpLmludmVydCgpLmdldE1hdHJpeCgpO1xuICAgICAgICAgICAgY29udGV4dC50cmFuc2Zvcm0obVswXSwgbVsxXSwgbVsyXSwgbVszXSwgbVs0XSwgbVs1XSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhc0NvbXBvc2l0aW9uID0gIXNlbGZDYWNoZSAmJlxuICAgICAgICAgICAgdGhpcy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24oKSAhPT0gJ3NvdXJjZS1vdmVyJyAmJlxuICAgICAgICAgICAgZHJhd01ldGhvZCA9PT0gJ2RyYXdTY2VuZSc7XG4gICAgICAgIGlmIChoYXNDb21wb3NpdGlvbikge1xuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICBjb250ZXh0Ll9hcHBseUdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICAoX2EgPSB0aGlzLmNoaWxkcmVuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgIGNoaWxkW2RyYXdNZXRob2RdKGNhbnZhcywgdG9wKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChoYXNDb21wb3NpdGlvbikge1xuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc0NsaXApIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldENsaWVudFJlY3QoY29uZmlnID0ge30pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgc2tpcFRyYW5zZm9ybSA9IGNvbmZpZy5za2lwVHJhbnNmb3JtO1xuICAgICAgICB2YXIgcmVsYXRpdmVUbyA9IGNvbmZpZy5yZWxhdGl2ZVRvO1xuICAgICAgICB2YXIgbWluWCwgbWluWSwgbWF4WCwgbWF4WTtcbiAgICAgICAgdmFyIHNlbGZSZWN0ID0ge1xuICAgICAgICAgICAgeDogSW5maW5pdHksXG4gICAgICAgICAgICB5OiBJbmZpbml0eSxcbiAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgIChfYSA9IHRoaXMuY2hpbGRyZW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgaWYgKCFjaGlsZC52aXNpYmxlKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVjdCA9IGNoaWxkLmdldENsaWVudFJlY3Qoe1xuICAgICAgICAgICAgICAgIHJlbGF0aXZlVG86IHRoYXQsXG4gICAgICAgICAgICAgICAgc2tpcFNoYWRvdzogY29uZmlnLnNraXBTaGFkb3csXG4gICAgICAgICAgICAgICAgc2tpcFN0cm9rZTogY29uZmlnLnNraXBTdHJva2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChyZWN0LndpZHRoID09PSAwICYmIHJlY3QuaGVpZ2h0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1pblggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG1pblggPSByZWN0Lng7XG4gICAgICAgICAgICAgICAgbWluWSA9IHJlY3QueTtcbiAgICAgICAgICAgICAgICBtYXhYID0gcmVjdC54ICsgcmVjdC53aWR0aDtcbiAgICAgICAgICAgICAgICBtYXhZID0gcmVjdC55ICsgcmVjdC5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgcmVjdC54KTtcbiAgICAgICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgcmVjdC55KTtcbiAgICAgICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgcmVjdC54ICsgcmVjdC53aWR0aCk7XG4gICAgICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIHJlY3QueSArIHJlY3QuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzaGFwZXMgPSB0aGlzLmZpbmQoJ1NoYXBlJyk7XG4gICAgICAgIHZhciBoYXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hhcGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc2hhcGUgPSBzaGFwZXNbaV07XG4gICAgICAgICAgICBpZiAoc2hhcGUuX2lzVmlzaWJsZSh0aGlzKSkge1xuICAgICAgICAgICAgICAgIGhhc1Zpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNWaXNpYmxlICYmIG1pblggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2VsZlJlY3QgPSB7XG4gICAgICAgICAgICAgICAgeDogbWluWCxcbiAgICAgICAgICAgICAgICB5OiBtaW5ZLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBtYXhYIC0gbWluWCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IG1heFkgLSBtaW5ZLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNlbGZSZWN0ID0ge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2tpcFRyYW5zZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zZm9ybWVkUmVjdChzZWxmUmVjdCwgcmVsYXRpdmVUbyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGZSZWN0O1xuICAgIH1cbn1cbmV4cG9ydHMuQ29udGFpbmVyID0gQ29udGFpbmVyO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkQ29tcG9uZW50c0dldHRlclNldHRlcihDb250YWluZXIsICdjbGlwJywgW1xuICAgICd4JyxcbiAgICAneScsXG4gICAgJ3dpZHRoJyxcbiAgICAnaGVpZ2h0Jyxcbl0pO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKENvbnRhaW5lciwgJ2NsaXBYJywgdW5kZWZpbmVkLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoQ29udGFpbmVyLCAnY2xpcFknLCB1bmRlZmluZWQsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihDb250YWluZXIsICdjbGlwV2lkdGgnLCB1bmRlZmluZWQsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihDb250YWluZXIsICdjbGlwSGVpZ2h0JywgdW5kZWZpbmVkLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoQ29udGFpbmVyLCAnY2xpcEZ1bmMnKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVsZWFzZUNhcHR1cmUgPSBleHBvcnRzLnNldFBvaW50ZXJDYXB0dXJlID0gZXhwb3J0cy5oYXNQb2ludGVyQ2FwdHVyZSA9IGV4cG9ydHMuY3JlYXRlRXZlbnQgPSBleHBvcnRzLmdldENhcHR1cmVkU2hhcGUgPSB2b2lkIDA7XG5jb25zdCBHbG9iYWxfMSA9IHJlcXVpcmUoXCIuL0dsb2JhbFwiKTtcbmNvbnN0IENhcHR1cmVzID0gbmV3IE1hcCgpO1xuY29uc3QgU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyA9IEdsb2JhbF8xLktvbnZhLl9nbG9iYWxbJ1BvaW50ZXJFdmVudCddICE9PSB1bmRlZmluZWQ7XG5mdW5jdGlvbiBnZXRDYXB0dXJlZFNoYXBlKHBvaW50ZXJJZCkge1xuICAgIHJldHVybiBDYXB0dXJlcy5nZXQocG9pbnRlcklkKTtcbn1cbmV4cG9ydHMuZ2V0Q2FwdHVyZWRTaGFwZSA9IGdldENhcHR1cmVkU2hhcGU7XG5mdW5jdGlvbiBjcmVhdGVFdmVudChldnQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBldnQsXG4gICAgICAgIHBvaW50ZXJJZDogZXZ0LnBvaW50ZXJJZCxcbiAgICB9O1xufVxuZXhwb3J0cy5jcmVhdGVFdmVudCA9IGNyZWF0ZUV2ZW50O1xuZnVuY3Rpb24gaGFzUG9pbnRlckNhcHR1cmUocG9pbnRlcklkLCBzaGFwZSkge1xuICAgIHJldHVybiBDYXB0dXJlcy5nZXQocG9pbnRlcklkKSA9PT0gc2hhcGU7XG59XG5leHBvcnRzLmhhc1BvaW50ZXJDYXB0dXJlID0gaGFzUG9pbnRlckNhcHR1cmU7XG5mdW5jdGlvbiBzZXRQb2ludGVyQ2FwdHVyZShwb2ludGVySWQsIHNoYXBlKSB7XG4gICAgcmVsZWFzZUNhcHR1cmUocG9pbnRlcklkKTtcbiAgICBjb25zdCBzdGFnZSA9IHNoYXBlLmdldFN0YWdlKCk7XG4gICAgaWYgKCFzdGFnZSlcbiAgICAgICAgcmV0dXJuO1xuICAgIENhcHR1cmVzLnNldChwb2ludGVySWQsIHNoYXBlKTtcbiAgICBpZiAoU1VQUE9SVF9QT0lOVEVSX0VWRU5UUykge1xuICAgICAgICBzaGFwZS5fZmlyZSgnZ290cG9pbnRlcmNhcHR1cmUnLCBjcmVhdGVFdmVudChuZXcgUG9pbnRlckV2ZW50KCdnb3Rwb2ludGVyY2FwdHVyZScpKSk7XG4gICAgfVxufVxuZXhwb3J0cy5zZXRQb2ludGVyQ2FwdHVyZSA9IHNldFBvaW50ZXJDYXB0dXJlO1xuZnVuY3Rpb24gcmVsZWFzZUNhcHR1cmUocG9pbnRlcklkLCB0YXJnZXQpIHtcbiAgICBjb25zdCBzaGFwZSA9IENhcHR1cmVzLmdldChwb2ludGVySWQpO1xuICAgIGlmICghc2hhcGUpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCBzdGFnZSA9IHNoYXBlLmdldFN0YWdlKCk7XG4gICAgaWYgKHN0YWdlICYmIHN0YWdlLmNvbnRlbnQpIHtcbiAgICB9XG4gICAgQ2FwdHVyZXMuZGVsZXRlKHBvaW50ZXJJZCk7XG4gICAgaWYgKFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMpIHtcbiAgICAgICAgc2hhcGUuX2ZpcmUoJ2xvc3Rwb2ludGVyY2FwdHVyZScsIGNyZWF0ZUV2ZW50KG5ldyBQb2ludGVyRXZlbnQoJ2xvc3Rwb2ludGVyY2FwdHVyZScpKSk7XG4gICAgfVxufVxuZXhwb3J0cy5yZWxlYXNlQ2FwdHVyZSA9IHJlbGVhc2VDYXB0dXJlO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TdGFnZSA9IGV4cG9ydHMuc3RhZ2VzID0gdm9pZCAwO1xuY29uc3QgVXRpbF8xID0gcmVxdWlyZShcIi4vVXRpbFwiKTtcbmNvbnN0IEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuL0ZhY3RvcnlcIik7XG5jb25zdCBDb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL0NvbnRhaW5lclwiKTtcbmNvbnN0IEdsb2JhbF8xID0gcmVxdWlyZShcIi4vR2xvYmFsXCIpO1xuY29uc3QgQ2FudmFzXzEgPSByZXF1aXJlKFwiLi9DYW52YXNcIik7XG5jb25zdCBEcmFnQW5kRHJvcF8xID0gcmVxdWlyZShcIi4vRHJhZ0FuZERyb3BcIik7XG5jb25zdCBHbG9iYWxfMiA9IHJlcXVpcmUoXCIuL0dsb2JhbFwiKTtcbmNvbnN0IFBvaW50ZXJFdmVudHMgPSByZXF1aXJlKFwiLi9Qb2ludGVyRXZlbnRzXCIpO1xudmFyIFNUQUdFID0gJ1N0YWdlJywgU1RSSU5HID0gJ3N0cmluZycsIFBYID0gJ3B4JywgTU9VU0VPVVQgPSAnbW91c2VvdXQnLCBNT1VTRUxFQVZFID0gJ21vdXNlbGVhdmUnLCBNT1VTRU9WRVIgPSAnbW91c2VvdmVyJywgTU9VU0VFTlRFUiA9ICdtb3VzZWVudGVyJywgTU9VU0VNT1ZFID0gJ21vdXNlbW92ZScsIE1PVVNFRE9XTiA9ICdtb3VzZWRvd24nLCBNT1VTRVVQID0gJ21vdXNldXAnLCBQT0lOVEVSTU9WRSA9ICdwb2ludGVybW92ZScsIFBPSU5URVJET1dOID0gJ3BvaW50ZXJkb3duJywgUE9JTlRFUlVQID0gJ3BvaW50ZXJ1cCcsIFBPSU5URVJDQU5DRUwgPSAncG9pbnRlcmNhbmNlbCcsIExPU1RQT0lOVEVSQ0FQVFVSRSA9ICdsb3N0cG9pbnRlcmNhcHR1cmUnLCBQT0lOVEVST1VUID0gJ3BvaW50ZXJvdXQnLCBQT0lOVEVSTEVBVkUgPSAncG9pbnRlcmxlYXZlJywgUE9JTlRFUk9WRVIgPSAncG9pbnRlcm92ZXInLCBQT0lOVEVSRU5URVIgPSAncG9pbnRlcmVudGVyJywgQ09OVEVYVE1FTlUgPSAnY29udGV4dG1lbnUnLCBUT1VDSFNUQVJUID0gJ3RvdWNoc3RhcnQnLCBUT1VDSEVORCA9ICd0b3VjaGVuZCcsIFRPVUNITU9WRSA9ICd0b3VjaG1vdmUnLCBUT1VDSENBTkNFTCA9ICd0b3VjaGNhbmNlbCcsIFdIRUVMID0gJ3doZWVsJywgTUFYX0xBWUVSU19OVU1CRVIgPSA1LCBFVkVOVFMgPSBbXG4gICAgW01PVVNFRU5URVIsICdfcG9pbnRlcmVudGVyJ10sXG4gICAgW01PVVNFRE9XTiwgJ19wb2ludGVyZG93biddLFxuICAgIFtNT1VTRU1PVkUsICdfcG9pbnRlcm1vdmUnXSxcbiAgICBbTU9VU0VVUCwgJ19wb2ludGVydXAnXSxcbiAgICBbTU9VU0VMRUFWRSwgJ19wb2ludGVybGVhdmUnXSxcbiAgICBbVE9VQ0hTVEFSVCwgJ19wb2ludGVyZG93biddLFxuICAgIFtUT1VDSE1PVkUsICdfcG9pbnRlcm1vdmUnXSxcbiAgICBbVE9VQ0hFTkQsICdfcG9pbnRlcnVwJ10sXG4gICAgW1RPVUNIQ0FOQ0VMLCAnX3BvaW50ZXJjYW5jZWwnXSxcbiAgICBbTU9VU0VPVkVSLCAnX3BvaW50ZXJvdmVyJ10sXG4gICAgW1dIRUVMLCAnX3doZWVsJ10sXG4gICAgW0NPTlRFWFRNRU5VLCAnX2NvbnRleHRtZW51J10sXG4gICAgW1BPSU5URVJET1dOLCAnX3BvaW50ZXJkb3duJ10sXG4gICAgW1BPSU5URVJNT1ZFLCAnX3BvaW50ZXJtb3ZlJ10sXG4gICAgW1BPSU5URVJVUCwgJ19wb2ludGVydXAnXSxcbiAgICBbUE9JTlRFUkNBTkNFTCwgJ19wb2ludGVyY2FuY2VsJ10sXG4gICAgW0xPU1RQT0lOVEVSQ0FQVFVSRSwgJ19sb3N0cG9pbnRlcmNhcHR1cmUnXSxcbl07XG5jb25zdCBFVkVOVFNfTUFQID0ge1xuICAgIG1vdXNlOiB7XG4gICAgICAgIFtQT0lOVEVST1VUXTogTU9VU0VPVVQsXG4gICAgICAgIFtQT0lOVEVSTEVBVkVdOiBNT1VTRUxFQVZFLFxuICAgICAgICBbUE9JTlRFUk9WRVJdOiBNT1VTRU9WRVIsXG4gICAgICAgIFtQT0lOVEVSRU5URVJdOiBNT1VTRUVOVEVSLFxuICAgICAgICBbUE9JTlRFUk1PVkVdOiBNT1VTRU1PVkUsXG4gICAgICAgIFtQT0lOVEVSRE9XTl06IE1PVVNFRE9XTixcbiAgICAgICAgW1BPSU5URVJVUF06IE1PVVNFVVAsXG4gICAgICAgIFtQT0lOVEVSQ0FOQ0VMXTogJ21vdXNlY2FuY2VsJyxcbiAgICAgICAgcG9pbnRlcmNsaWNrOiAnY2xpY2snLFxuICAgICAgICBwb2ludGVyZGJsY2xpY2s6ICdkYmxjbGljaycsXG4gICAgfSxcbiAgICB0b3VjaDoge1xuICAgICAgICBbUE9JTlRFUk9VVF06ICd0b3VjaG91dCcsXG4gICAgICAgIFtQT0lOVEVSTEVBVkVdOiAndG91Y2hsZWF2ZScsXG4gICAgICAgIFtQT0lOVEVST1ZFUl06ICd0b3VjaG92ZXInLFxuICAgICAgICBbUE9JTlRFUkVOVEVSXTogJ3RvdWNoZW50ZXInLFxuICAgICAgICBbUE9JTlRFUk1PVkVdOiBUT1VDSE1PVkUsXG4gICAgICAgIFtQT0lOVEVSRE9XTl06IFRPVUNIU1RBUlQsXG4gICAgICAgIFtQT0lOVEVSVVBdOiBUT1VDSEVORCxcbiAgICAgICAgW1BPSU5URVJDQU5DRUxdOiBUT1VDSENBTkNFTCxcbiAgICAgICAgcG9pbnRlcmNsaWNrOiAndGFwJyxcbiAgICAgICAgcG9pbnRlcmRibGNsaWNrOiAnZGJsdGFwJyxcbiAgICB9LFxuICAgIHBvaW50ZXI6IHtcbiAgICAgICAgW1BPSU5URVJPVVRdOiBQT0lOVEVST1VULFxuICAgICAgICBbUE9JTlRFUkxFQVZFXTogUE9JTlRFUkxFQVZFLFxuICAgICAgICBbUE9JTlRFUk9WRVJdOiBQT0lOVEVST1ZFUixcbiAgICAgICAgW1BPSU5URVJFTlRFUl06IFBPSU5URVJFTlRFUixcbiAgICAgICAgW1BPSU5URVJNT1ZFXTogUE9JTlRFUk1PVkUsXG4gICAgICAgIFtQT0lOVEVSRE9XTl06IFBPSU5URVJET1dOLFxuICAgICAgICBbUE9JTlRFUlVQXTogUE9JTlRFUlVQLFxuICAgICAgICBbUE9JTlRFUkNBTkNFTF06IFBPSU5URVJDQU5DRUwsXG4gICAgICAgIHBvaW50ZXJjbGljazogJ3BvaW50ZXJjbGljaycsXG4gICAgICAgIHBvaW50ZXJkYmxjbGljazogJ3BvaW50ZXJkYmxjbGljaycsXG4gICAgfSxcbn07XG5jb25zdCBnZXRFdmVudFR5cGUgPSAodHlwZSkgPT4ge1xuICAgIGlmICh0eXBlLmluZGV4T2YoJ3BvaW50ZXInKSA+PSAwKSB7XG4gICAgICAgIHJldHVybiAncG9pbnRlcic7XG4gICAgfVxuICAgIGlmICh0eXBlLmluZGV4T2YoJ3RvdWNoJykgPj0gMCkge1xuICAgICAgICByZXR1cm4gJ3RvdWNoJztcbiAgICB9XG4gICAgcmV0dXJuICdtb3VzZSc7XG59O1xuY29uc3QgZ2V0RXZlbnRzTWFwID0gKGV2ZW50VHlwZSkgPT4ge1xuICAgIGNvbnN0IHR5cGUgPSBnZXRFdmVudFR5cGUoZXZlbnRUeXBlKTtcbiAgICBpZiAodHlwZSA9PT0gJ3BvaW50ZXInKSB7XG4gICAgICAgIHJldHVybiBHbG9iYWxfMS5Lb252YS5wb2ludGVyRXZlbnRzRW5hYmxlZCAmJiBFVkVOVFNfTUFQLnBvaW50ZXI7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgIHJldHVybiBFVkVOVFNfTUFQLnRvdWNoO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICByZXR1cm4gRVZFTlRTX01BUC5tb3VzZTtcbiAgICB9XG59O1xuZnVuY3Rpb24gY2hlY2tOb0NsaXAoYXR0cnMgPSB7fSkge1xuICAgIGlmIChhdHRycy5jbGlwRnVuYyB8fCBhdHRycy5jbGlwV2lkdGggfHwgYXR0cnMuY2xpcEhlaWdodCkge1xuICAgICAgICBVdGlsXzEuVXRpbC53YXJuKCdTdGFnZSBkb2VzIG5vdCBzdXBwb3J0IGNsaXBwaW5nLiBQbGVhc2UgdXNlIGNsaXAgZm9yIExheWVycyBvciBHcm91cHMuJyk7XG4gICAgfVxuICAgIHJldHVybiBhdHRycztcbn1cbmNvbnN0IE5PX1BPSU5URVJTX01FU1NBR0UgPSBgUG9pbnRlciBwb3NpdGlvbiBpcyBtaXNzaW5nIGFuZCBub3QgcmVnaXN0ZXJlZCBieSB0aGUgc3RhZ2UuIExvb2tzIGxpa2UgaXQgaXMgb3V0c2lkZSBvZiB0aGUgc3RhZ2UgY29udGFpbmVyLiBZb3UgY2FuIHNldCBpdCBtYW51YWxseSBmcm9tIGV2ZW50OiBzdGFnZS5zZXRQb2ludGVyc1Bvc2l0aW9ucyhldmVudCk7YDtcbmV4cG9ydHMuc3RhZ2VzID0gW107XG5jbGFzcyBTdGFnZSBleHRlbmRzIENvbnRhaW5lcl8xLkNvbnRhaW5lciB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKGNoZWNrTm9DbGlwKGNvbmZpZykpO1xuICAgICAgICB0aGlzLl9wb2ludGVyUG9zaXRpb25zID0gW107XG4gICAgICAgIHRoaXMuX2NoYW5nZWRQb2ludGVyUG9zaXRpb25zID0gW107XG4gICAgICAgIHRoaXMuX2J1aWxkRE9NKCk7XG4gICAgICAgIHRoaXMuX2JpbmRDb250ZW50RXZlbnRzKCk7XG4gICAgICAgIGV4cG9ydHMuc3RhZ2VzLnB1c2godGhpcyk7XG4gICAgICAgIHRoaXMub24oJ3dpZHRoQ2hhbmdlLmtvbnZhIGhlaWdodENoYW5nZS5rb252YScsIHRoaXMuX3Jlc2l6ZURPTSk7XG4gICAgICAgIHRoaXMub24oJ3Zpc2libGVDaGFuZ2Uua29udmEnLCB0aGlzLl9jaGVja1Zpc2liaWxpdHkpO1xuICAgICAgICB0aGlzLm9uKCdjbGlwV2lkdGhDaGFuZ2Uua29udmEgY2xpcEhlaWdodENoYW5nZS5rb252YSBjbGlwRnVuY0NoYW5nZS5rb252YScsICgpID0+IHtcbiAgICAgICAgICAgIGNoZWNrTm9DbGlwKHRoaXMuYXR0cnMpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fY2hlY2tWaXNpYmlsaXR5KCk7XG4gICAgfVxuICAgIF92YWxpZGF0ZUFkZChjaGlsZCkge1xuICAgICAgICBjb25zdCBpc0xheWVyID0gY2hpbGQuZ2V0VHlwZSgpID09PSAnTGF5ZXInO1xuICAgICAgICBjb25zdCBpc0Zhc3RMYXllciA9IGNoaWxkLmdldFR5cGUoKSA9PT0gJ0Zhc3RMYXllcic7XG4gICAgICAgIGNvbnN0IHZhbGlkID0gaXNMYXllciB8fCBpc0Zhc3RMYXllcjtcbiAgICAgICAgaWYgKCF2YWxpZCkge1xuICAgICAgICAgICAgVXRpbF8xLlV0aWwudGhyb3coJ1lvdSBtYXkgb25seSBhZGQgbGF5ZXJzIHRvIHRoZSBzdGFnZS4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY2hlY2tWaXNpYmlsaXR5KCkge1xuICAgICAgICBpZiAoIXRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy52aXNpYmxlKCkgPyAnJyA6ICdub25lJztcbiAgICAgICAgdGhpcy5jb250ZW50LnN0eWxlLmRpc3BsYXkgPSBzdHlsZTtcbiAgICB9XG4gICAgc2V0Q29udGFpbmVyKGNvbnRhaW5lcikge1xuICAgICAgICBpZiAodHlwZW9mIGNvbnRhaW5lciA9PT0gU1RSSU5HKSB7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLmNoYXJBdCgwKSA9PT0gJy4nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IGNvbnRhaW5lci5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSlbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgaWQ7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5jaGFyQXQoMCkgIT09ICcjJykge1xuICAgICAgICAgICAgICAgICAgICBpZCA9IGNvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlkID0gY29udGFpbmVyLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHRocm93ICdDYW4gbm90IGZpbmQgY29udGFpbmVyIGluIGRvY3VtZW50IHdpdGggaWQgJyArIGlkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldEF0dHIoJ2NvbnRhaW5lcicsIGNvbnRhaW5lcik7XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnQucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuY29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2hvdWxkRHJhd0hpdCgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB2YXIgbGF5ZXJzID0gdGhpcy5jaGlsZHJlbiwgbGVuID0gbGF5ZXJzLmxlbmd0aCwgbjtcbiAgICAgICAgZm9yIChuID0gMDsgbiA8IGxlbjsgbisrKSB7XG4gICAgICAgICAgICBsYXllcnNbbl0uY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY2xvbmUob2JqKSB7XG4gICAgICAgIGlmICghb2JqKSB7XG4gICAgICAgICAgICBvYmogPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBvYmouY29udGFpbmVyID1cbiAgICAgICAgICAgIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHJldHVybiBDb250YWluZXJfMS5Db250YWluZXIucHJvdG90eXBlLmNsb25lLmNhbGwodGhpcywgb2JqKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgICAgICB2YXIgY29udGVudCA9IHRoaXMuY29udGVudDtcbiAgICAgICAgaWYgKGNvbnRlbnQgJiYgVXRpbF8xLlV0aWwuX2lzSW5Eb2N1bWVudChjb250ZW50KSkge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIoKS5yZW1vdmVDaGlsZChjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBleHBvcnRzLnN0YWdlcy5pbmRleE9mKHRoaXMpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgZXhwb3J0cy5zdGFnZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBVdGlsXzEuVXRpbC5yZWxlYXNlQ2FudmFzKHRoaXMuYnVmZmVyQ2FudmFzLl9jYW52YXMsIHRoaXMuYnVmZmVySGl0Q2FudmFzLl9jYW52YXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0UG9pbnRlclBvc2l0aW9uKCkge1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLl9wb2ludGVyUG9zaXRpb25zWzBdIHx8IHRoaXMuX2NoYW5nZWRQb2ludGVyUG9zaXRpb25zWzBdO1xuICAgICAgICBpZiAoIXBvcykge1xuICAgICAgICAgICAgVXRpbF8xLlV0aWwud2FybihOT19QT0lOVEVSU19NRVNTQUdFKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBwb3MueCxcbiAgICAgICAgICAgIHk6IHBvcy55LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfZ2V0UG9pbnRlckJ5SWQoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BvaW50ZXJQb3NpdGlvbnMuZmluZCgocCkgPT4gcC5pZCA9PT0gaWQpO1xuICAgIH1cbiAgICBnZXRQb2ludGVyc1Bvc2l0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BvaW50ZXJQb3NpdGlvbnM7XG4gICAgfVxuICAgIGdldFN0YWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0Q29udGVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudDtcbiAgICB9XG4gICAgX3RvS29udmFDYW52YXMoY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgICAgICAgY29uZmlnLnggPSBjb25maWcueCB8fCAwO1xuICAgICAgICBjb25maWcueSA9IGNvbmZpZy55IHx8IDA7XG4gICAgICAgIGNvbmZpZy53aWR0aCA9IGNvbmZpZy53aWR0aCB8fCB0aGlzLndpZHRoKCk7XG4gICAgICAgIGNvbmZpZy5oZWlnaHQgPSBjb25maWcuaGVpZ2h0IHx8IHRoaXMuaGVpZ2h0KCk7XG4gICAgICAgIHZhciBjYW52YXMgPSBuZXcgQ2FudmFzXzEuU2NlbmVDYW52YXMoe1xuICAgICAgICAgICAgd2lkdGg6IGNvbmZpZy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogY29uZmlnLmhlaWdodCxcbiAgICAgICAgICAgIHBpeGVsUmF0aW86IGNvbmZpZy5waXhlbFJhdGlvIHx8IDEsXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgX2NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgpLl9jb250ZXh0O1xuICAgICAgICB2YXIgbGF5ZXJzID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgaWYgKGNvbmZpZy54IHx8IGNvbmZpZy55KSB7XG4gICAgICAgICAgICBfY29udGV4dC50cmFuc2xhdGUoLTEgKiBjb25maWcueCwgLTEgKiBjb25maWcueSk7XG4gICAgICAgIH1cbiAgICAgICAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgICAgICAgICBpZiAoIWxheWVyLmlzVmlzaWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxheWVyQ2FudmFzID0gbGF5ZXIuX3RvS29udmFDYW52YXMoY29uZmlnKTtcbiAgICAgICAgICAgIF9jb250ZXh0LmRyYXdJbWFnZShsYXllckNhbnZhcy5fY2FudmFzLCBjb25maWcueCwgY29uZmlnLnksIGxheWVyQ2FudmFzLmdldFdpZHRoKCkgLyBsYXllckNhbnZhcy5nZXRQaXhlbFJhdGlvKCksIGxheWVyQ2FudmFzLmdldEhlaWdodCgpIC8gbGF5ZXJDYW52YXMuZ2V0UGl4ZWxSYXRpbygpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfVxuICAgIGdldEludGVyc2VjdGlvbihwb3MpIHtcbiAgICAgICAgaWYgKCFwb3MpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXllcnMgPSB0aGlzLmNoaWxkcmVuLCBsZW4gPSBsYXllcnMubGVuZ3RoLCBlbmQgPSBsZW4gLSAxLCBuO1xuICAgICAgICBmb3IgKG4gPSBlbmQ7IG4gPj0gMDsgbi0tKSB7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IGxheWVyc1tuXS5nZXRJbnRlcnNlY3Rpb24ocG9zKTtcbiAgICAgICAgICAgIGlmIChzaGFwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaGFwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgX3Jlc2l6ZURPTSgpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aCgpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5oZWlnaHQoKTtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50LnN0eWxlLndpZHRoID0gd2lkdGggKyBQWDtcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBQWDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1ZmZlckNhbnZhcy5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLmJ1ZmZlckhpdENhbnZhcy5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goKGxheWVyKSA9PiB7XG4gICAgICAgICAgICBsYXllci5zZXRTaXplKHsgd2lkdGgsIGhlaWdodCB9KTtcbiAgICAgICAgICAgIGxheWVyLmRyYXcoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFkZChsYXllciwgLi4ucmVzdCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoYXJndW1lbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmFkZChsYXllcik7XG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA+IE1BWF9MQVlFUlNfTlVNQkVSKSB7XG4gICAgICAgICAgICBVdGlsXzEuVXRpbC53YXJuKCdUaGUgc3RhZ2UgaGFzICcgK1xuICAgICAgICAgICAgICAgIGxlbmd0aCArXG4gICAgICAgICAgICAgICAgJyBsYXllcnMuIFJlY29tbWVuZGVkIG1heGltdW0gbnVtYmVyIG9mIGxheWVycyBpcyAzLTUuIEFkZGluZyBtb3JlIGxheWVycyBpbnRvIHRoZSBzdGFnZSBtYXkgZHJvcCB0aGUgcGVyZm9ybWFuY2UuIFJldGhpbmsgeW91ciB0cmVlIHN0cnVjdHVyZSwgeW91IGNhbiB1c2UgS29udmEuR3JvdXAuJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGF5ZXIuc2V0U2l6ZSh7IHdpZHRoOiB0aGlzLndpZHRoKCksIGhlaWdodDogdGhpcy5oZWlnaHQoKSB9KTtcbiAgICAgICAgbGF5ZXIuZHJhdygpO1xuICAgICAgICBpZiAoR2xvYmFsXzEuS29udmEuaXNCcm93c2VyKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQuYXBwZW5kQ2hpbGQobGF5ZXIuY2FudmFzLl9jYW52YXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXRQYXJlbnQoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBnZXRMYXllcigpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGhhc1BvaW50ZXJDYXB0dXJlKHBvaW50ZXJJZCkge1xuICAgICAgICByZXR1cm4gUG9pbnRlckV2ZW50cy5oYXNQb2ludGVyQ2FwdHVyZShwb2ludGVySWQsIHRoaXMpO1xuICAgIH1cbiAgICBzZXRQb2ludGVyQ2FwdHVyZShwb2ludGVySWQpIHtcbiAgICAgICAgUG9pbnRlckV2ZW50cy5zZXRQb2ludGVyQ2FwdHVyZShwb2ludGVySWQsIHRoaXMpO1xuICAgIH1cbiAgICByZWxlYXNlQ2FwdHVyZShwb2ludGVySWQpIHtcbiAgICAgICAgUG9pbnRlckV2ZW50cy5yZWxlYXNlQ2FwdHVyZShwb2ludGVySWQsIHRoaXMpO1xuICAgIH1cbiAgICBnZXRMYXllcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuO1xuICAgIH1cbiAgICBfYmluZENvbnRlbnRFdmVudHMoKSB7XG4gICAgICAgIGlmICghR2xvYmFsXzEuS29udmEuaXNCcm93c2VyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgRVZFTlRTLmZvckVhY2goKFtldmVudCwgbWV0aG9kTmFtZV0pID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCAoZXZ0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpc1ttZXRob2ROYW1lXShldnQpO1xuICAgICAgICAgICAgfSwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9wb2ludGVyZW50ZXIoZXZ0KSB7XG4gICAgICAgIHRoaXMuc2V0UG9pbnRlcnNQb3NpdGlvbnMoZXZ0KTtcbiAgICAgICAgY29uc3QgZXZlbnRzID0gZ2V0RXZlbnRzTWFwKGV2dC50eXBlKTtcbiAgICAgICAgaWYgKGV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5fZmlyZShldmVudHMucG9pbnRlcmVudGVyLCB7XG4gICAgICAgICAgICAgICAgZXZ0OiBldnQsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXQ6IHRoaXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcG9pbnRlcm92ZXIoZXZ0KSB7XG4gICAgICAgIHRoaXMuc2V0UG9pbnRlcnNQb3NpdGlvbnMoZXZ0KTtcbiAgICAgICAgY29uc3QgZXZlbnRzID0gZ2V0RXZlbnRzTWFwKGV2dC50eXBlKTtcbiAgICAgICAgaWYgKGV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5fZmlyZShldmVudHMucG9pbnRlcm92ZXIsIHtcbiAgICAgICAgICAgICAgICBldnQ6IGV2dCxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgY3VycmVudFRhcmdldDogdGhpcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9nZXRUYXJnZXRTaGFwZShldmVuVHlwZSkge1xuICAgICAgICBsZXQgc2hhcGUgPSB0aGlzW2V2ZW5UeXBlICsgJ3RhcmdldFNoYXBlJ107XG4gICAgICAgIGlmIChzaGFwZSAmJiAhc2hhcGUuZ2V0U3RhZ2UoKSkge1xuICAgICAgICAgICAgc2hhcGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaGFwZTtcbiAgICB9XG4gICAgX3BvaW50ZXJsZWF2ZShldnQpIHtcbiAgICAgICAgY29uc3QgZXZlbnRzID0gZ2V0RXZlbnRzTWFwKGV2dC50eXBlKTtcbiAgICAgICAgY29uc3QgZXZlbnRUeXBlID0gZ2V0RXZlbnRUeXBlKGV2dC50eXBlKTtcbiAgICAgICAgaWYgKCFldmVudHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFBvaW50ZXJzUG9zaXRpb25zKGV2dCk7XG4gICAgICAgIHZhciB0YXJnZXRTaGFwZSA9IHRoaXMuX2dldFRhcmdldFNoYXBlKGV2ZW50VHlwZSk7XG4gICAgICAgIHZhciBldmVudHNFbmFibGVkID0gIURyYWdBbmREcm9wXzEuREQuaXNEcmFnZ2luZyB8fCBHbG9iYWxfMS5Lb252YS5oaXRPbkRyYWdFbmFibGVkO1xuICAgICAgICBpZiAodGFyZ2V0U2hhcGUgJiYgZXZlbnRzRW5hYmxlZCkge1xuICAgICAgICAgICAgdGFyZ2V0U2hhcGUuX2ZpcmVBbmRCdWJibGUoZXZlbnRzLnBvaW50ZXJvdXQsIHsgZXZ0OiBldnQgfSk7XG4gICAgICAgICAgICB0YXJnZXRTaGFwZS5fZmlyZUFuZEJ1YmJsZShldmVudHMucG9pbnRlcmxlYXZlLCB7IGV2dDogZXZ0IH0pO1xuICAgICAgICAgICAgdGhpcy5fZmlyZShldmVudHMucG9pbnRlcmxlYXZlLCB7XG4gICAgICAgICAgICAgICAgZXZ0OiBldnQsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXQ6IHRoaXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXNbZXZlbnRUeXBlICsgJ3RhcmdldFNoYXBlJ10gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50c0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmUoZXZlbnRzLnBvaW50ZXJsZWF2ZSwge1xuICAgICAgICAgICAgICAgIGV2dDogZXZ0LFxuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0OiB0aGlzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9maXJlKGV2ZW50cy5wb2ludGVyb3V0LCB7XG4gICAgICAgICAgICAgICAgZXZ0OiBldnQsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXQ6IHRoaXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvaW50ZXJQb3MgPSBudWxsO1xuICAgICAgICB0aGlzLl9wb2ludGVyUG9zaXRpb25zID0gW107XG4gICAgfVxuICAgIF9wb2ludGVyZG93bihldnQpIHtcbiAgICAgICAgY29uc3QgZXZlbnRzID0gZ2V0RXZlbnRzTWFwKGV2dC50eXBlKTtcbiAgICAgICAgY29uc3QgZXZlbnRUeXBlID0gZ2V0RXZlbnRUeXBlKGV2dC50eXBlKTtcbiAgICAgICAgaWYgKCFldmVudHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFBvaW50ZXJzUG9zaXRpb25zKGV2dCk7XG4gICAgICAgIHZhciB0cmlnZ2VyZWRPblNoYXBlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NoYW5nZWRQb2ludGVyUG9zaXRpb25zLmZvckVhY2goKHBvcykgPT4ge1xuICAgICAgICAgICAgdmFyIHNoYXBlID0gdGhpcy5nZXRJbnRlcnNlY3Rpb24ocG9zKTtcbiAgICAgICAgICAgIERyYWdBbmREcm9wXzEuREQuanVzdERyYWdnZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIEdsb2JhbF8xLktvbnZhWydfJyArIGV2ZW50VHlwZSArICdMaXN0ZW5DbGljayddID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghc2hhcGUgfHwgIXNoYXBlLmlzTGlzdGVuaW5nKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoR2xvYmFsXzEuS29udmEuY2FwdHVyZVBvaW50ZXJFdmVudHNFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgc2hhcGUuc2V0UG9pbnRlckNhcHR1cmUocG9zLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXNbZXZlbnRUeXBlICsgJ0NsaWNrU3RhcnRTaGFwZSddID0gc2hhcGU7XG4gICAgICAgICAgICBzaGFwZS5fZmlyZUFuZEJ1YmJsZShldmVudHMucG9pbnRlcmRvd24sIHtcbiAgICAgICAgICAgICAgICBldnQ6IGV2dCxcbiAgICAgICAgICAgICAgICBwb2ludGVySWQ6IHBvcy5pZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJpZ2dlcmVkT25TaGFwZSA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCBpc1RvdWNoID0gZXZ0LnR5cGUuaW5kZXhPZigndG91Y2gnKSA+PSAwO1xuICAgICAgICAgICAgaWYgKHNoYXBlLnByZXZlbnREZWZhdWx0KCkgJiYgZXZ0LmNhbmNlbGFibGUgJiYgaXNUb3VjaCkge1xuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCF0cmlnZ2VyZWRPblNoYXBlKSB7XG4gICAgICAgICAgICB0aGlzLl9maXJlKGV2ZW50cy5wb2ludGVyZG93biwge1xuICAgICAgICAgICAgICAgIGV2dDogZXZ0LFxuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0OiB0aGlzLFxuICAgICAgICAgICAgICAgIHBvaW50ZXJJZDogdGhpcy5fcG9pbnRlclBvc2l0aW9uc1swXS5pZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9wb2ludGVybW92ZShldnQpIHtcbiAgICAgICAgY29uc3QgZXZlbnRzID0gZ2V0RXZlbnRzTWFwKGV2dC50eXBlKTtcbiAgICAgICAgY29uc3QgZXZlbnRUeXBlID0gZ2V0RXZlbnRUeXBlKGV2dC50eXBlKTtcbiAgICAgICAgaWYgKCFldmVudHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoRHJhZ0FuZERyb3BfMS5ERC5pc0RyYWdnaW5nICYmIERyYWdBbmREcm9wXzEuREQubm9kZS5wcmV2ZW50RGVmYXVsdCgpICYmIGV2dC5jYW5jZWxhYmxlKSB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFBvaW50ZXJzUG9zaXRpb25zKGV2dCk7XG4gICAgICAgIHZhciBldmVudHNFbmFibGVkID0gIURyYWdBbmREcm9wXzEuREQuaXNEcmFnZ2luZyB8fCBHbG9iYWxfMS5Lb252YS5oaXRPbkRyYWdFbmFibGVkO1xuICAgICAgICBpZiAoIWV2ZW50c0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvY2Vzc2VkU2hhcGVzSWRzID0ge307XG4gICAgICAgIGxldCB0cmlnZ2VyZWRPblNoYXBlID0gZmFsc2U7XG4gICAgICAgIHZhciB0YXJnZXRTaGFwZSA9IHRoaXMuX2dldFRhcmdldFNoYXBlKGV2ZW50VHlwZSk7XG4gICAgICAgIHRoaXMuX2NoYW5nZWRQb2ludGVyUG9zaXRpb25zLmZvckVhY2goKHBvcykgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2hhcGUgPSAoUG9pbnRlckV2ZW50cy5nZXRDYXB0dXJlZFNoYXBlKHBvcy5pZCkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmdldEludGVyc2VjdGlvbihwb3MpKTtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ZXJJZCA9IHBvcy5pZDtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0geyBldnQ6IGV2dCwgcG9pbnRlcklkIH07XG4gICAgICAgICAgICB2YXIgZGlmZmVyZW50VGFyZ2V0ID0gdGFyZ2V0U2hhcGUgIT09IHNoYXBlO1xuICAgICAgICAgICAgaWYgKGRpZmZlcmVudFRhcmdldCAmJiB0YXJnZXRTaGFwZSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFNoYXBlLl9maXJlQW5kQnViYmxlKGV2ZW50cy5wb2ludGVyb3V0LCB7IC4uLmV2ZW50IH0sIHNoYXBlKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRTaGFwZS5fZmlyZUFuZEJ1YmJsZShldmVudHMucG9pbnRlcmxlYXZlLCB7IC4uLmV2ZW50IH0sIHNoYXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaGFwZSkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzZWRTaGFwZXNJZHNbc2hhcGUuX2lkXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZFNoYXBlc0lkc1tzaGFwZS5faWRdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaGFwZSAmJiBzaGFwZS5pc0xpc3RlbmluZygpKSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcmVkT25TaGFwZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGRpZmZlcmVudFRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBzaGFwZS5fZmlyZUFuZEJ1YmJsZShldmVudHMucG9pbnRlcm92ZXIsIHsgLi4uZXZlbnQgfSwgdGFyZ2V0U2hhcGUpO1xuICAgICAgICAgICAgICAgICAgICBzaGFwZS5fZmlyZUFuZEJ1YmJsZShldmVudHMucG9pbnRlcmVudGVyLCB7IC4uLmV2ZW50IH0sIHRhcmdldFNoYXBlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tldmVudFR5cGUgKyAndGFyZ2V0U2hhcGUnXSA9IHNoYXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzaGFwZS5fZmlyZUFuZEJ1YmJsZShldmVudHMucG9pbnRlcm1vdmUsIHsgLi4uZXZlbnQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0U2hhcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmlyZShldmVudHMucG9pbnRlcm92ZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2dDogZXZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhcmdldDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbZXZlbnRUeXBlICsgJ3RhcmdldFNoYXBlJ10gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghdHJpZ2dlcmVkT25TaGFwZSkge1xuICAgICAgICAgICAgdGhpcy5fZmlyZShldmVudHMucG9pbnRlcm1vdmUsIHtcbiAgICAgICAgICAgICAgICBldnQ6IGV2dCxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgY3VycmVudFRhcmdldDogdGhpcyxcbiAgICAgICAgICAgICAgICBwb2ludGVySWQ6IHRoaXMuX2NoYW5nZWRQb2ludGVyUG9zaXRpb25zWzBdLmlkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3BvaW50ZXJ1cChldnQpIHtcbiAgICAgICAgY29uc3QgZXZlbnRzID0gZ2V0RXZlbnRzTWFwKGV2dC50eXBlKTtcbiAgICAgICAgY29uc3QgZXZlbnRUeXBlID0gZ2V0RXZlbnRUeXBlKGV2dC50eXBlKTtcbiAgICAgICAgaWYgKCFldmVudHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFBvaW50ZXJzUG9zaXRpb25zKGV2dCk7XG4gICAgICAgIGNvbnN0IGNsaWNrU3RhcnRTaGFwZSA9IHRoaXNbZXZlbnRUeXBlICsgJ0NsaWNrU3RhcnRTaGFwZSddO1xuICAgICAgICBjb25zdCBjbGlja0VuZFNoYXBlID0gdGhpc1tldmVudFR5cGUgKyAnQ2xpY2tFbmRTaGFwZSddO1xuICAgICAgICB2YXIgcHJvY2Vzc2VkU2hhcGVzSWRzID0ge307XG4gICAgICAgIGxldCB0cmlnZ2VyZWRPblNoYXBlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NoYW5nZWRQb2ludGVyUG9zaXRpb25zLmZvckVhY2goKHBvcykgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2hhcGUgPSAoUG9pbnRlckV2ZW50cy5nZXRDYXB0dXJlZFNoYXBlKHBvcy5pZCkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmdldEludGVyc2VjdGlvbihwb3MpKTtcbiAgICAgICAgICAgIGlmIChzaGFwZSkge1xuICAgICAgICAgICAgICAgIHNoYXBlLnJlbGVhc2VDYXB0dXJlKHBvcy5pZCk7XG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3NlZFNoYXBlc0lkc1tzaGFwZS5faWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkU2hhcGVzSWRzW3NoYXBlLl9pZF0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9pbnRlcklkID0gcG9zLmlkO1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB7IGV2dDogZXZ0LCBwb2ludGVySWQgfTtcbiAgICAgICAgICAgIGxldCBmaXJlRGJsQ2xpY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChHbG9iYWxfMS5Lb252YVsnXycgKyBldmVudFR5cGUgKyAnSW5EYmxDbGlja1dpbmRvdyddKSB7XG4gICAgICAgICAgICAgICAgZmlyZURibENsaWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpc1tldmVudFR5cGUgKyAnRGJsVGltZW91dCddKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFEcmFnQW5kRHJvcF8xLkRELmp1c3REcmFnZ2VkKSB7XG4gICAgICAgICAgICAgICAgR2xvYmFsXzEuS29udmFbJ18nICsgZXZlbnRUeXBlICsgJ0luRGJsQ2xpY2tXaW5kb3cnXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXNbZXZlbnRUeXBlICsgJ0RibFRpbWVvdXQnXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzW2V2ZW50VHlwZSArICdEYmxUaW1lb3V0J10gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBHbG9iYWxfMS5Lb252YVsnXycgKyBldmVudFR5cGUgKyAnSW5EYmxDbGlja1dpbmRvdyddID0gZmFsc2U7XG4gICAgICAgICAgICB9LCBHbG9iYWxfMS5Lb252YS5kYmxDbGlja1dpbmRvdyk7XG4gICAgICAgICAgICBpZiAoc2hhcGUgJiYgc2hhcGUuaXNMaXN0ZW5pbmcoKSkge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJlZE9uU2hhcGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXNbZXZlbnRUeXBlICsgJ0NsaWNrRW5kU2hhcGUnXSA9IHNoYXBlO1xuICAgICAgICAgICAgICAgIHNoYXBlLl9maXJlQW5kQnViYmxlKGV2ZW50cy5wb2ludGVydXAsIHsgLi4uZXZlbnQgfSk7XG4gICAgICAgICAgICAgICAgaWYgKEdsb2JhbF8xLktvbnZhWydfJyArIGV2ZW50VHlwZSArICdMaXN0ZW5DbGljayddICYmXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrU3RhcnRTaGFwZSAmJlxuICAgICAgICAgICAgICAgICAgICBjbGlja1N0YXJ0U2hhcGUgPT09IHNoYXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYXBlLl9maXJlQW5kQnViYmxlKGV2ZW50cy5wb2ludGVyY2xpY2ssIHsgLi4uZXZlbnQgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJlRGJsQ2xpY2sgJiYgY2xpY2tFbmRTaGFwZSAmJiBjbGlja0VuZFNoYXBlID09PSBzaGFwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGUuX2ZpcmVBbmRCdWJibGUoZXZlbnRzLnBvaW50ZXJkYmxjbGljaywgeyAuLi5ldmVudCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXNbZXZlbnRUeXBlICsgJ0NsaWNrRW5kU2hhcGUnXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKEdsb2JhbF8xLktvbnZhWydfJyArIGV2ZW50VHlwZSArICdMaXN0ZW5DbGljayddKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmUoZXZlbnRzLnBvaW50ZXJjbGljaywge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZ0OiBldnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRlcklkLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZpcmVEYmxDbGljaykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9maXJlKGV2ZW50cy5wb2ludGVyZGJsY2xpY2ssIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2dDogZXZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhcmdldDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCF0cmlnZ2VyZWRPblNoYXBlKSB7XG4gICAgICAgICAgICB0aGlzLl9maXJlKGV2ZW50cy5wb2ludGVydXAsIHtcbiAgICAgICAgICAgICAgICBldnQ6IGV2dCxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgY3VycmVudFRhcmdldDogdGhpcyxcbiAgICAgICAgICAgICAgICBwb2ludGVySWQ6IHRoaXMuX2NoYW5nZWRQb2ludGVyUG9zaXRpb25zWzBdLmlkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgR2xvYmFsXzEuS29udmFbJ18nICsgZXZlbnRUeXBlICsgJ0xpc3RlbkNsaWNrJ10gPSBmYWxzZTtcbiAgICAgICAgaWYgKGV2dC5jYW5jZWxhYmxlICYmIGV2ZW50VHlwZSAhPT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2NvbnRleHRtZW51KGV2dCkge1xuICAgICAgICB0aGlzLnNldFBvaW50ZXJzUG9zaXRpb25zKGV2dCk7XG4gICAgICAgIHZhciBzaGFwZSA9IHRoaXMuZ2V0SW50ZXJzZWN0aW9uKHRoaXMuZ2V0UG9pbnRlclBvc2l0aW9uKCkpO1xuICAgICAgICBpZiAoc2hhcGUgJiYgc2hhcGUuaXNMaXN0ZW5pbmcoKSkge1xuICAgICAgICAgICAgc2hhcGUuX2ZpcmVBbmRCdWJibGUoQ09OVEVYVE1FTlUsIHsgZXZ0OiBldnQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9maXJlKENPTlRFWFRNRU5VLCB7XG4gICAgICAgICAgICAgICAgZXZ0OiBldnQsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXQ6IHRoaXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfd2hlZWwoZXZ0KSB7XG4gICAgICAgIHRoaXMuc2V0UG9pbnRlcnNQb3NpdGlvbnMoZXZ0KTtcbiAgICAgICAgdmFyIHNoYXBlID0gdGhpcy5nZXRJbnRlcnNlY3Rpb24odGhpcy5nZXRQb2ludGVyUG9zaXRpb24oKSk7XG4gICAgICAgIGlmIChzaGFwZSAmJiBzaGFwZS5pc0xpc3RlbmluZygpKSB7XG4gICAgICAgICAgICBzaGFwZS5fZmlyZUFuZEJ1YmJsZShXSEVFTCwgeyBldnQ6IGV2dCB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmUoV0hFRUwsIHtcbiAgICAgICAgICAgICAgICBldnQ6IGV2dCxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgY3VycmVudFRhcmdldDogdGhpcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9wb2ludGVyY2FuY2VsKGV2dCkge1xuICAgICAgICB0aGlzLnNldFBvaW50ZXJzUG9zaXRpb25zKGV2dCk7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gUG9pbnRlckV2ZW50cy5nZXRDYXB0dXJlZFNoYXBlKGV2dC5wb2ludGVySWQpIHx8XG4gICAgICAgICAgICB0aGlzLmdldEludGVyc2VjdGlvbih0aGlzLmdldFBvaW50ZXJQb3NpdGlvbigpKTtcbiAgICAgICAgaWYgKHNoYXBlKSB7XG4gICAgICAgICAgICBzaGFwZS5fZmlyZUFuZEJ1YmJsZShQT0lOVEVSVVAsIFBvaW50ZXJFdmVudHMuY3JlYXRlRXZlbnQoZXZ0KSk7XG4gICAgICAgIH1cbiAgICAgICAgUG9pbnRlckV2ZW50cy5yZWxlYXNlQ2FwdHVyZShldnQucG9pbnRlcklkKTtcbiAgICB9XG4gICAgX2xvc3Rwb2ludGVyY2FwdHVyZShldnQpIHtcbiAgICAgICAgUG9pbnRlckV2ZW50cy5yZWxlYXNlQ2FwdHVyZShldnQucG9pbnRlcklkKTtcbiAgICB9XG4gICAgc2V0UG9pbnRlcnNQb3NpdGlvbnMoZXZ0KSB7XG4gICAgICAgIHZhciBjb250ZW50UG9zaXRpb24gPSB0aGlzLl9nZXRDb250ZW50UG9zaXRpb24oKSwgeCA9IG51bGwsIHkgPSBudWxsO1xuICAgICAgICBldnQgPSBldnQgPyBldnQgOiB3aW5kb3cuZXZlbnQ7XG4gICAgICAgIGlmIChldnQudG91Y2hlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9wb2ludGVyUG9zaXRpb25zID0gW107XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VkUG9pbnRlclBvc2l0aW9ucyA9IFtdO1xuICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChldnQudG91Y2hlcywgKHRvdWNoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9pbnRlclBvc2l0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRvdWNoLmlkZW50aWZpZXIsXG4gICAgICAgICAgICAgICAgICAgIHg6ICh0b3VjaC5jbGllbnRYIC0gY29udGVudFBvc2l0aW9uLmxlZnQpIC8gY29udGVudFBvc2l0aW9uLnNjYWxlWCxcbiAgICAgICAgICAgICAgICAgICAgeTogKHRvdWNoLmNsaWVudFkgLSBjb250ZW50UG9zaXRpb24udG9wKSAvIGNvbnRlbnRQb3NpdGlvbi5zY2FsZVksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZXZ0LmNoYW5nZWRUb3VjaGVzIHx8IGV2dC50b3VjaGVzLCAodG91Y2gpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VkUG9pbnRlclBvc2l0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRvdWNoLmlkZW50aWZpZXIsXG4gICAgICAgICAgICAgICAgICAgIHg6ICh0b3VjaC5jbGllbnRYIC0gY29udGVudFBvc2l0aW9uLmxlZnQpIC8gY29udGVudFBvc2l0aW9uLnNjYWxlWCxcbiAgICAgICAgICAgICAgICAgICAgeTogKHRvdWNoLmNsaWVudFkgLSBjb250ZW50UG9zaXRpb24udG9wKSAvIGNvbnRlbnRQb3NpdGlvbi5zY2FsZVksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHggPSAoZXZ0LmNsaWVudFggLSBjb250ZW50UG9zaXRpb24ubGVmdCkgLyBjb250ZW50UG9zaXRpb24uc2NhbGVYO1xuICAgICAgICAgICAgeSA9IChldnQuY2xpZW50WSAtIGNvbnRlbnRQb3NpdGlvbi50b3ApIC8gY29udGVudFBvc2l0aW9uLnNjYWxlWTtcbiAgICAgICAgICAgIHRoaXMucG9pbnRlclBvcyA9IHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5fcG9pbnRlclBvc2l0aW9ucyA9IFt7IHgsIHksIGlkOiBVdGlsXzEuVXRpbC5fZ2V0Rmlyc3RQb2ludGVySWQoZXZ0KSB9XTtcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZWRQb2ludGVyUG9zaXRpb25zID0gW1xuICAgICAgICAgICAgICAgIHsgeCwgeSwgaWQ6IFV0aWxfMS5VdGlsLl9nZXRGaXJzdFBvaW50ZXJJZChldnQpIH0sXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9zZXRQb2ludGVyUG9zaXRpb24oZXZ0KSB7XG4gICAgICAgIFV0aWxfMS5VdGlsLndhcm4oJ01ldGhvZCBfc2V0UG9pbnRlclBvc2l0aW9uIGlzIGRlcHJlY2F0ZWQuIFVzZSBcInN0YWdlLnNldFBvaW50ZXJzUG9zaXRpb25zKGV2ZW50KVwiIGluc3RlYWQuJyk7XG4gICAgICAgIHRoaXMuc2V0UG9pbnRlcnNQb3NpdGlvbnMoZXZ0KTtcbiAgICB9XG4gICAgX2dldENvbnRlbnRQb3NpdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRlbnQgfHwgIXRoaXMuY29udGVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgc2NhbGVYOiAxLFxuICAgICAgICAgICAgICAgIHNjYWxlWTogMSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLmNvbnRlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3A6IHJlY3QudG9wLFxuICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0LFxuICAgICAgICAgICAgc2NhbGVYOiByZWN0LndpZHRoIC8gdGhpcy5jb250ZW50LmNsaWVudFdpZHRoIHx8IDEsXG4gICAgICAgICAgICBzY2FsZVk6IHJlY3QuaGVpZ2h0IC8gdGhpcy5jb250ZW50LmNsaWVudEhlaWdodCB8fCAxLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfYnVpbGRET00oKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyQ2FudmFzID0gbmV3IENhbnZhc18xLlNjZW5lQ2FudmFzKHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoKCksXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0KCksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmJ1ZmZlckhpdENhbnZhcyA9IG5ldyBDYW52YXNfMS5IaXRDYW52YXMoe1xuICAgICAgICAgICAgcGl4ZWxSYXRpbzogMSxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoKCksXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0KCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIUdsb2JhbF8xLktvbnZhLmlzQnJvd3Nlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcigpO1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhyb3cgJ1N0YWdlIGhhcyBubyBjb250YWluZXIuIEEgY29udGFpbmVyIGlzIHJlcXVpcmVkLic7XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5jb250ZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgICAgdGhpcy5jb250ZW50LnN0eWxlLnVzZXJTZWxlY3QgPSAnbm9uZSc7XG4gICAgICAgIHRoaXMuY29udGVudC5jbGFzc05hbWUgPSAna29udmFqcy1jb250ZW50JztcbiAgICAgICAgdGhpcy5jb250ZW50LnNldEF0dHJpYnV0ZSgncm9sZScsICdwcmVzZW50YXRpb24nKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY29udGVudCk7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZURPTSgpO1xuICAgIH1cbiAgICBjYWNoZSgpIHtcbiAgICAgICAgVXRpbF8xLlV0aWwud2FybignQ2FjaGUgZnVuY3Rpb24gaXMgbm90IGFsbG93ZWQgZm9yIHN0YWdlLiBZb3UgbWF5IHVzZSBjYWNoZSBvbmx5IGZvciBsYXllcnMsIGdyb3VwcyBhbmQgc2hhcGVzLicpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY2xlYXJDYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGJhdGNoRHJhdygpIHtcbiAgICAgICAgdGhpcy5nZXRDaGlsZHJlbigpLmZvckVhY2goZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgICAgICAgICBsYXllci5iYXRjaERyYXcoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbmV4cG9ydHMuU3RhZ2UgPSBTdGFnZTtcblN0YWdlLnByb3RvdHlwZS5ub2RlVHlwZSA9IFNUQUdFO1xuKDAsIEdsb2JhbF8yLl9yZWdpc3Rlck5vZGUpKFN0YWdlKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTdGFnZSwgJ2NvbnRhaW5lcicpO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TaGFwZSA9IGV4cG9ydHMuc2hhcGVzID0gdm9pZCAwO1xuY29uc3QgR2xvYmFsXzEgPSByZXF1aXJlKFwiLi9HbG9iYWxcIik7XG5jb25zdCBVdGlsXzEgPSByZXF1aXJlKFwiLi9VdGlsXCIpO1xuY29uc3QgRmFjdG9yeV8xID0gcmVxdWlyZShcIi4vRmFjdG9yeVwiKTtcbmNvbnN0IE5vZGVfMSA9IHJlcXVpcmUoXCIuL05vZGVcIik7XG5jb25zdCBWYWxpZGF0b3JzXzEgPSByZXF1aXJlKFwiLi9WYWxpZGF0b3JzXCIpO1xuY29uc3QgR2xvYmFsXzIgPSByZXF1aXJlKFwiLi9HbG9iYWxcIik7XG5jb25zdCBQb2ludGVyRXZlbnRzID0gcmVxdWlyZShcIi4vUG9pbnRlckV2ZW50c1wiKTtcbnZhciBIQVNfU0hBRE9XID0gJ2hhc1NoYWRvdyc7XG52YXIgU0hBRE9XX1JHQkEgPSAnc2hhZG93UkdCQSc7XG52YXIgcGF0dGVybkltYWdlID0gJ3BhdHRlcm5JbWFnZSc7XG52YXIgbGluZWFyR3JhZGllbnQgPSAnbGluZWFyR3JhZGllbnQnO1xudmFyIHJhZGlhbEdyYWRpZW50ID0gJ3JhZGlhbEdyYWRpZW50JztcbmxldCBkdW1teUNvbnRleHQ7XG5mdW5jdGlvbiBnZXREdW1teUNvbnRleHQoKSB7XG4gICAgaWYgKGR1bW15Q29udGV4dCkge1xuICAgICAgICByZXR1cm4gZHVtbXlDb250ZXh0O1xuICAgIH1cbiAgICBkdW1teUNvbnRleHQgPSBVdGlsXzEuVXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCkuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICByZXR1cm4gZHVtbXlDb250ZXh0O1xufVxuZXhwb3J0cy5zaGFwZXMgPSB7fTtcbmZ1bmN0aW9uIF9maWxsRnVuYyhjb250ZXh0KSB7XG4gICAgY29uc3QgZmlsbFJ1bGUgPSB0aGlzLmF0dHJzLmZpbGxSdWxlO1xuICAgIGlmIChmaWxsUnVsZSkge1xuICAgICAgICBjb250ZXh0LmZpbGwoZmlsbFJ1bGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gX3N0cm9rZUZ1bmMoY29udGV4dCkge1xuICAgIGNvbnRleHQuc3Ryb2tlKCk7XG59XG5mdW5jdGlvbiBfZmlsbEZ1bmNIaXQoY29udGV4dCkge1xuICAgIGNvbnRleHQuZmlsbCgpO1xufVxuZnVuY3Rpb24gX3N0cm9rZUZ1bmNIaXQoY29udGV4dCkge1xuICAgIGNvbnRleHQuc3Ryb2tlKCk7XG59XG5mdW5jdGlvbiBfY2xlYXJIYXNTaGFkb3dDYWNoZSgpIHtcbiAgICB0aGlzLl9jbGVhckNhY2hlKEhBU19TSEFET1cpO1xufVxuZnVuY3Rpb24gX2NsZWFyR2V0U2hhZG93UkdCQUNhY2hlKCkge1xuICAgIHRoaXMuX2NsZWFyQ2FjaGUoU0hBRE9XX1JHQkEpO1xufVxuZnVuY3Rpb24gX2NsZWFyRmlsbFBhdHRlcm5DYWNoZSgpIHtcbiAgICB0aGlzLl9jbGVhckNhY2hlKHBhdHRlcm5JbWFnZSk7XG59XG5mdW5jdGlvbiBfY2xlYXJMaW5lYXJHcmFkaWVudENhY2hlKCkge1xuICAgIHRoaXMuX2NsZWFyQ2FjaGUobGluZWFyR3JhZGllbnQpO1xufVxuZnVuY3Rpb24gX2NsZWFyUmFkaWFsR3JhZGllbnRDYWNoZSgpIHtcbiAgICB0aGlzLl9jbGVhckNhY2hlKHJhZGlhbEdyYWRpZW50KTtcbn1cbmNsYXNzIFNoYXBlIGV4dGVuZHMgTm9kZV8xLk5vZGUge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICBzdXBlcihjb25maWcpO1xuICAgICAgICBsZXQga2V5O1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAga2V5ID0gVXRpbF8xLlV0aWwuZ2V0UmFuZG9tQ29sb3IoKTtcbiAgICAgICAgICAgIGlmIChrZXkgJiYgIShrZXkgaW4gZXhwb3J0cy5zaGFwZXMpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xvcktleSA9IGtleTtcbiAgICAgICAgZXhwb3J0cy5zaGFwZXNba2V5XSA9IHRoaXM7XG4gICAgfVxuICAgIGdldENvbnRleHQoKSB7XG4gICAgICAgIFV0aWxfMS5VdGlsLndhcm4oJ3NoYXBlLmdldENvbnRleHQoKSBtZXRob2QgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIGRvIG5vdCB1c2UgaXQuJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmdldExheWVyKCkuZ2V0Q29udGV4dCgpO1xuICAgIH1cbiAgICBnZXRDYW52YXMoKSB7XG4gICAgICAgIFV0aWxfMS5VdGlsLndhcm4oJ3NoYXBlLmdldENhbnZhcygpIG1ldGhvZCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgZG8gbm90IHVzZSBpdC4nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGF5ZXIoKS5nZXRDYW52YXMoKTtcbiAgICB9XG4gICAgZ2V0U2NlbmVGdW5jKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRycy5zY2VuZUZ1bmMgfHwgdGhpc1snX3NjZW5lRnVuYyddO1xuICAgIH1cbiAgICBnZXRIaXRGdW5jKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRycy5oaXRGdW5jIHx8IHRoaXNbJ19oaXRGdW5jJ107XG4gICAgfVxuICAgIGhhc1NoYWRvdygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldENhY2hlKEhBU19TSEFET1csIHRoaXMuX2hhc1NoYWRvdyk7XG4gICAgfVxuICAgIF9oYXNTaGFkb3coKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5zaGFkb3dFbmFibGVkKCkgJiZcbiAgICAgICAgICAgIHRoaXMuc2hhZG93T3BhY2l0eSgpICE9PSAwICYmXG4gICAgICAgICAgICAhISh0aGlzLnNoYWRvd0NvbG9yKCkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRvd0JsdXIoKSB8fFxuICAgICAgICAgICAgICAgIHRoaXMuc2hhZG93T2Zmc2V0WCgpIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkb3dPZmZzZXRZKCkpKTtcbiAgICB9XG4gICAgX2dldEZpbGxQYXR0ZXJuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q2FjaGUocGF0dGVybkltYWdlLCB0aGlzLl9fZ2V0RmlsbFBhdHRlcm4pO1xuICAgIH1cbiAgICBfX2dldEZpbGxQYXR0ZXJuKCkge1xuICAgICAgICBpZiAodGhpcy5maWxsUGF0dGVybkltYWdlKCkpIHtcbiAgICAgICAgICAgIHZhciBjdHggPSBnZXREdW1teUNvbnRleHQoKTtcbiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm4gPSBjdHguY3JlYXRlUGF0dGVybih0aGlzLmZpbGxQYXR0ZXJuSW1hZ2UoKSwgdGhpcy5maWxsUGF0dGVyblJlcGVhdCgpIHx8ICdyZXBlYXQnKTtcbiAgICAgICAgICAgIGlmIChwYXR0ZXJuICYmIHBhdHRlcm4uc2V0VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHIgPSBuZXcgVXRpbF8xLlRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRyLnRyYW5zbGF0ZSh0aGlzLmZpbGxQYXR0ZXJuWCgpLCB0aGlzLmZpbGxQYXR0ZXJuWSgpKTtcbiAgICAgICAgICAgICAgICB0ci5yb3RhdGUoR2xvYmFsXzEuS29udmEuZ2V0QW5nbGUodGhpcy5maWxsUGF0dGVyblJvdGF0aW9uKCkpKTtcbiAgICAgICAgICAgICAgICB0ci5zY2FsZSh0aGlzLmZpbGxQYXR0ZXJuU2NhbGVYKCksIHRoaXMuZmlsbFBhdHRlcm5TY2FsZVkoKSk7XG4gICAgICAgICAgICAgICAgdHIudHJhbnNsYXRlKC0xICogdGhpcy5maWxsUGF0dGVybk9mZnNldFgoKSwgLTEgKiB0aGlzLmZpbGxQYXR0ZXJuT2Zmc2V0WSgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtID0gdHIuZ2V0TWF0cml4KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0cml4ID0gdHlwZW9mIERPTU1hdHJpeCA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhOiBtWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYjogbVsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGM6IG1bMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkOiBtWzNdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZTogbVs0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGY6IG1bNV0sXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgRE9NTWF0cml4KG0pO1xuICAgICAgICAgICAgICAgIHBhdHRlcm4uc2V0VHJhbnNmb3JtKG1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGF0dGVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZ2V0TGluZWFyR3JhZGllbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDYWNoZShsaW5lYXJHcmFkaWVudCwgdGhpcy5fX2dldExpbmVhckdyYWRpZW50KTtcbiAgICB9XG4gICAgX19nZXRMaW5lYXJHcmFkaWVudCgpIHtcbiAgICAgICAgdmFyIGNvbG9yU3RvcHMgPSB0aGlzLmZpbGxMaW5lYXJHcmFkaWVudENvbG9yU3RvcHMoKTtcbiAgICAgICAgaWYgKGNvbG9yU3RvcHMpIHtcbiAgICAgICAgICAgIHZhciBjdHggPSBnZXREdW1teUNvbnRleHQoKTtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMuZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludCgpO1xuICAgICAgICAgICAgdmFyIGVuZCA9IHRoaXMuZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnQoKTtcbiAgICAgICAgICAgIHZhciBncmQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoc3RhcnQueCwgc3RhcnQueSwgZW5kLngsIGVuZC55KTtcbiAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgY29sb3JTdG9wcy5sZW5ndGg7IG4gKz0gMikge1xuICAgICAgICAgICAgICAgIGdyZC5hZGRDb2xvclN0b3AoY29sb3JTdG9wc1tuXSwgY29sb3JTdG9wc1tuICsgMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdyZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZ2V0UmFkaWFsR3JhZGllbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDYWNoZShyYWRpYWxHcmFkaWVudCwgdGhpcy5fX2dldFJhZGlhbEdyYWRpZW50KTtcbiAgICB9XG4gICAgX19nZXRSYWRpYWxHcmFkaWVudCgpIHtcbiAgICAgICAgdmFyIGNvbG9yU3RvcHMgPSB0aGlzLmZpbGxSYWRpYWxHcmFkaWVudENvbG9yU3RvcHMoKTtcbiAgICAgICAgaWYgKGNvbG9yU3RvcHMpIHtcbiAgICAgICAgICAgIHZhciBjdHggPSBnZXREdW1teUNvbnRleHQoKTtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludCgpO1xuICAgICAgICAgICAgdmFyIGVuZCA9IHRoaXMuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnQoKTtcbiAgICAgICAgICAgIHZhciBncmQgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoc3RhcnQueCwgc3RhcnQueSwgdGhpcy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFJhZGl1cygpLCBlbmQueCwgZW5kLnksIHRoaXMuZmlsbFJhZGlhbEdyYWRpZW50RW5kUmFkaXVzKCkpO1xuICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBjb2xvclN0b3BzLmxlbmd0aDsgbiArPSAyKSB7XG4gICAgICAgICAgICAgICAgZ3JkLmFkZENvbG9yU3RvcChjb2xvclN0b3BzW25dLCBjb2xvclN0b3BzW24gKyAxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ3JkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFNoYWRvd1JHQkEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDYWNoZShTSEFET1dfUkdCQSwgdGhpcy5fZ2V0U2hhZG93UkdCQSk7XG4gICAgfVxuICAgIF9nZXRTaGFkb3dSR0JBKCkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzU2hhZG93KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmdiYSA9IFV0aWxfMS5VdGlsLmNvbG9yVG9SR0JBKHRoaXMuc2hhZG93Q29sb3IoKSk7XG4gICAgICAgIGlmIChyZ2JhKSB7XG4gICAgICAgICAgICByZXR1cm4gKCdyZ2JhKCcgK1xuICAgICAgICAgICAgICAgIHJnYmEuciArXG4gICAgICAgICAgICAgICAgJywnICtcbiAgICAgICAgICAgICAgICByZ2JhLmcgK1xuICAgICAgICAgICAgICAgICcsJyArXG4gICAgICAgICAgICAgICAgcmdiYS5iICtcbiAgICAgICAgICAgICAgICAnLCcgK1xuICAgICAgICAgICAgICAgIHJnYmEuYSAqICh0aGlzLnNoYWRvd09wYWNpdHkoKSB8fCAxKSArXG4gICAgICAgICAgICAgICAgJyknKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYXNGaWxsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsY3VsYXRlKCdoYXNGaWxsJywgW1xuICAgICAgICAgICAgJ2ZpbGxFbmFibGVkJyxcbiAgICAgICAgICAgICdmaWxsJyxcbiAgICAgICAgICAgICdmaWxsUGF0dGVybkltYWdlJyxcbiAgICAgICAgICAgICdmaWxsTGluZWFyR3JhZGllbnRDb2xvclN0b3BzJyxcbiAgICAgICAgICAgICdmaWxsUmFkaWFsR3JhZGllbnRDb2xvclN0b3BzJyxcbiAgICAgICAgXSwgKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLmZpbGxFbmFibGVkKCkgJiZcbiAgICAgICAgICAgICAgICAhISh0aGlzLmZpbGwoKSB8fFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGxQYXR0ZXJuSW1hZ2UoKSB8fFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGxMaW5lYXJHcmFkaWVudENvbG9yU3RvcHMoKSB8fFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGxSYWRpYWxHcmFkaWVudENvbG9yU3RvcHMoKSkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaGFzU3Ryb2tlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsY3VsYXRlKCdoYXNTdHJva2UnLCBbXG4gICAgICAgICAgICAnc3Ryb2tlRW5hYmxlZCcsXG4gICAgICAgICAgICAnc3Ryb2tlV2lkdGgnLFxuICAgICAgICAgICAgJ3N0cm9rZScsXG4gICAgICAgICAgICAnc3Ryb2tlTGluZWFyR3JhZGllbnRDb2xvclN0b3BzJyxcbiAgICAgICAgXSwgKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLnN0cm9rZUVuYWJsZWQoKSAmJlxuICAgICAgICAgICAgICAgIHRoaXMuc3Ryb2tlV2lkdGgoKSAmJlxuICAgICAgICAgICAgICAgICEhKHRoaXMuc3Ryb2tlKCkgfHwgdGhpcy5zdHJva2VMaW5lYXJHcmFkaWVudENvbG9yU3RvcHMoKSkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaGFzSGl0U3Ryb2tlKCkge1xuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuaGl0U3Ryb2tlV2lkdGgoKTtcbiAgICAgICAgaWYgKHdpZHRoID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhhc1N0cm9rZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnN0cm9rZUVuYWJsZWQoKSAmJiAhIXdpZHRoO1xuICAgIH1cbiAgICBpbnRlcnNlY3RzKHBvaW50KSB7XG4gICAgICAgIHZhciBzdGFnZSA9IHRoaXMuZ2V0U3RhZ2UoKTtcbiAgICAgICAgaWYgKCFzdGFnZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJ1ZmZlckhpdENhbnZhcyA9IHN0YWdlLmJ1ZmZlckhpdENhbnZhcztcbiAgICAgICAgYnVmZmVySGl0Q2FudmFzLmdldENvbnRleHQoKS5jbGVhcigpO1xuICAgICAgICB0aGlzLmRyYXdIaXQoYnVmZmVySGl0Q2FudmFzLCB1bmRlZmluZWQsIHRydWUpO1xuICAgICAgICBjb25zdCBwID0gYnVmZmVySGl0Q2FudmFzLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKE1hdGgucm91bmQocG9pbnQueCksIE1hdGgucm91bmQocG9pbnQueSksIDEsIDEpLmRhdGE7XG4gICAgICAgIHJldHVybiBwWzNdID4gMDtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgTm9kZV8xLk5vZGUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgZGVsZXRlIGV4cG9ydHMuc2hhcGVzW3RoaXMuY29sb3JLZXldO1xuICAgICAgICBkZWxldGUgdGhpcy5jb2xvcktleTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIF91c2VCdWZmZXJDYW52YXMoZm9yY2VGaWxsKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLmdldFN0YWdlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwZXJmZWN0RHJhd0VuYWJsZWQgPSAoX2EgPSB0aGlzLmF0dHJzLnBlcmZlY3REcmF3RW5hYmxlZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdHJ1ZTtcbiAgICAgICAgaWYgKCFwZXJmZWN0RHJhd0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYXNGaWxsID0gZm9yY2VGaWxsIHx8IHRoaXMuaGFzRmlsbCgpO1xuICAgICAgICBjb25zdCBoYXNTdHJva2UgPSB0aGlzLmhhc1N0cm9rZSgpO1xuICAgICAgICBjb25zdCBpc1RyYW5zcGFyZW50ID0gdGhpcy5nZXRBYnNvbHV0ZU9wYWNpdHkoKSAhPT0gMTtcbiAgICAgICAgaWYgKGhhc0ZpbGwgJiYgaGFzU3Ryb2tlICYmIGlzVHJhbnNwYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhc1NoYWRvdyA9IHRoaXMuaGFzU2hhZG93KCk7XG4gICAgICAgIGNvbnN0IHN0cm9rZUZvclNoYWRvdyA9IHRoaXMuc2hhZG93Rm9yU3Ryb2tlRW5hYmxlZCgpO1xuICAgICAgICBpZiAoaGFzRmlsbCAmJiBoYXNTdHJva2UgJiYgaGFzU2hhZG93ICYmIHN0cm9rZUZvclNoYWRvdykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzZXRTdHJva2VIaXRFbmFibGVkKHZhbCkge1xuICAgICAgICBVdGlsXzEuVXRpbC53YXJuKCdzdHJva2VIaXRFbmFibGVkIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgaGl0U3Ryb2tlV2lkdGggaW5zdGVhZC4nKTtcbiAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgdGhpcy5oaXRTdHJva2VXaWR0aCgnYXV0bycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oaXRTdHJva2VXaWR0aCgwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTdHJva2VIaXRFbmFibGVkKCkge1xuICAgICAgICBpZiAodGhpcy5oaXRTdHJva2VXaWR0aCgpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTZWxmUmVjdCgpIHtcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemUoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHRoaXMuX2NlbnRyb2lkID8gLXNpemUud2lkdGggLyAyIDogMCxcbiAgICAgICAgICAgIHk6IHRoaXMuX2NlbnRyb2lkID8gLXNpemUuaGVpZ2h0IC8gMiA6IDAsXG4gICAgICAgICAgICB3aWR0aDogc2l6ZS53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogc2l6ZS5oZWlnaHQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldENsaWVudFJlY3QoY29uZmlnID0ge30pIHtcbiAgICAgICAgY29uc3Qgc2tpcFRyYW5zZm9ybSA9IGNvbmZpZy5za2lwVHJhbnNmb3JtO1xuICAgICAgICBjb25zdCByZWxhdGl2ZVRvID0gY29uZmlnLnJlbGF0aXZlVG87XG4gICAgICAgIGNvbnN0IGZpbGxSZWN0ID0gdGhpcy5nZXRTZWxmUmVjdCgpO1xuICAgICAgICBjb25zdCBhcHBseVN0cm9rZSA9ICFjb25maWcuc2tpcFN0cm9rZSAmJiB0aGlzLmhhc1N0cm9rZSgpO1xuICAgICAgICBjb25zdCBzdHJva2VXaWR0aCA9IChhcHBseVN0cm9rZSAmJiB0aGlzLnN0cm9rZVdpZHRoKCkpIHx8IDA7XG4gICAgICAgIGNvbnN0IGZpbGxBbmRTdHJva2VXaWR0aCA9IGZpbGxSZWN0LndpZHRoICsgc3Ryb2tlV2lkdGg7XG4gICAgICAgIGNvbnN0IGZpbGxBbmRTdHJva2VIZWlnaHQgPSBmaWxsUmVjdC5oZWlnaHQgKyBzdHJva2VXaWR0aDtcbiAgICAgICAgY29uc3QgYXBwbHlTaGFkb3cgPSAhY29uZmlnLnNraXBTaGFkb3cgJiYgdGhpcy5oYXNTaGFkb3coKTtcbiAgICAgICAgY29uc3Qgc2hhZG93T2Zmc2V0WCA9IGFwcGx5U2hhZG93ID8gdGhpcy5zaGFkb3dPZmZzZXRYKCkgOiAwO1xuICAgICAgICBjb25zdCBzaGFkb3dPZmZzZXRZID0gYXBwbHlTaGFkb3cgPyB0aGlzLnNoYWRvd09mZnNldFkoKSA6IDA7XG4gICAgICAgIGNvbnN0IHByZVdpZHRoID0gZmlsbEFuZFN0cm9rZVdpZHRoICsgTWF0aC5hYnMoc2hhZG93T2Zmc2V0WCk7XG4gICAgICAgIGNvbnN0IHByZUhlaWdodCA9IGZpbGxBbmRTdHJva2VIZWlnaHQgKyBNYXRoLmFicyhzaGFkb3dPZmZzZXRZKTtcbiAgICAgICAgY29uc3QgYmx1clJhZGl1cyA9IChhcHBseVNoYWRvdyAmJiB0aGlzLnNoYWRvd0JsdXIoKSkgfHwgMDtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBwcmVXaWR0aCArIGJsdXJSYWRpdXMgKiAyO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBwcmVIZWlnaHQgKyBibHVyUmFkaXVzICogMjtcbiAgICAgICAgY29uc3QgcmVjdCA9IHtcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgeDogLShzdHJva2VXaWR0aCAvIDIgKyBibHVyUmFkaXVzKSArXG4gICAgICAgICAgICAgICAgTWF0aC5taW4oc2hhZG93T2Zmc2V0WCwgMCkgK1xuICAgICAgICAgICAgICAgIGZpbGxSZWN0LngsXG4gICAgICAgICAgICB5OiAtKHN0cm9rZVdpZHRoIC8gMiArIGJsdXJSYWRpdXMpICtcbiAgICAgICAgICAgICAgICBNYXRoLm1pbihzaGFkb3dPZmZzZXRZLCAwKSArXG4gICAgICAgICAgICAgICAgZmlsbFJlY3QueSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFza2lwVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNmb3JtZWRSZWN0KHJlY3QsIHJlbGF0aXZlVG8pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH1cbiAgICBkcmF3U2NlbmUoY2FuLCB0b3ApIHtcbiAgICAgICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICB2YXIgY2FudmFzID0gY2FuIHx8IGxheWVyLmdldENhbnZhcygpLCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoKSwgY2FjaGVkQ2FudmFzID0gdGhpcy5fZ2V0Q2FudmFzQ2FjaGUoKSwgZHJhd0Z1bmMgPSB0aGlzLmdldFNjZW5lRnVuYygpLCBoYXNTaGFkb3cgPSB0aGlzLmhhc1NoYWRvdygpLCBzdGFnZSwgYnVmZmVyQ2FudmFzLCBidWZmZXJDb250ZXh0O1xuICAgICAgICB2YXIgc2tpcEJ1ZmZlciA9IGNhbnZhcy5pc0NhY2hlO1xuICAgICAgICB2YXIgY2FjaGluZ1NlbGYgPSB0b3AgPT09IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5pc1Zpc2libGUoKSAmJiAhY2FjaGluZ1NlbGYpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYWNoZWRDYW52YXMpIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgdmFyIG0gPSB0aGlzLmdldEFic29sdXRlVHJhbnNmb3JtKHRvcCkuZ2V0TWF0cml4KCk7XG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zZm9ybShtWzBdLCBtWzFdLCBtWzJdLCBtWzNdLCBtWzRdLCBtWzVdKTtcbiAgICAgICAgICAgIHRoaXMuX2RyYXdDYWNoZWRTY2VuZUNhbnZhcyhjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkcmF3RnVuYykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGlmICh0aGlzLl91c2VCdWZmZXJDYW52YXMoKSAmJiAhc2tpcEJ1ZmZlcikge1xuICAgICAgICAgICAgc3RhZ2UgPSB0aGlzLmdldFN0YWdlKCk7XG4gICAgICAgICAgICBidWZmZXJDYW52YXMgPSBzdGFnZS5idWZmZXJDYW52YXM7XG4gICAgICAgICAgICBidWZmZXJDb250ZXh0ID0gYnVmZmVyQ2FudmFzLmdldENvbnRleHQoKTtcbiAgICAgICAgICAgIGJ1ZmZlckNvbnRleHQuY2xlYXIoKTtcbiAgICAgICAgICAgIGJ1ZmZlckNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgYnVmZmVyQ29udGV4dC5fYXBwbHlMaW5lSm9pbih0aGlzKTtcbiAgICAgICAgICAgIHZhciBvID0gdGhpcy5nZXRBYnNvbHV0ZVRyYW5zZm9ybSh0b3ApLmdldE1hdHJpeCgpO1xuICAgICAgICAgICAgYnVmZmVyQ29udGV4dC50cmFuc2Zvcm0ob1swXSwgb1sxXSwgb1syXSwgb1szXSwgb1s0XSwgb1s1XSk7XG4gICAgICAgICAgICBkcmF3RnVuYy5jYWxsKHRoaXMsIGJ1ZmZlckNvbnRleHQsIHRoaXMpO1xuICAgICAgICAgICAgYnVmZmVyQ29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgICAgICB2YXIgcmF0aW8gPSBidWZmZXJDYW52YXMucGl4ZWxSYXRpbztcbiAgICAgICAgICAgIGlmIChoYXNTaGFkb3cpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0Ll9hcHBseVNoYWRvdyh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQuX2FwcGx5T3BhY2l0eSh0aGlzKTtcbiAgICAgICAgICAgIGNvbnRleHQuX2FwcGx5R2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uKHRoaXMpO1xuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoYnVmZmVyQ2FudmFzLl9jYW52YXMsIDAsIDAsIGJ1ZmZlckNhbnZhcy53aWR0aCAvIHJhdGlvLCBidWZmZXJDYW52YXMuaGVpZ2h0IC8gcmF0aW8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5fYXBwbHlMaW5lSm9pbih0aGlzKTtcbiAgICAgICAgICAgIGlmICghY2FjaGluZ1NlbGYpIHtcbiAgICAgICAgICAgICAgICB2YXIgbyA9IHRoaXMuZ2V0QWJzb2x1dGVUcmFuc2Zvcm0odG9wKS5nZXRNYXRyaXgoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zZm9ybShvWzBdLCBvWzFdLCBvWzJdLCBvWzNdLCBvWzRdLCBvWzVdKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0Ll9hcHBseU9wYWNpdHkodGhpcyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5fYXBwbHlHbG9iYWxDb21wb3NpdGVPcGVyYXRpb24odGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzU2hhZG93KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5fYXBwbHlTaGFkb3codGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkcmF3RnVuYy5jYWxsKHRoaXMsIGNvbnRleHQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZHJhd0hpdChjYW4sIHRvcCwgc2tpcERyYWdDaGVjayA9IGZhbHNlKSB7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGREcmF3SGl0KHRvcCwgc2tpcERyYWdDaGVjaykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKSwgY2FudmFzID0gY2FuIHx8IGxheWVyLmhpdENhbnZhcywgY29udGV4dCA9IGNhbnZhcyAmJiBjYW52YXMuZ2V0Q29udGV4dCgpLCBkcmF3RnVuYyA9IHRoaXMuaGl0RnVuYygpIHx8IHRoaXMuc2NlbmVGdW5jKCksIGNhY2hlZENhbnZhcyA9IHRoaXMuX2dldENhbnZhc0NhY2hlKCksIGNhY2hlZEhpdENhbnZhcyA9IGNhY2hlZENhbnZhcyAmJiBjYWNoZWRDYW52YXMuaGl0O1xuICAgICAgICBpZiAoIXRoaXMuY29sb3JLZXkpIHtcbiAgICAgICAgICAgIFV0aWxfMS5VdGlsLndhcm4oJ0xvb2tzIGxpa2UgeW91ciBjYW52YXMgaGFzIGEgZGVzdHJveWVkIHNoYXBlIGluIGl0LiBEbyBub3QgcmV1c2Ugc2hhcGUgYWZ0ZXIgeW91IGRlc3Ryb3llZCBpdC4gSWYgeW91IHdhbnQgdG8gcmV1c2Ugc2hhcGUgeW91IHNob3VsZCBjYWxsIHJlbW92ZSgpIGluc3RlYWQgb2YgZGVzdHJveSgpJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhY2hlZEhpdENhbnZhcykge1xuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICB2YXIgbSA9IHRoaXMuZ2V0QWJzb2x1dGVUcmFuc2Zvcm0odG9wKS5nZXRNYXRyaXgoKTtcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNmb3JtKG1bMF0sIG1bMV0sIG1bMl0sIG1bM10sIG1bNF0sIG1bNV0pO1xuICAgICAgICAgICAgdGhpcy5fZHJhd0NhY2hlZEhpdENhbnZhcyhjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkcmF3RnVuYykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuX2FwcGx5TGluZUpvaW4odGhpcyk7XG4gICAgICAgIGNvbnN0IHNlbGZDYWNoZSA9IHRoaXMgPT09IHRvcDtcbiAgICAgICAgaWYgKCFzZWxmQ2FjaGUpIHtcbiAgICAgICAgICAgIHZhciBvID0gdGhpcy5nZXRBYnNvbHV0ZVRyYW5zZm9ybSh0b3ApLmdldE1hdHJpeCgpO1xuICAgICAgICAgICAgY29udGV4dC50cmFuc2Zvcm0ob1swXSwgb1sxXSwgb1syXSwgb1szXSwgb1s0XSwgb1s1XSk7XG4gICAgICAgIH1cbiAgICAgICAgZHJhd0Z1bmMuY2FsbCh0aGlzLCBjb250ZXh0LCB0aGlzKTtcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkcmF3SGl0RnJvbUNhY2hlKGFscGhhVGhyZXNob2xkID0gMCkge1xuICAgICAgICB2YXIgY2FjaGVkQ2FudmFzID0gdGhpcy5fZ2V0Q2FudmFzQ2FjaGUoKSwgc2NlbmVDYW52YXMgPSB0aGlzLl9nZXRDYWNoZWRTY2VuZUNhbnZhcygpLCBoaXRDYW52YXMgPSBjYWNoZWRDYW52YXMuaGl0LCBoaXRDb250ZXh0ID0gaGl0Q2FudmFzLmdldENvbnRleHQoKSwgaGl0V2lkdGggPSBoaXRDYW52YXMuZ2V0V2lkdGgoKSwgaGl0SGVpZ2h0ID0gaGl0Q2FudmFzLmdldEhlaWdodCgpLCBoaXRJbWFnZURhdGEsIGhpdERhdGEsIGxlbiwgcmdiQ29sb3JLZXksIGksIGFscGhhO1xuICAgICAgICBoaXRDb250ZXh0LmNsZWFyKCk7XG4gICAgICAgIGhpdENvbnRleHQuZHJhd0ltYWdlKHNjZW5lQ2FudmFzLl9jYW52YXMsIDAsIDAsIGhpdFdpZHRoLCBoaXRIZWlnaHQpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaGl0SW1hZ2VEYXRhID0gaGl0Q29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgaGl0V2lkdGgsIGhpdEhlaWdodCk7XG4gICAgICAgICAgICBoaXREYXRhID0gaGl0SW1hZ2VEYXRhLmRhdGE7XG4gICAgICAgICAgICBsZW4gPSBoaXREYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHJnYkNvbG9yS2V5ID0gVXRpbF8xLlV0aWwuX2hleFRvUmdiKHRoaXMuY29sb3JLZXkpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgICAgICAgICAgICAgYWxwaGEgPSBoaXREYXRhW2kgKyAzXTtcbiAgICAgICAgICAgICAgICBpZiAoYWxwaGEgPiBhbHBoYVRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgICAgICBoaXREYXRhW2ldID0gcmdiQ29sb3JLZXkucjtcbiAgICAgICAgICAgICAgICAgICAgaGl0RGF0YVtpICsgMV0gPSByZ2JDb2xvcktleS5nO1xuICAgICAgICAgICAgICAgICAgICBoaXREYXRhW2kgKyAyXSA9IHJnYkNvbG9yS2V5LmI7XG4gICAgICAgICAgICAgICAgICAgIGhpdERhdGFbaSArIDNdID0gMjU1O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0RGF0YVtpICsgM10gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhpdENvbnRleHQucHV0SW1hZ2VEYXRhKGhpdEltYWdlRGF0YSwgMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIFV0aWxfMS5VdGlsLmVycm9yKCdVbmFibGUgdG8gZHJhdyBoaXQgZ3JhcGggZnJvbSBjYWNoZWQgc2NlbmUgY2FudmFzLiAnICsgZS5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaGFzUG9pbnRlckNhcHR1cmUocG9pbnRlcklkKSB7XG4gICAgICAgIHJldHVybiBQb2ludGVyRXZlbnRzLmhhc1BvaW50ZXJDYXB0dXJlKHBvaW50ZXJJZCwgdGhpcyk7XG4gICAgfVxuICAgIHNldFBvaW50ZXJDYXB0dXJlKHBvaW50ZXJJZCkge1xuICAgICAgICBQb2ludGVyRXZlbnRzLnNldFBvaW50ZXJDYXB0dXJlKHBvaW50ZXJJZCwgdGhpcyk7XG4gICAgfVxuICAgIHJlbGVhc2VDYXB0dXJlKHBvaW50ZXJJZCkge1xuICAgICAgICBQb2ludGVyRXZlbnRzLnJlbGVhc2VDYXB0dXJlKHBvaW50ZXJJZCwgdGhpcyk7XG4gICAgfVxufVxuZXhwb3J0cy5TaGFwZSA9IFNoYXBlO1xuU2hhcGUucHJvdG90eXBlLl9maWxsRnVuYyA9IF9maWxsRnVuYztcblNoYXBlLnByb3RvdHlwZS5fc3Ryb2tlRnVuYyA9IF9zdHJva2VGdW5jO1xuU2hhcGUucHJvdG90eXBlLl9maWxsRnVuY0hpdCA9IF9maWxsRnVuY0hpdDtcblNoYXBlLnByb3RvdHlwZS5fc3Ryb2tlRnVuY0hpdCA9IF9zdHJva2VGdW5jSGl0O1xuU2hhcGUucHJvdG90eXBlLl9jZW50cm9pZCA9IGZhbHNlO1xuU2hhcGUucHJvdG90eXBlLm5vZGVUeXBlID0gJ1NoYXBlJztcbigwLCBHbG9iYWxfMi5fcmVnaXN0ZXJOb2RlKShTaGFwZSk7XG5TaGFwZS5wcm90b3R5cGUuZXZlbnRMaXN0ZW5lcnMgPSB7fTtcblNoYXBlLnByb3RvdHlwZS5vbi5jYWxsKFNoYXBlLnByb3RvdHlwZSwgJ3NoYWRvd0NvbG9yQ2hhbmdlLmtvbnZhIHNoYWRvd0JsdXJDaGFuZ2Uua29udmEgc2hhZG93T2Zmc2V0Q2hhbmdlLmtvbnZhIHNoYWRvd09wYWNpdHlDaGFuZ2Uua29udmEgc2hhZG93RW5hYmxlZENoYW5nZS5rb252YScsIF9jbGVhckhhc1NoYWRvd0NhY2hlKTtcblNoYXBlLnByb3RvdHlwZS5vbi5jYWxsKFNoYXBlLnByb3RvdHlwZSwgJ3NoYWRvd0NvbG9yQ2hhbmdlLmtvbnZhIHNoYWRvd09wYWNpdHlDaGFuZ2Uua29udmEgc2hhZG93RW5hYmxlZENoYW5nZS5rb252YScsIF9jbGVhckdldFNoYWRvd1JHQkFDYWNoZSk7XG5TaGFwZS5wcm90b3R5cGUub24uY2FsbChTaGFwZS5wcm90b3R5cGUsICdmaWxsUHJpb3JpdHlDaGFuZ2Uua29udmEgZmlsbFBhdHRlcm5JbWFnZUNoYW5nZS5rb252YSBmaWxsUGF0dGVyblJlcGVhdENoYW5nZS5rb252YSBmaWxsUGF0dGVyblNjYWxlWENoYW5nZS5rb252YSBmaWxsUGF0dGVyblNjYWxlWUNoYW5nZS5rb252YSBmaWxsUGF0dGVybk9mZnNldFhDaGFuZ2Uua29udmEgZmlsbFBhdHRlcm5PZmZzZXRZQ2hhbmdlLmtvbnZhIGZpbGxQYXR0ZXJuWENoYW5nZS5rb252YSBmaWxsUGF0dGVybllDaGFuZ2Uua29udmEgZmlsbFBhdHRlcm5Sb3RhdGlvbkNoYW5nZS5rb252YScsIF9jbGVhckZpbGxQYXR0ZXJuQ2FjaGUpO1xuU2hhcGUucHJvdG90eXBlLm9uLmNhbGwoU2hhcGUucHJvdG90eXBlLCAnZmlsbFByaW9yaXR5Q2hhbmdlLmtvbnZhIGZpbGxMaW5lYXJHcmFkaWVudENvbG9yU3RvcHNDaGFuZ2Uua29udmEgZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludFhDaGFuZ2Uua29udmEgZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludFlDaGFuZ2Uua29udmEgZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRYQ2hhbmdlLmtvbnZhIGZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50WUNoYW5nZS5rb252YScsIF9jbGVhckxpbmVhckdyYWRpZW50Q2FjaGUpO1xuU2hhcGUucHJvdG90eXBlLm9uLmNhbGwoU2hhcGUucHJvdG90eXBlLCAnZmlsbFByaW9yaXR5Q2hhbmdlLmtvbnZhIGZpbGxSYWRpYWxHcmFkaWVudENvbG9yU3RvcHNDaGFuZ2Uua29udmEgZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludFhDaGFuZ2Uua29udmEgZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludFlDaGFuZ2Uua29udmEgZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRYQ2hhbmdlLmtvbnZhIGZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50WUNoYW5nZS5rb252YSBmaWxsUmFkaWFsR3JhZGllbnRTdGFydFJhZGl1c0NoYW5nZS5rb252YSBmaWxsUmFkaWFsR3JhZGllbnRFbmRSYWRpdXNDaGFuZ2Uua29udmEnLCBfY2xlYXJSYWRpYWxHcmFkaWVudENhY2hlKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ3N0cm9rZScsIHVuZGVmaW5lZCwgKDAsIFZhbGlkYXRvcnNfMS5nZXRTdHJpbmdPckdyYWRpZW50VmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ3N0cm9rZVdpZHRoJywgMiwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFNoYXBlLCAnZmlsbEFmdGVyU3Ryb2tlRW5hYmxlZCcsIGZhbHNlKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ2hpdFN0cm9rZVdpZHRoJywgJ2F1dG8nLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlck9yQXV0b1ZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdzdHJva2VIaXRFbmFibGVkJywgdHJ1ZSwgKDAsIFZhbGlkYXRvcnNfMS5nZXRCb29sZWFuVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ3BlcmZlY3REcmF3RW5hYmxlZCcsIHRydWUsICgwLCBWYWxpZGF0b3JzXzEuZ2V0Qm9vbGVhblZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdzaGFkb3dGb3JTdHJva2VFbmFibGVkJywgdHJ1ZSwgKDAsIFZhbGlkYXRvcnNfMS5nZXRCb29sZWFuVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ2xpbmVKb2luJyk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdsaW5lQ2FwJyk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdzY2VuZUZ1bmMnKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ2hpdEZ1bmMnKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ2Rhc2gnKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ2Rhc2hPZmZzZXQnLCAwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdzaGFkb3dDb2xvcicsIHVuZGVmaW5lZCwgKDAsIFZhbGlkYXRvcnNfMS5nZXRTdHJpbmdWYWxpZGF0b3IpKCkpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFNoYXBlLCAnc2hhZG93Qmx1cicsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ3NoYWRvd09wYWNpdHknLCAxLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRDb21wb25lbnRzR2V0dGVyU2V0dGVyKFNoYXBlLCAnc2hhZG93T2Zmc2V0JywgWyd4JywgJ3knXSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdzaGFkb3dPZmZzZXRYJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFNoYXBlLCAnc2hhZG93T2Zmc2V0WScsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ2ZpbGxQYXR0ZXJuSW1hZ2UnKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ2ZpbGwnLCB1bmRlZmluZWQsICgwLCBWYWxpZGF0b3JzXzEuZ2V0U3RyaW5nT3JHcmFkaWVudFZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdmaWxsUGF0dGVyblgnLCAwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdmaWxsUGF0dGVyblknLCAwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdmaWxsTGluZWFyR3JhZGllbnRDb2xvclN0b3BzJyk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdzdHJva2VMaW5lYXJHcmFkaWVudENvbG9yU3RvcHMnKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ2ZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UmFkaXVzJywgMCk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdmaWxsUmFkaWFsR3JhZGllbnRFbmRSYWRpdXMnLCAwKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ2ZpbGxSYWRpYWxHcmFkaWVudENvbG9yU3RvcHMnKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ2ZpbGxQYXR0ZXJuUmVwZWF0JywgJ3JlcGVhdCcpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFNoYXBlLCAnZmlsbEVuYWJsZWQnLCB0cnVlKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ3N0cm9rZUVuYWJsZWQnLCB0cnVlKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ3NoYWRvd0VuYWJsZWQnLCB0cnVlKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ2Rhc2hFbmFibGVkJywgdHJ1ZSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdzdHJva2VTY2FsZUVuYWJsZWQnLCB0cnVlKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ2ZpbGxQcmlvcml0eScsICdjb2xvcicpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkQ29tcG9uZW50c0dldHRlclNldHRlcihTaGFwZSwgJ2ZpbGxQYXR0ZXJuT2Zmc2V0JywgWyd4JywgJ3knXSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdmaWxsUGF0dGVybk9mZnNldFgnLCAwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdmaWxsUGF0dGVybk9mZnNldFknLCAwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRDb21wb25lbnRzR2V0dGVyU2V0dGVyKFNoYXBlLCAnZmlsbFBhdHRlcm5TY2FsZScsIFsneCcsICd5J10pO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFNoYXBlLCAnZmlsbFBhdHRlcm5TY2FsZVgnLCAxLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdmaWxsUGF0dGVyblNjYWxlWScsIDEsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZENvbXBvbmVudHNHZXR0ZXJTZXR0ZXIoU2hhcGUsICdmaWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50JywgW1xuICAgICd4JyxcbiAgICAneScsXG5dKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZENvbXBvbmVudHNHZXR0ZXJTZXR0ZXIoU2hhcGUsICdzdHJva2VMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnQnLCBbXG4gICAgJ3gnLFxuICAgICd5Jyxcbl0pO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFNoYXBlLCAnZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludFgnLCAwKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ3N0cm9rZUxpbmVhckdyYWRpZW50U3RhcnRQb2ludFgnLCAwKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ2ZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRZJywgMCk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdzdHJva2VMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRZJywgMCk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRDb21wb25lbnRzR2V0dGVyU2V0dGVyKFNoYXBlLCAnZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnQnLCBbXG4gICAgJ3gnLFxuICAgICd5Jyxcbl0pO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkQ29tcG9uZW50c0dldHRlclNldHRlcihTaGFwZSwgJ3N0cm9rZUxpbmVhckdyYWRpZW50RW5kUG9pbnQnLCBbXG4gICAgJ3gnLFxuICAgICd5Jyxcbl0pO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFNoYXBlLCAnZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRYJywgMCk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdzdHJva2VMaW5lYXJHcmFkaWVudEVuZFBvaW50WCcsIDApO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFNoYXBlLCAnZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRZJywgMCk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdzdHJva2VMaW5lYXJHcmFkaWVudEVuZFBvaW50WScsIDApO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkQ29tcG9uZW50c0dldHRlclNldHRlcihTaGFwZSwgJ2ZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnQnLCBbXG4gICAgJ3gnLFxuICAgICd5Jyxcbl0pO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFNoYXBlLCAnZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludFgnLCAwKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ2ZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRZJywgMCk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRDb21wb25lbnRzR2V0dGVyU2V0dGVyKFNoYXBlLCAnZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnQnLCBbXG4gICAgJ3gnLFxuICAgICd5Jyxcbl0pO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFNoYXBlLCAnZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRYJywgMCk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU2hhcGUsICdmaWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludFknLCAwKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ2ZpbGxQYXR0ZXJuUm90YXRpb24nLCAwKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTaGFwZSwgJ2ZpbGxSdWxlJywgdW5kZWZpbmVkLCAoMCwgVmFsaWRhdG9yc18xLmdldFN0cmluZ1ZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5iYWNrQ29tcGF0KFNoYXBlLCB7XG4gICAgZGFzaEFycmF5OiAnZGFzaCcsXG4gICAgZ2V0RGFzaEFycmF5OiAnZ2V0RGFzaCcsXG4gICAgc2V0RGFzaEFycmF5OiAnZ2V0RGFzaCcsXG4gICAgZHJhd0Z1bmM6ICdzY2VuZUZ1bmMnLFxuICAgIGdldERyYXdGdW5jOiAnZ2V0U2NlbmVGdW5jJyxcbiAgICBzZXREcmF3RnVuYzogJ3NldFNjZW5lRnVuYycsXG4gICAgZHJhd0hpdEZ1bmM6ICdoaXRGdW5jJyxcbiAgICBnZXREcmF3SGl0RnVuYzogJ2dldEhpdEZ1bmMnLFxuICAgIHNldERyYXdIaXRGdW5jOiAnc2V0SGl0RnVuYycsXG59KTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTGF5ZXIgPSB2b2lkIDA7XG5jb25zdCBVdGlsXzEgPSByZXF1aXJlKFwiLi9VdGlsXCIpO1xuY29uc3QgQ29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9Db250YWluZXJcIik7XG5jb25zdCBOb2RlXzEgPSByZXF1aXJlKFwiLi9Ob2RlXCIpO1xuY29uc3QgRmFjdG9yeV8xID0gcmVxdWlyZShcIi4vRmFjdG9yeVwiKTtcbmNvbnN0IENhbnZhc18xID0gcmVxdWlyZShcIi4vQ2FudmFzXCIpO1xuY29uc3QgVmFsaWRhdG9yc18xID0gcmVxdWlyZShcIi4vVmFsaWRhdG9yc1wiKTtcbmNvbnN0IFNoYXBlXzEgPSByZXF1aXJlKFwiLi9TaGFwZVwiKTtcbmNvbnN0IEdsb2JhbF8xID0gcmVxdWlyZShcIi4vR2xvYmFsXCIpO1xudmFyIEhBU0ggPSAnIycsIEJFRk9SRV9EUkFXID0gJ2JlZm9yZURyYXcnLCBEUkFXID0gJ2RyYXcnLCBJTlRFUlNFQ1RJT05fT0ZGU0VUUyA9IFtcbiAgICB7IHg6IDAsIHk6IDAgfSxcbiAgICB7IHg6IC0xLCB5OiAtMSB9LFxuICAgIHsgeDogMSwgeTogLTEgfSxcbiAgICB7IHg6IDEsIHk6IDEgfSxcbiAgICB7IHg6IC0xLCB5OiAxIH0sXG5dLCBJTlRFUlNFQ1RJT05fT0ZGU0VUU19MRU4gPSBJTlRFUlNFQ1RJT05fT0ZGU0VUUy5sZW5ndGg7XG5jbGFzcyBMYXllciBleHRlbmRzIENvbnRhaW5lcl8xLkNvbnRhaW5lciB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbmV3IENhbnZhc18xLlNjZW5lQ2FudmFzKCk7XG4gICAgICAgIHRoaXMuaGl0Q2FudmFzID0gbmV3IENhbnZhc18xLkhpdENhbnZhcyh7XG4gICAgICAgICAgICBwaXhlbFJhdGlvOiAxLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fd2FpdGluZ0ZvckRyYXcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbigndmlzaWJsZUNoYW5nZS5rb252YScsIHRoaXMuX2NoZWNrVmlzaWJpbGl0eSk7XG4gICAgICAgIHRoaXMuX2NoZWNrVmlzaWJpbGl0eSgpO1xuICAgICAgICB0aGlzLm9uKCdpbWFnZVNtb290aGluZ0VuYWJsZWRDaGFuZ2Uua29udmEnLCB0aGlzLl9zZXRTbW9vdGhFbmFibGVkKTtcbiAgICAgICAgdGhpcy5fc2V0U21vb3RoRW5hYmxlZCgpO1xuICAgIH1cbiAgICBjcmVhdGVQTkdTdHJlYW0oKSB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmNhbnZhcy5fY2FudmFzO1xuICAgICAgICByZXR1cm4gYy5jcmVhdGVQTkdTdHJlYW0oKTtcbiAgICB9XG4gICAgZ2V0Q2FudmFzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXM7XG4gICAgfVxuICAgIGdldE5hdGl2ZUNhbnZhc0VsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy5fY2FudmFzO1xuICAgIH1cbiAgICBnZXRIaXRDYW52YXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhpdENhbnZhcztcbiAgICB9XG4gICAgZ2V0Q29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2FudmFzKCkuZ2V0Q29udGV4dCgpO1xuICAgIH1cbiAgICBjbGVhcihib3VuZHMpIHtcbiAgICAgICAgdGhpcy5nZXRDb250ZXh0KCkuY2xlYXIoYm91bmRzKTtcbiAgICAgICAgdGhpcy5nZXRIaXRDYW52YXMoKS5nZXRDb250ZXh0KCkuY2xlYXIoYm91bmRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldFpJbmRleChpbmRleCkge1xuICAgICAgICBzdXBlci5zZXRaSW5kZXgoaW5kZXgpO1xuICAgICAgICB2YXIgc3RhZ2UgPSB0aGlzLmdldFN0YWdlKCk7XG4gICAgICAgIGlmIChzdGFnZSAmJiBzdGFnZS5jb250ZW50KSB7XG4gICAgICAgICAgICBzdGFnZS5jb250ZW50LnJlbW92ZUNoaWxkKHRoaXMuZ2V0TmF0aXZlQ2FudmFzRWxlbWVudCgpKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA8IHN0YWdlLmNoaWxkcmVuLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBzdGFnZS5jb250ZW50Lmluc2VydEJlZm9yZSh0aGlzLmdldE5hdGl2ZUNhbnZhc0VsZW1lbnQoKSwgc3RhZ2UuY2hpbGRyZW5baW5kZXggKyAxXS5nZXRDYW52YXMoKS5fY2FudmFzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YWdlLmNvbnRlbnQuYXBwZW5kQ2hpbGQodGhpcy5nZXROYXRpdmVDYW52YXNFbGVtZW50KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBtb3ZlVG9Ub3AoKSB7XG4gICAgICAgIE5vZGVfMS5Ob2RlLnByb3RvdHlwZS5tb3ZlVG9Ub3AuY2FsbCh0aGlzKTtcbiAgICAgICAgdmFyIHN0YWdlID0gdGhpcy5nZXRTdGFnZSgpO1xuICAgICAgICBpZiAoc3RhZ2UgJiYgc3RhZ2UuY29udGVudCkge1xuICAgICAgICAgICAgc3RhZ2UuY29udGVudC5yZW1vdmVDaGlsZCh0aGlzLmdldE5hdGl2ZUNhbnZhc0VsZW1lbnQoKSk7XG4gICAgICAgICAgICBzdGFnZS5jb250ZW50LmFwcGVuZENoaWxkKHRoaXMuZ2V0TmF0aXZlQ2FudmFzRWxlbWVudCgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbW92ZVVwKCkge1xuICAgICAgICB2YXIgbW92ZWQgPSBOb2RlXzEuTm9kZS5wcm90b3R5cGUubW92ZVVwLmNhbGwodGhpcyk7XG4gICAgICAgIGlmICghbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhZ2UgPSB0aGlzLmdldFN0YWdlKCk7XG4gICAgICAgIGlmICghc3RhZ2UgfHwgIXN0YWdlLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBzdGFnZS5jb250ZW50LnJlbW92ZUNoaWxkKHRoaXMuZ2V0TmF0aXZlQ2FudmFzRWxlbWVudCgpKTtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPCBzdGFnZS5jaGlsZHJlbi5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBzdGFnZS5jb250ZW50Lmluc2VydEJlZm9yZSh0aGlzLmdldE5hdGl2ZUNhbnZhc0VsZW1lbnQoKSwgc3RhZ2UuY2hpbGRyZW5bdGhpcy5pbmRleCArIDFdLmdldENhbnZhcygpLl9jYW52YXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhZ2UuY29udGVudC5hcHBlbmRDaGlsZCh0aGlzLmdldE5hdGl2ZUNhbnZhc0VsZW1lbnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIG1vdmVEb3duKCkge1xuICAgICAgICBpZiAoTm9kZV8xLk5vZGUucHJvdG90eXBlLm1vdmVEb3duLmNhbGwodGhpcykpIHtcbiAgICAgICAgICAgIHZhciBzdGFnZSA9IHRoaXMuZ2V0U3RhZ2UoKTtcbiAgICAgICAgICAgIGlmIChzdGFnZSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHN0YWdlLmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgIGlmIChzdGFnZS5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWdlLmNvbnRlbnQucmVtb3ZlQ2hpbGQodGhpcy5nZXROYXRpdmVDYW52YXNFbGVtZW50KCkpO1xuICAgICAgICAgICAgICAgICAgICBzdGFnZS5jb250ZW50Lmluc2VydEJlZm9yZSh0aGlzLmdldE5hdGl2ZUNhbnZhc0VsZW1lbnQoKSwgY2hpbGRyZW5bdGhpcy5pbmRleCArIDFdLmdldENhbnZhcygpLl9jYW52YXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbW92ZVRvQm90dG9tKCkge1xuICAgICAgICBpZiAoTm9kZV8xLk5vZGUucHJvdG90eXBlLm1vdmVUb0JvdHRvbS5jYWxsKHRoaXMpKSB7XG4gICAgICAgICAgICB2YXIgc3RhZ2UgPSB0aGlzLmdldFN0YWdlKCk7XG4gICAgICAgICAgICBpZiAoc3RhZ2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBzdGFnZS5jaGlsZHJlbjtcbiAgICAgICAgICAgICAgICBpZiAoc3RhZ2UuY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFnZS5jb250ZW50LnJlbW92ZUNoaWxkKHRoaXMuZ2V0TmF0aXZlQ2FudmFzRWxlbWVudCgpKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UuY29udGVudC5pbnNlcnRCZWZvcmUodGhpcy5nZXROYXRpdmVDYW52YXNFbGVtZW50KCksIGNoaWxkcmVuWzFdLmdldENhbnZhcygpLl9jYW52YXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZ2V0TGF5ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIHZhciBfY2FudmFzID0gdGhpcy5nZXROYXRpdmVDYW52YXNFbGVtZW50KCk7XG4gICAgICAgIE5vZGVfMS5Ob2RlLnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKF9jYW52YXMgJiYgX2NhbnZhcy5wYXJlbnROb2RlICYmIFV0aWxfMS5VdGlsLl9pc0luRG9jdW1lbnQoX2NhbnZhcykpIHtcbiAgICAgICAgICAgIF9jYW52YXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChfY2FudmFzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0U3RhZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudDtcbiAgICB9XG4gICAgc2V0U2l6ZSh7IHdpZHRoLCBoZWlnaHQgfSkge1xuICAgICAgICB0aGlzLmNhbnZhcy5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLmhpdENhbnZhcy5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLl9zZXRTbW9vdGhFbmFibGVkKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBfdmFsaWRhdGVBZGQoY2hpbGQpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBjaGlsZC5nZXRUeXBlKCk7XG4gICAgICAgIGlmICh0eXBlICE9PSAnR3JvdXAnICYmIHR5cGUgIT09ICdTaGFwZScpIHtcbiAgICAgICAgICAgIFV0aWxfMS5VdGlsLnRocm93KCdZb3UgbWF5IG9ubHkgYWRkIGdyb3VwcyBhbmQgc2hhcGVzIHRvIGEgbGF5ZXIuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3RvS29udmFDYW52YXMoY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgICAgICAgY29uZmlnLndpZHRoID0gY29uZmlnLndpZHRoIHx8IHRoaXMuZ2V0V2lkdGgoKTtcbiAgICAgICAgY29uZmlnLmhlaWdodCA9IGNvbmZpZy5oZWlnaHQgfHwgdGhpcy5nZXRIZWlnaHQoKTtcbiAgICAgICAgY29uZmlnLnggPSBjb25maWcueCAhPT0gdW5kZWZpbmVkID8gY29uZmlnLnggOiB0aGlzLngoKTtcbiAgICAgICAgY29uZmlnLnkgPSBjb25maWcueSAhPT0gdW5kZWZpbmVkID8gY29uZmlnLnkgOiB0aGlzLnkoKTtcbiAgICAgICAgcmV0dXJuIE5vZGVfMS5Ob2RlLnByb3RvdHlwZS5fdG9Lb252YUNhbnZhcy5jYWxsKHRoaXMsIGNvbmZpZyk7XG4gICAgfVxuICAgIF9jaGVja1Zpc2liaWxpdHkoKSB7XG4gICAgICAgIGNvbnN0IHZpc2libGUgPSB0aGlzLnZpc2libGUoKTtcbiAgICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLl9jYW52YXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5fY2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3NldFNtb290aEVuYWJsZWQoKSB7XG4gICAgICAgIHRoaXMuZ2V0Q29udGV4dCgpLl9jb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9XG4gICAgICAgICAgICB0aGlzLmltYWdlU21vb3RoaW5nRW5hYmxlZCgpO1xuICAgIH1cbiAgICBnZXRXaWR0aCgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQud2lkdGgoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRXaWR0aCgpIHtcbiAgICAgICAgVXRpbF8xLlV0aWwud2FybignQ2FuIG5vdCBjaGFuZ2Ugd2lkdGggb2YgbGF5ZXIuIFVzZSBcInN0YWdlLndpZHRoKHZhbHVlKVwiIGZ1bmN0aW9uIGluc3RlYWQuJyk7XG4gICAgfVxuICAgIGdldEhlaWdodCgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuaGVpZ2h0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0SGVpZ2h0KCkge1xuICAgICAgICBVdGlsXzEuVXRpbC53YXJuKCdDYW4gbm90IGNoYW5nZSBoZWlnaHQgb2YgbGF5ZXIuIFVzZSBcInN0YWdlLmhlaWdodCh2YWx1ZSlcIiBmdW5jdGlvbiBpbnN0ZWFkLicpO1xuICAgIH1cbiAgICBiYXRjaERyYXcoKSB7XG4gICAgICAgIGlmICghdGhpcy5fd2FpdGluZ0ZvckRyYXcpIHtcbiAgICAgICAgICAgIHRoaXMuX3dhaXRpbmdGb3JEcmF3ID0gdHJ1ZTtcbiAgICAgICAgICAgIFV0aWxfMS5VdGlsLnJlcXVlc3RBbmltRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dhaXRpbmdGb3JEcmF3ID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0SW50ZXJzZWN0aW9uKHBvcykge1xuICAgICAgICBpZiAoIXRoaXMuaXNMaXN0ZW5pbmcoKSB8fCAhdGhpcy5pc1Zpc2libGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNwaXJhbFNlYXJjaERpc3RhbmNlID0gMTtcbiAgICAgICAgdmFyIGNvbnRpbnVlU2VhcmNoID0gZmFsc2U7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IElOVEVSU0VDVElPTl9PRkZTRVRTX0xFTjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW50ZXJzZWN0aW9uT2Zmc2V0ID0gSU5URVJTRUNUSU9OX09GRlNFVFNbaV07XG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5fZ2V0SW50ZXJzZWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgeDogcG9zLnggKyBpbnRlcnNlY3Rpb25PZmZzZXQueCAqIHNwaXJhbFNlYXJjaERpc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICB5OiBwb3MueSArIGludGVyc2VjdGlvbk9mZnNldC55ICogc3BpcmFsU2VhcmNoRGlzdGFuY2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hhcGUgPSBvYmouc2hhcGU7XG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzaGFwZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWVTZWFyY2ggPSAhIW9iai5hbnRpYWxpYXNlZDtcbiAgICAgICAgICAgICAgICBpZiAoIW9iai5hbnRpYWxpYXNlZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGludWVTZWFyY2gpIHtcbiAgICAgICAgICAgICAgICBzcGlyYWxTZWFyY2hEaXN0YW5jZSArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2dldEludGVyc2VjdGlvbihwb3MpIHtcbiAgICAgICAgY29uc3QgcmF0aW8gPSB0aGlzLmhpdENhbnZhcy5waXhlbFJhdGlvO1xuICAgICAgICBjb25zdCBwID0gdGhpcy5oaXRDYW52YXMuY29udGV4dC5nZXRJbWFnZURhdGEoTWF0aC5yb3VuZChwb3MueCAqIHJhdGlvKSwgTWF0aC5yb3VuZChwb3MueSAqIHJhdGlvKSwgMSwgMSkuZGF0YTtcbiAgICAgICAgY29uc3QgcDMgPSBwWzNdO1xuICAgICAgICBpZiAocDMgPT09IDI1NSkge1xuICAgICAgICAgICAgY29uc3QgY29sb3JLZXkgPSBVdGlsXzEuVXRpbC5fcmdiVG9IZXgocFswXSwgcFsxXSwgcFsyXSk7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IFNoYXBlXzEuc2hhcGVzW0hBU0ggKyBjb2xvcktleV07XG4gICAgICAgICAgICBpZiAoc2hhcGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzaGFwZTogc2hhcGUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYW50aWFsaWFzZWQ6IHRydWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHAzID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhbnRpYWxpYXNlZDogdHJ1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBkcmF3U2NlbmUoY2FuLCB0b3ApIHtcbiAgICAgICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpLCBjYW52YXMgPSBjYW4gfHwgKGxheWVyICYmIGxheWVyLmdldENhbnZhcygpKTtcbiAgICAgICAgdGhpcy5fZmlyZShCRUZPUkVfRFJBVywge1xuICAgICAgICAgICAgbm9kZTogdGhpcyxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLmNsZWFyQmVmb3JlRHJhdygpKSB7XG4gICAgICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgpLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgQ29udGFpbmVyXzEuQ29udGFpbmVyLnByb3RvdHlwZS5kcmF3U2NlbmUuY2FsbCh0aGlzLCBjYW52YXMsIHRvcCk7XG4gICAgICAgIHRoaXMuX2ZpcmUoRFJBVywge1xuICAgICAgICAgICAgbm9kZTogdGhpcyxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkcmF3SGl0KGNhbiwgdG9wKSB7XG4gICAgICAgIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKSwgY2FudmFzID0gY2FuIHx8IChsYXllciAmJiBsYXllci5oaXRDYW52YXMpO1xuICAgICAgICBpZiAobGF5ZXIgJiYgbGF5ZXIuY2xlYXJCZWZvcmVEcmF3KCkpIHtcbiAgICAgICAgICAgIGxheWVyLmdldEhpdENhbnZhcygpLmdldENvbnRleHQoKS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIENvbnRhaW5lcl8xLkNvbnRhaW5lci5wcm90b3R5cGUuZHJhd0hpdC5jYWxsKHRoaXMsIGNhbnZhcywgdG9wKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGVuYWJsZUhpdEdyYXBoKCkge1xuICAgICAgICB0aGlzLmhpdEdyYXBoRW5hYmxlZCh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRpc2FibGVIaXRHcmFwaCgpIHtcbiAgICAgICAgdGhpcy5oaXRHcmFwaEVuYWJsZWQoZmFsc2UpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0SGl0R3JhcGhFbmFibGVkKHZhbCkge1xuICAgICAgICBVdGlsXzEuVXRpbC53YXJuKCdoaXRHcmFwaEVuYWJsZWQgbWV0aG9kIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgbGF5ZXIubGlzdGVuaW5nKCkgaW5zdGVhZC4nKTtcbiAgICAgICAgdGhpcy5saXN0ZW5pbmcodmFsKTtcbiAgICB9XG4gICAgZ2V0SGl0R3JhcGhFbmFibGVkKHZhbCkge1xuICAgICAgICBVdGlsXzEuVXRpbC53YXJuKCdoaXRHcmFwaEVuYWJsZWQgbWV0aG9kIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgbGF5ZXIubGlzdGVuaW5nKCkgaW5zdGVhZC4nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuaW5nKCk7XG4gICAgfVxuICAgIHRvZ2dsZUhpdENhbnZhcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudCB8fCAhdGhpcy5wYXJlbnRbJ2NvbnRlbnQnXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudDtcbiAgICAgICAgdmFyIGFkZGVkID0gISF0aGlzLmhpdENhbnZhcy5fY2FudmFzLnBhcmVudE5vZGU7XG4gICAgICAgIGlmIChhZGRlZCkge1xuICAgICAgICAgICAgcGFyZW50LmNvbnRlbnQucmVtb3ZlQ2hpbGQodGhpcy5oaXRDYW52YXMuX2NhbnZhcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnQuY29udGVudC5hcHBlbmRDaGlsZCh0aGlzLmhpdENhbnZhcy5fY2FudmFzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBVdGlsXzEuVXRpbC5yZWxlYXNlQ2FudmFzKHRoaXMuZ2V0TmF0aXZlQ2FudmFzRWxlbWVudCgpLCB0aGlzLmdldEhpdENhbnZhcygpLl9jYW52YXMpO1xuICAgICAgICByZXR1cm4gc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cbn1cbmV4cG9ydHMuTGF5ZXIgPSBMYXllcjtcbkxheWVyLnByb3RvdHlwZS5ub2RlVHlwZSA9ICdMYXllcic7XG4oMCwgR2xvYmFsXzEuX3JlZ2lzdGVyTm9kZSkoTGF5ZXIpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKExheWVyLCAnaW1hZ2VTbW9vdGhpbmdFbmFibGVkJywgdHJ1ZSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoTGF5ZXIsICdjbGVhckJlZm9yZURyYXcnLCB0cnVlKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihMYXllciwgJ2hpdEdyYXBoRW5hYmxlZCcsIHRydWUsICgwLCBWYWxpZGF0b3JzXzEuZ2V0Qm9vbGVhblZhbGlkYXRvcikoKSk7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZhc3RMYXllciA9IHZvaWQgMDtcbmNvbnN0IFV0aWxfMSA9IHJlcXVpcmUoXCIuL1V0aWxcIik7XG5jb25zdCBMYXllcl8xID0gcmVxdWlyZShcIi4vTGF5ZXJcIik7XG5jb25zdCBHbG9iYWxfMSA9IHJlcXVpcmUoXCIuL0dsb2JhbFwiKTtcbmNsYXNzIEZhc3RMYXllciBleHRlbmRzIExheWVyXzEuTGF5ZXIge1xuICAgIGNvbnN0cnVjdG9yKGF0dHJzKSB7XG4gICAgICAgIHN1cGVyKGF0dHJzKTtcbiAgICAgICAgdGhpcy5saXN0ZW5pbmcoZmFsc2UpO1xuICAgICAgICBVdGlsXzEuVXRpbC53YXJuKCdLb252YS5GYXN0IGxheWVyIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgXCJuZXcgS29udmEuTGF5ZXIoeyBsaXN0ZW5pbmc6IGZhbHNlIH0pXCIgaW5zdGVhZC4nKTtcbiAgICB9XG59XG5leHBvcnRzLkZhc3RMYXllciA9IEZhc3RMYXllcjtcbkZhc3RMYXllci5wcm90b3R5cGUubm9kZVR5cGUgPSAnRmFzdExheWVyJztcbigwLCBHbG9iYWxfMS5fcmVnaXN0ZXJOb2RlKShGYXN0TGF5ZXIpO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Hcm91cCA9IHZvaWQgMDtcbmNvbnN0IFV0aWxfMSA9IHJlcXVpcmUoXCIuL1V0aWxcIik7XG5jb25zdCBDb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL0NvbnRhaW5lclwiKTtcbmNvbnN0IEdsb2JhbF8xID0gcmVxdWlyZShcIi4vR2xvYmFsXCIpO1xuY2xhc3MgR3JvdXAgZXh0ZW5kcyBDb250YWluZXJfMS5Db250YWluZXIge1xuICAgIF92YWxpZGF0ZUFkZChjaGlsZCkge1xuICAgICAgICB2YXIgdHlwZSA9IGNoaWxkLmdldFR5cGUoKTtcbiAgICAgICAgaWYgKHR5cGUgIT09ICdHcm91cCcgJiYgdHlwZSAhPT0gJ1NoYXBlJykge1xuICAgICAgICAgICAgVXRpbF8xLlV0aWwudGhyb3coJ1lvdSBtYXkgb25seSBhZGQgZ3JvdXBzIGFuZCBzaGFwZXMgdG8gZ3JvdXBzLicpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5Hcm91cCA9IEdyb3VwO1xuR3JvdXAucHJvdG90eXBlLm5vZGVUeXBlID0gJ0dyb3VwJztcbigwLCBHbG9iYWxfMS5fcmVnaXN0ZXJOb2RlKShHcm91cCk7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFuaW1hdGlvbiA9IHZvaWQgMDtcbmNvbnN0IEdsb2JhbF8xID0gcmVxdWlyZShcIi4vR2xvYmFsXCIpO1xuY29uc3QgVXRpbF8xID0gcmVxdWlyZShcIi4vVXRpbFwiKTtcbmNvbnN0IG5vdyA9IChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKEdsb2JhbF8xLmdsb2IucGVyZm9ybWFuY2UgJiYgR2xvYmFsXzEuZ2xvYi5wZXJmb3JtYW5jZS5ub3cpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBHbG9iYWxfMS5nbG9iLnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfTtcbn0pKCk7XG5jbGFzcyBBbmltYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGZ1bmMsIGxheWVycykge1xuICAgICAgICB0aGlzLmlkID0gQW5pbWF0aW9uLmFuaW1JZENvdW50ZXIrKztcbiAgICAgICAgdGhpcy5mcmFtZSA9IHtcbiAgICAgICAgICAgIHRpbWU6IDAsXG4gICAgICAgICAgICB0aW1lRGlmZjogMCxcbiAgICAgICAgICAgIGxhc3RUaW1lOiBub3coKSxcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mdW5jID0gZnVuYztcbiAgICAgICAgdGhpcy5zZXRMYXllcnMobGF5ZXJzKTtcbiAgICB9XG4gICAgc2V0TGF5ZXJzKGxheWVycykge1xuICAgICAgICBsZXQgbGF5cyA9IFtdO1xuICAgICAgICBpZiAobGF5ZXJzKSB7XG4gICAgICAgICAgICBsYXlzID0gQXJyYXkuaXNBcnJheShsYXllcnMpID8gbGF5ZXJzIDogW2xheWVyc107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXllcnMgPSBsYXlzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0TGF5ZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXllcnM7XG4gICAgfVxuICAgIGFkZExheWVyKGxheWVyKSB7XG4gICAgICAgIGNvbnN0IGxheWVycyA9IHRoaXMubGF5ZXJzO1xuICAgICAgICBjb25zdCBsZW4gPSBsYXllcnMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGxlbjsgbisrKSB7XG4gICAgICAgICAgICBpZiAobGF5ZXJzW25dLl9pZCA9PT0gbGF5ZXIuX2lkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubGF5ZXJzLnB1c2gobGF5ZXIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaXNSdW5uaW5nKCkge1xuICAgICAgICBjb25zdCBhID0gQW5pbWF0aW9uO1xuICAgICAgICBjb25zdCBhbmltYXRpb25zID0gYS5hbmltYXRpb25zO1xuICAgICAgICBjb25zdCBsZW4gPSBhbmltYXRpb25zLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBsZW47IG4rKykge1xuICAgICAgICAgICAgaWYgKGFuaW1hdGlvbnNbbl0uaWQgPT09IHRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5mcmFtZS50aW1lRGlmZiA9IDA7XG4gICAgICAgIHRoaXMuZnJhbWUubGFzdFRpbWUgPSBub3coKTtcbiAgICAgICAgQW5pbWF0aW9uLl9hZGRBbmltYXRpb24odGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBBbmltYXRpb24uX3JlbW92ZUFuaW1hdGlvbih0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIF91cGRhdGVGcmFtZU9iamVjdCh0aW1lKSB7XG4gICAgICAgIHRoaXMuZnJhbWUudGltZURpZmYgPSB0aW1lIC0gdGhpcy5mcmFtZS5sYXN0VGltZTtcbiAgICAgICAgdGhpcy5mcmFtZS5sYXN0VGltZSA9IHRpbWU7XG4gICAgICAgIHRoaXMuZnJhbWUudGltZSArPSB0aGlzLmZyYW1lLnRpbWVEaWZmO1xuICAgICAgICB0aGlzLmZyYW1lLmZyYW1lUmF0ZSA9IDEwMDAgLyB0aGlzLmZyYW1lLnRpbWVEaWZmO1xuICAgIH1cbiAgICBzdGF0aWMgX2FkZEFuaW1hdGlvbihhbmltKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGFuaW0pO1xuICAgICAgICB0aGlzLl9oYW5kbGVBbmltYXRpb24oKTtcbiAgICB9XG4gICAgc3RhdGljIF9yZW1vdmVBbmltYXRpb24oYW5pbSkge1xuICAgICAgICBjb25zdCBpZCA9IGFuaW0uaWQ7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbnMgPSB0aGlzLmFuaW1hdGlvbnM7XG4gICAgICAgIGNvbnN0IGxlbiA9IGFuaW1hdGlvbnMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGxlbjsgbisrKSB7XG4gICAgICAgICAgICBpZiAoYW5pbWF0aW9uc1tuXS5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnMuc3BsaWNlKG4sIDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBfcnVuRnJhbWVzKCkge1xuICAgICAgICBjb25zdCBsYXllckhhc2ggPSB7fTtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9ucyA9IHRoaXMuYW5pbWF0aW9ucztcbiAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBhbmltYXRpb25zLmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgICBjb25zdCBhbmltID0gYW5pbWF0aW9uc1tuXTtcbiAgICAgICAgICAgIGNvbnN0IGxheWVycyA9IGFuaW0ubGF5ZXJzO1xuICAgICAgICAgICAgY29uc3QgZnVuYyA9IGFuaW0uZnVuYztcbiAgICAgICAgICAgIGFuaW0uX3VwZGF0ZUZyYW1lT2JqZWN0KG5vdygpKTtcbiAgICAgICAgICAgIGNvbnN0IGxheWVyc0xlbiA9IGxheWVycy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgbmVlZFJlZHJhdztcbiAgICAgICAgICAgIGlmIChmdW5jKSB7XG4gICAgICAgICAgICAgICAgbmVlZFJlZHJhdyA9IGZ1bmMuY2FsbChhbmltLCBhbmltLmZyYW1lKSAhPT0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZWVkUmVkcmF3ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbmVlZFJlZHJhdykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXllcnNMZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxheWVyID0gbGF5ZXJzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChsYXllci5faWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBsYXllckhhc2hbbGF5ZXIuX2lkXSA9IGxheWVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gbGF5ZXJIYXNoKSB7XG4gICAgICAgICAgICBpZiAoIWxheWVySGFzaC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXllckhhc2hba2V5XS5iYXRjaERyYXcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgX2FuaW1hdGlvbkxvb3AoKSB7XG4gICAgICAgIGNvbnN0IEFuaW0gPSBBbmltYXRpb247XG4gICAgICAgIGlmIChBbmltLmFuaW1hdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBBbmltLl9ydW5GcmFtZXMoKTtcbiAgICAgICAgICAgIFV0aWxfMS5VdGlsLnJlcXVlc3RBbmltRnJhbWUoQW5pbS5fYW5pbWF0aW9uTG9vcCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBBbmltLmFuaW1SdW5uaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIF9oYW5kbGVBbmltYXRpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5hbmltUnVubmluZykge1xuICAgICAgICAgICAgdGhpcy5hbmltUnVubmluZyA9IHRydWU7XG4gICAgICAgICAgICBVdGlsXzEuVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX2FuaW1hdGlvbkxvb3ApO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5BbmltYXRpb24gPSBBbmltYXRpb247XG5BbmltYXRpb24uYW5pbWF0aW9ucyA9IFtdO1xuQW5pbWF0aW9uLmFuaW1JZENvdW50ZXIgPSAwO1xuQW5pbWF0aW9uLmFuaW1SdW5uaW5nID0gZmFsc2U7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkVhc2luZ3MgPSBleHBvcnRzLlR3ZWVuID0gdm9pZCAwO1xuY29uc3QgVXRpbF8xID0gcmVxdWlyZShcIi4vVXRpbFwiKTtcbmNvbnN0IEFuaW1hdGlvbl8xID0gcmVxdWlyZShcIi4vQW5pbWF0aW9uXCIpO1xuY29uc3QgTm9kZV8xID0gcmVxdWlyZShcIi4vTm9kZVwiKTtcbmNvbnN0IEdsb2JhbF8xID0gcmVxdWlyZShcIi4vR2xvYmFsXCIpO1xudmFyIGJsYWNrbGlzdCA9IHtcbiAgICBub2RlOiAxLFxuICAgIGR1cmF0aW9uOiAxLFxuICAgIGVhc2luZzogMSxcbiAgICBvbkZpbmlzaDogMSxcbiAgICB5b3lvOiAxLFxufSwgUEFVU0VEID0gMSwgUExBWUlORyA9IDIsIFJFVkVSU0lORyA9IDMsIGlkQ291bnRlciA9IDAsIGNvbG9yQXR0cnMgPSBbJ2ZpbGwnLCAnc3Ryb2tlJywgJ3NoYWRvd0NvbG9yJ107XG5jbGFzcyBUd2VlbkVuZ2luZSB7XG4gICAgY29uc3RydWN0b3IocHJvcCwgcHJvcEZ1bmMsIGZ1bmMsIGJlZ2luLCBmaW5pc2gsIGR1cmF0aW9uLCB5b3lvKSB7XG4gICAgICAgIHRoaXMucHJvcCA9IHByb3A7XG4gICAgICAgIHRoaXMucHJvcEZ1bmMgPSBwcm9wRnVuYztcbiAgICAgICAgdGhpcy5iZWdpbiA9IGJlZ2luO1xuICAgICAgICB0aGlzLl9wb3MgPSBiZWdpbjtcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICB0aGlzLl9jaGFuZ2UgPSAwO1xuICAgICAgICB0aGlzLnByZXZQb3MgPSAwO1xuICAgICAgICB0aGlzLnlveW8gPSB5b3lvO1xuICAgICAgICB0aGlzLl90aW1lID0gMDtcbiAgICAgICAgdGhpcy5fcG9zaXRpb24gPSAwO1xuICAgICAgICB0aGlzLl9zdGFydFRpbWUgPSAwO1xuICAgICAgICB0aGlzLl9maW5pc2ggPSAwO1xuICAgICAgICB0aGlzLmZ1bmMgPSBmdW5jO1xuICAgICAgICB0aGlzLl9jaGFuZ2UgPSBmaW5pc2ggLSB0aGlzLmJlZ2luO1xuICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgfVxuICAgIGZpcmUoc3RyKSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gdGhpc1tzdHJdO1xuICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgICAgaGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldFRpbWUodCkge1xuICAgICAgICBpZiAodCA+IHRoaXMuZHVyYXRpb24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnlveW8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90aW1lID0gdGhpcy5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLnJldmVyc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodCA8IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnlveW8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90aW1lID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbWUgPSB0O1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRUaW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGltZTtcbiAgICB9XG4gICAgc2V0UG9zaXRpb24ocCkge1xuICAgICAgICB0aGlzLnByZXZQb3MgPSB0aGlzLl9wb3M7XG4gICAgICAgIHRoaXMucHJvcEZ1bmMocCk7XG4gICAgICAgIHRoaXMuX3BvcyA9IHA7XG4gICAgfVxuICAgIGdldFBvc2l0aW9uKHQpIHtcbiAgICAgICAgaWYgKHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdCA9IHRoaXMuX3RpbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYyh0LCB0aGlzLmJlZ2luLCB0aGlzLl9jaGFuZ2UsIHRoaXMuZHVyYXRpb24pO1xuICAgIH1cbiAgICBwbGF5KCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gUExBWUlORztcbiAgICAgICAgdGhpcy5fc3RhcnRUaW1lID0gdGhpcy5nZXRUaW1lcigpIC0gdGhpcy5fdGltZTtcbiAgICAgICAgdGhpcy5vbkVudGVyRnJhbWUoKTtcbiAgICAgICAgdGhpcy5maXJlKCdvblBsYXknKTtcbiAgICB9XG4gICAgcmV2ZXJzZSgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFJFVkVSU0lORztcbiAgICAgICAgdGhpcy5fdGltZSA9IHRoaXMuZHVyYXRpb24gLSB0aGlzLl90aW1lO1xuICAgICAgICB0aGlzLl9zdGFydFRpbWUgPSB0aGlzLmdldFRpbWVyKCkgLSB0aGlzLl90aW1lO1xuICAgICAgICB0aGlzLm9uRW50ZXJGcmFtZSgpO1xuICAgICAgICB0aGlzLmZpcmUoJ29uUmV2ZXJzZScpO1xuICAgIH1cbiAgICBzZWVrKHQpIHtcbiAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgICB0aGlzLl90aW1lID0gdDtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5maXJlKCdvblNlZWsnKTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgdGhpcy5fdGltZSA9IDA7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHRoaXMuZmlyZSgnb25SZXNldCcpO1xuICAgIH1cbiAgICBmaW5pc2goKSB7XG4gICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgdGhpcy5fdGltZSA9IHRoaXMuZHVyYXRpb247XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHRoaXMuZmlyZSgnb25GaW5pc2gnKTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHRoaXMuZ2V0UG9zaXRpb24odGhpcy5fdGltZSkpO1xuICAgICAgICB0aGlzLmZpcmUoJ29uVXBkYXRlJyk7XG4gICAgfVxuICAgIG9uRW50ZXJGcmFtZSgpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLmdldFRpbWVyKCkgLSB0aGlzLl9zdGFydFRpbWU7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBQTEFZSU5HKSB7XG4gICAgICAgICAgICB0aGlzLnNldFRpbWUodCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gUkVWRVJTSU5HKSB7XG4gICAgICAgICAgICB0aGlzLnNldFRpbWUodGhpcy5kdXJhdGlvbiAtIHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBhdXNlKCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gUEFVU0VEO1xuICAgICAgICB0aGlzLmZpcmUoJ29uUGF1c2UnKTtcbiAgICB9XG4gICAgZ2V0VGltZXIoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB9XG59XG5jbGFzcyBUd2VlbiB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcywgbm9kZSA9IGNvbmZpZy5ub2RlLCBub2RlSWQgPSBub2RlLl9pZCwgZHVyYXRpb24sIGVhc2luZyA9IGNvbmZpZy5lYXNpbmcgfHwgZXhwb3J0cy5FYXNpbmdzLkxpbmVhciwgeW95byA9ICEhY29uZmlnLnlveW8sIGtleTtcbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcuZHVyYXRpb24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IDAuMztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb25maWcuZHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAgIGR1cmF0aW9uID0gMC4wMDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IGNvbmZpZy5kdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLl9pZCA9IGlkQ291bnRlcisrO1xuICAgICAgICB2YXIgbGF5ZXJzID0gbm9kZS5nZXRMYXllcigpIHx8XG4gICAgICAgICAgICAobm9kZSBpbnN0YW5jZW9mIEdsb2JhbF8xLktvbnZhWydTdGFnZSddID8gbm9kZS5nZXRMYXllcnMoKSA6IG51bGwpO1xuICAgICAgICBpZiAoIWxheWVycykge1xuICAgICAgICAgICAgVXRpbF8xLlV0aWwuZXJyb3IoJ1R3ZWVuIGNvbnN0cnVjdG9yIGhhdmUgYG5vZGVgIHRoYXQgaXMgbm90IGluIGEgbGF5ZXIuIFBsZWFzZSBhZGQgbm9kZSBpbnRvIGxheWVyIGZpcnN0LicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5pbSA9IG5ldyBBbmltYXRpb25fMS5BbmltYXRpb24oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhhdC50d2Vlbi5vbkVudGVyRnJhbWUoKTtcbiAgICAgICAgfSwgbGF5ZXJzKTtcbiAgICAgICAgdGhpcy50d2VlbiA9IG5ldyBUd2VlbkVuZ2luZShrZXksIGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICB0aGF0Ll90d2VlbkZ1bmMoaSk7XG4gICAgICAgIH0sIGVhc2luZywgMCwgMSwgZHVyYXRpb24gKiAxMDAwLCB5b3lvKTtcbiAgICAgICAgdGhpcy5fYWRkTGlzdGVuZXJzKCk7XG4gICAgICAgIGlmICghVHdlZW4uYXR0cnNbbm9kZUlkXSkge1xuICAgICAgICAgICAgVHdlZW4uYXR0cnNbbm9kZUlkXSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmICghVHdlZW4uYXR0cnNbbm9kZUlkXVt0aGlzLl9pZF0pIHtcbiAgICAgICAgICAgIFR3ZWVuLmF0dHJzW25vZGVJZF1bdGhpcy5faWRdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFUd2Vlbi50d2VlbnNbbm9kZUlkXSkge1xuICAgICAgICAgICAgVHdlZW4udHdlZW5zW25vZGVJZF0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGtleSBpbiBjb25maWcpIHtcbiAgICAgICAgICAgIGlmIChibGFja2xpc3Rba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkQXR0cihrZXksIGNvbmZpZ1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMub25GaW5pc2ggPSBjb25maWcub25GaW5pc2g7XG4gICAgICAgIHRoaXMub25SZXNldCA9IGNvbmZpZy5vblJlc2V0O1xuICAgICAgICB0aGlzLm9uVXBkYXRlID0gY29uZmlnLm9uVXBkYXRlO1xuICAgIH1cbiAgICBfYWRkQXR0cihrZXksIGVuZCkge1xuICAgICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZSwgbm9kZUlkID0gbm9kZS5faWQsIHN0YXJ0LCBkaWZmLCB0d2VlbklkLCBuLCBsZW4sIHRydWVFbmQsIHRydWVTdGFydCwgZW5kUkdCQTtcbiAgICAgICAgdHdlZW5JZCA9IFR3ZWVuLnR3ZWVuc1tub2RlSWRdW2tleV07XG4gICAgICAgIGlmICh0d2VlbklkKSB7XG4gICAgICAgICAgICBkZWxldGUgVHdlZW4uYXR0cnNbbm9kZUlkXVt0d2VlbklkXVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIHN0YXJ0ID0gbm9kZS5nZXRBdHRyKGtleSk7XG4gICAgICAgIGlmIChVdGlsXzEuVXRpbC5faXNBcnJheShlbmQpKSB7XG4gICAgICAgICAgICBkaWZmID0gW107XG4gICAgICAgICAgICBsZW4gPSBNYXRoLm1heChlbmQubGVuZ3RoLCBzdGFydC5sZW5ndGgpO1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3BvaW50cycgJiYgZW5kLmxlbmd0aCAhPT0gc3RhcnQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVuZC5sZW5ndGggPiBzdGFydC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZVN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gVXRpbF8xLlV0aWwuX3ByZXBhcmVBcnJheUZvclR3ZWVuKHN0YXJ0LCBlbmQsIG5vZGUuY2xvc2VkKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZUVuZCA9IGVuZDtcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gVXRpbF8xLlV0aWwuX3ByZXBhcmVBcnJheUZvclR3ZWVuKGVuZCwgc3RhcnQsIG5vZGUuY2xvc2VkKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZignZmlsbCcpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChuID0gMDsgbiA8IGxlbjsgbisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuICUgMiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlmZi5wdXNoKGVuZFtuXSAtIHN0YXJ0W25dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydFJHQkEgPSBVdGlsXzEuVXRpbC5jb2xvclRvUkdCQShzdGFydFtuXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRSR0JBID0gVXRpbF8xLlV0aWwuY29sb3JUb1JHQkEoZW5kW25dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0W25dID0gc3RhcnRSR0JBO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlmZi5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByOiBlbmRSR0JBLnIgLSBzdGFydFJHQkEucixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnOiBlbmRSR0JBLmcgLSBzdGFydFJHQkEuZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiOiBlbmRSR0JBLmIgLSBzdGFydFJHQkEuYixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhOiBlbmRSR0JBLmEgLSBzdGFydFJHQkEuYSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChuID0gMDsgbiA8IGxlbjsgbisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpZmYucHVzaChlbmRbbl0gLSBzdGFydFtuXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbG9yQXR0cnMuaW5kZXhPZihrZXkpICE9PSAtMSkge1xuICAgICAgICAgICAgc3RhcnQgPSBVdGlsXzEuVXRpbC5jb2xvclRvUkdCQShzdGFydCk7XG4gICAgICAgICAgICBlbmRSR0JBID0gVXRpbF8xLlV0aWwuY29sb3JUb1JHQkEoZW5kKTtcbiAgICAgICAgICAgIGRpZmYgPSB7XG4gICAgICAgICAgICAgICAgcjogZW5kUkdCQS5yIC0gc3RhcnQucixcbiAgICAgICAgICAgICAgICBnOiBlbmRSR0JBLmcgLSBzdGFydC5nLFxuICAgICAgICAgICAgICAgIGI6IGVuZFJHQkEuYiAtIHN0YXJ0LmIsXG4gICAgICAgICAgICAgICAgYTogZW5kUkdCQS5hIC0gc3RhcnQuYSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkaWZmID0gZW5kIC0gc3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgVHdlZW4uYXR0cnNbbm9kZUlkXVt0aGlzLl9pZF1ba2V5XSA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgIGRpZmY6IGRpZmYsXG4gICAgICAgICAgICBlbmQ6IGVuZCxcbiAgICAgICAgICAgIHRydWVFbmQ6IHRydWVFbmQsXG4gICAgICAgICAgICB0cnVlU3RhcnQ6IHRydWVTdGFydCxcbiAgICAgICAgfTtcbiAgICAgICAgVHdlZW4udHdlZW5zW25vZGVJZF1ba2V5XSA9IHRoaXMuX2lkO1xuICAgIH1cbiAgICBfdHdlZW5GdW5jKGkpIHtcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLm5vZGUsIGF0dHJzID0gVHdlZW4uYXR0cnNbbm9kZS5faWRdW3RoaXMuX2lkXSwga2V5LCBhdHRyLCBzdGFydCwgZGlmZiwgbmV3VmFsLCBuLCBsZW4sIGVuZDtcbiAgICAgICAgZm9yIChrZXkgaW4gYXR0cnMpIHtcbiAgICAgICAgICAgIGF0dHIgPSBhdHRyc1trZXldO1xuICAgICAgICAgICAgc3RhcnQgPSBhdHRyLnN0YXJ0O1xuICAgICAgICAgICAgZGlmZiA9IGF0dHIuZGlmZjtcbiAgICAgICAgICAgIGVuZCA9IGF0dHIuZW5kO1xuICAgICAgICAgICAgaWYgKFV0aWxfMS5VdGlsLl9pc0FycmF5KHN0YXJ0KSkge1xuICAgICAgICAgICAgICAgIG5ld1ZhbCA9IFtdO1xuICAgICAgICAgICAgICAgIGxlbiA9IE1hdGgubWF4KHN0YXJ0Lmxlbmd0aCwgZW5kLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKCdmaWxsJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChuID0gMDsgbiA8IGxlbjsgbisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobiAlIDIgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWwucHVzaCgoc3RhcnRbbl0gfHwgMCkgKyBkaWZmW25dICogaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWwucHVzaCgncmdiYSgnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChzdGFydFtuXS5yICsgZGlmZltuXS5yICogaSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKHN0YXJ0W25dLmcgKyBkaWZmW25dLmcgKiBpKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcsJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQoc3RhcnRbbl0uYiArIGRpZmZbbl0uYiAqIGkpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJywnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0YXJ0W25dLmEgKyBkaWZmW25dLmEgKiBpKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcpJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobiA9IDA7IG4gPCBsZW47IG4rKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmFsLnB1c2goKHN0YXJ0W25dIHx8IDApICsgZGlmZltuXSAqIGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29sb3JBdHRycy5pbmRleE9mKGtleSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbmV3VmFsID1cbiAgICAgICAgICAgICAgICAgICAgJ3JnYmEoJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKHN0YXJ0LnIgKyBkaWZmLnIgKiBpKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAnLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChzdGFydC5nICsgZGlmZi5nICogaSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJywnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQoc3RhcnQuYiArIGRpZmYuYiAqIGkpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcsJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAoc3RhcnQuYSArIGRpZmYuYSAqIGkpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcpJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1ZhbCA9IHN0YXJ0ICsgZGlmZiAqIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLnNldEF0dHIoa2V5LCBuZXdWYWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9hZGRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMudHdlZW4ub25QbGF5ID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hbmltLnN0YXJ0KCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudHdlZW4ub25SZXZlcnNlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hbmltLnN0YXJ0KCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudHdlZW4ub25QYXVzZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYW5pbS5zdG9wKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudHdlZW4ub25GaW5pc2ggPSAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZTtcbiAgICAgICAgICAgIHZhciBhdHRycyA9IFR3ZWVuLmF0dHJzW25vZGUuX2lkXVt0aGlzLl9pZF07XG4gICAgICAgICAgICBpZiAoYXR0cnMucG9pbnRzICYmIGF0dHJzLnBvaW50cy50cnVlRW5kKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyKCdwb2ludHMnLCBhdHRycy5wb2ludHMudHJ1ZUVuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vbkZpbmlzaCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25GaW5pc2guY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy50d2Vlbi5vblJlc2V0ID0gKCkgPT4ge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSB0aGlzLm5vZGU7XG4gICAgICAgICAgICB2YXIgYXR0cnMgPSBUd2Vlbi5hdHRyc1tub2RlLl9pZF1bdGhpcy5faWRdO1xuICAgICAgICAgICAgaWYgKGF0dHJzLnBvaW50cyAmJiBhdHRycy5wb2ludHMudHJ1ZVN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgbm9kZS5wb2ludHMoYXR0cnMucG9pbnRzLnRydWVTdGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vblJlc2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblJlc2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudHdlZW4ub25VcGRhdGUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5vblVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25VcGRhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgcGxheSgpIHtcbiAgICAgICAgdGhpcy50d2Vlbi5wbGF5KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXZlcnNlKCkge1xuICAgICAgICB0aGlzLnR3ZWVuLnJldmVyc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnR3ZWVuLnJlc2V0KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZWVrKHQpIHtcbiAgICAgICAgdGhpcy50d2Vlbi5zZWVrKHQgKiAxMDAwKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHBhdXNlKCkge1xuICAgICAgICB0aGlzLnR3ZWVuLnBhdXNlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBmaW5pc2goKSB7XG4gICAgICAgIHRoaXMudHdlZW4uZmluaXNoKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB2YXIgbm9kZUlkID0gdGhpcy5ub2RlLl9pZCwgdGhpc0lkID0gdGhpcy5faWQsIGF0dHJzID0gVHdlZW4udHdlZW5zW25vZGVJZF0sIGtleTtcbiAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgICBmb3IgKGtleSBpbiBhdHRycykge1xuICAgICAgICAgICAgZGVsZXRlIFR3ZWVuLnR3ZWVuc1tub2RlSWRdW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIFR3ZWVuLmF0dHJzW25vZGVJZF1bdGhpc0lkXTtcbiAgICB9XG59XG5leHBvcnRzLlR3ZWVuID0gVHdlZW47XG5Ud2Vlbi5hdHRycyA9IHt9O1xuVHdlZW4udHdlZW5zID0ge307XG5Ob2RlXzEuTm9kZS5wcm90b3R5cGUudG8gPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgdmFyIG9uRmluaXNoID0gcGFyYW1zLm9uRmluaXNoO1xuICAgIHBhcmFtcy5ub2RlID0gdGhpcztcbiAgICBwYXJhbXMub25GaW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICBpZiAob25GaW5pc2gpIHtcbiAgICAgICAgICAgIG9uRmluaXNoKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciB0d2VlbiA9IG5ldyBUd2VlbihwYXJhbXMpO1xuICAgIHR3ZWVuLnBsYXkoKTtcbn07XG5leHBvcnRzLkVhc2luZ3MgPSB7XG4gICAgQmFja0Vhc2VJbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHZhciBzID0gMS43MDE1ODtcbiAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiAoKHMgKyAxKSAqIHQgLSBzKSArIGI7XG4gICAgfSxcbiAgICBCYWNrRWFzZU91dCh0LCBiLCBjLCBkKSB7XG4gICAgICAgIHZhciBzID0gMS43MDE1ODtcbiAgICAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqICgocyArIDEpICogdCArIHMpICsgMSkgKyBiO1xuICAgIH0sXG4gICAgQmFja0Vhc2VJbk91dCh0LCBiLCBjLCBkKSB7XG4gICAgICAgIHZhciBzID0gMS43MDE1ODtcbiAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybiAoYyAvIDIpICogKHQgKiB0ICogKCgocyAqPSAxLjUyNSkgKyAxKSAqIHQgLSBzKSkgKyBiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoYyAvIDIpICogKCh0IC09IDIpICogdCAqICgoKHMgKj0gMS41MjUpICsgMSkgKiB0ICsgcykgKyAyKSArIGI7XG4gICAgfSxcbiAgICBFbGFzdGljRWFzZUluKHQsIGIsIGMsIGQsIGEsIHApIHtcbiAgICAgICAgdmFyIHMgPSAwO1xuICAgICAgICBpZiAodCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0IC89IGQpID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gYiArIGM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwKSB7XG4gICAgICAgICAgICBwID0gZCAqIDAuMztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWEgfHwgYSA8IE1hdGguYWJzKGMpKSB7XG4gICAgICAgICAgICBhID0gYztcbiAgICAgICAgICAgIHMgPSBwIC8gNDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHMgPSAocCAvICgyICogTWF0aC5QSSkpICogTWF0aC5hc2luKGMgLyBhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKC0oYSAqXG4gICAgICAgICAgICBNYXRoLnBvdygyLCAxMCAqICh0IC09IDEpKSAqXG4gICAgICAgICAgICBNYXRoLnNpbigoKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpKSAvIHApKSArIGIpO1xuICAgIH0sXG4gICAgRWxhc3RpY0Vhc2VPdXQodCwgYiwgYywgZCwgYSwgcCkge1xuICAgICAgICB2YXIgcyA9IDA7XG4gICAgICAgIGlmICh0ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gYjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHQgLz0gZCkgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBiICsgYztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXApIHtcbiAgICAgICAgICAgIHAgPSBkICogMC4zO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYSB8fCBhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgICAgICAgIGEgPSBjO1xuICAgICAgICAgICAgcyA9IHAgLyA0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcyA9IChwIC8gKDIgKiBNYXRoLlBJKSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoYSAqIE1hdGgucG93KDIsIC0xMCAqIHQpICogTWF0aC5zaW4oKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSkgLyBwKSArXG4gICAgICAgICAgICBjICtcbiAgICAgICAgICAgIGIpO1xuICAgIH0sXG4gICAgRWxhc3RpY0Vhc2VJbk91dCh0LCBiLCBjLCBkLCBhLCBwKSB7XG4gICAgICAgIHZhciBzID0gMDtcbiAgICAgICAgaWYgKHQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICB9XG4gICAgICAgIGlmICgodCAvPSBkIC8gMikgPT09IDIpIHtcbiAgICAgICAgICAgIHJldHVybiBiICsgYztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXApIHtcbiAgICAgICAgICAgIHAgPSBkICogKDAuMyAqIDEuNSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhIHx8IGEgPCBNYXRoLmFicyhjKSkge1xuICAgICAgICAgICAgYSA9IGM7XG4gICAgICAgICAgICBzID0gcCAvIDQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzID0gKHAgLyAoMiAqIE1hdGguUEkpKSAqIE1hdGguYXNpbihjIC8gYSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHQgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gKC0wLjUgKlxuICAgICAgICAgICAgICAgIChhICpcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5wb3coMiwgMTAgKiAodCAtPSAxKSkgKlxuICAgICAgICAgICAgICAgICAgICBNYXRoLnNpbigoKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpKSAvIHApKSArXG4gICAgICAgICAgICAgICAgYik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChhICpcbiAgICAgICAgICAgIE1hdGgucG93KDIsIC0xMCAqICh0IC09IDEpKSAqXG4gICAgICAgICAgICBNYXRoLnNpbigoKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpKSAvIHApICpcbiAgICAgICAgICAgIDAuNSArXG4gICAgICAgICAgICBjICtcbiAgICAgICAgICAgIGIpO1xuICAgIH0sXG4gICAgQm91bmNlRWFzZU91dCh0LCBiLCBjLCBkKSB7XG4gICAgICAgIGlmICgodCAvPSBkKSA8IDEgLyAyLjc1KSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiB0ICogdCkgKyBiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHQgPCAyIC8gMi43NSkge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMS41IC8gMi43NSkgKiB0ICsgMC43NSkgKyBiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHQgPCAyLjUgLyAyLjc1KSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAyLjI1IC8gMi43NSkgKiB0ICsgMC45Mzc1KSArIGI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAyLjYyNSAvIDIuNzUpICogdCArIDAuOTg0Mzc1KSArIGI7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIEJvdW5jZUVhc2VJbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiBjIC0gZXhwb3J0cy5FYXNpbmdzLkJvdW5jZUVhc2VPdXQoZCAtIHQsIDAsIGMsIGQpICsgYjtcbiAgICB9LFxuICAgIEJvdW5jZUVhc2VJbk91dCh0LCBiLCBjLCBkKSB7XG4gICAgICAgIGlmICh0IDwgZCAvIDIpIHtcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkVhc2luZ3MuQm91bmNlRWFzZUluKHQgKiAyLCAwLCBjLCBkKSAqIDAuNSArIGI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5FYXNpbmdzLkJvdW5jZUVhc2VPdXQodCAqIDIgLSBkLCAwLCBjLCBkKSAqIDAuNSArIGMgKiAwLjUgKyBiO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBFYXNlSW4odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCArIGI7XG4gICAgfSxcbiAgICBFYXNlT3V0KHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIC1jICogKHQgLz0gZCkgKiAodCAtIDIpICsgYjtcbiAgICB9LFxuICAgIEVhc2VJbk91dCh0LCBiLCBjLCBkKSB7XG4gICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gKGMgLyAyKSAqIHQgKiB0ICsgYjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKC1jIC8gMikgKiAoLS10ICogKHQgLSAyKSAtIDEpICsgYjtcbiAgICB9LFxuICAgIFN0cm9uZ0Vhc2VJbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICB9LFxuICAgIFN0cm9uZ0Vhc2VPdXQodCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgKiB0ICsgMSkgKyBiO1xuICAgIH0sXG4gICAgU3Ryb25nRWFzZUluT3V0KHQsIGIsIGMsIGQpIHtcbiAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybiAoYyAvIDIpICogdCAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoYyAvIDIpICogKCh0IC09IDIpICogdCAqIHQgKiB0ICogdCArIDIpICsgYjtcbiAgICB9LFxuICAgIExpbmVhcih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiAoYyAqIHQpIC8gZCArIGI7XG4gICAgfSxcbn07XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLktvbnZhID0gdm9pZCAwO1xuY29uc3QgR2xvYmFsXzEgPSByZXF1aXJlKFwiLi9HbG9iYWxcIik7XG5jb25zdCBVdGlsXzEgPSByZXF1aXJlKFwiLi9VdGlsXCIpO1xuY29uc3QgTm9kZV8xID0gcmVxdWlyZShcIi4vTm9kZVwiKTtcbmNvbnN0IENvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vQ29udGFpbmVyXCIpO1xuY29uc3QgU3RhZ2VfMSA9IHJlcXVpcmUoXCIuL1N0YWdlXCIpO1xuY29uc3QgTGF5ZXJfMSA9IHJlcXVpcmUoXCIuL0xheWVyXCIpO1xuY29uc3QgRmFzdExheWVyXzEgPSByZXF1aXJlKFwiLi9GYXN0TGF5ZXJcIik7XG5jb25zdCBHcm91cF8xID0gcmVxdWlyZShcIi4vR3JvdXBcIik7XG5jb25zdCBEcmFnQW5kRHJvcF8xID0gcmVxdWlyZShcIi4vRHJhZ0FuZERyb3BcIik7XG5jb25zdCBTaGFwZV8xID0gcmVxdWlyZShcIi4vU2hhcGVcIik7XG5jb25zdCBBbmltYXRpb25fMSA9IHJlcXVpcmUoXCIuL0FuaW1hdGlvblwiKTtcbmNvbnN0IFR3ZWVuXzEgPSByZXF1aXJlKFwiLi9Ud2VlblwiKTtcbmNvbnN0IENvbnRleHRfMSA9IHJlcXVpcmUoXCIuL0NvbnRleHRcIik7XG5jb25zdCBDYW52YXNfMSA9IHJlcXVpcmUoXCIuL0NhbnZhc1wiKTtcbmV4cG9ydHMuS29udmEgPSBVdGlsXzEuVXRpbC5fYXNzaWduKEdsb2JhbF8xLktvbnZhLCB7XG4gICAgVXRpbDogVXRpbF8xLlV0aWwsXG4gICAgVHJhbnNmb3JtOiBVdGlsXzEuVHJhbnNmb3JtLFxuICAgIE5vZGU6IE5vZGVfMS5Ob2RlLFxuICAgIENvbnRhaW5lcjogQ29udGFpbmVyXzEuQ29udGFpbmVyLFxuICAgIFN0YWdlOiBTdGFnZV8xLlN0YWdlLFxuICAgIHN0YWdlczogU3RhZ2VfMS5zdGFnZXMsXG4gICAgTGF5ZXI6IExheWVyXzEuTGF5ZXIsXG4gICAgRmFzdExheWVyOiBGYXN0TGF5ZXJfMS5GYXN0TGF5ZXIsXG4gICAgR3JvdXA6IEdyb3VwXzEuR3JvdXAsXG4gICAgREQ6IERyYWdBbmREcm9wXzEuREQsXG4gICAgU2hhcGU6IFNoYXBlXzEuU2hhcGUsXG4gICAgc2hhcGVzOiBTaGFwZV8xLnNoYXBlcyxcbiAgICBBbmltYXRpb246IEFuaW1hdGlvbl8xLkFuaW1hdGlvbixcbiAgICBUd2VlbjogVHdlZW5fMS5Ud2VlbixcbiAgICBFYXNpbmdzOiBUd2Vlbl8xLkVhc2luZ3MsXG4gICAgQ29udGV4dDogQ29udGV4dF8xLkNvbnRleHQsXG4gICAgQ2FudmFzOiBDYW52YXNfMS5DYW52YXMsXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGV4cG9ydHMuS29udmE7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFyYyA9IHZvaWQgMDtcbmNvbnN0IEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9GYWN0b3J5XCIpO1xuY29uc3QgU2hhcGVfMSA9IHJlcXVpcmUoXCIuLi9TaGFwZVwiKTtcbmNvbnN0IEdsb2JhbF8xID0gcmVxdWlyZShcIi4uL0dsb2JhbFwiKTtcbmNvbnN0IFZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoXCIuLi9WYWxpZGF0b3JzXCIpO1xuY29uc3QgR2xvYmFsXzIgPSByZXF1aXJlKFwiLi4vR2xvYmFsXCIpO1xuY2xhc3MgQXJjIGV4dGVuZHMgU2hhcGVfMS5TaGFwZSB7XG4gICAgX3NjZW5lRnVuYyhjb250ZXh0KSB7XG4gICAgICAgIHZhciBhbmdsZSA9IEdsb2JhbF8xLktvbnZhLmdldEFuZ2xlKHRoaXMuYW5nbGUoKSksIGNsb2Nrd2lzZSA9IHRoaXMuY2xvY2t3aXNlKCk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQuYXJjKDAsIDAsIHRoaXMub3V0ZXJSYWRpdXMoKSwgMCwgYW5nbGUsIGNsb2Nrd2lzZSk7XG4gICAgICAgIGNvbnRleHQuYXJjKDAsIDAsIHRoaXMuaW5uZXJSYWRpdXMoKSwgYW5nbGUsIDAsICFjbG9ja3dpc2UpO1xuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHJva2VTaGFwZSh0aGlzKTtcbiAgICB9XG4gICAgZ2V0V2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91dGVyUmFkaXVzKCkgKiAyO1xuICAgIH1cbiAgICBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91dGVyUmFkaXVzKCkgKiAyO1xuICAgIH1cbiAgICBzZXRXaWR0aCh3aWR0aCkge1xuICAgICAgICB0aGlzLm91dGVyUmFkaXVzKHdpZHRoIC8gMik7XG4gICAgfVxuICAgIHNldEhlaWdodChoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5vdXRlclJhZGl1cyhoZWlnaHQgLyAyKTtcbiAgICB9XG4gICAgZ2V0U2VsZlJlY3QoKSB7XG4gICAgICAgIGNvbnN0IGlubmVyUmFkaXVzID0gdGhpcy5pbm5lclJhZGl1cygpO1xuICAgICAgICBjb25zdCBvdXRlclJhZGl1cyA9IHRoaXMub3V0ZXJSYWRpdXMoKTtcbiAgICAgICAgY29uc3QgY2xvY2t3aXNlID0gdGhpcy5jbG9ja3dpc2UoKTtcbiAgICAgICAgY29uc3QgYW5nbGUgPSBHbG9iYWxfMS5Lb252YS5nZXRBbmdsZShjbG9ja3dpc2UgPyAzNjAgLSB0aGlzLmFuZ2xlKCkgOiB0aGlzLmFuZ2xlKCkpO1xuICAgICAgICBjb25zdCBib3VuZExlZnRSYXRpbyA9IE1hdGguY29zKE1hdGgubWluKGFuZ2xlLCBNYXRoLlBJKSk7XG4gICAgICAgIGNvbnN0IGJvdW5kUmlnaHRSYXRpbyA9IDE7XG4gICAgICAgIGNvbnN0IGJvdW5kVG9wUmF0aW8gPSBNYXRoLnNpbihNYXRoLm1pbihNYXRoLm1heChNYXRoLlBJLCBhbmdsZSksICgzICogTWF0aC5QSSkgLyAyKSk7XG4gICAgICAgIGNvbnN0IGJvdW5kQm90dG9tUmF0aW8gPSBNYXRoLnNpbihNYXRoLm1pbihhbmdsZSwgTWF0aC5QSSAvIDIpKTtcbiAgICAgICAgY29uc3QgYm91bmRMZWZ0ID0gYm91bmRMZWZ0UmF0aW8gKiAoYm91bmRMZWZ0UmF0aW8gPiAwID8gaW5uZXJSYWRpdXMgOiBvdXRlclJhZGl1cyk7XG4gICAgICAgIGNvbnN0IGJvdW5kUmlnaHQgPSBib3VuZFJpZ2h0UmF0aW8gKiAoYm91bmRSaWdodFJhdGlvID4gMCA/IG91dGVyUmFkaXVzIDogaW5uZXJSYWRpdXMpO1xuICAgICAgICBjb25zdCBib3VuZFRvcCA9IGJvdW5kVG9wUmF0aW8gKiAoYm91bmRUb3BSYXRpbyA+IDAgPyBpbm5lclJhZGl1cyA6IG91dGVyUmFkaXVzKTtcbiAgICAgICAgY29uc3QgYm91bmRCb3R0b20gPSBib3VuZEJvdHRvbVJhdGlvICogKGJvdW5kQm90dG9tUmF0aW8gPiAwID8gb3V0ZXJSYWRpdXMgOiBpbm5lclJhZGl1cyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBib3VuZExlZnQsXG4gICAgICAgICAgICB5OiBjbG9ja3dpc2UgPyAtMSAqIGJvdW5kQm90dG9tIDogYm91bmRUb3AsXG4gICAgICAgICAgICB3aWR0aDogYm91bmRSaWdodCAtIGJvdW5kTGVmdCxcbiAgICAgICAgICAgIGhlaWdodDogYm91bmRCb3R0b20gLSBib3VuZFRvcCxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLkFyYyA9IEFyYztcbkFyYy5wcm90b3R5cGUuX2NlbnRyb2lkID0gdHJ1ZTtcbkFyYy5wcm90b3R5cGUuY2xhc3NOYW1lID0gJ0FyYyc7XG5BcmMucHJvdG90eXBlLl9hdHRyc0FmZmVjdGluZ1NpemUgPSBbJ2lubmVyUmFkaXVzJywgJ291dGVyUmFkaXVzJ107XG4oMCwgR2xvYmFsXzIuX3JlZ2lzdGVyTm9kZSkoQXJjKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihBcmMsICdpbm5lclJhZGl1cycsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihBcmMsICdvdXRlclJhZGl1cycsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihBcmMsICdhbmdsZScsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihBcmMsICdjbG9ja3dpc2UnLCBmYWxzZSwgKDAsIFZhbGlkYXRvcnNfMS5nZXRCb29sZWFuVmFsaWRhdG9yKSgpKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTGluZSA9IHZvaWQgMDtcbmNvbnN0IEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9GYWN0b3J5XCIpO1xuY29uc3QgU2hhcGVfMSA9IHJlcXVpcmUoXCIuLi9TaGFwZVwiKTtcbmNvbnN0IFZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoXCIuLi9WYWxpZGF0b3JzXCIpO1xuY29uc3QgR2xvYmFsXzEgPSByZXF1aXJlKFwiLi4vR2xvYmFsXCIpO1xuZnVuY3Rpb24gZ2V0Q29udHJvbFBvaW50cyh4MCwgeTAsIHgxLCB5MSwgeDIsIHkyLCB0KSB7XG4gICAgdmFyIGQwMSA9IE1hdGguc3FydChNYXRoLnBvdyh4MSAtIHgwLCAyKSArIE1hdGgucG93KHkxIC0geTAsIDIpKSwgZDEyID0gTWF0aC5zcXJ0KE1hdGgucG93KHgyIC0geDEsIDIpICsgTWF0aC5wb3coeTIgLSB5MSwgMikpLCBmYSA9ICh0ICogZDAxKSAvIChkMDEgKyBkMTIpLCBmYiA9ICh0ICogZDEyKSAvIChkMDEgKyBkMTIpLCBwMXggPSB4MSAtIGZhICogKHgyIC0geDApLCBwMXkgPSB5MSAtIGZhICogKHkyIC0geTApLCBwMnggPSB4MSArIGZiICogKHgyIC0geDApLCBwMnkgPSB5MSArIGZiICogKHkyIC0geTApO1xuICAgIHJldHVybiBbcDF4LCBwMXksIHAyeCwgcDJ5XTtcbn1cbmZ1bmN0aW9uIGV4cGFuZFBvaW50cyhwLCB0ZW5zaW9uKSB7XG4gICAgdmFyIGxlbiA9IHAubGVuZ3RoLCBhbGxQb2ludHMgPSBbXSwgbiwgY3A7XG4gICAgZm9yIChuID0gMjsgbiA8IGxlbiAtIDI7IG4gKz0gMikge1xuICAgICAgICBjcCA9IGdldENvbnRyb2xQb2ludHMocFtuIC0gMl0sIHBbbiAtIDFdLCBwW25dLCBwW24gKyAxXSwgcFtuICsgMl0sIHBbbiArIDNdLCB0ZW5zaW9uKTtcbiAgICAgICAgaWYgKGlzTmFOKGNwWzBdKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgYWxsUG9pbnRzLnB1c2goY3BbMF0pO1xuICAgICAgICBhbGxQb2ludHMucHVzaChjcFsxXSk7XG4gICAgICAgIGFsbFBvaW50cy5wdXNoKHBbbl0pO1xuICAgICAgICBhbGxQb2ludHMucHVzaChwW24gKyAxXSk7XG4gICAgICAgIGFsbFBvaW50cy5wdXNoKGNwWzJdKTtcbiAgICAgICAgYWxsUG9pbnRzLnB1c2goY3BbM10pO1xuICAgIH1cbiAgICByZXR1cm4gYWxsUG9pbnRzO1xufVxuY2xhc3MgTGluZSBleHRlbmRzIFNoYXBlXzEuU2hhcGUge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICBzdXBlcihjb25maWcpO1xuICAgICAgICB0aGlzLm9uKCdwb2ludHNDaGFuZ2Uua29udmEgdGVuc2lvbkNoYW5nZS5rb252YSBjbG9zZWRDaGFuZ2Uua29udmEgYmV6aWVyQ2hhbmdlLmtvbnZhJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5fY2xlYXJDYWNoZSgndGVuc2lvblBvaW50cycpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3NjZW5lRnVuYyhjb250ZXh0KSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cygpLCBsZW5ndGggPSBwb2ludHMubGVuZ3RoLCB0ZW5zaW9uID0gdGhpcy50ZW5zaW9uKCksIGNsb3NlZCA9IHRoaXMuY2xvc2VkKCksIGJlemllciA9IHRoaXMuYmV6aWVyKCksIHRwLCBsZW4sIG47XG4gICAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8ocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICAgICAgICBpZiAodGVuc2lvbiAhPT0gMCAmJiBsZW5ndGggPiA0KSB7XG4gICAgICAgICAgICB0cCA9IHRoaXMuZ2V0VGVuc2lvblBvaW50cygpO1xuICAgICAgICAgICAgbGVuID0gdHAubGVuZ3RoO1xuICAgICAgICAgICAgbiA9IGNsb3NlZCA/IDAgOiA0O1xuICAgICAgICAgICAgaWYgKCFjbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8odHBbMF0sIHRwWzFdLCB0cFsyXSwgdHBbM10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKG4gPCBsZW4gLSAyKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHRwW24rK10sIHRwW24rK10sIHRwW24rK10sIHRwW24rK10sIHRwW24rK10sIHRwW24rK10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8odHBbbGVuIC0gMl0sIHRwW2xlbiAtIDFdLCBwb2ludHNbbGVuZ3RoIC0gMl0sIHBvaW50c1tsZW5ndGggLSAxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYmV6aWVyKSB7XG4gICAgICAgICAgICBuID0gMjtcbiAgICAgICAgICAgIHdoaWxlIChuIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHBvaW50c1tuKytdLCBwb2ludHNbbisrXSwgcG9pbnRzW24rK10sIHBvaW50c1tuKytdLCBwb2ludHNbbisrXSwgcG9pbnRzW24rK10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChuID0gMjsgbiA8IGxlbmd0aDsgbiArPSAyKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocG9pbnRzW25dLCBwb2ludHNbbiArIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xvc2VkKSB7XG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3Ryb2tlU2hhcGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVNoYXBlKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFRlbnNpb25Qb2ludHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDYWNoZSgndGVuc2lvblBvaW50cycsIHRoaXMuX2dldFRlbnNpb25Qb2ludHMpO1xuICAgIH1cbiAgICBfZ2V0VGVuc2lvblBvaW50cygpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRUZW5zaW9uUG9pbnRzQ2xvc2VkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZXhwYW5kUG9pbnRzKHRoaXMucG9pbnRzKCksIHRoaXMudGVuc2lvbigpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZ2V0VGVuc2lvblBvaW50c0Nsb3NlZCgpIHtcbiAgICAgICAgdmFyIHAgPSB0aGlzLnBvaW50cygpLCBsZW4gPSBwLmxlbmd0aCwgdGVuc2lvbiA9IHRoaXMudGVuc2lvbigpLCBmaXJzdENvbnRyb2xQb2ludHMgPSBnZXRDb250cm9sUG9pbnRzKHBbbGVuIC0gMl0sIHBbbGVuIC0gMV0sIHBbMF0sIHBbMV0sIHBbMl0sIHBbM10sIHRlbnNpb24pLCBsYXN0Q29udHJvbFBvaW50cyA9IGdldENvbnRyb2xQb2ludHMocFtsZW4gLSA0XSwgcFtsZW4gLSAzXSwgcFtsZW4gLSAyXSwgcFtsZW4gLSAxXSwgcFswXSwgcFsxXSwgdGVuc2lvbiksIG1pZGRsZSA9IGV4cGFuZFBvaW50cyhwLCB0ZW5zaW9uKSwgdHAgPSBbZmlyc3RDb250cm9sUG9pbnRzWzJdLCBmaXJzdENvbnRyb2xQb2ludHNbM11dXG4gICAgICAgICAgICAuY29uY2F0KG1pZGRsZSlcbiAgICAgICAgICAgIC5jb25jYXQoW1xuICAgICAgICAgICAgbGFzdENvbnRyb2xQb2ludHNbMF0sXG4gICAgICAgICAgICBsYXN0Q29udHJvbFBvaW50c1sxXSxcbiAgICAgICAgICAgIHBbbGVuIC0gMl0sXG4gICAgICAgICAgICBwW2xlbiAtIDFdLFxuICAgICAgICAgICAgbGFzdENvbnRyb2xQb2ludHNbMl0sXG4gICAgICAgICAgICBsYXN0Q29udHJvbFBvaW50c1szXSxcbiAgICAgICAgICAgIGZpcnN0Q29udHJvbFBvaW50c1swXSxcbiAgICAgICAgICAgIGZpcnN0Q29udHJvbFBvaW50c1sxXSxcbiAgICAgICAgICAgIHBbMF0sXG4gICAgICAgICAgICBwWzFdLFxuICAgICAgICBdKTtcbiAgICAgICAgcmV0dXJuIHRwO1xuICAgIH1cbiAgICBnZXRXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VsZlJlY3QoKS53aWR0aDtcbiAgICB9XG4gICAgZ2V0SGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWxmUmVjdCgpLmhlaWdodDtcbiAgICB9XG4gICAgZ2V0U2VsZlJlY3QoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cygpO1xuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgeDogcG9pbnRzWzBdIHx8IDAsXG4gICAgICAgICAgICAgICAgeTogcG9pbnRzWzFdIHx8IDAsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50ZW5zaW9uKCkgIT09IDApIHtcbiAgICAgICAgICAgIHBvaW50cyA9IFtcbiAgICAgICAgICAgICAgICBwb2ludHNbMF0sXG4gICAgICAgICAgICAgICAgcG9pbnRzWzFdLFxuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2dldFRlbnNpb25Qb2ludHMoKSxcbiAgICAgICAgICAgICAgICBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdLFxuICAgICAgICAgICAgICAgIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcG9pbnRzID0gdGhpcy5wb2ludHMoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWluWCA9IHBvaW50c1swXTtcbiAgICAgICAgdmFyIG1heFggPSBwb2ludHNbMF07XG4gICAgICAgIHZhciBtaW5ZID0gcG9pbnRzWzFdO1xuICAgICAgICB2YXIgbWF4WSA9IHBvaW50c1sxXTtcbiAgICAgICAgdmFyIHgsIHk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aCAvIDI7IGkrKykge1xuICAgICAgICAgICAgeCA9IHBvaW50c1tpICogMl07XG4gICAgICAgICAgICB5ID0gcG9pbnRzW2kgKiAyICsgMV07XG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgeCk7XG4gICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgeCk7XG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgeSk7XG4gICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IG1pblgsXG4gICAgICAgICAgICB5OiBtaW5ZLFxuICAgICAgICAgICAgd2lkdGg6IG1heFggLSBtaW5YLFxuICAgICAgICAgICAgaGVpZ2h0OiBtYXhZIC0gbWluWSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLkxpbmUgPSBMaW5lO1xuTGluZS5wcm90b3R5cGUuY2xhc3NOYW1lID0gJ0xpbmUnO1xuTGluZS5wcm90b3R5cGUuX2F0dHJzQWZmZWN0aW5nU2l6ZSA9IFsncG9pbnRzJywgJ2JlemllcicsICd0ZW5zaW9uJ107XG4oMCwgR2xvYmFsXzEuX3JlZ2lzdGVyTm9kZSkoTGluZSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoTGluZSwgJ2Nsb3NlZCcsIGZhbHNlKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihMaW5lLCAnYmV6aWVyJywgZmFsc2UpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKExpbmUsICd0ZW5zaW9uJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKExpbmUsICdwb2ludHMnLCBbXSwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJBcnJheVZhbGlkYXRvcikoKSk7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnQybGVuZ3RoID0gZXhwb3J0cy5nZXRRdWFkcmF0aWNBcmNMZW5ndGggPSBleHBvcnRzLmdldEN1YmljQXJjTGVuZ3RoID0gZXhwb3J0cy5iaW5vbWlhbENvZWZmaWNpZW50cyA9IGV4cG9ydHMuY1ZhbHVlcyA9IGV4cG9ydHMudFZhbHVlcyA9IHZvaWQgMDtcbmV4cG9ydHMudFZhbHVlcyA9IFtcbiAgICBbXSxcbiAgICBbXSxcbiAgICBbXG4gICAgICAgIC0wLjU3NzM1MDI2OTE4OTYyNTc2NDUwOTE0ODc4MDUwMTk1NzQ1NTY0NzYsXG4gICAgICAgIDAuNTc3MzUwMjY5MTg5NjI1NzY0NTA5MTQ4NzgwNTAxOTU3NDU1NjQ3NixcbiAgICBdLFxuICAgIFtcbiAgICAgICAgMCwgLTAuNzc0NTk2NjY5MjQxNDgzMzc3MDM1ODUzMDc5OTU2NDc5OTIyMTY2NSxcbiAgICAgICAgMC43NzQ1OTY2NjkyNDE0ODMzNzcwMzU4NTMwNzk5NTY0Nzk5MjIxNjY1LFxuICAgIF0sXG4gICAgW1xuICAgICAgICAtMC4zMzk5ODEwNDM1ODQ4NTYyNjQ4MDI2NjU3NTkxMDMyNDQ2ODcyMDA1LFxuICAgICAgICAwLjMzOTk4MTA0MzU4NDg1NjI2NDgwMjY2NTc1OTEwMzI0NDY4NzIwMDUsXG4gICAgICAgIC0wLjg2MTEzNjMxMTU5NDA1MjU3NTIyMzk0NjQ4ODg5MjgwOTUwNTA5NTcsXG4gICAgICAgIDAuODYxMTM2MzExNTk0MDUyNTc1MjIzOTQ2NDg4ODkyODA5NTA1MDk1NyxcbiAgICBdLFxuICAgIFtcbiAgICAgICAgMCwgLTAuNTM4NDY5MzEwMTA1NjgzMDkxMDM2MzE0NDIwNzAwMjA4ODA0OTY3MixcbiAgICAgICAgMC41Mzg0NjkzMTAxMDU2ODMwOTEwMzYzMTQ0MjA3MDAyMDg4MDQ5NjcyLFxuICAgICAgICAtMC45MDYxNzk4NDU5Mzg2NjM5OTI3OTc2MjY4NzgyOTkzOTI5NjUxMjU2LFxuICAgICAgICAwLjkwNjE3OTg0NTkzODY2Mzk5Mjc5NzYyNjg3ODI5OTM5Mjk2NTEyNTYsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIDAuNjYxMjA5Mzg2NDY2MjY0NTEzNjYxMzk5NTk1MDE5OTA1MzQ3MDA2NCxcbiAgICAgICAgLTAuNjYxMjA5Mzg2NDY2MjY0NTEzNjYxMzk5NTk1MDE5OTA1MzQ3MDA2NCxcbiAgICAgICAgLTAuMjM4NjE5MTg2MDgzMTk2OTA4NjMwNTAxNzIxNjgwNzExOTM1NDE4NixcbiAgICAgICAgMC4yMzg2MTkxODYwODMxOTY5MDg2MzA1MDE3MjE2ODA3MTE5MzU0MTg2LFxuICAgICAgICAtMC45MzI0Njk1MTQyMDMxNTIwMjc4MTIzMDE1NTQ0OTM5OTQ2MDkxMzQ3LFxuICAgICAgICAwLjkzMjQ2OTUxNDIwMzE1MjAyNzgxMjMwMTU1NDQ5Mzk5NDYwOTEzNDcsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIDAsIDAuNDA1ODQ1MTUxMzc3Mzk3MTY2OTA2NjA2NDEyMDc2OTYxNDYzMzQ3MyxcbiAgICAgICAgLTAuNDA1ODQ1MTUxMzc3Mzk3MTY2OTA2NjA2NDEyMDc2OTYxNDYzMzQ3MyxcbiAgICAgICAgLTAuNzQxNTMxMTg1NTk5Mzk0NDM5ODYzODY0NzczMjgwNzg4NDA3MDc0MSxcbiAgICAgICAgMC43NDE1MzExODU1OTkzOTQ0Mzk4NjM4NjQ3NzMyODA3ODg0MDcwNzQxLFxuICAgICAgICAtMC45NDkxMDc5MTIzNDI3NTg1MjQ1MjYxODk2ODQwNDc4NTEyNjI0MDA3LFxuICAgICAgICAwLjk0OTEwNzkxMjM0Mjc1ODUyNDUyNjE4OTY4NDA0Nzg1MTI2MjQwMDcsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIC0wLjE4MzQzNDY0MjQ5NTY0OTgwNDkzOTQ3NjE0MjM2MDE4Mzk4MDY2NjcsXG4gICAgICAgIDAuMTgzNDM0NjQyNDk1NjQ5ODA0OTM5NDc2MTQyMzYwMTgzOTgwNjY2NyxcbiAgICAgICAgLTAuNTI1NTMyNDA5OTE2MzI4OTg1ODE3NzM5MDQ5MTg5MjQ2MzQ5MDQxOSxcbiAgICAgICAgMC41MjU1MzI0MDk5MTYzMjg5ODU4MTc3MzkwNDkxODkyNDYzNDkwNDE5LFxuICAgICAgICAtMC43OTY2NjY0Nzc0MTM2MjY3Mzk1OTE1NTM5MzY0NzU4MzA0MzY4MzcxLFxuICAgICAgICAwLjc5NjY2NjQ3NzQxMzYyNjczOTU5MTU1MzkzNjQ3NTgzMDQzNjgzNzEsXG4gICAgICAgIC0wLjk2MDI4OTg1NjQ5NzUzNjIzMTY4MzU2MDg2ODU2OTQ3Mjk5MDQyODIsXG4gICAgICAgIDAuOTYwMjg5ODU2NDk3NTM2MjMxNjgzNTYwODY4NTY5NDcyOTkwNDI4MixcbiAgICBdLFxuICAgIFtcbiAgICAgICAgMCwgLTAuODM2MDMxMTA3MzI2NjM1Nzk0Mjk5NDI5Nzg4MDY5NzM0ODc2NTQ0MSxcbiAgICAgICAgMC44MzYwMzExMDczMjY2MzU3OTQyOTk0Mjk3ODgwNjk3MzQ4NzY1NDQxLFxuICAgICAgICAtMC45NjgxNjAyMzk1MDc2MjYwODk4MzU1NzYyMDI5MDM2NzI4NzAwNDk0LFxuICAgICAgICAwLjk2ODE2MDIzOTUwNzYyNjA4OTgzNTU3NjIwMjkwMzY3Mjg3MDA0OTQsXG4gICAgICAgIC0wLjMyNDI1MzQyMzQwMzgwODkyOTAzODUzODAxNDY0MzMzNjYwODU3MTksXG4gICAgICAgIDAuMzI0MjUzNDIzNDAzODA4OTI5MDM4NTM4MDE0NjQzMzM2NjA4NTcxOSxcbiAgICAgICAgLTAuNjEzMzcxNDMyNzAwNTkwMzk3MzA4NzAyMDM5MzQxNDc0MTg0Nzg1NyxcbiAgICAgICAgMC42MTMzNzE0MzI3MDA1OTAzOTczMDg3MDIwMzkzNDE0NzQxODQ3ODU3LFxuICAgIF0sXG4gICAgW1xuICAgICAgICAtMC4xNDg4NzQzMzg5ODE2MzEyMTA4ODQ4MjYwMDExMjk3MTk5ODQ2MTc1LFxuICAgICAgICAwLjE0ODg3NDMzODk4MTYzMTIxMDg4NDgyNjAwMTEyOTcxOTk4NDYxNzUsXG4gICAgICAgIC0wLjQzMzM5NTM5NDEyOTI0NzE5MDc5OTI2NTk0MzE2NTc4NDE2MjIsXG4gICAgICAgIDAuNDMzMzk1Mzk0MTI5MjQ3MTkwNzk5MjY1OTQzMTY1Nzg0MTYyMixcbiAgICAgICAgLTAuNjc5NDA5NTY4Mjk5MDI0NDA2MjM0MzI3MzY1MTE0ODczNTc1NzY5MixcbiAgICAgICAgMC42Nzk0MDk1NjgyOTkwMjQ0MDYyMzQzMjczNjUxMTQ4NzM1NzU3NjkyLFxuICAgICAgICAtMC44NjUwNjMzNjY2ODg5ODQ1MTA3MzIwOTY2ODg0MjM0OTMwNDg1Mjc1LFxuICAgICAgICAwLjg2NTA2MzM2NjY4ODk4NDUxMDczMjA5NjY4ODQyMzQ5MzA0ODUyNzUsXG4gICAgICAgIC0wLjk3MzkwNjUyODUxNzE3MTcyMDA3Nzk2NDAxMjA4NDQ1MjA1MzQyODIsXG4gICAgICAgIDAuOTczOTA2NTI4NTE3MTcxNzIwMDc3OTY0MDEyMDg0NDUyMDUzNDI4MixcbiAgICBdLFxuICAgIFtcbiAgICAgICAgMCwgLTAuMjY5NTQzMTU1OTUyMzQ0OTcyMzMxNTMxOTg1NDAwODYxNTI0Njc5NixcbiAgICAgICAgMC4yNjk1NDMxNTU5NTIzNDQ5NzIzMzE1MzE5ODU0MDA4NjE1MjQ2Nzk2LFxuICAgICAgICAtMC41MTkwOTYxMjkyMDY4MTE4MTU5MjU3MjU2Njk0NTg2MDk1NTQ0ODAyLFxuICAgICAgICAwLjUxOTA5NjEyOTIwNjgxMTgxNTkyNTcyNTY2OTQ1ODYwOTU1NDQ4MDIsXG4gICAgICAgIC0wLjczMDE1MjAwNTU3NDA0OTMyNDA5MzQxNjI1MjAzMTE1MzQ1ODA0OTYsXG4gICAgICAgIDAuNzMwMTUyMDA1NTc0MDQ5MzI0MDkzNDE2MjUyMDMxMTUzNDU4MDQ5NixcbiAgICAgICAgLTAuODg3MDYyNTk5NzY4MDk1Mjk5MDc1MTU3NzY5MzAzOTI3MjY2NjMxNixcbiAgICAgICAgMC44ODcwNjI1OTk3NjgwOTUyOTkwNzUxNTc3NjkzMDM5MjcyNjY2MzE2LFxuICAgICAgICAtMC45NzgyMjg2NTgxNDYwNTY5OTI4MDM5MzgwMDExMjI4NTczOTA3NzE0LFxuICAgICAgICAwLjk3ODIyODY1ODE0NjA1Njk5MjgwMzkzODAwMTEyMjg1NzM5MDc3MTQsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIC0wLjEyNTIzMzQwODUxMTQ2ODkxNTQ3MjQ0MTM2OTQ2Mzg1MzEyOTk4MzMsXG4gICAgICAgIDAuMTI1MjMzNDA4NTExNDY4OTE1NDcyNDQxMzY5NDYzODUzMTI5OTgzMyxcbiAgICAgICAgLTAuMzY3ODMxNDk4OTk4MTgwMTkzNzUyNjkxNTM2NjQzNzE3NTYxMjU2MyxcbiAgICAgICAgMC4zNjc4MzE0OTg5OTgxODAxOTM3NTI2OTE1MzY2NDM3MTc1NjEyNTYzLFxuICAgICAgICAtMC41ODczMTc5NTQyODY2MTc0NDcyOTY3MDI0MTg5NDA1MzQyODAzNjksXG4gICAgICAgIDAuNTg3MzE3OTU0Mjg2NjE3NDQ3Mjk2NzAyNDE4OTQwNTM0MjgwMzY5LFxuICAgICAgICAtMC43Njk5MDI2NzQxOTQzMDQ2ODcwMzY4OTM4MzMyMTI4MTgwNzU5ODQ5LFxuICAgICAgICAwLjc2OTkwMjY3NDE5NDMwNDY4NzAzNjg5MzgzMzIxMjgxODA3NTk4NDksXG4gICAgICAgIC0wLjkwNDExNzI1NjM3MDQ3NDg1NjY3ODQ2NTg2NjExOTA5NjE5MjUzNzUsXG4gICAgICAgIDAuOTA0MTE3MjU2MzcwNDc0ODU2Njc4NDY1ODY2MTE5MDk2MTkyNTM3NSxcbiAgICAgICAgLTAuOTgxNTYwNjM0MjQ2NzE5MjUwNjkwNTQ5MDkwMTQ5MjgwODIyOTYwMSxcbiAgICAgICAgMC45ODE1NjA2MzQyNDY3MTkyNTA2OTA1NDkwOTAxNDkyODA4MjI5NjAxLFxuICAgIF0sXG4gICAgW1xuICAgICAgICAwLCAtMC4yMzA0NTgzMTU5NTUxMzQ3OTQwNjU1MjgxMjEwOTc5ODg4MzUyMTE1LFxuICAgICAgICAwLjIzMDQ1ODMxNTk1NTEzNDc5NDA2NTUyODEyMTA5Nzk4ODgzNTIxMTUsXG4gICAgICAgIC0wLjQ0ODQ5Mjc1MTAzNjQ0Njg1Mjg3NzkxMjg1MjEyNzYzOTg2NzgwMTksXG4gICAgICAgIDAuNDQ4NDkyNzUxMDM2NDQ2ODUyODc3OTEyODUyMTI3NjM5ODY3ODAxOSxcbiAgICAgICAgLTAuNjQyMzQ5MzM5NDQwMzQwMjIwNjQzOTg0NjA2OTk1NTE1NjUwMDcxNixcbiAgICAgICAgMC42NDIzNDkzMzk0NDAzNDAyMjA2NDM5ODQ2MDY5OTU1MTU2NTAwNzE2LFxuICAgICAgICAtMC44MDE1NzgwOTA3MzMzMDk5MTI3OTQyMDY0ODk1ODI4NTk4OTAzMDU2LFxuICAgICAgICAwLjgwMTU3ODA5MDczMzMwOTkxMjc5NDIwNjQ4OTU4Mjg1OTg5MDMwNTYsXG4gICAgICAgIC0wLjkxNzU5ODM5OTIyMjk3Nzk2NTIwNjU0NzgzNjUwMDcxOTUxMjM5MDQsXG4gICAgICAgIDAuOTE3NTk4Mzk5MjIyOTc3OTY1MjA2NTQ3ODM2NTAwNzE5NTEyMzkwNCxcbiAgICAgICAgLTAuOTg0MTgzMDU0NzE4NTg4MTQ5NDcyODI5NDQ4ODA3MTA5NjExMDY0OSxcbiAgICAgICAgMC45ODQxODMwNTQ3MTg1ODgxNDk0NzI4Mjk0NDg4MDcxMDk2MTEwNjQ5LFxuICAgIF0sXG4gICAgW1xuICAgICAgICAtMC4xMDgwNTQ5NDg3MDczNDM2NjIwNjYyNDQ2NTAyMTk4MzQ3NDc2MTE5LFxuICAgICAgICAwLjEwODA1NDk0ODcwNzM0MzY2MjA2NjI0NDY1MDIxOTgzNDc0NzYxMTksXG4gICAgICAgIC0wLjMxOTExMjM2ODkyNzg4OTc2MDQzNTY3MTgyNDE2ODQ3NTQ2NjgzNDIsXG4gICAgICAgIDAuMzE5MTEyMzY4OTI3ODg5NzYwNDM1NjcxODI0MTY4NDc1NDY2ODM0MixcbiAgICAgICAgLTAuNTE1MjQ4NjM2MzU4MTU0MDkxOTY1MjkwNzE4NTUxMTg4NjYyMzA4OCxcbiAgICAgICAgMC41MTUyNDg2MzYzNTgxNTQwOTE5NjUyOTA3MTg1NTExODg2NjIzMDg4LFxuICAgICAgICAtMC42ODcyOTI5MDQ4MTE2ODU0NzAxNDgwMTk4MDMwMTkzMzQxMzc1Mzg0LFxuICAgICAgICAwLjY4NzI5MjkwNDgxMTY4NTQ3MDE0ODAxOTgwMzAxOTMzNDEzNzUzODQsXG4gICAgICAgIC0wLjgyNzIwMTMxNTA2OTc2NDk5MzE4OTc5NDc0MjY1MDM5NDk2MTAzOTcsXG4gICAgICAgIDAuODI3MjAxMzE1MDY5NzY0OTkzMTg5Nzk0NzQyNjUwMzk0OTYxMDM5NyxcbiAgICAgICAgLTAuOTI4NDM0ODgzNjYzNTczNTE3MzM2MzkxMTM5Mzc3ODc0MjY0NDc3LFxuICAgICAgICAwLjkyODQzNDg4MzY2MzU3MzUxNzMzNjM5MTEzOTM3Nzg3NDI2NDQ3NyxcbiAgICAgICAgLTAuOTg2MjgzODA4Njk2ODEyMzM4ODQxNTk3MjY2NzA0MDUyODAxNjc2LFxuICAgICAgICAwLjk4NjI4MzgwODY5NjgxMjMzODg0MTU5NzI2NjcwNDA1MjgwMTY3NixcbiAgICBdLFxuICAgIFtcbiAgICAgICAgMCwgLTAuMjAxMTk0MDkzOTk3NDM0NTIyMzAwNjI4MzAzMzk0NTk2MjA3ODEyOCxcbiAgICAgICAgMC4yMDExOTQwOTM5OTc0MzQ1MjIzMDA2MjgzMDMzOTQ1OTYyMDc4MTI4LFxuICAgICAgICAtMC4zOTQxNTEzNDcwNzc1NjMzNjk4OTcyMDczNzA5ODEwNDU0NjgzNjI3LFxuICAgICAgICAwLjM5NDE1MTM0NzA3NzU2MzM2OTg5NzIwNzM3MDk4MTA0NTQ2ODM2MjcsXG4gICAgICAgIC0wLjU3MDk3MjE3MjYwODUzODg0NzUzNzIyNjczNzI1MzkxMDY0MTIzODMsXG4gICAgICAgIDAuNTcwOTcyMTcyNjA4NTM4ODQ3NTM3MjI2NzM3MjUzOTEwNjQxMjM4MyxcbiAgICAgICAgLTAuNzI0NDE3NzMxMzYwMTcwMDQ3NDE2MTg2MDU0NjEzOTM4MDA5NjMwOCxcbiAgICAgICAgMC43MjQ0MTc3MzEzNjAxNzAwNDc0MTYxODYwNTQ2MTM5MzgwMDk2MzA4LFxuICAgICAgICAtMC44NDgyMDY1ODM0MTA0MjcyMTYyMDA2NDgzMjA3NzQyMTY4NTEzNjYyLFxuICAgICAgICAwLjg0ODIwNjU4MzQxMDQyNzIxNjIwMDY0ODMyMDc3NDIxNjg1MTM2NjIsXG4gICAgICAgIC0wLjkzNzI3MzM5MjQwMDcwNTkwNDMwNzc1ODk0NzcxMDIwOTQ3MTI0MzksXG4gICAgICAgIDAuOTM3MjczMzkyNDAwNzA1OTA0MzA3NzU4OTQ3NzEwMjA5NDcxMjQzOSxcbiAgICAgICAgLTAuOTg3OTkyNTE4MDIwNDg1NDI4NDg5NTY1NzE4NTg2NjEyNTgxMTQ2OSxcbiAgICAgICAgMC45ODc5OTI1MTgwMjA0ODU0Mjg0ODk1NjU3MTg1ODY2MTI1ODExNDY5LFxuICAgIF0sXG4gICAgW1xuICAgICAgICAtMC4wOTUwMTI1MDk4Mzc2Mzc0NDAxODUzMTkzMzU0MjQ5NTgwNjMxMzAzLFxuICAgICAgICAwLjA5NTAxMjUwOTgzNzYzNzQ0MDE4NTMxOTMzNTQyNDk1ODA2MzEzMDMsXG4gICAgICAgIC0wLjI4MTYwMzU1MDc3OTI1ODkxMzIzMDQ2MDUwMTQ2MDQ5NjEwNjQ4NixcbiAgICAgICAgMC4yODE2MDM1NTA3NzkyNTg5MTMyMzA0NjA1MDE0NjA0OTYxMDY0ODYsXG4gICAgICAgIC0wLjQ1ODAxNjc3NzY1NzIyNzM4NjM0MjQxOTQ0Mjk4MzU3NzU3MzU0LFxuICAgICAgICAwLjQ1ODAxNjc3NzY1NzIyNzM4NjM0MjQxOTQ0Mjk4MzU3NzU3MzU0LFxuICAgICAgICAtMC42MTc4NzYyNDQ0MDI2NDM3NDg0NDY2NzE3NjQwNDg3OTEwMTg5OTE4LFxuICAgICAgICAwLjYxNzg3NjI0NDQwMjY0Mzc0ODQ0NjY3MTc2NDA0ODc5MTAxODk5MTgsXG4gICAgICAgIC0wLjc1NTQwNDQwODM1NTAwMzAzMzg5NTEwMTE5NDg0NzQ0MjI2ODM1MzgsXG4gICAgICAgIDAuNzU1NDA0NDA4MzU1MDAzMDMzODk1MTAxMTk0ODQ3NDQyMjY4MzUzOCxcbiAgICAgICAgLTAuODY1NjMxMjAyMzg3ODMxNzQzODgwNDY3ODk3NzEyMzkzMTMyMzg3MyxcbiAgICAgICAgMC44NjU2MzEyMDIzODc4MzE3NDM4ODA0Njc4OTc3MTIzOTMxMzIzODczLFxuICAgICAgICAtMC45NDQ1NzUwMjMwNzMyMzI1NzYwNzc5ODg0MTU1MzQ2MDgzNDUwOTExLFxuICAgICAgICAwLjk0NDU3NTAyMzA3MzIzMjU3NjA3Nzk4ODQxNTUzNDYwODM0NTA5MTEsXG4gICAgICAgIC0wLjk4OTQwMDkzNDk5MTY0OTkzMjU5NjE1NDE3MzQ1MDMzMjYyNzQyNjIsXG4gICAgICAgIDAuOTg5NDAwOTM0OTkxNjQ5OTMyNTk2MTU0MTczNDUwMzMyNjI3NDI2MixcbiAgICBdLFxuICAgIFtcbiAgICAgICAgMCwgLTAuMTc4NDg0MTgxNDk1ODQ3ODU1ODUwNjc3NDkzNjU0MDY1NTU3NDc1NCxcbiAgICAgICAgMC4xNzg0ODQxODE0OTU4NDc4NTU4NTA2Nzc0OTM2NTQwNjU1NTc0NzU0LFxuICAgICAgICAtMC4zNTEyMzE3NjM0NTM4NzYzMTUyOTcxODU1MTcwOTUzNDYwMDUwNDA1LFxuICAgICAgICAwLjM1MTIzMTc2MzQ1Mzg3NjMxNTI5NzE4NTUxNzA5NTM0NjAwNTA0MDUsXG4gICAgICAgIC0wLjUxMjY5MDUzNzA4NjQ3Njk2Nzg4NjI0NjU2ODYyOTU1MTg3NDU4MjksXG4gICAgICAgIDAuNTEyNjkwNTM3MDg2NDc2OTY3ODg2MjQ2NTY4NjI5NTUxODc0NTgyOSxcbiAgICAgICAgLTAuNjU3NjcxMTU5MjE2NjkwNzY1ODUwMzAyMjE2NjQzMDAyMzM1MTQ3OCxcbiAgICAgICAgMC42NTc2NzExNTkyMTY2OTA3NjU4NTAzMDIyMTY2NDMwMDIzMzUxNDc4LFxuICAgICAgICAtMC43ODE1MTQwMDM4OTY4MDE0MDY5MjUyMzAwNTU1MjA0NzYwNTAyMjM5LFxuICAgICAgICAwLjc4MTUxNDAwMzg5NjgwMTQwNjkyNTIzMDA1NTUyMDQ3NjA1MDIyMzksXG4gICAgICAgIC0wLjg4MDIzOTE1MzcyNjk4NTkwMjEyMjk1NTY5NDQ4ODE1NTY5MjYyMzQsXG4gICAgICAgIDAuODgwMjM5MTUzNzI2OTg1OTAyMTIyOTU1Njk0NDg4MTU1NjkyNjIzNCxcbiAgICAgICAgLTAuOTUwNjc1NTIxNzY4NzY3NzYxMjIyNzE2OTU3ODk1ODAzMDIxNDQzMyxcbiAgICAgICAgMC45NTA2NzU1MjE3Njg3Njc3NjEyMjI3MTY5NTc4OTU4MDMwMjE0NDMzLFxuICAgICAgICAtMC45OTA1NzU0NzUzMTQ0MTczMzU2NzU0MzQwMTk5NDA2NjUyNzY1MDc3LFxuICAgICAgICAwLjk5MDU3NTQ3NTMxNDQxNzMzNTY3NTQzNDAxOTk0MDY2NTI3NjUwNzcsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIC0wLjA4NDc3NTAxMzA0MTczNTMwMTI0MjI2MTg1MjkzNTc4MzgxMTczMzMsXG4gICAgICAgIDAuMDg0Nzc1MDEzMDQxNzM1MzAxMjQyMjYxODUyOTM1NzgzODExNzMzMyxcbiAgICAgICAgLTAuMjUxODg2MjI1NjkxNTA1NTA5NTg4OTcyODU0ODc3OTExMjMwMTYyOCxcbiAgICAgICAgMC4yNTE4ODYyMjU2OTE1MDU1MDk1ODg5NzI4NTQ4Nzc5MTEyMzAxNjI4LFxuICAgICAgICAtMC40MTE3NTExNjE0NjI4NDI2NDYwMzU5MzE3OTM4MzMwNTE2MzcwNzg5LFxuICAgICAgICAwLjQxMTc1MTE2MTQ2Mjg0MjY0NjAzNTkzMTc5MzgzMzA1MTYzNzA3ODksXG4gICAgICAgIC0wLjU1OTc3MDgzMTA3Mzk0NzUzNDYwNzg3MTU0ODUyNTMyOTEzNjkyNzYsXG4gICAgICAgIDAuNTU5NzcwODMxMDczOTQ3NTM0NjA3ODcxNTQ4NTI1MzI5MTM2OTI3NixcbiAgICAgICAgLTAuNjkxNjg3MDQzMDYwMzUzMjA3ODc0ODkxMDgxMjg4ODQ4Mzg5NDUyMixcbiAgICAgICAgMC42OTE2ODcwNDMwNjAzNTMyMDc4NzQ4OTEwODEyODg4NDgzODk0NTIyLFxuICAgICAgICAtMC44MDM3MDQ5NTg5NzI1MjMxMTU2ODI0MTc0NTUwMTQ1OTA3OTcxMDMyLFxuICAgICAgICAwLjgwMzcwNDk1ODk3MjUyMzExNTY4MjQxNzQ1NTAxNDU5MDc5NzEwMzIsXG4gICAgICAgIC0wLjg5MjYwMjQ2NjQ5NzU1NTczOTIwNjA2MDU5MTEyNzE0NTUxNTQwNzgsXG4gICAgICAgIDAuODkyNjAyNDY2NDk3NTU1NzM5MjA2MDYwNTkxMTI3MTQ1NTE1NDA3OCxcbiAgICAgICAgLTAuOTU1ODIzOTQ5NTcxMzk3NzU1MTgxMTk1ODkyOTI5Nzc2MzA5OTcyOCxcbiAgICAgICAgMC45NTU4MjM5NDk1NzEzOTc3NTUxODExOTU4OTI5Mjk3NzYzMDk5NzI4LFxuICAgICAgICAtMC45OTE1NjUxNjg0MjA5MzA5NDY3MzAwMTYwMDQ3MDYxNTA3NzAyNTI1LFxuICAgICAgICAwLjk5MTU2NTE2ODQyMDkzMDk0NjczMDAxNjAwNDcwNjE1MDc3MDI1MjUsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIDAsIC0wLjE2MDM1ODY0NTY0MDIyNTM3NTg2ODA5NjExNTc0MDc0MzU0OTUwNDgsXG4gICAgICAgIDAuMTYwMzU4NjQ1NjQwMjI1Mzc1ODY4MDk2MTE1NzQwNzQzNTQ5NTA0OCxcbiAgICAgICAgLTAuMzE2NTY0MDk5OTYzNjI5ODMxOTkwMTE3MzI4ODQ5ODQ0OTE3ODkyMixcbiAgICAgICAgMC4zMTY1NjQwOTk5NjM2Mjk4MzE5OTAxMTczMjg4NDk4NDQ5MTc4OTIyLFxuICAgICAgICAtMC40NjQ1NzA3NDEzNzU5NjA5NDU3MTcyNjcxNDgxMDQxMDIzNjc5NzYyLFxuICAgICAgICAwLjQ2NDU3MDc0MTM3NTk2MDk0NTcxNzI2NzE0ODEwNDEwMjM2Nzk3NjIsXG4gICAgICAgIC0wLjYwMDU0NTMwNDY2MTY4MTAyMzQ2OTYzODE2NDk0NjIzOTI3OTg2ODMsXG4gICAgICAgIDAuNjAwNTQ1MzA0NjYxNjgxMDIzNDY5NjM4MTY0OTQ2MjM5Mjc5ODY4MyxcbiAgICAgICAgLTAuNzIwOTY2MTc3MzM1MjI5Mzc4NjE3MDk1ODYwODIzNzgxNjI5NjU3MSxcbiAgICAgICAgMC43MjA5NjYxNzczMzUyMjkzNzg2MTcwOTU4NjA4MjM3ODE2Mjk2NTcxLFxuICAgICAgICAtMC44MjI3MTQ2NTY1MzcxNDI4MjQ5Nzg5MjI0ODY3MTI3MTM5MDE3NzQ1LFxuICAgICAgICAwLjgyMjcxNDY1NjUzNzE0MjgyNDk3ODkyMjQ4NjcxMjcxMzkwMTc3NDUsXG4gICAgICAgIC0wLjkwMzE1NTkwMzYxNDgxNzkwMTY0MjY2MDkyODUzMjMxMjQ4NzgwOTMsXG4gICAgICAgIDAuOTAzMTU1OTAzNjE0ODE3OTAxNjQyNjYwOTI4NTMyMzEyNDg3ODA5MyxcbiAgICAgICAgLTAuOTYwMjA4MTUyMTM0ODMwMDMwODUyNzc4ODQwNjg3NjUxNTI2NjE1LFxuICAgICAgICAwLjk2MDIwODE1MjEzNDgzMDAzMDg1Mjc3ODg0MDY4NzY1MTUyNjYxNSxcbiAgICAgICAgLTAuOTkyNDA2ODQzODQzNTg0NDAzMTg5MDE3NjcwMjUzMjYwNDkzNTg5MyxcbiAgICAgICAgMC45OTI0MDY4NDM4NDM1ODQ0MDMxODkwMTc2NzAyNTMyNjA0OTM1ODkzLFxuICAgIF0sXG4gICAgW1xuICAgICAgICAtMC4wNzY1MjY1MjExMzM0OTczMzM3NTQ2NDA0MDkzOTg4MzgyMTEwMDQ3LFxuICAgICAgICAwLjA3NjUyNjUyMTEzMzQ5NzMzMzc1NDY0MDQwOTM5ODgzODIxMTAwNDcsXG4gICAgICAgIC0wLjIyNzc4NTg1MTE0MTY0NTA3ODA4MDQ5NjE5NTM2ODU3NDYyNDc0MyxcbiAgICAgICAgMC4yMjc3ODU4NTExNDE2NDUwNzgwODA0OTYxOTUzNjg1NzQ2MjQ3NDMsXG4gICAgICAgIC0wLjM3MzcwNjA4ODcxNTQxOTU2MDY3MjU0ODE3NzAyNDkyNzIzNzM5NTcsXG4gICAgICAgIDAuMzczNzA2MDg4NzE1NDE5NTYwNjcyNTQ4MTc3MDI0OTI3MjM3Mzk1NyxcbiAgICAgICAgLTAuNTEwODY3MDAxOTUwODI3MDk4MDA0MzY0MDUwOTU1MjUwOTk4NDI1NCxcbiAgICAgICAgMC41MTA4NjcwMDE5NTA4MjcwOTgwMDQzNjQwNTA5NTUyNTA5OTg0MjU0LFxuICAgICAgICAtMC42MzYwNTM2ODA3MjY1MTUwMjU0NTI4MzY2OTYyMjYyODU5MzY3NDMzLFxuICAgICAgICAwLjYzNjA1MzY4MDcyNjUxNTAyNTQ1MjgzNjY5NjIyNjI4NTkzNjc0MzMsXG4gICAgICAgIC0wLjc0NjMzMTkwNjQ2MDE1MDc5MjYxNDMwNTA3MDM1NTY0MTU5MDMxMDcsXG4gICAgICAgIDAuNzQ2MzMxOTA2NDYwMTUwNzkyNjE0MzA1MDcwMzU1NjQxNTkwMzEwNyxcbiAgICAgICAgLTAuODM5MTE2OTcxODIyMjE4ODIzMzk0NTI5MDYxNzAxNTIwNjg1MzI5NixcbiAgICAgICAgMC44MzkxMTY5NzE4MjIyMTg4MjMzOTQ1MjkwNjE3MDE1MjA2ODUzMjk2LFxuICAgICAgICAtMC45MTIyMzQ0MjgyNTEzMjU5MDU4Njc3NTI0NDEyMDMyOTgxMTMwNDkxLFxuICAgICAgICAwLjkxMjIzNDQyODI1MTMyNTkwNTg2Nzc1MjQ0MTIwMzI5ODExMzA0OTEsXG4gICAgICAgIC0wLjk2Mzk3MTkyNzI3NzkxMzc5MTI2NzY2NjEzMTE5NzI3NzIyMTkxMixcbiAgICAgICAgMC45NjM5NzE5MjcyNzc5MTM3OTEyNjc2NjYxMzExOTcyNzcyMjE5MTIsXG4gICAgICAgIC0wLjk5MzEyODU5OTE4NTA5NDkyNDc4NjEyMjM4ODQ3MTMyMDI3ODIyMjYsXG4gICAgICAgIDAuOTkzMTI4NTk5MTg1MDk0OTI0Nzg2MTIyMzg4NDcxMzIwMjc4MjIyNixcbiAgICBdLFxuICAgIFtcbiAgICAgICAgMCwgLTAuMTQ1NTYxODU0MTYwODk1MDkwOTM3MDMwOTgyMzM4Njg2MzMwMTE2MyxcbiAgICAgICAgMC4xNDU1NjE4NTQxNjA4OTUwOTA5MzcwMzA5ODIzMzg2ODYzMzAxMTYzLFxuICAgICAgICAtMC4yODgwMjEzMTY4MDI0MDEwOTY2MDA3OTI1MTYwNjQ2MDAzMTk5MDksXG4gICAgICAgIDAuMjg4MDIxMzE2ODAyNDAxMDk2NjAwNzkyNTE2MDY0NjAwMzE5OTA5LFxuICAgICAgICAtMC40MjQzNDIxMjAyMDc0Mzg3ODM1NzM2Njg4ODg1NDM3ODgwNTIwOTY0LFxuICAgICAgICAwLjQyNDM0MjEyMDIwNzQzODc4MzU3MzY2ODg4ODU0Mzc4ODA1MjA5NjQsXG4gICAgICAgIC0wLjU1MTYxODgzNTg4NzIxOTgwNzA1OTAxODc5NjcyNDMxMzI4NjYyMixcbiAgICAgICAgMC41NTE2MTg4MzU4ODcyMTk4MDcwNTkwMTg3OTY3MjQzMTMyODY2MjIsXG4gICAgICAgIC0wLjY2NzEzODgwNDE5NzQxMjMxOTMwNTk2NjY2OTk5MDMzOTE2MjU5NyxcbiAgICAgICAgMC42NjcxMzg4MDQxOTc0MTIzMTkzMDU5NjY2Njk5OTAzMzkxNjI1OTcsXG4gICAgICAgIC0wLjc2ODQzOTk2MzQ3NTY3NzkwODYxNTg3Nzg1MTMwNjIyODAzNDgyMDksXG4gICAgICAgIDAuNzY4NDM5OTYzNDc1Njc3OTA4NjE1ODc3ODUxMzA2MjI4MDM0ODIwOSxcbiAgICAgICAgLTAuODUzMzYzMzY0NTgzMzE3MjgzNjQ3MjUwNjM4NTg3NTY3NjcwMjc2MSxcbiAgICAgICAgMC44NTMzNjMzNjQ1ODMzMTcyODM2NDcyNTA2Mzg1ODc1Njc2NzAyNzYxLFxuICAgICAgICAtMC45MjAwOTkzMzQxNTA0MDA4Mjg3OTAxODcxMzM3MTQ5Njg4OTQxNTkxLFxuICAgICAgICAwLjkyMDA5OTMzNDE1MDQwMDgyODc5MDE4NzEzMzcxNDk2ODg5NDE1OTEsXG4gICAgICAgIC0wLjk2NzIyNjgzODU2NjMwNjI5NDMxNjYyMjIxNDkwNzY5NTE2MTQyNDYsXG4gICAgICAgIDAuOTY3MjI2ODM4NTY2MzA2Mjk0MzE2NjIyMjE0OTA3Njk1MTYxNDI0NixcbiAgICAgICAgLTAuOTkzNzUyMTcwNjIwMzg5NTAwMjYwMjQyMDM1OTM3OTQwOTI5MTkzMyxcbiAgICAgICAgMC45OTM3NTIxNzA2MjAzODk1MDAyNjAyNDIwMzU5Mzc5NDA5MjkxOTMzLFxuICAgIF0sXG4gICAgW1xuICAgICAgICAtMC4wNjk3MzkyNzMzMTk3MjIyMjEyMTM4NDE3OTYxMTg2MjgwODE4MjIyLFxuICAgICAgICAwLjA2OTczOTI3MzMxOTcyMjIyMTIxMzg0MTc5NjExODYyODA4MTgyMjIsXG4gICAgICAgIC0wLjIwNzg2MDQyNjY4ODIyMTI4NTQ3ODg0NjUzMzkxOTU0NTczNDIxNTYsXG4gICAgICAgIDAuMjA3ODYwNDI2Njg4MjIxMjg1NDc4ODQ2NTMzOTE5NTQ1NzM0MjE1NixcbiAgICAgICAgLTAuMzQxOTM1ODIwODkyMDg0MjI1MTU4MTQ3NDIwNDI3Mzc5NjE5NTU5MSxcbiAgICAgICAgMC4zNDE5MzU4MjA4OTIwODQyMjUxNTgxNDc0MjA0MjczNzk2MTk1NTkxLFxuICAgICAgICAtMC40NjkzNTU4Mzc5ODY3NTcwMjY0MDYzMzA3MTA5NjY0MDYzNDYwOTUzLFxuICAgICAgICAwLjQ2OTM1NTgzNzk4Njc1NzAyNjQwNjMzMDcxMDk2NjQwNjM0NjA5NTMsXG4gICAgICAgIC0wLjU4NzY0MDQwMzUwNjkxMTU5Mjk1ODg3NjkyNzYzODY0NzM0ODg3NzYsXG4gICAgICAgIDAuNTg3NjQwNDAzNTA2OTExNTkyOTU4ODc2OTI3NjM4NjQ3MzQ4ODc3NixcbiAgICAgICAgLTAuNjk0NDg3MjYzMTg2NjgyNzgwMDUwNjg5ODM1NzYyMjU2NzcxMjY3MyxcbiAgICAgICAgMC42OTQ0ODcyNjMxODY2ODI3ODAwNTA2ODk4MzU3NjIyNTY3NzEyNjczLFxuICAgICAgICAtMC43ODc4MTY4MDU5NzkyMDgxNjIwMDQyNzc5NTU0MDgzNTE1MjEzODgxLFxuICAgICAgICAwLjc4NzgxNjgwNTk3OTIwODE2MjAwNDI3Nzk1NTQwODM1MTUyMTM4ODEsXG4gICAgICAgIC0wLjg2NTgxMjU3NzcyMDMwMDEzNjUzNjQyNTYzNzAxOTM3ODcyOTA4NDcsXG4gICAgICAgIDAuODY1ODEyNTc3NzIwMzAwMTM2NTM2NDI1NjM3MDE5Mzc4NzI5MDg0NyxcbiAgICAgICAgLTAuOTI2OTU2NzcyMTg3MTc0MDAwNTIwNjkyOTM5MjU5MDUzMTk2NjM1MyxcbiAgICAgICAgMC45MjY5NTY3NzIxODcxNzQwMDA1MjA2OTI5MzkyNTkwNTMxOTY2MzUzLFxuICAgICAgICAtMC45NzAwNjA0OTc4MzU0Mjg3MjcxMjM5NTA5ODY3NjUyNjg3MTA4MDU5LFxuICAgICAgICAwLjk3MDA2MDQ5NzgzNTQyODcyNzEyMzk1MDk4Njc2NTI2ODcxMDgwNTksXG4gICAgICAgIC0wLjk5NDI5NDU4NTQ4MjM5OTI5MjA3MzAzMTQyMTE2MTI5ODk4MDM5MyxcbiAgICAgICAgMC45OTQyOTQ1ODU0ODIzOTkyOTIwNzMwMzE0MjExNjEyOTg5ODAzOTMsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIDAsIC0wLjEzMzI1NjgyNDI5ODQ2NjExMDkzMTc0MjY4MjI0MTc2NjEzNzAxMDQsXG4gICAgICAgIDAuMTMzMjU2ODI0Mjk4NDY2MTEwOTMxNzQyNjgyMjQxNzY2MTM3MDEwNCxcbiAgICAgICAgLTAuMjY0MTM1NjgwOTcwMzQ0OTMwNTMzODY5NTM4MjgzMzA5NjAyOTc5LFxuICAgICAgICAwLjI2NDEzNTY4MDk3MDM0NDkzMDUzMzg2OTUzODI4MzMwOTYwMjk3OSxcbiAgICAgICAgLTAuMzkwMzAxMDM4MDMwMjkwODMxNDIxNDg4ODcyODgwNjA1NDU4NTc4LFxuICAgICAgICAwLjM5MDMwMTAzODAzMDI5MDgzMTQyMTQ4ODg3Mjg4MDYwNTQ1ODU3OCxcbiAgICAgICAgLTAuNTA5NTAxNDc3ODQ2MDA3NTQ5Njg5NzkzMDQ3ODY2ODQ2NDMwNTQ0OCxcbiAgICAgICAgMC41MDk1MDE0Nzc4NDYwMDc1NDk2ODk3OTMwNDc4NjY4NDY0MzA1NDQ4LFxuICAgICAgICAtMC42MTk2MDk4NzU3NjM2NDYxNTYzODUwOTczMTE2NDk1OTU2NTMzODcxLFxuICAgICAgICAwLjYxOTYwOTg3NTc2MzY0NjE1NjM4NTA5NzMxMTY0OTU5NTY1MzM4NzEsXG4gICAgICAgIC0wLjcxODY2MTM2MzEzMTk1MDE5NDQ2MTYyNDQ4Mzc0ODYxODg0ODMyOTksXG4gICAgICAgIDAuNzE4NjYxMzYzMTMxOTUwMTk0NDYxNjI0NDgzNzQ4NjE4ODQ4MzI5OSxcbiAgICAgICAgLTAuODA0ODg4NDAxNjE4ODM5ODkyMTUxMTE4NDA2OTk2Nzc4NTU3OTQxNCxcbiAgICAgICAgMC44MDQ4ODg0MDE2MTg4Mzk4OTIxNTExMTg0MDY5OTY3Nzg1NTc5NDE0LFxuICAgICAgICAtMC44NzY3NTIzNTgyNzA0NDE2NjczNzgxNTY4ODU5MzQxNDU2NzE2Mzg5LFxuICAgICAgICAwLjg3Njc1MjM1ODI3MDQ0MTY2NzM3ODE1Njg4NTkzNDE0NTY3MTYzODksXG4gICAgICAgIC0wLjkzMjk3MTA4NjgyNjAxNjEwMjM0OTE5Njk4OTAzODQyMjk3ODIzNTcsXG4gICAgICAgIDAuOTMyOTcxMDg2ODI2MDE2MTAyMzQ5MTk2OTg5MDM4NDIyOTc4MjM1NyxcbiAgICAgICAgLTAuOTcyNTQyNDcxMjE4MTE1MjMxOTU2MDI0MDc2ODIwNzc3Mzc1MTgxNixcbiAgICAgICAgMC45NzI1NDI0NzEyMTgxMTUyMzE5NTYwMjQwNzY4MjA3NzczNzUxODE2LFxuICAgICAgICAtMC45OTQ3NjkzMzQ5OTc1NTIxMjM1MjM5MjU3MTU0NDU1NzQzNjA1NzM2LFxuICAgICAgICAwLjk5NDc2OTMzNDk5NzU1MjEyMzUyMzkyNTcxNTQ0NTU3NDM2MDU3MzYsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIC0wLjA2NDA1Njg5Mjg2MjYwNTYyNjA4NTA0MzA4MjYyNDc0NTAzODU5MDksXG4gICAgICAgIDAuMDY0MDU2ODkyODYyNjA1NjI2MDg1MDQzMDgyNjI0NzQ1MDM4NTkwOSxcbiAgICAgICAgLTAuMTkxMTE4ODY3NDczNjE2MzA5MTU4NjM5ODIwNzU3MDY5NjMxODQwNCxcbiAgICAgICAgMC4xOTExMTg4Njc0NzM2MTYzMDkxNTg2Mzk4MjA3NTcwNjk2MzE4NDA0LFxuICAgICAgICAtMC4zMTUwNDI2Nzk2OTYxNjMzNzQzODY3OTMyOTEzMTk4MTAyNDA3ODY0LFxuICAgICAgICAwLjMxNTA0MjY3OTY5NjE2MzM3NDM4Njc5MzI5MTMxOTgxMDI0MDc4NjQsXG4gICAgICAgIC0wLjQzMzc5MzUwNzYyNjA0NTEzODQ4NzA4NDIzMTkxMzM0OTcxMjQ1MjQsXG4gICAgICAgIDAuNDMzNzkzNTA3NjI2MDQ1MTM4NDg3MDg0MjMxOTEzMzQ5NzEyNDUyNCxcbiAgICAgICAgLTAuNTQ1NDIxNDcxMzg4ODM5NTM1NjU4Mzc1NjE3MjE4MzcyMzcwMDEwNyxcbiAgICAgICAgMC41NDU0MjE0NzEzODg4Mzk1MzU2NTgzNzU2MTcyMTgzNzIzNzAwMTA3LFxuICAgICAgICAtMC42NDgwOTM2NTE5MzY5NzU1NjkyNTI0OTU3ODY5MTA3NDc2MjY2Njk2LFxuICAgICAgICAwLjY0ODA5MzY1MTkzNjk3NTU2OTI1MjQ5NTc4NjkxMDc0NzYyNjY2OTYsXG4gICAgICAgIC0wLjc0MDEyNDE5MTU3ODU1NDM2NDI0MzgyODEwMzA5OTk3ODQyNTUyMzIsXG4gICAgICAgIDAuNzQwMTI0MTkxNTc4NTU0MzY0MjQzODI4MTAzMDk5OTc4NDI1NTIzMixcbiAgICAgICAgLTAuODIwMDAxOTg1OTczOTAyOTIxOTUzOTQ5ODcyNjY5NzQ1MjA4MDc2MSxcbiAgICAgICAgMC44MjAwMDE5ODU5NzM5MDI5MjE5NTM5NDk4NzI2Njk3NDUyMDgwNzYxLFxuICAgICAgICAtMC44ODY0MTU1MjcwMDQ0MDEwMzQyMTMxNTQzNDE5ODIxOTY3NTUwODczLFxuICAgICAgICAwLjg4NjQxNTUyNzAwNDQwMTAzNDIxMzE1NDM0MTk4MjE5Njc1NTA4NzMsXG4gICAgICAgIC0wLjkzODI3NDU1MjAwMjczMjc1ODUyMzY0OTAwMTcwODcyMTQ0OTY1NDgsXG4gICAgICAgIDAuOTM4Mjc0NTUyMDAyNzMyNzU4NTIzNjQ5MDAxNzA4NzIxNDQ5NjU0OCxcbiAgICAgICAgLTAuOTc0NzI4NTU1OTcxMzA5NDk4MTk4MzkxOTkzMDA4MTY5MDYxNzQxMSxcbiAgICAgICAgMC45NzQ3Mjg1NTU5NzEzMDk0OTgxOTgzOTE5OTMwMDgxNjkwNjE3NDExLFxuICAgICAgICAtMC45OTUxODcyMTk5OTcwMjEzNjAxNzk5OTc0MDk3MDA3MzY4MTE4NzQ1LFxuICAgICAgICAwLjk5NTE4NzIxOTk5NzAyMTM2MDE3OTk5NzQwOTcwMDczNjgxMTg3NDUsXG4gICAgXSxcbl07XG5leHBvcnRzLmNWYWx1ZXMgPSBbXG4gICAgW10sXG4gICAgW10sXG4gICAgWzEuMCwgMS4wXSxcbiAgICBbXG4gICAgICAgIDAuODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4OCxcbiAgICAgICAgMC41NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1LFxuICAgICAgICAwLjU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTUsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIDAuNjUyMTQ1MTU0ODYyNTQ2MTQyNjI2OTM2MDUwNzc4MDAwNTkyNzY0NixcbiAgICAgICAgMC42NTIxNDUxNTQ4NjI1NDYxNDI2MjY5MzYwNTA3NzgwMDA1OTI3NjQ2LFxuICAgICAgICAwLjM0Nzg1NDg0NTEzNzQ1Mzg1NzM3MzA2Mzk0OTIyMTk5OTQwNzIzNTMsXG4gICAgICAgIDAuMzQ3ODU0ODQ1MTM3NDUzODU3MzczMDYzOTQ5MjIxOTk5NDA3MjM1MyxcbiAgICBdLFxuICAgIFtcbiAgICAgICAgMC41Njg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4LFxuICAgICAgICAwLjQ3ODYyODY3MDQ5OTM2NjQ2ODA0MTI5MTUxNDgzNTYzODE5MjkxMjIsXG4gICAgICAgIDAuNDc4NjI4NjcwNDk5MzY2NDY4MDQxMjkxNTE0ODM1NjM4MTkyOTEyMixcbiAgICAgICAgMC4yMzY5MjY4ODUwNTYxODkwODc1MTQyNjQwNDA3MTk5MTczNjI2NDMyLFxuICAgICAgICAwLjIzNjkyNjg4NTA1NjE4OTA4NzUxNDI2NDA0MDcxOTkxNzM2MjY0MzIsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIDAuMzYwNzYxNTczMDQ4MTM4NjA3NTY5ODMzNTEzODM3NzE2MTExNjYxNSxcbiAgICAgICAgMC4zNjA3NjE1NzMwNDgxMzg2MDc1Njk4MzM1MTM4Mzc3MTYxMTE2NjE1LFxuICAgICAgICAwLjQ2NzkxMzkzNDU3MjY5MTA0NzM4OTg3MDM0Mzk4OTU1MDk5NDgxMTYsXG4gICAgICAgIDAuNDY3OTEzOTM0NTcyNjkxMDQ3Mzg5ODcwMzQzOTg5NTUwOTk0ODExNixcbiAgICAgICAgMC4xNzEzMjQ0OTIzNzkxNzAzNDUwNDAyOTYxNDIxNzI3MzI4OTM1MjY4LFxuICAgICAgICAwLjE3MTMyNDQ5MjM3OTE3MDM0NTA0MDI5NjE0MjE3MjczMjg5MzUyNjgsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIDAuNDE3OTU5MTgzNjczNDY5Mzg3NzU1MTAyMDQwODE2MzI2NTMwNjEyMixcbiAgICAgICAgMC4zODE4MzAwNTA1MDUxMTg5NDQ5NTAzNjk3NzU0ODg5NzUxMzM4NzgzLFxuICAgICAgICAwLjM4MTgzMDA1MDUwNTExODk0NDk1MDM2OTc3NTQ4ODk3NTEzMzg3ODMsXG4gICAgICAgIDAuMjc5NzA1MzkxNDg5Mjc2NjY3OTAxNDY3NzcxNDIzNzc5NTgyNDg2OSxcbiAgICAgICAgMC4yNzk3MDUzOTE0ODkyNzY2Njc5MDE0Njc3NzE0MjM3Nzk1ODI0ODY5LFxuICAgICAgICAwLjEyOTQ4NDk2NjE2ODg2OTY5MzI3MDYxMTQzMjY3OTA4MjAxODMyODUsXG4gICAgICAgIDAuMTI5NDg0OTY2MTY4ODY5NjkzMjcwNjExNDMyNjc5MDgyMDE4MzI4NSxcbiAgICBdLFxuICAgIFtcbiAgICAgICAgMC4zNjI2ODM3ODMzNzgzNjE5ODI5NjUxNTA0NDkyNzcxOTU2MTIxOTQxLFxuICAgICAgICAwLjM2MjY4Mzc4MzM3ODM2MTk4Mjk2NTE1MDQ0OTI3NzE5NTYxMjE5NDEsXG4gICAgICAgIDAuMzEzNzA2NjQ1ODc3ODg3Mjg3MzM3OTYyMjAxOTg2NjAxMzEzMjYwMyxcbiAgICAgICAgMC4zMTM3MDY2NDU4Nzc4ODcyODczMzc5NjIyMDE5ODY2MDEzMTMyNjAzLFxuICAgICAgICAwLjIyMjM4MTAzNDQ1MzM3NDQ3MDU0NDM1NTk5NDQyNjI0MDg4NDQzMDEsXG4gICAgICAgIDAuMjIyMzgxMDM0NDUzMzc0NDcwNTQ0MzU1OTk0NDI2MjQwODg0NDMwMSxcbiAgICAgICAgMC4xMDEyMjg1MzYyOTAzNzYyNTkxNTI1MzEzNTQzMDk5NjIxOTAxMTUzLFxuICAgICAgICAwLjEwMTIyODUzNjI5MDM3NjI1OTE1MjUzMTM1NDMwOTk2MjE5MDExNTMsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIDAuMzMwMjM5MzU1MDAxMjU5NzYzMTY0NTI1MDY5Mjg2OTc0MDQ4ODc4OCxcbiAgICAgICAgMC4xODA2NDgxNjA2OTQ4NTc0MDQwNTg0NzIwMzEyNDI5MTI4MDk1MTQzLFxuICAgICAgICAwLjE4MDY0ODE2MDY5NDg1NzQwNDA1ODQ3MjAzMTI0MjkxMjgwOTUxNDMsXG4gICAgICAgIDAuMDgxMjc0Mzg4MzYxNTc0NDExOTcxODkyMTU4MTEwNTIzNjUwNjc1NixcbiAgICAgICAgMC4wODEyNzQzODgzNjE1NzQ0MTE5NzE4OTIxNTgxMTA1MjM2NTA2NzU2LFxuICAgICAgICAwLjMxMjM0NzA3NzA0MDAwMjg0MDA2ODYzMDQwNjU4NDQ0MzY2NTU5ODcsXG4gICAgICAgIDAuMzEyMzQ3MDc3MDQwMDAyODQwMDY4NjMwNDA2NTg0NDQzNjY1NTk4NyxcbiAgICAgICAgMC4yNjA2MTA2OTY0MDI5MzU0NjIzMTg3NDI4Njk0MTg2MzI4NDk3NzE4LFxuICAgICAgICAwLjI2MDYxMDY5NjQwMjkzNTQ2MjMxODc0Mjg2OTQxODYzMjg0OTc3MTgsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIDAuMjk1NTI0MjI0NzE0NzUyODcwMTczODkyOTk0NjUxMzM4MzI5NDIxLFxuICAgICAgICAwLjI5NTUyNDIyNDcxNDc1Mjg3MDE3Mzg5Mjk5NDY1MTMzODMyOTQyMSxcbiAgICAgICAgMC4yNjkyNjY3MTkzMDk5OTYzNTUwOTEyMjY5MjE1Njk0NjkzNTI4NTk3LFxuICAgICAgICAwLjI2OTI2NjcxOTMwOTk5NjM1NTA5MTIyNjkyMTU2OTQ2OTM1Mjg1OTcsXG4gICAgICAgIDAuMjE5MDg2MzYyNTE1OTgyMDQzOTk1NTM0OTM0MjI4MTYzMTkyNDU4NyxcbiAgICAgICAgMC4yMTkwODYzNjI1MTU5ODIwNDM5OTU1MzQ5MzQyMjgxNjMxOTI0NTg3LFxuICAgICAgICAwLjE0OTQ1MTM0OTE1MDU4MDU5MzE0NTc3NjMzOTY1NzY5NzMzMjQwMjUsXG4gICAgICAgIDAuMTQ5NDUxMzQ5MTUwNTgwNTkzMTQ1Nzc2MzM5NjU3Njk3MzMyNDAyNSxcbiAgICAgICAgMC4wNjY2NzEzNDQzMDg2ODgxMzc1OTM1Njg4MDk4OTMzMzE3OTI4NTc4LFxuICAgICAgICAwLjA2NjY3MTM0NDMwODY4ODEzNzU5MzU2ODgwOTg5MzMzMTc5Mjg1NzgsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIDAuMjcyOTI1MDg2Nzc3OTAwNjMwNzE0NDgzNTI4MzM2MzQyMTg5MTU2LFxuICAgICAgICAwLjI2MjgwNDU0NDUxMDI0NjY2MjE4MDY4ODg2OTg5MDUwOTE5NTM3MjcsXG4gICAgICAgIDAuMjYyODA0NTQ0NTEwMjQ2NjYyMTgwNjg4ODY5ODkwNTA5MTk1MzcyNyxcbiAgICAgICAgMC4yMzMxOTM3NjQ1OTE5OTA0Nzk5MTg1MjM3MDQ4NDMxNzUxMzk0MzE3LFxuICAgICAgICAwLjIzMzE5Mzc2NDU5MTk5MDQ3OTkxODUyMzcwNDg0MzE3NTEzOTQzMTcsXG4gICAgICAgIDAuMTg2MjkwMjEwOTI3NzM0MjUxNDI2MDk3NjQxNDMxNjU1ODkxNjkxMixcbiAgICAgICAgMC4xODYyOTAyMTA5Mjc3MzQyNTE0MjYwOTc2NDE0MzE2NTU4OTE2OTEyLFxuICAgICAgICAwLjEyNTU4MDM2OTQ2NDkwNDYyNDYzNDY5NDI5OTIyMzk0MDEwMDE5NzYsXG4gICAgICAgIDAuMTI1NTgwMzY5NDY0OTA0NjI0NjM0Njk0Mjk5MjIzOTQwMTAwMTk3NixcbiAgICAgICAgMC4wNTU2Njg1NjcxMTYxNzM2NjY0ODI3NTM3MjA0NDI1NDg1Nzg3Mjg1LFxuICAgICAgICAwLjA1NTY2ODU2NzExNjE3MzY2NjQ4Mjc1MzcyMDQ0MjU0ODU3ODcyODUsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIDAuMjQ5MTQ3MDQ1ODEzNDAyNzg1MDAwNTYyNDM2MDQyOTUxMjEwODMwNCxcbiAgICAgICAgMC4yNDkxNDcwNDU4MTM0MDI3ODUwMDA1NjI0MzYwNDI5NTEyMTA4MzA0LFxuICAgICAgICAwLjIzMzQ5MjUzNjUzODM1NDgwODc2MDg0OTg5ODkyNDg3ODA1NjI1OTQsXG4gICAgICAgIDAuMjMzNDkyNTM2NTM4MzU0ODA4NzYwODQ5ODk4OTI0ODc4MDU2MjU5NCxcbiAgICAgICAgMC4yMDMxNjc0MjY3MjMwNjU5MjE3NDkwNjQ0NTU4MDk3OTgzNzY1MDY1LFxuICAgICAgICAwLjIwMzE2NzQyNjcyMzA2NTkyMTc0OTA2NDQ1NTgwOTc5ODM3NjUwNjUsXG4gICAgICAgIDAuMTYwMDc4MzI4NTQzMzQ2MjI2MzM0NjUyNTI5NTQzMzU5MDcxODcyLFxuICAgICAgICAwLjE2MDA3ODMyODU0MzM0NjIyNjMzNDY1MjUyOTU0MzM1OTA3MTg3MixcbiAgICAgICAgMC4xMDY5MzkzMjU5OTUzMTg0MzA5NjAyNTQ3MTgxOTM5OTYyMjQyMTQ1LFxuICAgICAgICAwLjEwNjkzOTMyNTk5NTMxODQzMDk2MDI1NDcxODE5Mzk5NjIyNDIxNDUsXG4gICAgICAgIDAuMDQ3MTc1MzM2Mzg2NTExODI3MTk0NjE1OTYxNDg1MDE3MDYwMzE3LFxuICAgICAgICAwLjA0NzE3NTMzNjM4NjUxMTgyNzE5NDYxNTk2MTQ4NTAxNzA2MDMxNyxcbiAgICBdLFxuICAgIFtcbiAgICAgICAgMC4yMzI1NTE1NTMyMzA4NzM5MTAxOTQ1ODk1MTUyNjg4MzU5NDgxNTY2LFxuICAgICAgICAwLjIyNjI4MzE4MDI2Mjg5NzIzODQxMjA5MDE4NjAzOTc3NjYxODQzNDcsXG4gICAgICAgIDAuMjI2MjgzMTgwMjYyODk3MjM4NDEyMDkwMTg2MDM5Nzc2NjE4NDM0NyxcbiAgICAgICAgMC4yMDc4MTYwNDc1MzY4ODg1MDIzMTI1MjMyMTkzMDYwNTI3NjMzODY1LFxuICAgICAgICAwLjIwNzgxNjA0NzUzNjg4ODUwMjMxMjUyMzIxOTMwNjA1Mjc2MzM4NjUsXG4gICAgICAgIDAuMTc4MTQ1OTgwNzYxOTQ1NzM4MjgwMDQ2NjkxOTk2MDk3OTk1NTEyOCxcbiAgICAgICAgMC4xNzgxNDU5ODA3NjE5NDU3MzgyODAwNDY2OTE5OTYwOTc5OTU1MTI4LFxuICAgICAgICAwLjEzODg3MzUxMDIxOTc4NzIzODQ2MzYwMTc3Njg2ODg3MTQ2NzYyMTgsXG4gICAgICAgIDAuMTM4ODczNTEwMjE5Nzg3MjM4NDYzNjAxNzc2ODY4ODcxNDY3NjIxOCxcbiAgICAgICAgMC4wOTIxMjE0OTk4Mzc3Mjg0NDc5MTQ0MjE3NzU5NTM3OTcxMjA5MjM2LFxuICAgICAgICAwLjA5MjEyMTQ5OTgzNzcyODQ0NzkxNDQyMTc3NTk1Mzc5NzEyMDkyMzYsXG4gICAgICAgIDAuMDQwNDg0MDA0NzY1MzE1ODc5NTIwMDIxNTkyMjAwOTg2MDYwMDQxOSxcbiAgICAgICAgMC4wNDA0ODQwMDQ3NjUzMTU4Nzk1MjAwMjE1OTIyMDA5ODYwNjAwNDE5LFxuICAgIF0sXG4gICAgW1xuICAgICAgICAwLjIxNTI2Mzg1MzQ2MzE1Nzc5MDE5NTg3NjQ0MzMxNjI2MDAzNTI3NDksXG4gICAgICAgIDAuMjE1MjYzODUzNDYzMTU3NzkwMTk1ODc2NDQzMzE2MjYwMDM1Mjc0OSxcbiAgICAgICAgMC4yMDUxOTg0NjM3MjEyOTU2MDM5NjU5MjQwNjU2NjEyMTgwNTU3MTAzLFxuICAgICAgICAwLjIwNTE5ODQ2MzcyMTI5NTYwMzk2NTkyNDA2NTY2MTIxODA1NTcxMDMsXG4gICAgICAgIDAuMTg1NTM4Mzk3NDc3OTM3ODEzNzQxNzE2NTkwMTI1MTU3MDM2MjQ4OSxcbiAgICAgICAgMC4xODU1MzgzOTc0Nzc5Mzc4MTM3NDE3MTY1OTAxMjUxNTcwMzYyNDg5LFxuICAgICAgICAwLjE1NzIwMzE2NzE1ODE5MzUzNDU2OTYwMTkzODYyMzg0MjE1NjYwNTYsXG4gICAgICAgIDAuMTU3MjAzMTY3MTU4MTkzNTM0NTY5NjAxOTM4NjIzODQyMTU2NjA1NixcbiAgICAgICAgMC4xMjE1MTg1NzA2ODc5MDMxODQ2ODk0MTQ4MDkwNzI0NzY2MjU5NTY2LFxuICAgICAgICAwLjEyMTUxODU3MDY4NzkwMzE4NDY4OTQxNDgwOTA3MjQ3NjYyNTk1NjYsXG4gICAgICAgIDAuMDgwMTU4MDg3MTU5NzYwMjA5ODA1NjMzMjc3MDYyODU0MzA5NTgzNixcbiAgICAgICAgMC4wODAxNTgwODcxNTk3NjAyMDk4MDU2MzMyNzcwNjI4NTQzMDk1ODM2LFxuICAgICAgICAwLjAzNTExOTQ2MDMzMTc1MTg2MzAzMTgzMjg3NjEzODE5MTc4MDYxOTcsXG4gICAgICAgIDAuMDM1MTE5NDYwMzMxNzUxODYzMDMxODMyODc2MTM4MTkxNzgwNjE5NyxcbiAgICBdLFxuICAgIFtcbiAgICAgICAgMC4yMDI1NzgyNDE5MjU1NjEyNzI4ODA2MjAxOTk5Njc1MTkzMTQ4Mzg2LFxuICAgICAgICAwLjE5ODQzMTQ4NTMyNzExMTU3NjQ1NjExODMyNjQ0MzgzOTMyNDgxODYsXG4gICAgICAgIDAuMTk4NDMxNDg1MzI3MTExNTc2NDU2MTE4MzI2NDQzODM5MzI0ODE4NixcbiAgICAgICAgMC4xODYxNjEwMDAwMTU1NjIyMTEwMjY4MDA1NjE4NjY0MjI4MjQ1MDYyLFxuICAgICAgICAwLjE4NjE2MTAwMDAxNTU2MjIxMTAyNjgwMDU2MTg2NjQyMjgyNDUwNjIsXG4gICAgICAgIDAuMTY2MjY5MjA1ODE2OTkzOTMzNTUzMjAwODYwNDgxMjA4ODExMTMwOSxcbiAgICAgICAgMC4xNjYyNjkyMDU4MTY5OTM5MzM1NTMyMDA4NjA0ODEyMDg4MTExMzA5LFxuICAgICAgICAwLjEzOTU3MDY3NzkyNjE1NDMxNDQ0NzgwNDc5NDUxMTAyODMyMjUyMDgsXG4gICAgICAgIDAuMTM5NTcwNjc3OTI2MTU0MzE0NDQ3ODA0Nzk0NTExMDI4MzIyNTIwOCxcbiAgICAgICAgMC4xMDcxNTkyMjA0NjcxNzE5MzUwMTE4Njk1NDY2ODU4NjkzMDM0MTU1LFxuICAgICAgICAwLjEwNzE1OTIyMDQ2NzE3MTkzNTAxMTg2OTU0NjY4NTg2OTMwMzQxNTUsXG4gICAgICAgIDAuMDcwMzY2MDQ3NDg4MTA4MTI0NzA5MjY3NDE2NDUwNjY3MzM4NDY2NyxcbiAgICAgICAgMC4wNzAzNjYwNDc0ODgxMDgxMjQ3MDkyNjc0MTY0NTA2NjczMzg0NjY3LFxuICAgICAgICAwLjAzMDc1MzI0MTk5NjExNzI2ODM1NDYyODM5MzU3NzIwNDQxNzcyMTcsXG4gICAgICAgIDAuMDMwNzUzMjQxOTk2MTE3MjY4MzU0NjI4MzkzNTc3MjA0NDE3NzIxNyxcbiAgICBdLFxuICAgIFtcbiAgICAgICAgMC4xODk0NTA2MTA0NTUwNjg0OTYyODUzOTY3MjMyMDgyODMxMDUxNDY5LFxuICAgICAgICAwLjE4OTQ1MDYxMDQ1NTA2ODQ5NjI4NTM5NjcyMzIwODI4MzEwNTE0NjksXG4gICAgICAgIDAuMTgyNjAzNDE1MDQ0OTIzNTg4ODY2NzYzNjY3OTY5MjE5OTM5MzgzNSxcbiAgICAgICAgMC4xODI2MDM0MTUwNDQ5MjM1ODg4NjY3NjM2Njc5NjkyMTk5MzkzODM1LFxuICAgICAgICAwLjE2OTE1NjUxOTM5NTAwMjUzODE4OTMxMjA3OTAzMDM1OTk2MjIxMTYsXG4gICAgICAgIDAuMTY5MTU2NTE5Mzk1MDAyNTM4MTg5MzEyMDc5MDMwMzU5OTYyMjExNixcbiAgICAgICAgMC4xNDk1OTU5ODg4MTY1NzY3MzIwODE1MDE3MzA1NDc0Nzg1NDg5NzA0LFxuICAgICAgICAwLjE0OTU5NTk4ODgxNjU3NjczMjA4MTUwMTczMDU0NzQ3ODU0ODk3MDQsXG4gICAgICAgIDAuMTI0NjI4OTcxMjU1NTMzODcyMDUyNDc2MjgyMTkyMDE2NDIwMTQ0OCxcbiAgICAgICAgMC4xMjQ2Mjg5NzEyNTU1MzM4NzIwNTI0NzYyODIxOTIwMTY0MjAxNDQ4LFxuICAgICAgICAwLjA5NTE1ODUxMTY4MjQ5Mjc4NDgwOTkyNTEwNzYwMjI0NjIyNjM1NTIsXG4gICAgICAgIDAuMDk1MTU4NTExNjgyNDkyNzg0ODA5OTI1MTA3NjAyMjQ2MjI2MzU1MixcbiAgICAgICAgMC4wNjIyNTM1MjM5Mzg2NDc4OTI4NjI4NDM4MzY5OTQzNzc2OTQyNzQ5LFxuICAgICAgICAwLjA2MjI1MzUyMzkzODY0Nzg5Mjg2Mjg0MzgzNjk5NDM3NzY5NDI3NDksXG4gICAgICAgIDAuMDI3MTUyNDU5NDExNzU0MDk0ODUxNzgwNTcyNDU2MDE4MTAzNTEyMixcbiAgICAgICAgMC4wMjcxNTI0NTk0MTE3NTQwOTQ4NTE3ODA1NzI0NTYwMTgxMDM1MTIyLFxuICAgIF0sXG4gICAgW1xuICAgICAgICAwLjE3OTQ0NjQ3MDM1NjIwNjUyNTQ1ODI2NTY0NDI2MTg4NTYyMTQ0ODcsXG4gICAgICAgIDAuMTc2NTYyNzA1MzY2OTkyNjQ2MzI1MjcwOTkwMTEzMTk3MjM5MTUwOSxcbiAgICAgICAgMC4xNzY1NjI3MDUzNjY5OTI2NDYzMjUyNzA5OTAxMTMxOTcyMzkxNTA5LFxuICAgICAgICAwLjE2ODAwNDEwMjE1NjQ1MDA0NDUwOTk3MDY2Mzc4ODMyMzE1NTAyMTEsXG4gICAgICAgIDAuMTY4MDA0MTAyMTU2NDUwMDQ0NTA5OTcwNjYzNzg4MzIzMTU1MDIxMSxcbiAgICAgICAgMC4xNTQwNDU3NjEwNzY4MTAyODgwODE0MzE1OTQ4MDE5NTg2MTE5NDA0LFxuICAgICAgICAwLjE1NDA0NTc2MTA3NjgxMDI4ODA4MTQzMTU5NDgwMTk1ODYxMTk0MDQsXG4gICAgICAgIDAuMTM1MTM2MzY4NDY4NTI1NDczMjg2MzE5OTgxNzAyMzUwMTk3MzcyMSxcbiAgICAgICAgMC4xMzUxMzYzNjg0Njg1MjU0NzMyODYzMTk5ODE3MDIzNTAxOTczNzIxLFxuICAgICAgICAwLjExMTg4Mzg0NzE5MzQwMzk3MTA5NDc4ODM4NTYyNjM1NTkyNjczNTgsXG4gICAgICAgIDAuMTExODgzODQ3MTkzNDAzOTcxMDk0Nzg4Mzg1NjI2MzU1OTI2NzM1OCxcbiAgICAgICAgMC4wODUwMzYxNDgzMTcxNzkxODA4ODM1MzUzNzAxOTEwNjIwNzM4NTA0LFxuICAgICAgICAwLjA4NTAzNjE0ODMxNzE3OTE4MDg4MzUzNTM3MDE5MTA2MjA3Mzg1MDQsXG4gICAgICAgIDAuMDU1NDU5NTI5MzczOTg3MjAxMTI5NDQwMTY1MzU4MjQ0NjYwNTEyOCxcbiAgICAgICAgMC4wNTU0NTk1MjkzNzM5ODcyMDExMjk0NDAxNjUzNTgyNDQ2NjA1MTI4LFxuICAgICAgICAwLjAyNDE0ODMwMjg2ODU0NzkzMTk2MDExMDAyNjI4NzU2NTMyNDY5MTYsXG4gICAgICAgIDAuMDI0MTQ4MzAyODY4NTQ3OTMxOTYwMTEwMDI2Mjg3NTY1MzI0NjkxNixcbiAgICBdLFxuICAgIFtcbiAgICAgICAgMC4xNjkxNDIzODI5NjMxNDM1OTE4NDA2NTY0NzAxMzQ5ODY2MTAzMzQxLFxuICAgICAgICAwLjE2OTE0MjM4Mjk2MzE0MzU5MTg0MDY1NjQ3MDEzNDk4NjYxMDMzNDEsXG4gICAgICAgIDAuMTY0Mjc2NDgzNzQ1ODMyNzIyOTg2MDUzNzc2NDY1OTI3NTkwNDEyMyxcbiAgICAgICAgMC4xNjQyNzY0ODM3NDU4MzI3MjI5ODYwNTM3NzY0NjU5Mjc1OTA0MTIzLFxuICAgICAgICAwLjE1NDY4NDY3NTEyNjI2NTI0NDkyNTQxODAwMzgzNjM3NDc3MjE5MzIsXG4gICAgICAgIDAuMTU0Njg0Njc1MTI2MjY1MjQ0OTI1NDE4MDAzODM2Mzc0NzcyMTkzMixcbiAgICAgICAgMC4xNDA2NDI5MTQ2NzA2NTA2NTEyMDQ3MzEzMDM3NTE5NDcyMjgwOTU1LFxuICAgICAgICAwLjE0MDY0MjkxNDY3MDY1MDY1MTIwNDczMTMwMzc1MTk0NzIyODA5NTUsXG4gICAgICAgIDAuMTIyNTU1MjA2NzExNDc4NDYwMTg0NTE5MTI2ODAwMjAxNTU1MjI4MSxcbiAgICAgICAgMC4xMjI1NTUyMDY3MTE0Nzg0NjAxODQ1MTkxMjY4MDAyMDE1NTUyMjgxLFxuICAgICAgICAwLjEwMDk0MjA0NDEwNjI4NzE2NTU2MjgxMzk4NDkyNDgzNDYwNzA2MjgsXG4gICAgICAgIDAuMTAwOTQyMDQ0MTA2Mjg3MTY1NTYyODEzOTg0OTI0ODM0NjA3MDYyOCxcbiAgICAgICAgMC4wNzY0MjU3MzAyNTQ4ODkwNTY1MjkxMjk2Nzc2MTY2MzY1MjU2MDUzLFxuICAgICAgICAwLjA3NjQyNTczMDI1NDg4OTA1NjUyOTEyOTY3NzYxNjYzNjUyNTYwNTMsXG4gICAgICAgIDAuMDQ5NzE0NTQ4ODk0OTY5Nzk2NDUzMzM0OTQ2MjAyNjM4NjQxNjgwOCxcbiAgICAgICAgMC4wNDk3MTQ1NDg4OTQ5Njk3OTY0NTMzMzQ5NDYyMDI2Mzg2NDE2ODA4LFxuICAgICAgICAwLjAyMTYxNjAxMzUyNjQ4MzMxMDMxMzM0MjcxMDI2NjQ1MjQ2OTM4NzYsXG4gICAgICAgIDAuMDIxNjE2MDEzNTI2NDgzMzEwMzEzMzQyNzEwMjY2NDUyNDY5Mzg3NixcbiAgICBdLFxuICAgIFtcbiAgICAgICAgMC4xNjEwNTQ0NDk4NDg3ODM2OTU5NzkxNjM2MjUzMjA5MTY3MzUwMzk5LFxuICAgICAgICAwLjE1ODk2ODg0MzM5Mzk1NDM0NzY0OTk1NjQzOTQ2NTA0NzIwMTY3ODcsXG4gICAgICAgIDAuMTU4OTY4ODQzMzkzOTU0MzQ3NjQ5OTU2NDM5NDY1MDQ3MjAxNjc4NyxcbiAgICAgICAgMC4xNTI3NjYwNDIwNjU4NTk2NjY3Nzg4NTU0MDA4OTc2NjI5OTg0NjEsXG4gICAgICAgIDAuMTUyNzY2MDQyMDY1ODU5NjY2Nzc4ODU1NDAwODk3NjYyOTk4NDYxLFxuICAgICAgICAwLjE0MjYwNjcwMjE3MzYwNjYxMTc3NTc0NjEwOTQ0MTkwMjk3MjQ3NTYsXG4gICAgICAgIDAuMTQyNjA2NzAyMTczNjA2NjExNzc1NzQ2MTA5NDQxOTAyOTcyNDc1NixcbiAgICAgICAgMC4xMjg3NTM5NjI1MzkzMzYyMjc2NzU1MTU3ODQ4NTY4NzcxMTcwNTU4LFxuICAgICAgICAwLjEyODc1Mzk2MjUzOTMzNjIyNzY3NTUxNTc4NDg1Njg3NzExNzA1NTgsXG4gICAgICAgIDAuMTExNTY2NjQ1NTQ3MzMzOTk0NzE2MDIzOTAxNjgxNzY1OTk3NDgxMyxcbiAgICAgICAgMC4xMTE1NjY2NDU1NDczMzM5OTQ3MTYwMjM5MDE2ODE3NjU5OTc0ODEzLFxuICAgICAgICAwLjA5MTQ5MDAyMTYyMjQ0OTk5OTQ2NDQ2MjA5NDEyMzgzOTY1MjY2MDksXG4gICAgICAgIDAuMDkxNDkwMDIxNjIyNDQ5OTk5NDY0NDYyMDk0MTIzODM5NjUyNjYwOSxcbiAgICAgICAgMC4wNjkwNDQ1NDI3Mzc2NDEyMjY1ODA3MDgyNTgwMDYwMTMwNDQ5NjE4LFxuICAgICAgICAwLjA2OTA0NDU0MjczNzY0MTIyNjU4MDcwODI1ODAwNjAxMzA0NDk2MTgsXG4gICAgICAgIDAuMDQ0ODE0MjI2NzY1Njk5NjAwMzMyODM4MTU3NDAxOTk0MjExOTUxNyxcbiAgICAgICAgMC4wNDQ4MTQyMjY3NjU2OTk2MDAzMzI4MzgxNTc0MDE5OTQyMTE5NTE3LFxuICAgICAgICAwLjAxOTQ2MTc4ODIyOTcyNjQ3NzAzNjMxMjA0MTQ2NDQzODQzNTc1MjksXG4gICAgICAgIDAuMDE5NDYxNzg4MjI5NzI2NDc3MDM2MzEyMDQxNDY0NDM4NDM1NzUyOSxcbiAgICBdLFxuICAgIFtcbiAgICAgICAgMC4xNTI3NTMzODcxMzA3MjU4NTA2OTgwODQzMzE5NTUwOTc1OTM0OTE5LFxuICAgICAgICAwLjE1Mjc1MzM4NzEzMDcyNTg1MDY5ODA4NDMzMTk1NTA5NzU5MzQ5MTksXG4gICAgICAgIDAuMTQ5MTcyOTg2NDcyNjAzNzQ2Nzg3ODI4NzM3MDAxOTY5NDM2NjkyNixcbiAgICAgICAgMC4xNDkxNzI5ODY0NzI2MDM3NDY3ODc4Mjg3MzcwMDE5Njk0MzY2OTI2LFxuICAgICAgICAwLjE0MjA5NjEwOTMxODM4MjA1MTMyOTI5ODMyNTA2NzE2NDkzMzAzNDUsXG4gICAgICAgIDAuMTQyMDk2MTA5MzE4MzgyMDUxMzI5Mjk4MzI1MDY3MTY0OTMzMDM0NSxcbiAgICAgICAgMC4xMzE2ODg2Mzg0NDkxNzY2MjY4OTg0OTQ0OTk3NDgxNjMxMzQ5MTYxLFxuICAgICAgICAwLjEzMTY4ODYzODQ0OTE3NjYyNjg5ODQ5NDQ5OTc0ODE2MzEzNDkxNjEsXG4gICAgICAgIDAuMTE4MTk0NTMxOTYxNTE4NDE3MzEyMzc3Mzc3NzExMzgyMjg3MDA1LFxuICAgICAgICAwLjExODE5NDUzMTk2MTUxODQxNzMxMjM3NzM3NzcxMTM4MjI4NzAwNSxcbiAgICAgICAgMC4xMDE5MzAxMTk4MTcyNDA0MzUwMzY3NTAxMzU0ODAzNDk4NzYxNjY2LFxuICAgICAgICAwLjEwMTkzMDExOTgxNzI0MDQzNTAzNjc1MDEzNTQ4MDM0OTg3NjE2NjYsXG4gICAgICAgIDAuMDgzMjc2NzQxNTc2NzA0NzQ4NzI0NzU4MTQzMjIyMDQ2MjA2MTAwMSxcbiAgICAgICAgMC4wODMyNzY3NDE1NzY3MDQ3NDg3MjQ3NTgxNDMyMjIwNDYyMDYxMDAxLFxuICAgICAgICAwLjA2MjY3MjA0ODMzNDEwOTA2MzU2OTUwNjUzNTE4NzA0MTYwNjM1MTYsXG4gICAgICAgIDAuMDYyNjcyMDQ4MzM0MTA5MDYzNTY5NTA2NTM1MTg3MDQxNjA2MzUxNixcbiAgICAgICAgMC4wNDA2MDE0Mjk4MDAzODY5NDEzMzEwMzk5NTIyNzQ5MzIxMDk4NzksXG4gICAgICAgIDAuMDQwNjAxNDI5ODAwMzg2OTQxMzMxMDM5OTUyMjc0OTMyMTA5ODc5LFxuICAgICAgICAwLjAxNzYxNDAwNzEzOTE1MjExODMxMTg2MTk2MjM1MTg1MjgxNjM2MjEsXG4gICAgICAgIDAuMDE3NjE0MDA3MTM5MTUyMTE4MzExODYxOTYyMzUxODUyODE2MzYyMSxcbiAgICBdLFxuICAgIFtcbiAgICAgICAgMC4xNDYwODExMzM2NDk2OTA0MjcxOTE5ODUxNDc2ODMzNzExODgyNDQ4LFxuICAgICAgICAwLjE0NDUyNDQwMzk4OTk3MDA1OTA2MzgyNzE2NjU1Mzc1MjU0MzYwOTksXG4gICAgICAgIDAuMTQ0NTI0NDAzOTg5OTcwMDU5MDYzODI3MTY2NTUzNzUyNTQzNjA5OSxcbiAgICAgICAgMC4xMzk4ODczOTQ3OTEwNzMxNTQ3MjIxMzM0MjM4Njc1ODMxMTA4OTI3LFxuICAgICAgICAwLjEzOTg4NzM5NDc5MTA3MzE1NDcyMjEzMzQyMzg2NzU4MzExMDg5MjcsXG4gICAgICAgIDAuMTMyMjY4OTM4NjMzMzM3NDYxNzgxMDUyNTc0NDk2Nzc1NjA0MzI5LFxuICAgICAgICAwLjEzMjI2ODkzODYzMzMzNzQ2MTc4MTA1MjU3NDQ5Njc3NTYwNDMyOSxcbiAgICAgICAgMC4xMjE4MzE0MTYwNTM3Mjg1MzQxOTUzNjcxNzcxMjU3MzM1OTgzNTYzLFxuICAgICAgICAwLjEyMTgzMTQxNjA1MzcyODUzNDE5NTM2NzE3NzEyNTczMzU5ODM1NjMsXG4gICAgICAgIDAuMTA4Nzk3Mjk5MTY3MTQ4Mzc3NjYzNDc0NTc4MDcwMTA1NjQyMDMzNixcbiAgICAgICAgMC4xMDg3OTcyOTkxNjcxNDgzNzc2NjM0NzQ1NzgwNzAxMDU2NDIwMzM2LFxuICAgICAgICAwLjA5MzQ0NDQyMzQ1NjAzMzg2MTU1MzI4OTc0MTExMzkzMjA4ODQ4MzUsXG4gICAgICAgIDAuMDkzNDQ0NDIzNDU2MDMzODYxNTUzMjg5NzQxMTEzOTMyMDg4NDgzNSxcbiAgICAgICAgMC4wNzYxMDAxMTM2MjgzNzkzMDIwMTcwNTE2NTMzMDAxODMxNzkyMjYxLFxuICAgICAgICAwLjA3NjEwMDExMzYyODM3OTMwMjAxNzA1MTY1MzMwMDE4MzE3OTIyNjEsXG4gICAgICAgIDAuMDU3MTM0NDI1NDI2ODU3MjA4MjgzNjM1ODI2NDcyNDQ3OTU3NDkxMixcbiAgICAgICAgMC4wNTcxMzQ0MjU0MjY4NTcyMDgyODM2MzU4MjY0NzI0NDc5NTc0OTEyLFxuICAgICAgICAwLjAzNjk1Mzc4OTc3MDg1MjQ5Mzc5OTk1MDY2ODI5OTMyOTY2NjE4ODksXG4gICAgICAgIDAuMDM2OTUzNzg5NzcwODUyNDkzNzk5OTUwNjY4Mjk5MzI5NjY2MTg4OSxcbiAgICAgICAgMC4wMTYwMTcyMjgyNTc3NzQzMzMzMjQyMjQ2MTY4NTg0NzEwMTUyNjU4LFxuICAgICAgICAwLjAxNjAxNzIyODI1Nzc3NDMzMzMyNDIyNDYxNjg1ODQ3MTAxNTI2NTgsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIDAuMTM5MjUxODcyODU1NjMxOTkzMzc1NDEwMjQ4MzQxODA5OTU3ODczOSxcbiAgICAgICAgMC4xMzkyNTE4NzI4NTU2MzE5OTMzNzU0MTAyNDgzNDE4MDk5NTc4NzM5LFxuICAgICAgICAwLjEzNjU0MTQ5ODM0NjAxNTE3MTM1MjU3MzgzMTIzMTUxNzM5NjU4NjMsXG4gICAgICAgIDAuMTM2NTQxNDk4MzQ2MDE1MTcxMzUyNTczODMxMjMxNTE3Mzk2NTg2MyxcbiAgICAgICAgMC4xMzExNzM1MDQ3ODcwNjIzNzA3MzI5NjQ5OTI1MzAzMDc0NDU4NzU3LFxuICAgICAgICAwLjEzMTE3MzUwNDc4NzA2MjM3MDczMjk2NDk5MjUzMDMwNzQ0NTg3NTcsXG4gICAgICAgIDAuMTIzMjUyMzc2ODEwNTEyNDI0Mjg1NTYwOTg2MTU0ODE0NDcxOTU5NCxcbiAgICAgICAgMC4xMjMyNTIzNzY4MTA1MTI0MjQyODU1NjA5ODYxNTQ4MTQ0NzE5NTk0LFxuICAgICAgICAwLjExMjkzMjI5NjA4MDUzOTIxODM5MzQwMDYwNzQyMTc4NDMxOTExNDIsXG4gICAgICAgIDAuMTEyOTMyMjk2MDgwNTM5MjE4MzkzNDAwNjA3NDIxNzg0MzE5MTE0MixcbiAgICAgICAgMC4xMDA0MTQxNDQ0NDI4ODA5NjQ5MzIwNzg4Mzc4MzA1MzYyODIzNTA4LFxuICAgICAgICAwLjEwMDQxNDE0NDQ0Mjg4MDk2NDkzMjA3ODgzNzgzMDUzNjI4MjM1MDgsXG4gICAgICAgIDAuMDg1OTQxNjA2MjE3MDY3NzI3NDE0NDQzNjgxMzcyNzAyODY2MTg5MSxcbiAgICAgICAgMC4wODU5NDE2MDYyMTcwNjc3Mjc0MTQ0NDM2ODEzNzI3MDI4NjYxODkxLFxuICAgICAgICAwLjA2OTc5NjQ2ODQyNDUyMDQ4ODA5NDk2MTQxODkzMDIxNzY1NzM5ODcsXG4gICAgICAgIDAuMDY5Nzk2NDY4NDI0NTIwNDg4MDk0OTYxNDE4OTMwMjE3NjU3Mzk4NyxcbiAgICAgICAgMC4wNTIyOTMzMzUxNTI2ODMyODU5NDAzMTIwNTEyNzMyMTEyNTYxMTIxLFxuICAgICAgICAwLjA1MjI5MzMzNTE1MjY4MzI4NTk0MDMxMjA1MTI3MzIxMTI1NjExMjEsXG4gICAgICAgIDAuMDMzNzc0OTAxNTg0ODE0MTU0NzkzMzAyMjQ2ODY1OTEyOTAxMzQ5MSxcbiAgICAgICAgMC4wMzM3NzQ5MDE1ODQ4MTQxNTQ3OTMzMDIyNDY4NjU5MTI5MDEzNDkxLFxuICAgICAgICAwLjAxNDYyNzk5NTI5ODI3MjIwMDY4NDk5MTA5ODA0NzE4NTQ0NTE5MDIsXG4gICAgICAgIDAuMDE0NjI3OTk1Mjk4MjcyMjAwNjg0OTkxMDk4MDQ3MTg1NDQ1MTkwMixcbiAgICBdLFxuICAgIFtcbiAgICAgICAgMC4xMzM2NTQ1NzIxODYxMDYxNzUzNTE0NTcxMTA1NDU4NDQzMzg1ODMxLFxuICAgICAgICAwLjEzMjQ2MjAzOTQwNDY5NjYxNzM3MTY0MjQ2NDcwMzMxNjkyNTgwNSxcbiAgICAgICAgMC4xMzI0NjIwMzk0MDQ2OTY2MTczNzE2NDI0NjQ3MDMzMTY5MjU4MDUsXG4gICAgICAgIDAuMTI4OTA1NzIyMTg4MDgyMTQ5OTc4NTk1MzM5Mzk5NzkzNjUzMjU5NyxcbiAgICAgICAgMC4xMjg5MDU3MjIxODgwODIxNDk5Nzg1OTUzMzkzOTk3OTM2NTMyNTk3LFxuICAgICAgICAwLjEyMzA0OTA4NDMwNjcyOTUzMDQ2NzU3ODQwMDY3MjAwOTY1NDgxNTgsXG4gICAgICAgIDAuMTIzMDQ5MDg0MzA2NzI5NTMwNDY3NTc4NDAwNjcyMDA5NjU0ODE1OCxcbiAgICAgICAgMC4xMTQ5OTY2NDAyMjI0MTEzNjQ5NDE2NDM1MTI5MzM5NjEzMDE0OTE0LFxuICAgICAgICAwLjExNDk5NjY0MDIyMjQxMTM2NDk0MTY0MzUxMjkzMzk2MTMwMTQ5MTQsXG4gICAgICAgIDAuMTA0ODkyMDkxNDY0NTQxNDEwMDc0MDg2MTg1MDE0NzQzODU0ODU4NCxcbiAgICAgICAgMC4xMDQ4OTIwOTE0NjQ1NDE0MTAwNzQwODYxODUwMTQ3NDM4NTQ4NTg0LFxuICAgICAgICAwLjA5MjkxNTc2NjA2MDAzNTE0NzQ3NzAxODYxNzM2OTc2NDY0ODYwMzQsXG4gICAgICAgIDAuMDkyOTE1NzY2MDYwMDM1MTQ3NDc3MDE4NjE3MzY5NzY0NjQ4NjAzNCxcbiAgICAgICAgMC4wNzkyODE0MTE3NzY3MTg5NTQ5MjI4OTI1MjQ3NDIwNDMyMjY5MTM3LFxuICAgICAgICAwLjA3OTI4MTQxMTc3NjcxODk1NDkyMjg5MjUyNDc0MjA0MzIyNjkxMzcsXG4gICAgICAgIDAuMDY0MjMyNDIxNDA4NTI1ODUyMTI3MTY5NjE1MTU4OTEwOTk4MDM5MSxcbiAgICAgICAgMC4wNjQyMzI0MjE0MDg1MjU4NTIxMjcxNjk2MTUxNTg5MTA5OTgwMzkxLFxuICAgICAgICAwLjA0ODAzNzY3MTczMTA4NDY2ODU3MTY0MTA3MTYzMjAzMzk5NjU2MTIsXG4gICAgICAgIDAuMDQ4MDM3NjcxNzMxMDg0NjY4NTcxNjQxMDcxNjMyMDMzOTk2NTYxMixcbiAgICAgICAgMC4wMzA5ODgwMDU4NTY5Nzk0NDQzMTA2OTQyMTk2NDE4ODQ1MDUzODM3LFxuICAgICAgICAwLjAzMDk4ODAwNTg1Njk3OTQ0NDMxMDY5NDIxOTY0MTg4NDUwNTM4MzcsXG4gICAgICAgIDAuMDEzNDExODU5NDg3MTQxNzcyMDgxMzA5NDkzNDU4NjE1MDY0OTc2NixcbiAgICAgICAgMC4wMTM0MTE4NTk0ODcxNDE3NzIwODEzMDk0OTM0NTg2MTUwNjQ5NzY2LFxuICAgIF0sXG4gICAgW1xuICAgICAgICAwLjEyNzkzODE5NTM0Njc1MjE1Njk3NDA1NjE2NTIyNDY5NTM3MTg1MTcsXG4gICAgICAgIDAuMTI3OTM4MTk1MzQ2NzUyMTU2OTc0MDU2MTY1MjI0Njk1MzcxODUxNyxcbiAgICAgICAgMC4xMjU4Mzc0NTYzNDY4MjgyOTYxMjEzNzUzODI1MTExODM2ODg3MjY0LFxuICAgICAgICAwLjEyNTgzNzQ1NjM0NjgyODI5NjEyMTM3NTM4MjUxMTE4MzY4ODcyNjQsXG4gICAgICAgIDAuMTIxNjcwNDcyOTI3ODAzMzkxMjA0NDYzMTUzNDc2MjYyNDI1NjA3LFxuICAgICAgICAwLjEyMTY3MDQ3MjkyNzgwMzM5MTIwNDQ2MzE1MzQ3NjI2MjQyNTYwNyxcbiAgICAgICAgMC4xMTU1MDU2NjgwNTM3MjU2MDEzNTMzNDQ0ODM5MDY3ODM1NTk4NjIyLFxuICAgICAgICAwLjExNTUwNTY2ODA1MzcyNTYwMTM1MzM0NDQ4MzkwNjc4MzU1OTg2MjIsXG4gICAgICAgIDAuMTA3NDQ0MjcwMTE1OTY1NjM0NzgyNTc3MzQyNDQ2NjA2MjIyNzk0NixcbiAgICAgICAgMC4xMDc0NDQyNzAxMTU5NjU2MzQ3ODI1NzczNDI0NDY2MDYyMjI3OTQ2LFxuICAgICAgICAwLjA5NzYxODY1MjEwNDExMzg4ODI2OTg4MDY2NDQ2NDI0NzE1NDQyNzksXG4gICAgICAgIDAuMDk3NjE4NjUyMTA0MTEzODg4MjY5ODgwNjY0NDY0MjQ3MTU0NDI3OSxcbiAgICAgICAgMC4wODYxOTAxNjE1MzE5NTMyNzU5MTcxODUyMDI5ODM3NDI2NjcxODUsXG4gICAgICAgIDAuMDg2MTkwMTYxNTMxOTUzMjc1OTE3MTg1MjAyOTgzNzQyNjY3MTg1LFxuICAgICAgICAwLjA3MzM0NjQ4MTQxMTA4MDMwNTczNDAzMzYxNTI1MzExNjUxODExOTMsXG4gICAgICAgIDAuMDczMzQ2NDgxNDExMDgwMzA1NzM0MDMzNjE1MjUzMTE2NTE4MTE5MyxcbiAgICAgICAgMC4wNTkyOTg1ODQ5MTU0MzY3ODA3NDYzNjc3NTg1MDAxMDg1ODQ1NDEyLFxuICAgICAgICAwLjA1OTI5ODU4NDkxNTQzNjc4MDc0NjM2Nzc1ODUwMDEwODU4NDU0MTIsXG4gICAgICAgIDAuMDQ0Mjc3NDM4ODE3NDE5ODA2MTY4NjAyNzQ4MjExMzM4MjI4ODU5MyxcbiAgICAgICAgMC4wNDQyNzc0Mzg4MTc0MTk4MDYxNjg2MDI3NDgyMTEzMzgyMjg4NTkzLFxuICAgICAgICAwLjAyODUzMTM4ODYyODkzMzY2MzE4MTMwNzgxNTk1MTg3ODI4NjQ0OTEsXG4gICAgICAgIDAuMDI4NTMxMzg4NjI4OTMzNjYzMTgxMzA3ODE1OTUxODc4Mjg2NDQ5MSxcbiAgICAgICAgMC4wMTIzNDEyMjk3OTk5ODcxOTk1NDY4MDU2NjcwNzAwMzcyOTE1NzU5LFxuICAgICAgICAwLjAxMjM0MTIyOTc5OTk4NzE5OTU0NjgwNTY2NzA3MDAzNzI5MTU3NTksXG4gICAgXSxcbl07XG5leHBvcnRzLmJpbm9taWFsQ29lZmZpY2llbnRzID0gW1sxXSwgWzEsIDFdLCBbMSwgMiwgMV0sIFsxLCAzLCAzLCAxXV07XG5jb25zdCBnZXRDdWJpY0FyY0xlbmd0aCA9ICh4cywgeXMsIHQpID0+IHtcbiAgICBsZXQgejtcbiAgICBsZXQgc3VtO1xuICAgIGxldCBjb3JyZWN0ZWRUO1xuICAgIGNvbnN0IG4gPSAyMDtcbiAgICB6ID0gdCAvIDI7XG4gICAgc3VtID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICBjb3JyZWN0ZWRUID0geiAqIGV4cG9ydHMudFZhbHVlc1tuXVtpXSArIHo7XG4gICAgICAgIHN1bSArPSBleHBvcnRzLmNWYWx1ZXNbbl1baV0gKiBCRnVuYyh4cywgeXMsIGNvcnJlY3RlZFQpO1xuICAgIH1cbiAgICByZXR1cm4geiAqIHN1bTtcbn07XG5leHBvcnRzLmdldEN1YmljQXJjTGVuZ3RoID0gZ2V0Q3ViaWNBcmNMZW5ndGg7XG5jb25zdCBnZXRRdWFkcmF0aWNBcmNMZW5ndGggPSAoeHMsIHlzLCB0KSA9PiB7XG4gICAgaWYgKHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0ID0gMTtcbiAgICB9XG4gICAgY29uc3QgYXggPSB4c1swXSAtIDIgKiB4c1sxXSArIHhzWzJdO1xuICAgIGNvbnN0IGF5ID0geXNbMF0gLSAyICogeXNbMV0gKyB5c1syXTtcbiAgICBjb25zdCBieCA9IDIgKiB4c1sxXSAtIDIgKiB4c1swXTtcbiAgICBjb25zdCBieSA9IDIgKiB5c1sxXSAtIDIgKiB5c1swXTtcbiAgICBjb25zdCBBID0gNCAqIChheCAqIGF4ICsgYXkgKiBheSk7XG4gICAgY29uc3QgQiA9IDQgKiAoYXggKiBieCArIGF5ICogYnkpO1xuICAgIGNvbnN0IEMgPSBieCAqIGJ4ICsgYnkgKiBieTtcbiAgICBpZiAoQSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gKHQgKiBNYXRoLnNxcnQoTWF0aC5wb3coeHNbMl0gLSB4c1swXSwgMikgKyBNYXRoLnBvdyh5c1syXSAtIHlzWzBdLCAyKSkpO1xuICAgIH1cbiAgICBjb25zdCBiID0gQiAvICgyICogQSk7XG4gICAgY29uc3QgYyA9IEMgLyBBO1xuICAgIGNvbnN0IHUgPSB0ICsgYjtcbiAgICBjb25zdCBrID0gYyAtIGIgKiBiO1xuICAgIGNvbnN0IHV1ayA9IHUgKiB1ICsgayA+IDAgPyBNYXRoLnNxcnQodSAqIHUgKyBrKSA6IDA7XG4gICAgY29uc3QgYmJrID0gYiAqIGIgKyBrID4gMCA/IE1hdGguc3FydChiICogYiArIGspIDogMDtcbiAgICBjb25zdCB0ZXJtID0gYiArIE1hdGguc3FydChiICogYiArIGspICE9PSAwXG4gICAgICAgID8gayAqIE1hdGgubG9nKE1hdGguYWJzKCh1ICsgdXVrKSAvIChiICsgYmJrKSkpXG4gICAgICAgIDogMDtcbiAgICByZXR1cm4gKE1hdGguc3FydChBKSAvIDIpICogKHUgKiB1dWsgLSBiICogYmJrICsgdGVybSk7XG59O1xuZXhwb3J0cy5nZXRRdWFkcmF0aWNBcmNMZW5ndGggPSBnZXRRdWFkcmF0aWNBcmNMZW5ndGg7XG5mdW5jdGlvbiBCRnVuYyh4cywgeXMsIHQpIHtcbiAgICBjb25zdCB4YmFzZSA9IGdldERlcml2YXRpdmUoMSwgdCwgeHMpO1xuICAgIGNvbnN0IHliYXNlID0gZ2V0RGVyaXZhdGl2ZSgxLCB0LCB5cyk7XG4gICAgY29uc3QgY29tYmluZWQgPSB4YmFzZSAqIHhiYXNlICsgeWJhc2UgKiB5YmFzZTtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KGNvbWJpbmVkKTtcbn1cbmNvbnN0IGdldERlcml2YXRpdmUgPSAoZGVyaXZhdGl2ZSwgdCwgdnMpID0+IHtcbiAgICBjb25zdCBuID0gdnMubGVuZ3RoIC0gMTtcbiAgICBsZXQgX3ZzO1xuICAgIGxldCB2YWx1ZTtcbiAgICBpZiAobiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaWYgKGRlcml2YXRpdmUgPT09IDApIHtcbiAgICAgICAgdmFsdWUgPSAwO1xuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8PSBuOyBrKyspIHtcbiAgICAgICAgICAgIHZhbHVlICs9XG4gICAgICAgICAgICAgICAgZXhwb3J0cy5iaW5vbWlhbENvZWZmaWNpZW50c1tuXVtrXSAqXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucG93KDEgLSB0LCBuIC0gaykgKlxuICAgICAgICAgICAgICAgICAgICBNYXRoLnBvdyh0LCBrKSAqXG4gICAgICAgICAgICAgICAgICAgIHZzW2tdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIF92cyA9IG5ldyBBcnJheShuKTtcbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBuOyBrKyspIHtcbiAgICAgICAgICAgIF92c1trXSA9IG4gKiAodnNbayArIDFdIC0gdnNba10pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZXREZXJpdmF0aXZlKGRlcml2YXRpdmUgLSAxLCB0LCBfdnMpO1xuICAgIH1cbn07XG5jb25zdCB0Mmxlbmd0aCA9IChsZW5ndGgsIHRvdGFsTGVuZ3RoLCBmdW5jKSA9PiB7XG4gICAgbGV0IGVycm9yID0gMTtcbiAgICBsZXQgdCA9IGxlbmd0aCAvIHRvdGFsTGVuZ3RoO1xuICAgIGxldCBzdGVwID0gKGxlbmd0aCAtIGZ1bmModCkpIC8gdG90YWxMZW5ndGg7XG4gICAgbGV0IG51bUl0ZXJhdGlvbnMgPSAwO1xuICAgIHdoaWxlIChlcnJvciA+IDAuMDAxKSB7XG4gICAgICAgIGNvbnN0IGluY3JlYXNlZFRMZW5ndGggPSBmdW5jKHQgKyBzdGVwKTtcbiAgICAgICAgY29uc3QgaW5jcmVhc2VkVEVycm9yID0gTWF0aC5hYnMobGVuZ3RoIC0gaW5jcmVhc2VkVExlbmd0aCkgLyB0b3RhbExlbmd0aDtcbiAgICAgICAgaWYgKGluY3JlYXNlZFRFcnJvciA8IGVycm9yKSB7XG4gICAgICAgICAgICBlcnJvciA9IGluY3JlYXNlZFRFcnJvcjtcbiAgICAgICAgICAgIHQgKz0gc3RlcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRlY3JlYXNlZFRMZW5ndGggPSBmdW5jKHQgLSBzdGVwKTtcbiAgICAgICAgICAgIGNvbnN0IGRlY3JlYXNlZFRFcnJvciA9IE1hdGguYWJzKGxlbmd0aCAtIGRlY3JlYXNlZFRMZW5ndGgpIC8gdG90YWxMZW5ndGg7XG4gICAgICAgICAgICBpZiAoZGVjcmVhc2VkVEVycm9yIDwgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBlcnJvciA9IGRlY3JlYXNlZFRFcnJvcjtcbiAgICAgICAgICAgICAgICB0IC09IHN0ZXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGVwIC89IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbnVtSXRlcmF0aW9ucysrO1xuICAgICAgICBpZiAobnVtSXRlcmF0aW9ucyA+IDUwMCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuZXhwb3J0cy50Mmxlbmd0aCA9IHQybGVuZ3RoO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QYXRoID0gdm9pZCAwO1xuY29uc3QgRmFjdG9yeV8xID0gcmVxdWlyZShcIi4uL0ZhY3RvcnlcIik7XG5jb25zdCBTaGFwZV8xID0gcmVxdWlyZShcIi4uL1NoYXBlXCIpO1xuY29uc3QgR2xvYmFsXzEgPSByZXF1aXJlKFwiLi4vR2xvYmFsXCIpO1xuY29uc3QgQmV6aWVyRnVuY3Rpb25zXzEgPSByZXF1aXJlKFwiLi4vQmV6aWVyRnVuY3Rpb25zXCIpO1xuY2xhc3MgUGF0aCBleHRlbmRzIFNoYXBlXzEuU2hhcGUge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICBzdXBlcihjb25maWcpO1xuICAgICAgICB0aGlzLmRhdGFBcnJheSA9IFtdO1xuICAgICAgICB0aGlzLnBhdGhMZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9yZWFkRGF0YUF0dHJpYnV0ZSgpO1xuICAgICAgICB0aGlzLm9uKCdkYXRhQ2hhbmdlLmtvbnZhJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5fcmVhZERhdGFBdHRyaWJ1dGUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9yZWFkRGF0YUF0dHJpYnV0ZSgpIHtcbiAgICAgICAgdGhpcy5kYXRhQXJyYXkgPSBQYXRoLnBhcnNlUGF0aERhdGEodGhpcy5kYXRhKCkpO1xuICAgICAgICB0aGlzLnBhdGhMZW5ndGggPSBQYXRoLmdldFBhdGhMZW5ndGgodGhpcy5kYXRhQXJyYXkpO1xuICAgIH1cbiAgICBfc2NlbmVGdW5jKGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGNhID0gdGhpcy5kYXRhQXJyYXk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIHZhciBpc0Nsb3NlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IGNhLmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgICB2YXIgYyA9IGNhW25dLmNvbW1hbmQ7XG4gICAgICAgICAgICB2YXIgcCA9IGNhW25dLnBvaW50cztcbiAgICAgICAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICAgICAgICAgIGNhc2UgJ0wnOlxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhwWzBdLCBwWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHBbMF0sIHBbMV0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHBbMF0sIHBbMV0sIHBbMl0sIHBbM10sIHBbNF0sIHBbNV0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdRJzpcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHBbMF0sIHBbMV0sIHBbMl0sIHBbM10pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN4ID0gcFswXSwgY3kgPSBwWzFdLCByeCA9IHBbMl0sIHJ5ID0gcFszXSwgdGhldGEgPSBwWzRdLCBkVGhldGEgPSBwWzVdLCBwc2kgPSBwWzZdLCBmcyA9IHBbN107XG4gICAgICAgICAgICAgICAgICAgIHZhciByID0gcnggPiByeSA/IHJ4IDogcnk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzY2FsZVggPSByeCA+IHJ5ID8gMSA6IHJ4IC8gcnk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzY2FsZVkgPSByeCA+IHJ5ID8gcnkgLyByeCA6IDE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKGN4LCBjeSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucm90YXRlKHBzaSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2NhbGUoc2NhbGVYLCBzY2FsZVkpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmFyYygwLCAwLCByLCB0aGV0YSwgdGhldGEgKyBkVGhldGEsIDEgLSBmcyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2NhbGUoMSAvIHNjYWxlWCwgMSAvIHNjYWxlWSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucm90YXRlKC1wc2kpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgtY3gsIC1jeSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3onOlxuICAgICAgICAgICAgICAgICAgICBpc0Nsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaXNDbG9zZWQgJiYgIXRoaXMuaGFzRmlsbCgpKSB7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVNoYXBlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3Ryb2tlU2hhcGUodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U2VsZlJlY3QoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSBbXTtcbiAgICAgICAgdGhpcy5kYXRhQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgaWYgKGRhdGEuY29tbWFuZCA9PT0gJ0EnKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gZGF0YS5wb2ludHNbNF07XG4gICAgICAgICAgICAgICAgdmFyIGRUaGV0YSA9IGRhdGEucG9pbnRzWzVdO1xuICAgICAgICAgICAgICAgIHZhciBlbmQgPSBkYXRhLnBvaW50c1s0XSArIGRUaGV0YTtcbiAgICAgICAgICAgICAgICB2YXIgaW5jID0gTWF0aC5QSSAvIDE4MC4wO1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhzdGFydCAtIGVuZCkgPCBpbmMpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5jID0gTWF0aC5hYnMoc3RhcnQgLSBlbmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZFRoZXRhIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB0ID0gc3RhcnQgLSBpbmM7IHQgPiBlbmQ7IHQgLT0gaW5jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IFBhdGguZ2V0UG9pbnRPbkVsbGlwdGljYWxBcmMoZGF0YS5wb2ludHNbMF0sIGRhdGEucG9pbnRzWzFdLCBkYXRhLnBvaW50c1syXSwgZGF0YS5wb2ludHNbM10sIHQsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2gocG9pbnQueCwgcG9pbnQueSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHQgPSBzdGFydCArIGluYzsgdCA8IGVuZDsgdCArPSBpbmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gUGF0aC5nZXRQb2ludE9uRWxsaXB0aWNhbEFyYyhkYXRhLnBvaW50c1swXSwgZGF0YS5wb2ludHNbMV0sIGRhdGEucG9pbnRzWzJdLCBkYXRhLnBvaW50c1szXSwgdCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChwb2ludC54LCBwb2ludC55KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEuY29tbWFuZCA9PT0gJ0MnKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdCA9IDAuMDsgdCA8PSAxOyB0ICs9IDAuMDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBQYXRoLmdldFBvaW50T25DdWJpY0Jlemllcih0LCBkYXRhLnN0YXJ0LngsIGRhdGEuc3RhcnQueSwgZGF0YS5wb2ludHNbMF0sIGRhdGEucG9pbnRzWzFdLCBkYXRhLnBvaW50c1syXSwgZGF0YS5wb2ludHNbM10sIGRhdGEucG9pbnRzWzRdLCBkYXRhLnBvaW50c1s1XSk7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHBvaW50LngsIHBvaW50LnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBvaW50cyA9IHBvaW50cy5jb25jYXQoZGF0YS5wb2ludHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIG1pblggPSBwb2ludHNbMF07XG4gICAgICAgIHZhciBtYXhYID0gcG9pbnRzWzBdO1xuICAgICAgICB2YXIgbWluWSA9IHBvaW50c1sxXTtcbiAgICAgICAgdmFyIG1heFkgPSBwb2ludHNbMV07XG4gICAgICAgIHZhciB4LCB5O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGggLyAyOyBpKyspIHtcbiAgICAgICAgICAgIHggPSBwb2ludHNbaSAqIDJdO1xuICAgICAgICAgICAgeSA9IHBvaW50c1tpICogMiArIDFdO1xuICAgICAgICAgICAgaWYgKCFpc05hTih4KSkge1xuICAgICAgICAgICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCB4KTtcbiAgICAgICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHkpKSB7XG4gICAgICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIHkpO1xuICAgICAgICAgICAgICAgIG1heFkgPSBNYXRoLm1heChtYXhZLCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogbWluWCxcbiAgICAgICAgICAgIHk6IG1pblksXG4gICAgICAgICAgICB3aWR0aDogbWF4WCAtIG1pblgsXG4gICAgICAgICAgICBoZWlnaHQ6IG1heFkgLSBtaW5ZLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRMZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhdGhMZW5ndGg7XG4gICAgfVxuICAgIGdldFBvaW50QXRMZW5ndGgobGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBQYXRoLmdldFBvaW50QXRMZW5ndGhPZkRhdGFBcnJheShsZW5ndGgsIHRoaXMuZGF0YUFycmF5KTtcbiAgICB9XG4gICAgc3RhdGljIGdldExpbmVMZW5ndGgoeDEsIHkxLCB4MiwgeTIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCgoeDIgLSB4MSkgKiAoeDIgLSB4MSkgKyAoeTIgLSB5MSkgKiAoeTIgLSB5MSkpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0UGF0aExlbmd0aChkYXRhQXJyYXkpIHtcbiAgICAgICAgbGV0IHBhdGhMZW5ndGggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFBcnJheS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgcGF0aExlbmd0aCArPSBkYXRhQXJyYXlbaV0ucGF0aExlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF0aExlbmd0aDtcbiAgICB9XG4gICAgc3RhdGljIGdldFBvaW50QXRMZW5ndGhPZkRhdGFBcnJheShsZW5ndGgsIGRhdGFBcnJheSkge1xuICAgICAgICB2YXIgcG9pbnQsIGkgPSAwLCBpaSA9IGRhdGFBcnJheS5sZW5ndGg7XG4gICAgICAgIGlmICghaWkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpIDwgaWkgJiYgbGVuZ3RoID4gZGF0YUFycmF5W2ldLnBhdGhMZW5ndGgpIHtcbiAgICAgICAgICAgIGxlbmd0aCAtPSBkYXRhQXJyYXlbaV0ucGF0aExlbmd0aDtcbiAgICAgICAgICAgICsraTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gaWkpIHtcbiAgICAgICAgICAgIHBvaW50ID0gZGF0YUFycmF5W2kgLSAxXS5wb2ludHMuc2xpY2UoLTIpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiBwb2ludFswXSxcbiAgICAgICAgICAgICAgICB5OiBwb2ludFsxXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlbmd0aCA8IDAuMDEpIHtcbiAgICAgICAgICAgIHBvaW50ID0gZGF0YUFycmF5W2ldLnBvaW50cy5zbGljZSgwLCAyKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgeDogcG9pbnRbMF0sXG4gICAgICAgICAgICAgICAgeTogcG9pbnRbMV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBjcCA9IGRhdGFBcnJheVtpXTtcbiAgICAgICAgdmFyIHAgPSBjcC5wb2ludHM7XG4gICAgICAgIHN3aXRjaCAoY3AuY29tbWFuZCkge1xuICAgICAgICAgICAgY2FzZSAnTCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBhdGguZ2V0UG9pbnRPbkxpbmUobGVuZ3RoLCBjcC5zdGFydC54LCBjcC5zdGFydC55LCBwWzBdLCBwWzFdKTtcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIHJldHVybiBQYXRoLmdldFBvaW50T25DdWJpY0JlemllcigoMCwgQmV6aWVyRnVuY3Rpb25zXzEudDJsZW5ndGgpKGxlbmd0aCwgUGF0aC5nZXRQYXRoTGVuZ3RoKGRhdGFBcnJheSksIChpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoMCwgQmV6aWVyRnVuY3Rpb25zXzEuZ2V0Q3ViaWNBcmNMZW5ndGgpKFtjcC5zdGFydC54LCBwWzBdLCBwWzJdLCBwWzRdXSwgW2NwLnN0YXJ0LnksIHBbMV0sIHBbM10sIHBbNV1dLCBpKTtcbiAgICAgICAgICAgICAgICB9KSwgY3Auc3RhcnQueCwgY3Auc3RhcnQueSwgcFswXSwgcFsxXSwgcFsyXSwgcFszXSwgcFs0XSwgcFs1XSk7XG4gICAgICAgICAgICBjYXNlICdRJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gUGF0aC5nZXRQb2ludE9uUXVhZHJhdGljQmV6aWVyKCgwLCBCZXppZXJGdW5jdGlvbnNfMS50Mmxlbmd0aCkobGVuZ3RoLCBQYXRoLmdldFBhdGhMZW5ndGgoZGF0YUFycmF5KSwgKGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgwLCBCZXppZXJGdW5jdGlvbnNfMS5nZXRRdWFkcmF0aWNBcmNMZW5ndGgpKFtjcC5zdGFydC54LCBwWzBdLCBwWzJdXSwgW2NwLnN0YXJ0LnksIHBbMV0sIHBbM11dLCBpKTtcbiAgICAgICAgICAgICAgICB9KSwgY3Auc3RhcnQueCwgY3Auc3RhcnQueSwgcFswXSwgcFsxXSwgcFsyXSwgcFszXSk7XG4gICAgICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICAgICAgICB2YXIgY3ggPSBwWzBdLCBjeSA9IHBbMV0sIHJ4ID0gcFsyXSwgcnkgPSBwWzNdLCB0aGV0YSA9IHBbNF0sIGRUaGV0YSA9IHBbNV0sIHBzaSA9IHBbNl07XG4gICAgICAgICAgICAgICAgdGhldGEgKz0gKGRUaGV0YSAqIGxlbmd0aCkgLyBjcC5wYXRoTGVuZ3RoO1xuICAgICAgICAgICAgICAgIHJldHVybiBQYXRoLmdldFBvaW50T25FbGxpcHRpY2FsQXJjKGN4LCBjeSwgcngsIHJ5LCB0aGV0YSwgcHNpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc3RhdGljIGdldFBvaW50T25MaW5lKGRpc3QsIFAxeCwgUDF5LCBQMngsIFAyeSwgZnJvbVgsIGZyb21ZKSB7XG4gICAgICAgIGlmIChmcm9tWCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmcm9tWCA9IFAxeDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJvbVkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZnJvbVkgPSBQMXk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG0gPSAoUDJ5IC0gUDF5KSAvIChQMnggLSBQMXggKyAwLjAwMDAwMDAxKTtcbiAgICAgICAgdmFyIHJ1biA9IE1hdGguc3FydCgoZGlzdCAqIGRpc3QpIC8gKDEgKyBtICogbSkpO1xuICAgICAgICBpZiAoUDJ4IDwgUDF4KSB7XG4gICAgICAgICAgICBydW4gKj0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJpc2UgPSBtICogcnVuO1xuICAgICAgICB2YXIgcHQ7XG4gICAgICAgIGlmIChQMnggPT09IFAxeCkge1xuICAgICAgICAgICAgcHQgPSB7XG4gICAgICAgICAgICAgICAgeDogZnJvbVgsXG4gICAgICAgICAgICAgICAgeTogZnJvbVkgKyByaXNlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoZnJvbVkgLSBQMXkpIC8gKGZyb21YIC0gUDF4ICsgMC4wMDAwMDAwMSkgPT09IG0pIHtcbiAgICAgICAgICAgIHB0ID0ge1xuICAgICAgICAgICAgICAgIHg6IGZyb21YICsgcnVuLFxuICAgICAgICAgICAgICAgIHk6IGZyb21ZICsgcmlzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgaXgsIGl5O1xuICAgICAgICAgICAgdmFyIGxlbiA9IHRoaXMuZ2V0TGluZUxlbmd0aChQMXgsIFAxeSwgUDJ4LCBQMnkpO1xuICAgICAgICAgICAgdmFyIHUgPSAoZnJvbVggLSBQMXgpICogKFAyeCAtIFAxeCkgKyAoZnJvbVkgLSBQMXkpICogKFAyeSAtIFAxeSk7XG4gICAgICAgICAgICB1ID0gdSAvIChsZW4gKiBsZW4pO1xuICAgICAgICAgICAgaXggPSBQMXggKyB1ICogKFAyeCAtIFAxeCk7XG4gICAgICAgICAgICBpeSA9IFAxeSArIHUgKiAoUDJ5IC0gUDF5KTtcbiAgICAgICAgICAgIHZhciBwUmlzZSA9IHRoaXMuZ2V0TGluZUxlbmd0aChmcm9tWCwgZnJvbVksIGl4LCBpeSk7XG4gICAgICAgICAgICB2YXIgcFJ1biA9IE1hdGguc3FydChkaXN0ICogZGlzdCAtIHBSaXNlICogcFJpc2UpO1xuICAgICAgICAgICAgcnVuID0gTWF0aC5zcXJ0KChwUnVuICogcFJ1bikgLyAoMSArIG0gKiBtKSk7XG4gICAgICAgICAgICBpZiAoUDJ4IDwgUDF4KSB7XG4gICAgICAgICAgICAgICAgcnVuICo9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmlzZSA9IG0gKiBydW47XG4gICAgICAgICAgICBwdCA9IHtcbiAgICAgICAgICAgICAgICB4OiBpeCArIHJ1bixcbiAgICAgICAgICAgICAgICB5OiBpeSArIHJpc2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwdDtcbiAgICB9XG4gICAgc3RhdGljIGdldFBvaW50T25DdWJpY0JlemllcihwY3QsIFAxeCwgUDF5LCBQMngsIFAyeSwgUDN4LCBQM3ksIFA0eCwgUDR5KSB7XG4gICAgICAgIGZ1bmN0aW9uIENCMSh0KSB7XG4gICAgICAgICAgICByZXR1cm4gdCAqIHQgKiB0O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIENCMih0KSB7XG4gICAgICAgICAgICByZXR1cm4gMyAqIHQgKiB0ICogKDEgLSB0KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBDQjModCkge1xuICAgICAgICAgICAgcmV0dXJuIDMgKiB0ICogKDEgLSB0KSAqICgxIC0gdCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gQ0I0KHQpIHtcbiAgICAgICAgICAgIHJldHVybiAoMSAtIHQpICogKDEgLSB0KSAqICgxIC0gdCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHggPSBQNHggKiBDQjEocGN0KSArIFAzeCAqIENCMihwY3QpICsgUDJ4ICogQ0IzKHBjdCkgKyBQMXggKiBDQjQocGN0KTtcbiAgICAgICAgdmFyIHkgPSBQNHkgKiBDQjEocGN0KSArIFAzeSAqIENCMihwY3QpICsgUDJ5ICogQ0IzKHBjdCkgKyBQMXkgKiBDQjQocGN0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0UG9pbnRPblF1YWRyYXRpY0JlemllcihwY3QsIFAxeCwgUDF5LCBQMngsIFAyeSwgUDN4LCBQM3kpIHtcbiAgICAgICAgZnVuY3Rpb24gUUIxKHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0ICogdDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBRQjIodCkge1xuICAgICAgICAgICAgcmV0dXJuIDIgKiB0ICogKDEgLSB0KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBRQjModCkge1xuICAgICAgICAgICAgcmV0dXJuICgxIC0gdCkgKiAoMSAtIHQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB4ID0gUDN4ICogUUIxKHBjdCkgKyBQMnggKiBRQjIocGN0KSArIFAxeCAqIFFCMyhwY3QpO1xuICAgICAgICB2YXIgeSA9IFAzeSAqIFFCMShwY3QpICsgUDJ5ICogUUIyKHBjdCkgKyBQMXkgKiBRQjMocGN0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0UG9pbnRPbkVsbGlwdGljYWxBcmMoY3gsIGN5LCByeCwgcnksIHRoZXRhLCBwc2kpIHtcbiAgICAgICAgdmFyIGNvc1BzaSA9IE1hdGguY29zKHBzaSksIHNpblBzaSA9IE1hdGguc2luKHBzaSk7XG4gICAgICAgIHZhciBwdCA9IHtcbiAgICAgICAgICAgIHg6IHJ4ICogTWF0aC5jb3ModGhldGEpLFxuICAgICAgICAgICAgeTogcnkgKiBNYXRoLnNpbih0aGV0YSksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBjeCArIChwdC54ICogY29zUHNpIC0gcHQueSAqIHNpblBzaSksXG4gICAgICAgICAgICB5OiBjeSArIChwdC54ICogc2luUHNpICsgcHQueSAqIGNvc1BzaSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBwYXJzZVBhdGhEYXRhKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNzID0gZGF0YTtcbiAgICAgICAgdmFyIGNjID0gW1xuICAgICAgICAgICAgJ20nLFxuICAgICAgICAgICAgJ00nLFxuICAgICAgICAgICAgJ2wnLFxuICAgICAgICAgICAgJ0wnLFxuICAgICAgICAgICAgJ3YnLFxuICAgICAgICAgICAgJ1YnLFxuICAgICAgICAgICAgJ2gnLFxuICAgICAgICAgICAgJ0gnLFxuICAgICAgICAgICAgJ3onLFxuICAgICAgICAgICAgJ1onLFxuICAgICAgICAgICAgJ2MnLFxuICAgICAgICAgICAgJ0MnLFxuICAgICAgICAgICAgJ3EnLFxuICAgICAgICAgICAgJ1EnLFxuICAgICAgICAgICAgJ3QnLFxuICAgICAgICAgICAgJ1QnLFxuICAgICAgICAgICAgJ3MnLFxuICAgICAgICAgICAgJ1MnLFxuICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgJ0EnLFxuICAgICAgICBdO1xuICAgICAgICBjcyA9IGNzLnJlcGxhY2UobmV3IFJlZ0V4cCgnICcsICdnJyksICcsJyk7XG4gICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgY2MubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgICAgIGNzID0gY3MucmVwbGFjZShuZXcgUmVnRXhwKGNjW25dLCAnZycpLCAnfCcgKyBjY1tuXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyciA9IGNzLnNwbGl0KCd8Jyk7XG4gICAgICAgIHZhciBjYSA9IFtdO1xuICAgICAgICB2YXIgY29vcmRzID0gW107XG4gICAgICAgIHZhciBjcHggPSAwO1xuICAgICAgICB2YXIgY3B5ID0gMDtcbiAgICAgICAgdmFyIHJlID0gLyhbLStdPygoXFxkK1xcLlxcZCspfCgoXFxkKyl8KFxcLlxcZCspKSkoPzplWy0rXT9cXGQrKT8pL2dpO1xuICAgICAgICB2YXIgbWF0Y2g7XG4gICAgICAgIGZvciAobiA9IDE7IG4gPCBhcnIubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgICAgIHZhciBzdHIgPSBhcnJbbl07XG4gICAgICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQXQoMCk7XG4gICAgICAgICAgICBzdHIgPSBzdHIuc2xpY2UoMSk7XG4gICAgICAgICAgICBjb29yZHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSByZS5leGVjKHN0cikpKSB7XG4gICAgICAgICAgICAgICAgY29vcmRzLnB1c2gobWF0Y2hbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHAgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCBqbGVuID0gY29vcmRzLmxlbmd0aDsgaiA8IGpsZW47IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChjb29yZHNbal0gPT09ICcwMCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcC5wdXNoKDAsIDApO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHBhcnNlZCA9IHBhcnNlRmxvYXQoY29vcmRzW2pdKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcC5wdXNoKHBhcnNlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwLnB1c2goMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKHAubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChpc05hTihwWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGNtZCA9ICcnO1xuICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRYID0gY3B4LCBzdGFydFkgPSBjcHk7XG4gICAgICAgICAgICAgICAgdmFyIHByZXZDbWQsIGN0bFB0eCwgY3RsUHR5O1xuICAgICAgICAgICAgICAgIHZhciByeCwgcnksIHBzaSwgZmEsIGZzLCB4MSwgeTE7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChjKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2wnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY3B4ICs9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweSArPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbWQgPSAnTCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChjcHgsIGNweSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnTCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHggPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHkgPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChjcHgsIGNweSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbSc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHggPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHkgPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHggKz0gZHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHkgKz0gZHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbWQgPSAnTSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2EubGVuZ3RoID4gMiAmJiBjYVtjYS5sZW5ndGggLSAxXS5jb21tYW5kID09PSAneicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpZHggPSBjYS5sZW5ndGggLSAyOyBpZHggPj0gMDsgaWR4LS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhW2lkeF0uY29tbWFuZCA9PT0gJ00nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHggPSBjYVtpZHhdLnBvaW50c1swXSArIGR4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3B5ID0gY2FbaWR4XS5wb2ludHNbMV0gKyBkeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goY3B4LCBjcHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYyA9ICdsJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdNJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweCA9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweSA9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtZCA9ICdNJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKGNweCwgY3B5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMgPSAnTCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHggKz0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY21kID0gJ0wnO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goY3B4LCBjcHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0gnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY3B4ID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY21kID0gJ0wnO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goY3B4LCBjcHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3YnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY3B5ICs9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtZCA9ICdMJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKGNweCwgY3B5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdWJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweSA9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtZCA9ICdMJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKGNweCwgY3B5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHAuc2hpZnQoKSwgcC5zaGlmdCgpLCBwLnNoaWZ0KCksIHAuc2hpZnQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHggPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHkgPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChjcHgsIGNweSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChjcHggKyBwLnNoaWZ0KCksIGNweSArIHAuc2hpZnQoKSwgY3B4ICsgcC5zaGlmdCgpLCBjcHkgKyBwLnNoaWZ0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3B4ICs9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweSArPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbWQgPSAnQyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChjcHgsIGNweSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjdGxQdHggPSBjcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdGxQdHkgPSBjcHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2Q21kID0gY2FbY2EubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldkNtZC5jb21tYW5kID09PSAnQycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdGxQdHggPSBjcHggKyAoY3B4IC0gcHJldkNtZC5wb2ludHNbMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0bFB0eSA9IGNweSArIChjcHkgLSBwcmV2Q21kLnBvaW50c1szXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChjdGxQdHgsIGN0bFB0eSwgcC5zaGlmdCgpLCBwLnNoaWZ0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3B4ID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3B5ID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY21kID0gJ0MnO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goY3B4LCBjcHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3MnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY3RsUHR4ID0gY3B4O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3RsUHR5ID0gY3B5O1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkNtZCA9IGNhW2NhLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZDbWQuY29tbWFuZCA9PT0gJ0MnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RsUHR4ID0gY3B4ICsgKGNweCAtIHByZXZDbWQucG9pbnRzWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdGxQdHkgPSBjcHkgKyAoY3B5IC0gcHJldkNtZC5wb2ludHNbM10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goY3RsUHR4LCBjdGxQdHksIGNweCArIHAuc2hpZnQoKSwgY3B5ICsgcC5zaGlmdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweCArPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHkgKz0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY21kID0gJ0MnO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goY3B4LCBjcHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1EnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2gocC5zaGlmdCgpLCBwLnNoaWZ0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3B4ID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3B5ID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goY3B4LCBjcHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3EnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goY3B4ICsgcC5zaGlmdCgpLCBjcHkgKyBwLnNoaWZ0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3B4ICs9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweSArPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbWQgPSAnUSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChjcHgsIGNweSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjdGxQdHggPSBjcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdGxQdHkgPSBjcHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2Q21kID0gY2FbY2EubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldkNtZC5jb21tYW5kID09PSAnUScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdGxQdHggPSBjcHggKyAoY3B4IC0gcHJldkNtZC5wb2ludHNbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0bFB0eSA9IGNweSArIChjcHkgLSBwcmV2Q21kLnBvaW50c1sxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHggPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHkgPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbWQgPSAnUSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChjdGxQdHgsIGN0bFB0eSwgY3B4LCBjcHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3QnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY3RsUHR4ID0gY3B4O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3RsUHR5ID0gY3B5O1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkNtZCA9IGNhW2NhLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZDbWQuY29tbWFuZCA9PT0gJ1EnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RsUHR4ID0gY3B4ICsgKGNweCAtIHByZXZDbWQucG9pbnRzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdGxQdHkgPSBjcHkgKyAoY3B5IC0gcHJldkNtZC5wb2ludHNbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3B4ICs9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweSArPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbWQgPSAnUSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChjdGxQdHgsIGN0bFB0eSwgY3B4LCBjcHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcnggPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByeSA9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBzaSA9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnMgPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB4MSA9IGNweDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkxID0gY3B5O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3B4ID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3B5ID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY21kID0gJ0EnO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzID0gdGhpcy5jb252ZXJ0RW5kcG9pbnRUb0NlbnRlclBhcmFtZXRlcml6YXRpb24oeDEsIHkxLCBjcHgsIGNweSwgZmEsIGZzLCByeCwgcnksIHBzaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByeCA9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ5ID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHNpID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmEgPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcyA9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHgxID0gY3B4O1xuICAgICAgICAgICAgICAgICAgICAgICAgeTEgPSBjcHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHggKz0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3B5ICs9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtZCA9ICdBJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cyA9IHRoaXMuY29udmVydEVuZHBvaW50VG9DZW50ZXJQYXJhbWV0ZXJpemF0aW9uKHgxLCB5MSwgY3B4LCBjcHksIGZhLCBmcywgcngsIHJ5LCBwc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiBjbWQgfHwgYyxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzOiBwb2ludHMsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBzdGFydFgsXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBzdGFydFksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhdGhMZW5ndGg6IHRoaXMuY2FsY0xlbmd0aChzdGFydFgsIHN0YXJ0WSwgY21kIHx8IGMsIHBvaW50cyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA9PT0gJ3onIHx8IGMgPT09ICdaJykge1xuICAgICAgICAgICAgICAgIGNhLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiAneicsXG4gICAgICAgICAgICAgICAgICAgIHBvaW50czogW10sXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHBhdGhMZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhO1xuICAgIH1cbiAgICBzdGF0aWMgY2FsY0xlbmd0aCh4LCB5LCBjbWQsIHBvaW50cykge1xuICAgICAgICB2YXIgbGVuLCBwMSwgcDIsIHQ7XG4gICAgICAgIHZhciBwYXRoID0gUGF0aDtcbiAgICAgICAgc3dpdGNoIChjbWQpIHtcbiAgICAgICAgICAgIGNhc2UgJ0wnOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoLmdldExpbmVMZW5ndGgoeCwgeSwgcG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBCZXppZXJGdW5jdGlvbnNfMS5nZXRDdWJpY0FyY0xlbmd0aCkoW3gsIHBvaW50c1swXSwgcG9pbnRzWzJdLCBwb2ludHNbNF1dLCBbeSwgcG9pbnRzWzFdLCBwb2ludHNbM10sIHBvaW50c1s1XV0sIDEpO1xuICAgICAgICAgICAgY2FzZSAnUSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBCZXppZXJGdW5jdGlvbnNfMS5nZXRRdWFkcmF0aWNBcmNMZW5ndGgpKFt4LCBwb2ludHNbMF0sIHBvaW50c1syXV0sIFt5LCBwb2ludHNbMV0sIHBvaW50c1szXV0sIDEpO1xuICAgICAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgICAgICAgbGVuID0gMC4wO1xuICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IHBvaW50c1s0XTtcbiAgICAgICAgICAgICAgICB2YXIgZFRoZXRhID0gcG9pbnRzWzVdO1xuICAgICAgICAgICAgICAgIHZhciBlbmQgPSBwb2ludHNbNF0gKyBkVGhldGE7XG4gICAgICAgICAgICAgICAgdmFyIGluYyA9IE1hdGguUEkgLyAxODAuMDtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoc3RhcnQgLSBlbmQpIDwgaW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIGluYyA9IE1hdGguYWJzKHN0YXJ0IC0gZW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcDEgPSBwYXRoLmdldFBvaW50T25FbGxpcHRpY2FsQXJjKHBvaW50c1swXSwgcG9pbnRzWzFdLCBwb2ludHNbMl0sIHBvaW50c1szXSwgc3RhcnQsIDApO1xuICAgICAgICAgICAgICAgIGlmIChkVGhldGEgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodCA9IHN0YXJ0IC0gaW5jOyB0ID4gZW5kOyB0IC09IGluYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcDIgPSBwYXRoLmdldFBvaW50T25FbGxpcHRpY2FsQXJjKHBvaW50c1swXSwgcG9pbnRzWzFdLCBwb2ludHNbMl0sIHBvaW50c1szXSwgdCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZW4gKz0gcGF0aC5nZXRMaW5lTGVuZ3RoKHAxLngsIHAxLnksIHAyLngsIHAyLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcDEgPSBwMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh0ID0gc3RhcnQgKyBpbmM7IHQgPCBlbmQ7IHQgKz0gaW5jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwMiA9IHBhdGguZ2V0UG9pbnRPbkVsbGlwdGljYWxBcmMocG9pbnRzWzBdLCBwb2ludHNbMV0sIHBvaW50c1syXSwgcG9pbnRzWzNdLCB0LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlbiArPSBwYXRoLmdldExpbmVMZW5ndGgocDEueCwgcDEueSwgcDIueCwgcDIueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwMSA9IHAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHAyID0gcGF0aC5nZXRQb2ludE9uRWxsaXB0aWNhbEFyYyhwb2ludHNbMF0sIHBvaW50c1sxXSwgcG9pbnRzWzJdLCBwb2ludHNbM10sIGVuZCwgMCk7XG4gICAgICAgICAgICAgICAgbGVuICs9IHBhdGguZ2V0TGluZUxlbmd0aChwMS54LCBwMS55LCBwMi54LCBwMi55KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBzdGF0aWMgY29udmVydEVuZHBvaW50VG9DZW50ZXJQYXJhbWV0ZXJpemF0aW9uKHgxLCB5MSwgeDIsIHkyLCBmYSwgZnMsIHJ4LCByeSwgcHNpRGVnKSB7XG4gICAgICAgIHZhciBwc2kgPSBwc2lEZWcgKiAoTWF0aC5QSSAvIDE4MC4wKTtcbiAgICAgICAgdmFyIHhwID0gKE1hdGguY29zKHBzaSkgKiAoeDEgLSB4MikpIC8gMi4wICsgKE1hdGguc2luKHBzaSkgKiAoeTEgLSB5MikpIC8gMi4wO1xuICAgICAgICB2YXIgeXAgPSAoLTEgKiBNYXRoLnNpbihwc2kpICogKHgxIC0geDIpKSAvIDIuMCArXG4gICAgICAgICAgICAoTWF0aC5jb3MocHNpKSAqICh5MSAtIHkyKSkgLyAyLjA7XG4gICAgICAgIHZhciBsYW1iZGEgPSAoeHAgKiB4cCkgLyAocnggKiByeCkgKyAoeXAgKiB5cCkgLyAocnkgKiByeSk7XG4gICAgICAgIGlmIChsYW1iZGEgPiAxKSB7XG4gICAgICAgICAgICByeCAqPSBNYXRoLnNxcnQobGFtYmRhKTtcbiAgICAgICAgICAgIHJ5ICo9IE1hdGguc3FydChsYW1iZGEpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmID0gTWF0aC5zcXJ0KChyeCAqIHJ4ICogKHJ5ICogcnkpIC0gcnggKiByeCAqICh5cCAqIHlwKSAtIHJ5ICogcnkgKiAoeHAgKiB4cCkpIC9cbiAgICAgICAgICAgIChyeCAqIHJ4ICogKHlwICogeXApICsgcnkgKiByeSAqICh4cCAqIHhwKSkpO1xuICAgICAgICBpZiAoZmEgPT09IGZzKSB7XG4gICAgICAgICAgICBmICo9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05hTihmKSkge1xuICAgICAgICAgICAgZiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN4cCA9IChmICogcnggKiB5cCkgLyByeTtcbiAgICAgICAgdmFyIGN5cCA9IChmICogLXJ5ICogeHApIC8gcng7XG4gICAgICAgIHZhciBjeCA9ICh4MSArIHgyKSAvIDIuMCArIE1hdGguY29zKHBzaSkgKiBjeHAgLSBNYXRoLnNpbihwc2kpICogY3lwO1xuICAgICAgICB2YXIgY3kgPSAoeTEgKyB5MikgLyAyLjAgKyBNYXRoLnNpbihwc2kpICogY3hwICsgTWF0aC5jb3MocHNpKSAqIGN5cDtcbiAgICAgICAgdmFyIHZNYWcgPSBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydCh2WzBdICogdlswXSArIHZbMV0gKiB2WzFdKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHZSYXRpbyA9IGZ1bmN0aW9uICh1LCB2KSB7XG4gICAgICAgICAgICByZXR1cm4gKHVbMF0gKiB2WzBdICsgdVsxXSAqIHZbMV0pIC8gKHZNYWcodSkgKiB2TWFnKHYpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHZBbmdsZSA9IGZ1bmN0aW9uICh1LCB2KSB7XG4gICAgICAgICAgICByZXR1cm4gKHVbMF0gKiB2WzFdIDwgdVsxXSAqIHZbMF0gPyAtMSA6IDEpICogTWF0aC5hY29zKHZSYXRpbyh1LCB2KSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0aGV0YSA9IHZBbmdsZShbMSwgMF0sIFsoeHAgLSBjeHApIC8gcngsICh5cCAtIGN5cCkgLyByeV0pO1xuICAgICAgICB2YXIgdSA9IFsoeHAgLSBjeHApIC8gcngsICh5cCAtIGN5cCkgLyByeV07XG4gICAgICAgIHZhciB2ID0gWygtMSAqIHhwIC0gY3hwKSAvIHJ4LCAoLTEgKiB5cCAtIGN5cCkgLyByeV07XG4gICAgICAgIHZhciBkVGhldGEgPSB2QW5nbGUodSwgdik7XG4gICAgICAgIGlmICh2UmF0aW8odSwgdikgPD0gLTEpIHtcbiAgICAgICAgICAgIGRUaGV0YSA9IE1hdGguUEk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZSYXRpbyh1LCB2KSA+PSAxKSB7XG4gICAgICAgICAgICBkVGhldGEgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcyA9PT0gMCAmJiBkVGhldGEgPiAwKSB7XG4gICAgICAgICAgICBkVGhldGEgPSBkVGhldGEgLSAyICogTWF0aC5QSTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnMgPT09IDEgJiYgZFRoZXRhIDwgMCkge1xuICAgICAgICAgICAgZFRoZXRhID0gZFRoZXRhICsgMiAqIE1hdGguUEk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtjeCwgY3ksIHJ4LCByeSwgdGhldGEsIGRUaGV0YSwgcHNpLCBmc107XG4gICAgfVxufVxuZXhwb3J0cy5QYXRoID0gUGF0aDtcblBhdGgucHJvdG90eXBlLmNsYXNzTmFtZSA9ICdQYXRoJztcblBhdGgucHJvdG90eXBlLl9hdHRyc0FmZmVjdGluZ1NpemUgPSBbJ2RhdGEnXTtcbigwLCBHbG9iYWxfMS5fcmVnaXN0ZXJOb2RlKShQYXRoKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihQYXRoLCAnZGF0YScpO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BcnJvdyA9IHZvaWQgMDtcbmNvbnN0IEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9GYWN0b3J5XCIpO1xuY29uc3QgTGluZV8xID0gcmVxdWlyZShcIi4vTGluZVwiKTtcbmNvbnN0IFZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoXCIuLi9WYWxpZGF0b3JzXCIpO1xuY29uc3QgR2xvYmFsXzEgPSByZXF1aXJlKFwiLi4vR2xvYmFsXCIpO1xuY29uc3QgUGF0aF8xID0gcmVxdWlyZShcIi4vUGF0aFwiKTtcbmNsYXNzIEFycm93IGV4dGVuZHMgTGluZV8xLkxpbmUge1xuICAgIF9zY2VuZUZ1bmMoY3R4KSB7XG4gICAgICAgIHN1cGVyLl9zY2VuZUZ1bmMoY3R4KTtcbiAgICAgICAgdmFyIFBJMiA9IE1hdGguUEkgKiAyO1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHMoKTtcbiAgICAgICAgdmFyIHRwID0gcG9pbnRzO1xuICAgICAgICB2YXIgZnJvbVRlbnNpb24gPSB0aGlzLnRlbnNpb24oKSAhPT0gMCAmJiBwb2ludHMubGVuZ3RoID4gNDtcbiAgICAgICAgaWYgKGZyb21UZW5zaW9uKSB7XG4gICAgICAgICAgICB0cCA9IHRoaXMuZ2V0VGVuc2lvblBvaW50cygpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLnBvaW50ZXJMZW5ndGgoKTtcbiAgICAgICAgdmFyIG4gPSBwb2ludHMubGVuZ3RoO1xuICAgICAgICB2YXIgZHgsIGR5O1xuICAgICAgICBpZiAoZnJvbVRlbnNpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGxwID0gW1xuICAgICAgICAgICAgICAgIHRwW3RwLmxlbmd0aCAtIDRdLFxuICAgICAgICAgICAgICAgIHRwW3RwLmxlbmd0aCAtIDNdLFxuICAgICAgICAgICAgICAgIHRwW3RwLmxlbmd0aCAtIDJdLFxuICAgICAgICAgICAgICAgIHRwW3RwLmxlbmd0aCAtIDFdLFxuICAgICAgICAgICAgICAgIHBvaW50c1tuIC0gMl0sXG4gICAgICAgICAgICAgICAgcG9pbnRzW24gLSAxXSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBjb25zdCBsYXN0TGVuZ3RoID0gUGF0aF8xLlBhdGguY2FsY0xlbmd0aCh0cFt0cC5sZW5ndGggLSA0XSwgdHBbdHAubGVuZ3RoIC0gM10sICdDJywgbHApO1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXMgPSBQYXRoXzEuUGF0aC5nZXRQb2ludE9uUXVhZHJhdGljQmV6aWVyKE1hdGgubWluKDEsIDEgLSBsZW5ndGggLyBsYXN0TGVuZ3RoKSwgbHBbMF0sIGxwWzFdLCBscFsyXSwgbHBbM10sIGxwWzRdLCBscFs1XSk7XG4gICAgICAgICAgICBkeCA9IHBvaW50c1tuIC0gMl0gLSBwcmV2aW91cy54O1xuICAgICAgICAgICAgZHkgPSBwb2ludHNbbiAtIDFdIC0gcHJldmlvdXMueTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGR4ID0gcG9pbnRzW24gLSAyXSAtIHBvaW50c1tuIC0gNF07XG4gICAgICAgICAgICBkeSA9IHBvaW50c1tuIC0gMV0gLSBwb2ludHNbbiAtIDNdO1xuICAgICAgICB9XG4gICAgICAgIHZhciByYWRpYW5zID0gKE1hdGguYXRhbjIoZHksIGR4KSArIFBJMikgJSBQSTI7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMucG9pbnRlcldpZHRoKCk7XG4gICAgICAgIGlmICh0aGlzLnBvaW50ZXJBdEVuZGluZygpKSB7XG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShwb2ludHNbbiAtIDJdLCBwb2ludHNbbiAtIDFdKTtcbiAgICAgICAgICAgIGN0eC5yb3RhdGUocmFkaWFucyk7XG4gICAgICAgICAgICBjdHgubW92ZVRvKDAsIDApO1xuICAgICAgICAgICAgY3R4LmxpbmVUbygtbGVuZ3RoLCB3aWR0aCAvIDIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbygtbGVuZ3RoLCAtd2lkdGggLyAyKTtcbiAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgICAgICB0aGlzLl9fZmlsbFN0cm9rZShjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBvaW50ZXJBdEJlZ2lubmluZygpKSB7XG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShwb2ludHNbMF0sIHBvaW50c1sxXSk7XG4gICAgICAgICAgICBpZiAoZnJvbVRlbnNpb24pIHtcbiAgICAgICAgICAgICAgICBkeCA9ICh0cFswXSArIHRwWzJdKSAvIDIgLSBwb2ludHNbMF07XG4gICAgICAgICAgICAgICAgZHkgPSAodHBbMV0gKyB0cFszXSkgLyAyIC0gcG9pbnRzWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZHggPSBwb2ludHNbMl0gLSBwb2ludHNbMF07XG4gICAgICAgICAgICAgICAgZHkgPSBwb2ludHNbM10gLSBwb2ludHNbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHgucm90YXRlKChNYXRoLmF0YW4yKC1keSwgLWR4KSArIFBJMikgJSBQSTIpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbygwLCAwKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oLWxlbmd0aCwgd2lkdGggLyAyKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oLWxlbmd0aCwgLXdpZHRoIC8gMik7XG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICAgICAgdGhpcy5fX2ZpbGxTdHJva2UoY3R4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfX2ZpbGxTdHJva2UoY3R4KSB7XG4gICAgICAgIHZhciBpc0Rhc2hFbmFibGVkID0gdGhpcy5kYXNoRW5hYmxlZCgpO1xuICAgICAgICBpZiAoaXNEYXNoRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5hdHRycy5kYXNoRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY3R4LnNldExpbmVEYXNoKFtdKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguZmlsbFN0cm9rZVNoYXBlKHRoaXMpO1xuICAgICAgICBpZiAoaXNEYXNoRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5hdHRycy5kYXNoRW5hYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U2VsZlJlY3QoKSB7XG4gICAgICAgIGNvbnN0IGxpbmVSZWN0ID0gc3VwZXIuZ2V0U2VsZlJlY3QoKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5wb2ludGVyV2lkdGgoKSAvIDI7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBsaW5lUmVjdC54IC0gb2Zmc2V0LFxuICAgICAgICAgICAgeTogbGluZVJlY3QueSAtIG9mZnNldCxcbiAgICAgICAgICAgIHdpZHRoOiBsaW5lUmVjdC53aWR0aCArIG9mZnNldCAqIDIsXG4gICAgICAgICAgICBoZWlnaHQ6IGxpbmVSZWN0LmhlaWdodCArIG9mZnNldCAqIDIsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5BcnJvdyA9IEFycm93O1xuQXJyb3cucHJvdG90eXBlLmNsYXNzTmFtZSA9ICdBcnJvdyc7XG4oMCwgR2xvYmFsXzEuX3JlZ2lzdGVyTm9kZSkoQXJyb3cpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEFycm93LCAncG9pbnRlckxlbmd0aCcsIDEwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoQXJyb3csICdwb2ludGVyV2lkdGgnLCAxMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEFycm93LCAncG9pbnRlckF0QmVnaW5uaW5nJywgZmFsc2UpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEFycm93LCAncG9pbnRlckF0RW5kaW5nJywgdHJ1ZSk7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNpcmNsZSA9IHZvaWQgMDtcbmNvbnN0IEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9GYWN0b3J5XCIpO1xuY29uc3QgU2hhcGVfMSA9IHJlcXVpcmUoXCIuLi9TaGFwZVwiKTtcbmNvbnN0IFZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoXCIuLi9WYWxpZGF0b3JzXCIpO1xuY29uc3QgR2xvYmFsXzEgPSByZXF1aXJlKFwiLi4vR2xvYmFsXCIpO1xuY2xhc3MgQ2lyY2xlIGV4dGVuZHMgU2hhcGVfMS5TaGFwZSB7XG4gICAgX3NjZW5lRnVuYyhjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQuYXJjKDAsIDAsIHRoaXMuYXR0cnMucmFkaXVzIHx8IDAsIDAsIE1hdGguUEkgKiAyLCBmYWxzZSk7XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0cm9rZVNoYXBlKHRoaXMpO1xuICAgIH1cbiAgICBnZXRXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFkaXVzKCkgKiAyO1xuICAgIH1cbiAgICBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhZGl1cygpICogMjtcbiAgICB9XG4gICAgc2V0V2lkdGgod2lkdGgpIHtcbiAgICAgICAgaWYgKHRoaXMucmFkaXVzKCkgIT09IHdpZHRoIC8gMikge1xuICAgICAgICAgICAgdGhpcy5yYWRpdXMod2lkdGggLyAyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRIZWlnaHQoaGVpZ2h0KSB7XG4gICAgICAgIGlmICh0aGlzLnJhZGl1cygpICE9PSBoZWlnaHQgLyAyKSB7XG4gICAgICAgICAgICB0aGlzLnJhZGl1cyhoZWlnaHQgLyAyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQ2lyY2xlID0gQ2lyY2xlO1xuQ2lyY2xlLnByb3RvdHlwZS5fY2VudHJvaWQgPSB0cnVlO1xuQ2lyY2xlLnByb3RvdHlwZS5jbGFzc05hbWUgPSAnQ2lyY2xlJztcbkNpcmNsZS5wcm90b3R5cGUuX2F0dHJzQWZmZWN0aW5nU2l6ZSA9IFsncmFkaXVzJ107XG4oMCwgR2xvYmFsXzEuX3JlZ2lzdGVyTm9kZSkoQ2lyY2xlKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihDaXJjbGUsICdyYWRpdXMnLCAwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkVsbGlwc2UgPSB2b2lkIDA7XG5jb25zdCBGYWN0b3J5XzEgPSByZXF1aXJlKFwiLi4vRmFjdG9yeVwiKTtcbmNvbnN0IFNoYXBlXzEgPSByZXF1aXJlKFwiLi4vU2hhcGVcIik7XG5jb25zdCBWYWxpZGF0b3JzXzEgPSByZXF1aXJlKFwiLi4vVmFsaWRhdG9yc1wiKTtcbmNvbnN0IEdsb2JhbF8xID0gcmVxdWlyZShcIi4uL0dsb2JhbFwiKTtcbmNsYXNzIEVsbGlwc2UgZXh0ZW5kcyBTaGFwZV8xLlNoYXBlIHtcbiAgICBfc2NlbmVGdW5jKGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHJ4ID0gdGhpcy5yYWRpdXNYKCksIHJ5ID0gdGhpcy5yYWRpdXNZKCk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBpZiAocnggIT09IHJ5KSB7XG4gICAgICAgICAgICBjb250ZXh0LnNjYWxlKDEsIHJ5IC8gcngpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuYXJjKDAsIDAsIHJ4LCAwLCBNYXRoLlBJICogMiwgZmFsc2UpO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY29udGV4dC5maWxsU3Ryb2tlU2hhcGUodGhpcyk7XG4gICAgfVxuICAgIGdldFdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYWRpdXNYKCkgKiAyO1xuICAgIH1cbiAgICBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhZGl1c1koKSAqIDI7XG4gICAgfVxuICAgIHNldFdpZHRoKHdpZHRoKSB7XG4gICAgICAgIHRoaXMucmFkaXVzWCh3aWR0aCAvIDIpO1xuICAgIH1cbiAgICBzZXRIZWlnaHQoaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMucmFkaXVzWShoZWlnaHQgLyAyKTtcbiAgICB9XG59XG5leHBvcnRzLkVsbGlwc2UgPSBFbGxpcHNlO1xuRWxsaXBzZS5wcm90b3R5cGUuY2xhc3NOYW1lID0gJ0VsbGlwc2UnO1xuRWxsaXBzZS5wcm90b3R5cGUuX2NlbnRyb2lkID0gdHJ1ZTtcbkVsbGlwc2UucHJvdG90eXBlLl9hdHRyc0FmZmVjdGluZ1NpemUgPSBbJ3JhZGl1c1gnLCAncmFkaXVzWSddO1xuKDAsIEdsb2JhbF8xLl9yZWdpc3Rlck5vZGUpKEVsbGlwc2UpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkQ29tcG9uZW50c0dldHRlclNldHRlcihFbGxpcHNlLCAncmFkaXVzJywgWyd4JywgJ3knXSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoRWxsaXBzZSwgJ3JhZGl1c1gnLCAwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoRWxsaXBzZSwgJ3JhZGl1c1knLCAwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkltYWdlID0gdm9pZCAwO1xuY29uc3QgVXRpbF8xID0gcmVxdWlyZShcIi4uL1V0aWxcIik7XG5jb25zdCBGYWN0b3J5XzEgPSByZXF1aXJlKFwiLi4vRmFjdG9yeVwiKTtcbmNvbnN0IFNoYXBlXzEgPSByZXF1aXJlKFwiLi4vU2hhcGVcIik7XG5jb25zdCBHbG9iYWxfMSA9IHJlcXVpcmUoXCIuLi9HbG9iYWxcIik7XG5jb25zdCBWYWxpZGF0b3JzXzEgPSByZXF1aXJlKFwiLi4vVmFsaWRhdG9yc1wiKTtcbmNsYXNzIEltYWdlIGV4dGVuZHMgU2hhcGVfMS5TaGFwZSB7XG4gICAgY29uc3RydWN0b3IoYXR0cnMpIHtcbiAgICAgICAgc3VwZXIoYXR0cnMpO1xuICAgICAgICB0aGlzLm9uKCdpbWFnZUNoYW5nZS5rb252YScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3NldEltYWdlTG9hZCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc2V0SW1hZ2VMb2FkKCk7XG4gICAgfVxuICAgIF9zZXRJbWFnZUxvYWQoKSB7XG4gICAgICAgIGNvbnN0IGltYWdlID0gdGhpcy5pbWFnZSgpO1xuICAgICAgICBpZiAoaW1hZ2UgJiYgaW1hZ2UuY29tcGxldGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW1hZ2UgJiYgaW1hZ2UucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbWFnZSAmJiBpbWFnZVsnYWRkRXZlbnRMaXN0ZW5lciddKSB7XG4gICAgICAgICAgICBpbWFnZVsnYWRkRXZlbnRMaXN0ZW5lciddKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3REcmF3KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfdXNlQnVmZmVyQ2FudmFzKCkge1xuICAgICAgICByZXR1cm4gc3VwZXIuX3VzZUJ1ZmZlckNhbnZhcyh0cnVlKTtcbiAgICB9XG4gICAgX3NjZW5lRnVuYyhjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5nZXRXaWR0aCgpO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpO1xuICAgICAgICBjb25zdCBjb3JuZXJSYWRpdXMgPSB0aGlzLmNvcm5lclJhZGl1cygpO1xuICAgICAgICBjb25zdCBpbWFnZSA9IHRoaXMuYXR0cnMuaW1hZ2U7XG4gICAgICAgIGxldCBwYXJhbXM7XG4gICAgICAgIGlmIChpbWFnZSkge1xuICAgICAgICAgICAgY29uc3QgY3JvcFdpZHRoID0gdGhpcy5hdHRycy5jcm9wV2lkdGg7XG4gICAgICAgICAgICBjb25zdCBjcm9wSGVpZ2h0ID0gdGhpcy5hdHRycy5jcm9wSGVpZ2h0O1xuICAgICAgICAgICAgaWYgKGNyb3BXaWR0aCAmJiBjcm9wSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zID0gW1xuICAgICAgICAgICAgICAgICAgICBpbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcm9wWCgpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyb3BZKCksXG4gICAgICAgICAgICAgICAgICAgIGNyb3BXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgY3JvcEhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zID0gW2ltYWdlLCAwLCAwLCB3aWR0aCwgaGVpZ2h0XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYXNGaWxsKCkgfHwgdGhpcy5oYXNTdHJva2UoKSB8fCBjb3JuZXJSYWRpdXMpIHtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNcbiAgICAgICAgICAgICAgICA/IFV0aWxfMS5VdGlsLmRyYXdSb3VuZGVkUmVjdFBhdGgoY29udGV4dCwgd2lkdGgsIGhlaWdodCwgY29ybmVyUmFkaXVzKVxuICAgICAgICAgICAgICAgIDogY29udGV4dC5yZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0cm9rZVNoYXBlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbWFnZSkge1xuICAgICAgICAgICAgaWYgKGNvcm5lclJhZGl1cykge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xpcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UuYXBwbHkoY29udGV4dCwgcGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfaGl0RnVuYyhjb250ZXh0KSB7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMud2lkdGgoKSwgaGVpZ2h0ID0gdGhpcy5oZWlnaHQoKSwgY29ybmVyUmFkaXVzID0gdGhpcy5jb3JuZXJSYWRpdXMoKTtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgaWYgKCFjb3JuZXJSYWRpdXMpIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFV0aWxfMS5VdGlsLmRyYXdSb3VuZGVkUmVjdFBhdGgoY29udGV4dCwgd2lkdGgsIGhlaWdodCwgY29ybmVyUmFkaXVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHJva2VTaGFwZSh0aGlzKTtcbiAgICB9XG4gICAgZ2V0V2lkdGgoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLmF0dHJzLndpZHRoKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoX2IgPSB0aGlzLmltYWdlKCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi53aWR0aDtcbiAgICB9XG4gICAgZ2V0SGVpZ2h0KCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5hdHRycy5oZWlnaHQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IChfYiA9IHRoaXMuaW1hZ2UoKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmhlaWdodDtcbiAgICB9XG4gICAgc3RhdGljIGZyb21VUkwodXJsLCBjYWxsYmFjaywgb25FcnJvciA9IG51bGwpIHtcbiAgICAgICAgdmFyIGltZyA9IFV0aWxfMS5VdGlsLmNyZWF0ZUltYWdlRWxlbWVudCgpO1xuICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKHtcbiAgICAgICAgICAgICAgICBpbWFnZTogaW1nLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYWxsYmFjayhpbWFnZSk7XG4gICAgICAgIH07XG4gICAgICAgIGltZy5vbmVycm9yID0gb25FcnJvcjtcbiAgICAgICAgaW1nLmNyb3NzT3JpZ2luID0gJ0Fub255bW91cyc7XG4gICAgICAgIGltZy5zcmMgPSB1cmw7XG4gICAgfVxufVxuZXhwb3J0cy5JbWFnZSA9IEltYWdlO1xuSW1hZ2UucHJvdG90eXBlLmNsYXNzTmFtZSA9ICdJbWFnZSc7XG4oMCwgR2xvYmFsXzEuX3JlZ2lzdGVyTm9kZSkoSW1hZ2UpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEltYWdlLCAnY29ybmVyUmFkaXVzJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJPckFycmF5T2ZOdW1iZXJzVmFsaWRhdG9yKSg0KSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoSW1hZ2UsICdpbWFnZScpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkQ29tcG9uZW50c0dldHRlclNldHRlcihJbWFnZSwgJ2Nyb3AnLCBbJ3gnLCAneScsICd3aWR0aCcsICdoZWlnaHQnXSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoSW1hZ2UsICdjcm9wWCcsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihJbWFnZSwgJ2Nyb3BZJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEltYWdlLCAnY3JvcFdpZHRoJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEltYWdlLCAnY3JvcEhlaWdodCcsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVGFnID0gZXhwb3J0cy5MYWJlbCA9IHZvaWQgMDtcbmNvbnN0IEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9GYWN0b3J5XCIpO1xuY29uc3QgU2hhcGVfMSA9IHJlcXVpcmUoXCIuLi9TaGFwZVwiKTtcbmNvbnN0IEdyb3VwXzEgPSByZXF1aXJlKFwiLi4vR3JvdXBcIik7XG5jb25zdCBWYWxpZGF0b3JzXzEgPSByZXF1aXJlKFwiLi4vVmFsaWRhdG9yc1wiKTtcbmNvbnN0IEdsb2JhbF8xID0gcmVxdWlyZShcIi4uL0dsb2JhbFwiKTtcbnZhciBBVFRSX0NIQU5HRV9MSVNUID0gW1xuICAgICdmb250RmFtaWx5JyxcbiAgICAnZm9udFNpemUnLFxuICAgICdmb250U3R5bGUnLFxuICAgICdwYWRkaW5nJyxcbiAgICAnbGluZUhlaWdodCcsXG4gICAgJ3RleHQnLFxuICAgICd3aWR0aCcsXG4gICAgJ2hlaWdodCcsXG4gICAgJ3BvaW50ZXJEaXJlY3Rpb24nLFxuICAgICdwb2ludGVyV2lkdGgnLFxuICAgICdwb2ludGVySGVpZ2h0Jyxcbl0sIENIQU5HRV9LT05WQSA9ICdDaGFuZ2Uua29udmEnLCBOT05FID0gJ25vbmUnLCBVUCA9ICd1cCcsIFJJR0hUID0gJ3JpZ2h0JywgRE9XTiA9ICdkb3duJywgTEVGVCA9ICdsZWZ0JywgYXR0ckNoYW5nZUxpc3RMZW4gPSBBVFRSX0NIQU5HRV9MSVNULmxlbmd0aDtcbmNsYXNzIExhYmVsIGV4dGVuZHMgR3JvdXBfMS5Hcm91cCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgICAgIHRoaXMub24oJ2FkZC5rb252YScsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZExpc3RlbmVycyhldnQuY2hpbGQpO1xuICAgICAgICAgICAgdGhpcy5fc3luYygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0VGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZCgnVGV4dCcpWzBdO1xuICAgIH1cbiAgICBnZXRUYWcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmQoJ1RhZycpWzBdO1xuICAgIH1cbiAgICBfYWRkTGlzdGVuZXJzKHRleHQpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzLCBuO1xuICAgICAgICB2YXIgZnVuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoYXQuX3N5bmMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChuID0gMDsgbiA8IGF0dHJDaGFuZ2VMaXN0TGVuOyBuKyspIHtcbiAgICAgICAgICAgIHRleHQub24oQVRUUl9DSEFOR0VfTElTVFtuXSArIENIQU5HRV9LT05WQSwgZnVuYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0V2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRleHQoKS53aWR0aCgpO1xuICAgIH1cbiAgICBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRleHQoKS5oZWlnaHQoKTtcbiAgICB9XG4gICAgX3N5bmMoKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gdGhpcy5nZXRUZXh0KCksIHRhZyA9IHRoaXMuZ2V0VGFnKCksIHdpZHRoLCBoZWlnaHQsIHBvaW50ZXJEaXJlY3Rpb24sIHBvaW50ZXJXaWR0aCwgeCwgeSwgcG9pbnRlckhlaWdodDtcbiAgICAgICAgaWYgKHRleHQgJiYgdGFnKSB7XG4gICAgICAgICAgICB3aWR0aCA9IHRleHQud2lkdGgoKTtcbiAgICAgICAgICAgIGhlaWdodCA9IHRleHQuaGVpZ2h0KCk7XG4gICAgICAgICAgICBwb2ludGVyRGlyZWN0aW9uID0gdGFnLnBvaW50ZXJEaXJlY3Rpb24oKTtcbiAgICAgICAgICAgIHBvaW50ZXJXaWR0aCA9IHRhZy5wb2ludGVyV2lkdGgoKTtcbiAgICAgICAgICAgIHBvaW50ZXJIZWlnaHQgPSB0YWcucG9pbnRlckhlaWdodCgpO1xuICAgICAgICAgICAgeCA9IDA7XG4gICAgICAgICAgICB5ID0gMDtcbiAgICAgICAgICAgIHN3aXRjaCAocG9pbnRlckRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGNhc2UgVVA6XG4gICAgICAgICAgICAgICAgICAgIHggPSB3aWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIHkgPSAtMSAqIHBvaW50ZXJIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgUklHSFQ6XG4gICAgICAgICAgICAgICAgICAgIHggPSB3aWR0aCArIHBvaW50ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgeSA9IGhlaWdodCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRE9XTjpcbiAgICAgICAgICAgICAgICAgICAgeCA9IHdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgeSA9IGhlaWdodCArIHBvaW50ZXJIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTEVGVDpcbiAgICAgICAgICAgICAgICAgICAgeCA9IC0xICogcG9pbnRlcldpZHRoO1xuICAgICAgICAgICAgICAgICAgICB5ID0gaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YWcuc2V0QXR0cnMoe1xuICAgICAgICAgICAgICAgIHg6IC0xICogeCxcbiAgICAgICAgICAgICAgICB5OiAtMSAqIHksXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0ZXh0LnNldEF0dHJzKHtcbiAgICAgICAgICAgICAgICB4OiAtMSAqIHgsXG4gICAgICAgICAgICAgICAgeTogLTEgKiB5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkxhYmVsID0gTGFiZWw7XG5MYWJlbC5wcm90b3R5cGUuY2xhc3NOYW1lID0gJ0xhYmVsJztcbigwLCBHbG9iYWxfMS5fcmVnaXN0ZXJOb2RlKShMYWJlbCk7XG5jbGFzcyBUYWcgZXh0ZW5kcyBTaGFwZV8xLlNoYXBlIHtcbiAgICBfc2NlbmVGdW5jKGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aCgpLCBoZWlnaHQgPSB0aGlzLmhlaWdodCgpLCBwb2ludGVyRGlyZWN0aW9uID0gdGhpcy5wb2ludGVyRGlyZWN0aW9uKCksIHBvaW50ZXJXaWR0aCA9IHRoaXMucG9pbnRlcldpZHRoKCksIHBvaW50ZXJIZWlnaHQgPSB0aGlzLnBvaW50ZXJIZWlnaHQoKSwgY29ybmVyUmFkaXVzID0gdGhpcy5jb3JuZXJSYWRpdXMoKTtcbiAgICAgICAgbGV0IHRvcExlZnQgPSAwO1xuICAgICAgICBsZXQgdG9wUmlnaHQgPSAwO1xuICAgICAgICBsZXQgYm90dG9tTGVmdCA9IDA7XG4gICAgICAgIGxldCBib3R0b21SaWdodCA9IDA7XG4gICAgICAgIGlmICh0eXBlb2YgY29ybmVyUmFkaXVzID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdG9wTGVmdCA9XG4gICAgICAgICAgICAgICAgdG9wUmlnaHQgPVxuICAgICAgICAgICAgICAgICAgICBib3R0b21MZWZ0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbVJpZ2h0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihjb3JuZXJSYWRpdXMsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0b3BMZWZ0ID0gTWF0aC5taW4oY29ybmVyUmFkaXVzWzBdIHx8IDAsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICB0b3BSaWdodCA9IE1hdGgubWluKGNvcm5lclJhZGl1c1sxXSB8fCAwLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgICAgICAgICAgYm90dG9tUmlnaHQgPSBNYXRoLm1pbihjb3JuZXJSYWRpdXNbMl0gfHwgMCwgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICAgICAgICAgIGJvdHRvbUxlZnQgPSBNYXRoLm1pbihjb3JuZXJSYWRpdXNbM10gfHwgMCwgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyh0b3BMZWZ0LCAwKTtcbiAgICAgICAgaWYgKHBvaW50ZXJEaXJlY3Rpb24gPT09IFVQKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbygod2lkdGggLSBwb2ludGVyV2lkdGgpIC8gMiwgMCk7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh3aWR0aCAvIDIsIC0xICogcG9pbnRlckhlaWdodCk7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbygod2lkdGggKyBwb2ludGVyV2lkdGgpIC8gMiwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5saW5lVG8od2lkdGggLSB0b3BSaWdodCwgMCk7XG4gICAgICAgIGNvbnRleHQuYXJjKHdpZHRoIC0gdG9wUmlnaHQsIHRvcFJpZ2h0LCB0b3BSaWdodCwgKE1hdGguUEkgKiAzKSAvIDIsIDAsIGZhbHNlKTtcbiAgICAgICAgaWYgKHBvaW50ZXJEaXJlY3Rpb24gPT09IFJJR0hUKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh3aWR0aCwgKGhlaWdodCAtIHBvaW50ZXJIZWlnaHQpIC8gMik7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh3aWR0aCArIHBvaW50ZXJXaWR0aCwgaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh3aWR0aCwgKGhlaWdodCArIHBvaW50ZXJIZWlnaHQpIC8gMik7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5saW5lVG8od2lkdGgsIGhlaWdodCAtIGJvdHRvbVJpZ2h0KTtcbiAgICAgICAgY29udGV4dC5hcmMod2lkdGggLSBib3R0b21SaWdodCwgaGVpZ2h0IC0gYm90dG9tUmlnaHQsIGJvdHRvbVJpZ2h0LCAwLCBNYXRoLlBJIC8gMiwgZmFsc2UpO1xuICAgICAgICBpZiAocG9pbnRlckRpcmVjdGlvbiA9PT0gRE9XTikge1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8oKHdpZHRoICsgcG9pbnRlcldpZHRoKSAvIDIsIGhlaWdodCk7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh3aWR0aCAvIDIsIGhlaWdodCArIHBvaW50ZXJIZWlnaHQpO1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8oKHdpZHRoIC0gcG9pbnRlcldpZHRoKSAvIDIsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5saW5lVG8oYm90dG9tTGVmdCwgaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5hcmMoYm90dG9tTGVmdCwgaGVpZ2h0IC0gYm90dG9tTGVmdCwgYm90dG9tTGVmdCwgTWF0aC5QSSAvIDIsIE1hdGguUEksIGZhbHNlKTtcbiAgICAgICAgaWYgKHBvaW50ZXJEaXJlY3Rpb24gPT09IExFRlQpIHtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKDAsIChoZWlnaHQgKyBwb2ludGVySGVpZ2h0KSAvIDIpO1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8oLTEgKiBwb2ludGVyV2lkdGgsIGhlaWdodCAvIDIpO1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8oMCwgKGhlaWdodCAtIHBvaW50ZXJIZWlnaHQpIC8gMik7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5saW5lVG8oMCwgdG9wTGVmdCk7XG4gICAgICAgIGNvbnRleHQuYXJjKHRvcExlZnQsIHRvcExlZnQsIHRvcExlZnQsIE1hdGguUEksIChNYXRoLlBJICogMykgLyAyLCBmYWxzZSk7XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0cm9rZVNoYXBlKHRoaXMpO1xuICAgIH1cbiAgICBnZXRTZWxmUmVjdCgpIHtcbiAgICAgICAgdmFyIHggPSAwLCB5ID0gMCwgcG9pbnRlcldpZHRoID0gdGhpcy5wb2ludGVyV2lkdGgoKSwgcG9pbnRlckhlaWdodCA9IHRoaXMucG9pbnRlckhlaWdodCgpLCBkaXJlY3Rpb24gPSB0aGlzLnBvaW50ZXJEaXJlY3Rpb24oKSwgd2lkdGggPSB0aGlzLndpZHRoKCksIGhlaWdodCA9IHRoaXMuaGVpZ2h0KCk7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IFVQKSB7XG4gICAgICAgICAgICB5IC09IHBvaW50ZXJIZWlnaHQ7XG4gICAgICAgICAgICBoZWlnaHQgKz0gcG9pbnRlckhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkaXJlY3Rpb24gPT09IERPV04pIHtcbiAgICAgICAgICAgIGhlaWdodCArPSBwb2ludGVySGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gTEVGVCkge1xuICAgICAgICAgICAgeCAtPSBwb2ludGVyV2lkdGggKiAxLjU7XG4gICAgICAgICAgICB3aWR0aCArPSBwb2ludGVyV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGlyZWN0aW9uID09PSBSSUdIVCkge1xuICAgICAgICAgICAgd2lkdGggKz0gcG9pbnRlcldpZHRoICogMS41O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuVGFnID0gVGFnO1xuVGFnLnByb3RvdHlwZS5jbGFzc05hbWUgPSAnVGFnJztcbigwLCBHbG9iYWxfMS5fcmVnaXN0ZXJOb2RlKShUYWcpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFRhZywgJ3BvaW50ZXJEaXJlY3Rpb24nLCBOT05FKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUYWcsICdwb2ludGVyV2lkdGgnLCAwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoVGFnLCAncG9pbnRlckhlaWdodCcsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUYWcsICdjb3JuZXJSYWRpdXMnLCAwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlck9yQXJyYXlPZk51bWJlcnNWYWxpZGF0b3IpKDQpKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVjdCA9IHZvaWQgMDtcbmNvbnN0IEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9GYWN0b3J5XCIpO1xuY29uc3QgU2hhcGVfMSA9IHJlcXVpcmUoXCIuLi9TaGFwZVwiKTtcbmNvbnN0IEdsb2JhbF8xID0gcmVxdWlyZShcIi4uL0dsb2JhbFwiKTtcbmNvbnN0IFV0aWxfMSA9IHJlcXVpcmUoXCIuLi9VdGlsXCIpO1xuY29uc3QgVmFsaWRhdG9yc18xID0gcmVxdWlyZShcIi4uL1ZhbGlkYXRvcnNcIik7XG5jbGFzcyBSZWN0IGV4dGVuZHMgU2hhcGVfMS5TaGFwZSB7XG4gICAgX3NjZW5lRnVuYyhjb250ZXh0KSB7XG4gICAgICAgIHZhciBjb3JuZXJSYWRpdXMgPSB0aGlzLmNvcm5lclJhZGl1cygpLCB3aWR0aCA9IHRoaXMud2lkdGgoKSwgaGVpZ2h0ID0gdGhpcy5oZWlnaHQoKTtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgaWYgKCFjb3JuZXJSYWRpdXMpIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFV0aWxfMS5VdGlsLmRyYXdSb3VuZGVkUmVjdFBhdGgoY29udGV4dCwgd2lkdGgsIGhlaWdodCwgY29ybmVyUmFkaXVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHJva2VTaGFwZSh0aGlzKTtcbiAgICB9XG59XG5leHBvcnRzLlJlY3QgPSBSZWN0O1xuUmVjdC5wcm90b3R5cGUuY2xhc3NOYW1lID0gJ1JlY3QnO1xuKDAsIEdsb2JhbF8xLl9yZWdpc3Rlck5vZGUpKFJlY3QpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFJlY3QsICdjb3JuZXJSYWRpdXMnLCAwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlck9yQXJyYXlPZk51bWJlcnNWYWxpZGF0b3IpKDQpKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVndWxhclBvbHlnb24gPSB2b2lkIDA7XG5jb25zdCBGYWN0b3J5XzEgPSByZXF1aXJlKFwiLi4vRmFjdG9yeVwiKTtcbmNvbnN0IFNoYXBlXzEgPSByZXF1aXJlKFwiLi4vU2hhcGVcIik7XG5jb25zdCBWYWxpZGF0b3JzXzEgPSByZXF1aXJlKFwiLi4vVmFsaWRhdG9yc1wiKTtcbmNvbnN0IEdsb2JhbF8xID0gcmVxdWlyZShcIi4uL0dsb2JhbFwiKTtcbmNsYXNzIFJlZ3VsYXJQb2x5Z29uIGV4dGVuZHMgU2hhcGVfMS5TaGFwZSB7XG4gICAgX3NjZW5lRnVuYyhjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuX2dldFBvaW50cygpO1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyhwb2ludHNbMF0ueCwgcG9pbnRzWzBdLnkpO1xuICAgICAgICBmb3IgKHZhciBuID0gMTsgbiA8IHBvaW50cy5sZW5ndGg7IG4rKykge1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocG9pbnRzW25dLngsIHBvaW50c1tuXS55KTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHJva2VTaGFwZSh0aGlzKTtcbiAgICB9XG4gICAgX2dldFBvaW50cygpIHtcbiAgICAgICAgY29uc3Qgc2lkZXMgPSB0aGlzLmF0dHJzLnNpZGVzO1xuICAgICAgICBjb25zdCByYWRpdXMgPSB0aGlzLmF0dHJzLnJhZGl1cyB8fCAwO1xuICAgICAgICBjb25zdCBwb2ludHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBzaWRlczsgbisrKSB7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh7XG4gICAgICAgICAgICAgICAgeDogcmFkaXVzICogTWF0aC5zaW4oKG4gKiAyICogTWF0aC5QSSkgLyBzaWRlcyksXG4gICAgICAgICAgICAgICAgeTogLTEgKiByYWRpdXMgKiBNYXRoLmNvcygobiAqIDIgKiBNYXRoLlBJKSAvIHNpZGVzKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfVxuICAgIGdldFNlbGZSZWN0KCkge1xuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLl9nZXRQb2ludHMoKTtcbiAgICAgICAgdmFyIG1pblggPSBwb2ludHNbMF0ueDtcbiAgICAgICAgdmFyIG1heFggPSBwb2ludHNbMF0ueTtcbiAgICAgICAgdmFyIG1pblkgPSBwb2ludHNbMF0ueDtcbiAgICAgICAgdmFyIG1heFkgPSBwb2ludHNbMF0ueTtcbiAgICAgICAgcG9pbnRzLmZvckVhY2goKHBvaW50KSA9PiB7XG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgcG9pbnQueCk7XG4gICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgcG9pbnQueCk7XG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgcG9pbnQueSk7XG4gICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgcG9pbnQueSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogbWluWCxcbiAgICAgICAgICAgIHk6IG1pblksXG4gICAgICAgICAgICB3aWR0aDogbWF4WCAtIG1pblgsXG4gICAgICAgICAgICBoZWlnaHQ6IG1heFkgLSBtaW5ZLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFkaXVzKCkgKiAyO1xuICAgIH1cbiAgICBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhZGl1cygpICogMjtcbiAgICB9XG4gICAgc2V0V2lkdGgod2lkdGgpIHtcbiAgICAgICAgdGhpcy5yYWRpdXMod2lkdGggLyAyKTtcbiAgICB9XG4gICAgc2V0SGVpZ2h0KGhlaWdodCkge1xuICAgICAgICB0aGlzLnJhZGl1cyhoZWlnaHQgLyAyKTtcbiAgICB9XG59XG5leHBvcnRzLlJlZ3VsYXJQb2x5Z29uID0gUmVndWxhclBvbHlnb247XG5SZWd1bGFyUG9seWdvbi5wcm90b3R5cGUuY2xhc3NOYW1lID0gJ1JlZ3VsYXJQb2x5Z29uJztcblJlZ3VsYXJQb2x5Z29uLnByb3RvdHlwZS5fY2VudHJvaWQgPSB0cnVlO1xuUmVndWxhclBvbHlnb24ucHJvdG90eXBlLl9hdHRyc0FmZmVjdGluZ1NpemUgPSBbJ3JhZGl1cyddO1xuKDAsIEdsb2JhbF8xLl9yZWdpc3Rlck5vZGUpKFJlZ3VsYXJQb2x5Z29uKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihSZWd1bGFyUG9seWdvbiwgJ3JhZGl1cycsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihSZWd1bGFyUG9seWdvbiwgJ3NpZGVzJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SaW5nID0gdm9pZCAwO1xuY29uc3QgRmFjdG9yeV8xID0gcmVxdWlyZShcIi4uL0ZhY3RvcnlcIik7XG5jb25zdCBTaGFwZV8xID0gcmVxdWlyZShcIi4uL1NoYXBlXCIpO1xuY29uc3QgVmFsaWRhdG9yc18xID0gcmVxdWlyZShcIi4uL1ZhbGlkYXRvcnNcIik7XG5jb25zdCBHbG9iYWxfMSA9IHJlcXVpcmUoXCIuLi9HbG9iYWxcIik7XG52YXIgUEl4MiA9IE1hdGguUEkgKiAyO1xuY2xhc3MgUmluZyBleHRlbmRzIFNoYXBlXzEuU2hhcGUge1xuICAgIF9zY2VuZUZ1bmMoY29udGV4dCkge1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0LmFyYygwLCAwLCB0aGlzLmlubmVyUmFkaXVzKCksIDAsIFBJeDIsIGZhbHNlKTtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8odGhpcy5vdXRlclJhZGl1cygpLCAwKTtcbiAgICAgICAgY29udGV4dC5hcmMoMCwgMCwgdGhpcy5vdXRlclJhZGl1cygpLCBQSXgyLCAwLCB0cnVlKTtcbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY29udGV4dC5maWxsU3Ryb2tlU2hhcGUodGhpcyk7XG4gICAgfVxuICAgIGdldFdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdXRlclJhZGl1cygpICogMjtcbiAgICB9XG4gICAgZ2V0SGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdXRlclJhZGl1cygpICogMjtcbiAgICB9XG4gICAgc2V0V2lkdGgod2lkdGgpIHtcbiAgICAgICAgdGhpcy5vdXRlclJhZGl1cyh3aWR0aCAvIDIpO1xuICAgIH1cbiAgICBzZXRIZWlnaHQoaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMub3V0ZXJSYWRpdXMoaGVpZ2h0IC8gMik7XG4gICAgfVxufVxuZXhwb3J0cy5SaW5nID0gUmluZztcblJpbmcucHJvdG90eXBlLmNsYXNzTmFtZSA9ICdSaW5nJztcblJpbmcucHJvdG90eXBlLl9jZW50cm9pZCA9IHRydWU7XG5SaW5nLnByb3RvdHlwZS5fYXR0cnNBZmZlY3RpbmdTaXplID0gWydpbm5lclJhZGl1cycsICdvdXRlclJhZGl1cyddO1xuKDAsIEdsb2JhbF8xLl9yZWdpc3Rlck5vZGUpKFJpbmcpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFJpbmcsICdpbm5lclJhZGl1cycsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihSaW5nLCAnb3V0ZXJSYWRpdXMnLCAwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNwcml0ZSA9IHZvaWQgMDtcbmNvbnN0IEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9GYWN0b3J5XCIpO1xuY29uc3QgU2hhcGVfMSA9IHJlcXVpcmUoXCIuLi9TaGFwZVwiKTtcbmNvbnN0IEFuaW1hdGlvbl8xID0gcmVxdWlyZShcIi4uL0FuaW1hdGlvblwiKTtcbmNvbnN0IFZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoXCIuLi9WYWxpZGF0b3JzXCIpO1xuY29uc3QgR2xvYmFsXzEgPSByZXF1aXJlKFwiLi4vR2xvYmFsXCIpO1xuY2xhc3MgU3ByaXRlIGV4dGVuZHMgU2hhcGVfMS5TaGFwZSB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmFuaW0gPSBuZXcgQW5pbWF0aW9uXzEuQW5pbWF0aW9uKCgpID0+IHtcbiAgICAgICAgICAgIHZhciB1cGRhdGVkID0gdGhpcy5fdXBkYXRlZDtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbignYW5pbWF0aW9uQ2hhbmdlLmtvbnZhJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5mcmFtZUluZGV4KDApO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbignZnJhbWVJbmRleENoYW5nZS5rb252YScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZWQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbignZnJhbWVSYXRlQ2hhbmdlLmtvbnZhJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmFuaW0uaXNSdW5uaW5nKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgICAgICAgdGhpcy5fc2V0SW50ZXJ2YWwoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9zY2VuZUZ1bmMoY29udGV4dCkge1xuICAgICAgICB2YXIgYW5pbSA9IHRoaXMuYW5pbWF0aW9uKCksIGluZGV4ID0gdGhpcy5mcmFtZUluZGV4KCksIGl4NCA9IGluZGV4ICogNCwgc2V0ID0gdGhpcy5hbmltYXRpb25zKClbYW5pbV0sIG9mZnNldHMgPSB0aGlzLmZyYW1lT2Zmc2V0cygpLCB4ID0gc2V0W2l4NCArIDBdLCB5ID0gc2V0W2l4NCArIDFdLCB3aWR0aCA9IHNldFtpeDQgKyAyXSwgaGVpZ2h0ID0gc2V0W2l4NCArIDNdLCBpbWFnZSA9IHRoaXMuaW1hZ2UoKTtcbiAgICAgICAgaWYgKHRoaXMuaGFzRmlsbCgpIHx8IHRoaXMuaGFzU3Ryb2tlKCkpIHtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0LnJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3Ryb2tlU2hhcGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGltYWdlKSB7XG4gICAgICAgICAgICBpZiAob2Zmc2V0cykge1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSBvZmZzZXRzW2FuaW1dLCBpeDIgPSBpbmRleCAqIDI7XG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIHgsIHksIHdpZHRoLCBoZWlnaHQsIG9mZnNldFtpeDIgKyAwXSwgb2Zmc2V0W2l4MiArIDFdLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfaGl0RnVuYyhjb250ZXh0KSB7XG4gICAgICAgIHZhciBhbmltID0gdGhpcy5hbmltYXRpb24oKSwgaW5kZXggPSB0aGlzLmZyYW1lSW5kZXgoKSwgaXg0ID0gaW5kZXggKiA0LCBzZXQgPSB0aGlzLmFuaW1hdGlvbnMoKVthbmltXSwgb2Zmc2V0cyA9IHRoaXMuZnJhbWVPZmZzZXRzKCksIHdpZHRoID0gc2V0W2l4NCArIDJdLCBoZWlnaHQgPSBzZXRbaXg0ICsgM107XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGlmIChvZmZzZXRzKSB7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gb2Zmc2V0c1thbmltXTtcbiAgICAgICAgICAgIHZhciBpeDIgPSBpbmRleCAqIDI7XG4gICAgICAgICAgICBjb250ZXh0LnJlY3Qob2Zmc2V0W2l4MiArIDBdLCBvZmZzZXRbaXgyICsgMV0sIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5yZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgIGNvbnRleHQuZmlsbFNoYXBlKHRoaXMpO1xuICAgIH1cbiAgICBfdXNlQnVmZmVyQ2FudmFzKCkge1xuICAgICAgICByZXR1cm4gc3VwZXIuX3VzZUJ1ZmZlckNhbnZhcyh0cnVlKTtcbiAgICB9XG4gICAgX3NldEludGVydmFsKCkge1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGF0Ll91cGRhdGVJbmRleCgpO1xuICAgICAgICB9LCAxMDAwIC8gdGhpcy5mcmFtZVJhdGUoKSk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICAgICAgdGhpcy5hbmltLnNldExheWVycyhsYXllcik7XG4gICAgICAgIHRoaXMuX3NldEludGVydmFsKCk7XG4gICAgICAgIHRoaXMuYW5pbS5zdGFydCgpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLmFuaW0uc3RvcCgpO1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuICAgIH1cbiAgICBpc1J1bm5pbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFuaW0uaXNSdW5uaW5nKCk7XG4gICAgfVxuICAgIF91cGRhdGVJbmRleCgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5mcmFtZUluZGV4KCksIGFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9uKCksIGFuaW1hdGlvbnMgPSB0aGlzLmFuaW1hdGlvbnMoKSwgYW5pbSA9IGFuaW1hdGlvbnNbYW5pbWF0aW9uXSwgbGVuID0gYW5pbS5sZW5ndGggLyA0O1xuICAgICAgICBpZiAoaW5kZXggPCBsZW4gLSAxKSB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lSW5kZXgoaW5kZXggKyAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWVJbmRleCgwKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuU3ByaXRlID0gU3ByaXRlO1xuU3ByaXRlLnByb3RvdHlwZS5jbGFzc05hbWUgPSAnU3ByaXRlJztcbigwLCBHbG9iYWxfMS5fcmVnaXN0ZXJOb2RlKShTcHJpdGUpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFNwcml0ZSwgJ2FuaW1hdGlvbicpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFNwcml0ZSwgJ2FuaW1hdGlvbnMnKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTcHJpdGUsICdmcmFtZU9mZnNldHMnKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTcHJpdGUsICdpbWFnZScpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFNwcml0ZSwgJ2ZyYW1lSW5kZXgnLCAwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU3ByaXRlLCAnZnJhbWVSYXRlJywgMTcsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmJhY2tDb21wYXQoU3ByaXRlLCB7XG4gICAgaW5kZXg6ICdmcmFtZUluZGV4JyxcbiAgICBnZXRJbmRleDogJ2dldEZyYW1lSW5kZXgnLFxuICAgIHNldEluZGV4OiAnc2V0RnJhbWVJbmRleCcsXG59KTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3RhciA9IHZvaWQgMDtcbmNvbnN0IEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9GYWN0b3J5XCIpO1xuY29uc3QgU2hhcGVfMSA9IHJlcXVpcmUoXCIuLi9TaGFwZVwiKTtcbmNvbnN0IFZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoXCIuLi9WYWxpZGF0b3JzXCIpO1xuY29uc3QgR2xvYmFsXzEgPSByZXF1aXJlKFwiLi4vR2xvYmFsXCIpO1xuY2xhc3MgU3RhciBleHRlbmRzIFNoYXBlXzEuU2hhcGUge1xuICAgIF9zY2VuZUZ1bmMoY29udGV4dCkge1xuICAgICAgICB2YXIgaW5uZXJSYWRpdXMgPSB0aGlzLmlubmVyUmFkaXVzKCksIG91dGVyUmFkaXVzID0gdGhpcy5vdXRlclJhZGl1cygpLCBudW1Qb2ludHMgPSB0aGlzLm51bVBvaW50cygpO1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbygwLCAwIC0gb3V0ZXJSYWRpdXMpO1xuICAgICAgICBmb3IgKHZhciBuID0gMTsgbiA8IG51bVBvaW50cyAqIDI7IG4rKykge1xuICAgICAgICAgICAgdmFyIHJhZGl1cyA9IG4gJSAyID09PSAwID8gb3V0ZXJSYWRpdXMgOiBpbm5lclJhZGl1cztcbiAgICAgICAgICAgIHZhciB4ID0gcmFkaXVzICogTWF0aC5zaW4oKG4gKiBNYXRoLlBJKSAvIG51bVBvaW50cyk7XG4gICAgICAgICAgICB2YXIgeSA9IC0xICogcmFkaXVzICogTWF0aC5jb3MoKG4gKiBNYXRoLlBJKSAvIG51bVBvaW50cyk7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh4LCB5KTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHJva2VTaGFwZSh0aGlzKTtcbiAgICB9XG4gICAgZ2V0V2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91dGVyUmFkaXVzKCkgKiAyO1xuICAgIH1cbiAgICBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91dGVyUmFkaXVzKCkgKiAyO1xuICAgIH1cbiAgICBzZXRXaWR0aCh3aWR0aCkge1xuICAgICAgICB0aGlzLm91dGVyUmFkaXVzKHdpZHRoIC8gMik7XG4gICAgfVxuICAgIHNldEhlaWdodChoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5vdXRlclJhZGl1cyhoZWlnaHQgLyAyKTtcbiAgICB9XG59XG5leHBvcnRzLlN0YXIgPSBTdGFyO1xuU3Rhci5wcm90b3R5cGUuY2xhc3NOYW1lID0gJ1N0YXInO1xuU3Rhci5wcm90b3R5cGUuX2NlbnRyb2lkID0gdHJ1ZTtcblN0YXIucHJvdG90eXBlLl9hdHRyc0FmZmVjdGluZ1NpemUgPSBbJ2lubmVyUmFkaXVzJywgJ291dGVyUmFkaXVzJ107XG4oMCwgR2xvYmFsXzEuX3JlZ2lzdGVyTm9kZSkoU3Rhcik7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU3RhciwgJ251bVBvaW50cycsIDUsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihTdGFyLCAnaW5uZXJSYWRpdXMnLCAwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoU3RhciwgJ291dGVyUmFkaXVzJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UZXh0ID0gZXhwb3J0cy5zdHJpbmdUb0FycmF5ID0gdm9pZCAwO1xuY29uc3QgVXRpbF8xID0gcmVxdWlyZShcIi4uL1V0aWxcIik7XG5jb25zdCBGYWN0b3J5XzEgPSByZXF1aXJlKFwiLi4vRmFjdG9yeVwiKTtcbmNvbnN0IFNoYXBlXzEgPSByZXF1aXJlKFwiLi4vU2hhcGVcIik7XG5jb25zdCBWYWxpZGF0b3JzXzEgPSByZXF1aXJlKFwiLi4vVmFsaWRhdG9yc1wiKTtcbmNvbnN0IEdsb2JhbF8xID0gcmVxdWlyZShcIi4uL0dsb2JhbFwiKTtcbmZ1bmN0aW9uIHN0cmluZ1RvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oc3RyaW5nKTtcbn1cbmV4cG9ydHMuc3RyaW5nVG9BcnJheSA9IHN0cmluZ1RvQXJyYXk7XG52YXIgQVVUTyA9ICdhdXRvJywgQ0VOVEVSID0gJ2NlbnRlcicsIElOSEVSSVQgPSAnaW5oZXJpdCcsIEpVU1RJRlkgPSAnanVzdGlmeScsIENIQU5HRV9LT05WQSA9ICdDaGFuZ2Uua29udmEnLCBDT05URVhUXzJEID0gJzJkJywgREFTSCA9ICctJywgTEVGVCA9ICdsZWZ0JywgTFRSID0gJ2x0cicsIFRFWFQgPSAndGV4dCcsIFRFWFRfVVBQRVIgPSAnVGV4dCcsIFRPUCA9ICd0b3AnLCBCT1RUT00gPSAnYm90dG9tJywgTUlERExFID0gJ21pZGRsZScsIE5PUk1BTCA9ICdub3JtYWwnLCBQWF9TUEFDRSA9ICdweCAnLCBTUEFDRSA9ICcgJywgUklHSFQgPSAncmlnaHQnLCBSVEwgPSAncnRsJywgV09SRCA9ICd3b3JkJywgQ0hBUiA9ICdjaGFyJywgTk9ORSA9ICdub25lJywgRUxMSVBTSVMgPSAnXHUyMDI2JywgQVRUUl9DSEFOR0VfTElTVCA9IFtcbiAgICAnZGlyZWN0aW9uJyxcbiAgICAnZm9udEZhbWlseScsXG4gICAgJ2ZvbnRTaXplJyxcbiAgICAnZm9udFN0eWxlJyxcbiAgICAnZm9udFZhcmlhbnQnLFxuICAgICdwYWRkaW5nJyxcbiAgICAnYWxpZ24nLFxuICAgICd2ZXJ0aWNhbEFsaWduJyxcbiAgICAnbGluZUhlaWdodCcsXG4gICAgJ3RleHQnLFxuICAgICd3aWR0aCcsXG4gICAgJ2hlaWdodCcsXG4gICAgJ3dyYXAnLFxuICAgICdlbGxpcHNpcycsXG4gICAgJ2xldHRlclNwYWNpbmcnLFxuXSwgYXR0ckNoYW5nZUxpc3RMZW4gPSBBVFRSX0NIQU5HRV9MSVNULmxlbmd0aDtcbmZ1bmN0aW9uIG5vcm1hbGl6ZUZvbnRGYW1pbHkoZm9udEZhbWlseSkge1xuICAgIHJldHVybiBmb250RmFtaWx5XG4gICAgICAgIC5zcGxpdCgnLCcpXG4gICAgICAgIC5tYXAoKGZhbWlseSkgPT4ge1xuICAgICAgICBmYW1pbHkgPSBmYW1pbHkudHJpbSgpO1xuICAgICAgICBjb25zdCBoYXNTcGFjZSA9IGZhbWlseS5pbmRleE9mKCcgJykgPj0gMDtcbiAgICAgICAgY29uc3QgaGFzUXVvdGVzID0gZmFtaWx5LmluZGV4T2YoJ1wiJykgPj0gMCB8fCBmYW1pbHkuaW5kZXhPZihcIidcIikgPj0gMDtcbiAgICAgICAgaWYgKGhhc1NwYWNlICYmICFoYXNRdW90ZXMpIHtcbiAgICAgICAgICAgIGZhbWlseSA9IGBcIiR7ZmFtaWx5fVwiYDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFtaWx5O1xuICAgIH0pXG4gICAgICAgIC5qb2luKCcsICcpO1xufVxudmFyIGR1bW15Q29udGV4dDtcbmZ1bmN0aW9uIGdldER1bW15Q29udGV4dCgpIHtcbiAgICBpZiAoZHVtbXlDb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBkdW1teUNvbnRleHQ7XG4gICAgfVxuICAgIGR1bW15Q29udGV4dCA9IFV0aWxfMS5VdGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKS5nZXRDb250ZXh0KENPTlRFWFRfMkQpO1xuICAgIHJldHVybiBkdW1teUNvbnRleHQ7XG59XG5mdW5jdGlvbiBfZmlsbEZ1bmMoY29udGV4dCkge1xuICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy5fcGFydGlhbFRleHQsIHRoaXMuX3BhcnRpYWxUZXh0WCwgdGhpcy5fcGFydGlhbFRleHRZKTtcbn1cbmZ1bmN0aW9uIF9zdHJva2VGdW5jKGNvbnRleHQpIHtcbiAgICBjb250ZXh0LnNldEF0dHIoJ21pdGVyTGltaXQnLCAyKTtcbiAgICBjb250ZXh0LnN0cm9rZVRleHQodGhpcy5fcGFydGlhbFRleHQsIHRoaXMuX3BhcnRpYWxUZXh0WCwgdGhpcy5fcGFydGlhbFRleHRZKTtcbn1cbmZ1bmN0aW9uIGNoZWNrRGVmYXVsdEZpbGwoY29uZmlnKSB7XG4gICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgIGlmICghY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudENvbG9yU3RvcHMgJiZcbiAgICAgICAgIWNvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRDb2xvclN0b3BzICYmXG4gICAgICAgICFjb25maWcuZmlsbFBhdHRlcm5JbWFnZSkge1xuICAgICAgICBjb25maWcuZmlsbCA9IGNvbmZpZy5maWxsIHx8ICdibGFjayc7XG4gICAgfVxuICAgIHJldHVybiBjb25maWc7XG59XG5jbGFzcyBUZXh0IGV4dGVuZHMgU2hhcGVfMS5TaGFwZSB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKGNoZWNrRGVmYXVsdEZpbGwoY29uZmlnKSk7XG4gICAgICAgIHRoaXMuX3BhcnRpYWxUZXh0WCA9IDA7XG4gICAgICAgIHRoaXMuX3BhcnRpYWxUZXh0WSA9IDA7XG4gICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgYXR0ckNoYW5nZUxpc3RMZW47IG4rKykge1xuICAgICAgICAgICAgdGhpcy5vbihBVFRSX0NIQU5HRV9MSVNUW25dICsgQ0hBTkdFX0tPTlZBLCB0aGlzLl9zZXRUZXh0RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2V0VGV4dERhdGEoKTtcbiAgICB9XG4gICAgX3NjZW5lRnVuYyhjb250ZXh0KSB7XG4gICAgICAgIHZhciB0ZXh0QXJyID0gdGhpcy50ZXh0QXJyLCB0ZXh0QXJyTGVuID0gdGV4dEFyci5sZW5ndGg7XG4gICAgICAgIGlmICghdGhpcy50ZXh0KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMucGFkZGluZygpLCBmb250U2l6ZSA9IHRoaXMuZm9udFNpemUoKSwgbGluZUhlaWdodFB4ID0gdGhpcy5saW5lSGVpZ2h0KCkgKiBmb250U2l6ZSwgdmVydGljYWxBbGlnbiA9IHRoaXMudmVydGljYWxBbGlnbigpLCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbigpLCBhbGlnblkgPSAwLCBhbGlnbiA9IHRoaXMuYWxpZ24oKSwgdG90YWxXaWR0aCA9IHRoaXMuZ2V0V2lkdGgoKSwgbGV0dGVyU3BhY2luZyA9IHRoaXMubGV0dGVyU3BhY2luZygpLCBmaWxsID0gdGhpcy5maWxsKCksIHRleHREZWNvcmF0aW9uID0gdGhpcy50ZXh0RGVjb3JhdGlvbigpLCBzaG91bGRVbmRlcmxpbmUgPSB0ZXh0RGVjb3JhdGlvbi5pbmRleE9mKCd1bmRlcmxpbmUnKSAhPT0gLTEsIHNob3VsZExpbmVUaHJvdWdoID0gdGV4dERlY29yYXRpb24uaW5kZXhPZignbGluZS10aHJvdWdoJykgIT09IC0xLCBuO1xuICAgICAgICBkaXJlY3Rpb24gPSBkaXJlY3Rpb24gPT09IElOSEVSSVQgPyBjb250ZXh0LmRpcmVjdGlvbiA6IGRpcmVjdGlvbjtcbiAgICAgICAgdmFyIHRyYW5zbGF0ZVkgPSAwO1xuICAgICAgICB2YXIgdHJhbnNsYXRlWSA9IGxpbmVIZWlnaHRQeCAvIDI7XG4gICAgICAgIHZhciBsaW5lVHJhbnNsYXRlWCA9IDA7XG4gICAgICAgIHZhciBsaW5lVHJhbnNsYXRlWSA9IDA7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IFJUTCkge1xuICAgICAgICAgICAgY29udGV4dC5zZXRBdHRyKCdkaXJlY3Rpb24nLCBkaXJlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuc2V0QXR0cignZm9udCcsIHRoaXMuX2dldENvbnRleHRGb250KCkpO1xuICAgICAgICBjb250ZXh0LnNldEF0dHIoJ3RleHRCYXNlbGluZScsIE1JRERMRSk7XG4gICAgICAgIGNvbnRleHQuc2V0QXR0cigndGV4dEFsaWduJywgTEVGVCk7XG4gICAgICAgIGlmICh2ZXJ0aWNhbEFsaWduID09PSBNSURETEUpIHtcbiAgICAgICAgICAgIGFsaWduWSA9ICh0aGlzLmdldEhlaWdodCgpIC0gdGV4dEFyckxlbiAqIGxpbmVIZWlnaHRQeCAtIHBhZGRpbmcgKiAyKSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmVydGljYWxBbGlnbiA9PT0gQk9UVE9NKSB7XG4gICAgICAgICAgICBhbGlnblkgPSB0aGlzLmdldEhlaWdodCgpIC0gdGV4dEFyckxlbiAqIGxpbmVIZWlnaHRQeCAtIHBhZGRpbmcgKiAyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHBhZGRpbmcsIGFsaWduWSArIHBhZGRpbmcpO1xuICAgICAgICBmb3IgKG4gPSAwOyBuIDwgdGV4dEFyckxlbjsgbisrKSB7XG4gICAgICAgICAgICB2YXIgbGluZVRyYW5zbGF0ZVggPSAwO1xuICAgICAgICAgICAgdmFyIGxpbmVUcmFuc2xhdGVZID0gMDtcbiAgICAgICAgICAgIHZhciBvYmogPSB0ZXh0QXJyW25dLCB0ZXh0ID0gb2JqLnRleHQsIHdpZHRoID0gb2JqLndpZHRoLCBsYXN0TGluZSA9IG9iai5sYXN0SW5QYXJhZ3JhcGgsIHNwYWNlc051bWJlciwgb25lV29yZCwgbGluZVdpZHRoO1xuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICBpZiAoYWxpZ24gPT09IFJJR0hUKSB7XG4gICAgICAgICAgICAgICAgbGluZVRyYW5zbGF0ZVggKz0gdG90YWxXaWR0aCAtIHdpZHRoIC0gcGFkZGluZyAqIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhbGlnbiA9PT0gQ0VOVEVSKSB7XG4gICAgICAgICAgICAgICAgbGluZVRyYW5zbGF0ZVggKz0gKHRvdGFsV2lkdGggLSB3aWR0aCAtIHBhZGRpbmcgKiAyKSAvIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2hvdWxkVW5kZXJsaW5lKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhsaW5lVHJhbnNsYXRlWCwgdHJhbnNsYXRlWSArIGxpbmVUcmFuc2xhdGVZICsgTWF0aC5yb3VuZChmb250U2l6ZSAvIDIpKTtcbiAgICAgICAgICAgICAgICBzcGFjZXNOdW1iZXIgPSB0ZXh0LnNwbGl0KCcgJykubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICBvbmVXb3JkID0gc3BhY2VzTnVtYmVyID09PSAwO1xuICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9XG4gICAgICAgICAgICAgICAgICAgIGFsaWduID09PSBKVVNUSUZZICYmICFsYXN0TGluZSA/IHRvdGFsV2lkdGggLSBwYWRkaW5nICogMiA6IHdpZHRoO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGxpbmVUcmFuc2xhdGVYICsgTWF0aC5yb3VuZChsaW5lV2lkdGgpLCB0cmFuc2xhdGVZICsgbGluZVRyYW5zbGF0ZVkgKyBNYXRoLnJvdW5kKGZvbnRTaXplIC8gMikpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gZm9udFNpemUgLyAxNTtcbiAgICAgICAgICAgICAgICBjb25zdCBncmFkaWVudCA9IHRoaXMuX2dldExpbmVhckdyYWRpZW50KCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGdyYWRpZW50IHx8IGZpbGw7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaG91bGRMaW5lVGhyb3VnaCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8obGluZVRyYW5zbGF0ZVgsIHRyYW5zbGF0ZVkgKyBsaW5lVHJhbnNsYXRlWSk7XG4gICAgICAgICAgICAgICAgc3BhY2VzTnVtYmVyID0gdGV4dC5zcGxpdCgnICcpLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgb25lV29yZCA9IHNwYWNlc051bWJlciA9PT0gMDtcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGggPVxuICAgICAgICAgICAgICAgICAgICBhbGlnbiA9PT0gSlVTVElGWSAmJiBsYXN0TGluZSAmJiAhb25lV29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0b3RhbFdpZHRoIC0gcGFkZGluZyAqIDJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogd2lkdGg7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8obGluZVRyYW5zbGF0ZVggKyBNYXRoLnJvdW5kKGxpbmVXaWR0aCksIHRyYW5zbGF0ZVkgKyBsaW5lVHJhbnNsYXRlWSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBmb250U2l6ZSAvIDE1O1xuICAgICAgICAgICAgICAgIGNvbnN0IGdyYWRpZW50ID0gdGhpcy5fZ2V0TGluZWFyR3JhZGllbnQoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gZ3JhZGllbnQgfHwgZmlsbDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiAhPT0gUlRMICYmIChsZXR0ZXJTcGFjaW5nICE9PSAwIHx8IGFsaWduID09PSBKVVNUSUZZKSkge1xuICAgICAgICAgICAgICAgIHNwYWNlc051bWJlciA9IHRleHQuc3BsaXQoJyAnKS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IHN0cmluZ1RvQXJyYXkodGV4dCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbGkgPSAwOyBsaSA8IGFycmF5Lmxlbmd0aDsgbGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGV0dGVyID0gYXJyYXlbbGldO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGV0dGVyID09PSAnICcgJiYgIWxhc3RMaW5lICYmIGFsaWduID09PSBKVVNUSUZZKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lVHJhbnNsYXRlWCArPSAodG90YWxXaWR0aCAtIHBhZGRpbmcgKiAyIC0gd2lkdGgpIC8gc3BhY2VzTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcnRpYWxUZXh0WCA9IGxpbmVUcmFuc2xhdGVYO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYXJ0aWFsVGV4dFkgPSB0cmFuc2xhdGVZICsgbGluZVRyYW5zbGF0ZVk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcnRpYWxUZXh0ID0gbGV0dGVyO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHJva2VTaGFwZSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgbGluZVRyYW5zbGF0ZVggKz0gdGhpcy5tZWFzdXJlU2l6ZShsZXR0ZXIpLndpZHRoICsgbGV0dGVyU3BhY2luZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobGV0dGVyU3BhY2luZyAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldEF0dHIoJ2xldHRlclNwYWNpbmcnLCBgJHtsZXR0ZXJTcGFjaW5nfXB4YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3BhcnRpYWxUZXh0WCA9IGxpbmVUcmFuc2xhdGVYO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcnRpYWxUZXh0WSA9IHRyYW5zbGF0ZVkgKyBsaW5lVHJhbnNsYXRlWTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJ0aWFsVGV4dCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3Ryb2tlU2hhcGUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgICAgIGlmICh0ZXh0QXJyTGVuID4gMSkge1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVkgKz0gbGluZUhlaWdodFB4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9oaXRGdW5jKGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5nZXRXaWR0aCgpLCBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpO1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0LnJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0cm9rZVNoYXBlKHRoaXMpO1xuICAgIH1cbiAgICBzZXRUZXh0KHRleHQpIHtcbiAgICAgICAgdmFyIHN0ciA9IFV0aWxfMS5VdGlsLl9pc1N0cmluZyh0ZXh0KVxuICAgICAgICAgICAgPyB0ZXh0XG4gICAgICAgICAgICA6IHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyAnJ1xuICAgICAgICAgICAgICAgIDogdGV4dCArICcnO1xuICAgICAgICB0aGlzLl9zZXRBdHRyKFRFWFQsIHN0cik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXRXaWR0aCgpIHtcbiAgICAgICAgdmFyIGlzQXV0byA9IHRoaXMuYXR0cnMud2lkdGggPT09IEFVVE8gfHwgdGhpcy5hdHRycy53aWR0aCA9PT0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gaXNBdXRvID8gdGhpcy5nZXRUZXh0V2lkdGgoKSArIHRoaXMucGFkZGluZygpICogMiA6IHRoaXMuYXR0cnMud2lkdGg7XG4gICAgfVxuICAgIGdldEhlaWdodCgpIHtcbiAgICAgICAgdmFyIGlzQXV0byA9IHRoaXMuYXR0cnMuaGVpZ2h0ID09PSBBVVRPIHx8IHRoaXMuYXR0cnMuaGVpZ2h0ID09PSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBpc0F1dG9cbiAgICAgICAgICAgID8gdGhpcy5mb250U2l6ZSgpICogdGhpcy50ZXh0QXJyLmxlbmd0aCAqIHRoaXMubGluZUhlaWdodCgpICtcbiAgICAgICAgICAgICAgICB0aGlzLnBhZGRpbmcoKSAqIDJcbiAgICAgICAgICAgIDogdGhpcy5hdHRycy5oZWlnaHQ7XG4gICAgfVxuICAgIGdldFRleHRXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dFdpZHRoO1xuICAgIH1cbiAgICBnZXRUZXh0SGVpZ2h0KCkge1xuICAgICAgICBVdGlsXzEuVXRpbC53YXJuKCd0ZXh0LmdldFRleHRIZWlnaHQoKSBtZXRob2QgaXMgZGVwcmVjYXRlZC4gVXNlIHRleHQuaGVpZ2h0KCkgLSBmb3IgZnVsbCBoZWlnaHQgYW5kIHRleHQuZm9udFNpemUoKSAtIGZvciBvbmUgbGluZSBoZWlnaHQuJyk7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHRIZWlnaHQ7XG4gICAgfVxuICAgIG1lYXN1cmVTaXplKHRleHQpIHtcbiAgICAgICAgdmFyIF9jb250ZXh0ID0gZ2V0RHVtbXlDb250ZXh0KCksIGZvbnRTaXplID0gdGhpcy5mb250U2l6ZSgpLCBtZXRyaWNzO1xuICAgICAgICBfY29udGV4dC5zYXZlKCk7XG4gICAgICAgIF9jb250ZXh0LmZvbnQgPSB0aGlzLl9nZXRDb250ZXh0Rm9udCgpO1xuICAgICAgICBtZXRyaWNzID0gX2NvbnRleHQubWVhc3VyZVRleHQodGV4dCk7XG4gICAgICAgIF9jb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiBtZXRyaWNzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBmb250U2l6ZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2dldENvbnRleHRGb250KCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuZm9udFN0eWxlKCkgK1xuICAgICAgICAgICAgU1BBQ0UgK1xuICAgICAgICAgICAgdGhpcy5mb250VmFyaWFudCgpICtcbiAgICAgICAgICAgIFNQQUNFICtcbiAgICAgICAgICAgICh0aGlzLmZvbnRTaXplKCkgKyBQWF9TUEFDRSkgK1xuICAgICAgICAgICAgbm9ybWFsaXplRm9udEZhbWlseSh0aGlzLmZvbnRGYW1pbHkoKSkpO1xuICAgIH1cbiAgICBfYWRkVGV4dExpbmUobGluZSkge1xuICAgICAgICBjb25zdCBhbGlnbiA9IHRoaXMuYWxpZ24oKTtcbiAgICAgICAgaWYgKGFsaWduID09PSBKVVNUSUZZKSB7XG4gICAgICAgICAgICBsaW5lID0gbGluZS50cmltKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5fZ2V0VGV4dFdpZHRoKGxpbmUpO1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0QXJyLnB1c2goe1xuICAgICAgICAgICAgdGV4dDogbGluZSxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIGxhc3RJblBhcmFncmFwaDogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfZ2V0VGV4dFdpZHRoKHRleHQpIHtcbiAgICAgICAgdmFyIGxldHRlclNwYWNpbmcgPSB0aGlzLmxldHRlclNwYWNpbmcoKTtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHRleHQubGVuZ3RoO1xuICAgICAgICByZXR1cm4gKGdldER1bW15Q29udGV4dCgpLm1lYXN1cmVUZXh0KHRleHQpLndpZHRoICtcbiAgICAgICAgICAgIChsZW5ndGggPyBsZXR0ZXJTcGFjaW5nICogKGxlbmd0aCAtIDEpIDogMCkpO1xuICAgIH1cbiAgICBfc2V0VGV4dERhdGEoKSB7XG4gICAgICAgIHZhciBsaW5lcyA9IHRoaXMudGV4dCgpLnNwbGl0KCdcXG4nKSwgZm9udFNpemUgPSArdGhpcy5mb250U2l6ZSgpLCB0ZXh0V2lkdGggPSAwLCBsaW5lSGVpZ2h0UHggPSB0aGlzLmxpbmVIZWlnaHQoKSAqIGZvbnRTaXplLCB3aWR0aCA9IHRoaXMuYXR0cnMud2lkdGgsIGhlaWdodCA9IHRoaXMuYXR0cnMuaGVpZ2h0LCBmaXhlZFdpZHRoID0gd2lkdGggIT09IEFVVE8gJiYgd2lkdGggIT09IHVuZGVmaW5lZCwgZml4ZWRIZWlnaHQgPSBoZWlnaHQgIT09IEFVVE8gJiYgaGVpZ2h0ICE9PSB1bmRlZmluZWQsIHBhZGRpbmcgPSB0aGlzLnBhZGRpbmcoKSwgbWF4V2lkdGggPSB3aWR0aCAtIHBhZGRpbmcgKiAyLCBtYXhIZWlnaHRQeCA9IGhlaWdodCAtIHBhZGRpbmcgKiAyLCBjdXJyZW50SGVpZ2h0UHggPSAwLCB3cmFwID0gdGhpcy53cmFwKCksIHNob3VsZFdyYXAgPSB3cmFwICE9PSBOT05FLCB3cmFwQXRXb3JkID0gd3JhcCAhPT0gQ0hBUiAmJiBzaG91bGRXcmFwLCBzaG91bGRBZGRFbGxpcHNpcyA9IHRoaXMuZWxsaXBzaXMoKTtcbiAgICAgICAgdGhpcy50ZXh0QXJyID0gW107XG4gICAgICAgIGdldER1bW15Q29udGV4dCgpLmZvbnQgPSB0aGlzLl9nZXRDb250ZXh0Rm9udCgpO1xuICAgICAgICB2YXIgYWRkaXRpb25hbFdpZHRoID0gc2hvdWxkQWRkRWxsaXBzaXMgPyB0aGlzLl9nZXRUZXh0V2lkdGgoRUxMSVBTSVMpIDogMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIG1heCA9IGxpbmVzLmxlbmd0aDsgaSA8IG1heDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgbGluZSA9IGxpbmVzW2ldO1xuICAgICAgICAgICAgdmFyIGxpbmVXaWR0aCA9IHRoaXMuX2dldFRleHRXaWR0aChsaW5lKTtcbiAgICAgICAgICAgIGlmIChmaXhlZFdpZHRoICYmIGxpbmVXaWR0aCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGxpbmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG93ID0gMCwgaGlnaCA9IGxpbmUubGVuZ3RoLCBtYXRjaCA9ICcnLCBtYXRjaFdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDEsIHN1YnN0ciA9IGxpbmUuc2xpY2UoMCwgbWlkICsgMSksIHN1YnN0cldpZHRoID0gdGhpcy5fZ2V0VGV4dFdpZHRoKHN1YnN0cikgKyBhZGRpdGlvbmFsV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic3RyV2lkdGggPD0gbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gc3Vic3RyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoV2lkdGggPSBzdWJzdHJXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod3JhcEF0V29yZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3cmFwSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRDaGFyID0gbGluZVttYXRjaC5sZW5ndGhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0SXNTcGFjZU9yRGFzaCA9IG5leHRDaGFyID09PSBTUEFDRSB8fCBuZXh0Q2hhciA9PT0gREFTSDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dElzU3BhY2VPckRhc2ggJiYgbWF0Y2hXaWR0aCA8PSBtYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cmFwSW5kZXggPSBtYXRjaC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cmFwSW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgobWF0Y2gubGFzdEluZGV4T2YoU1BBQ0UpLCBtYXRjaC5sYXN0SW5kZXhPZihEQVNIKSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3cmFwSW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvdyA9IHdyYXBJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBtYXRjaC5zbGljZSgwLCBsb3cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFdpZHRoID0gdGhpcy5fZ2V0VGV4dFdpZHRoKG1hdGNoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IG1hdGNoLnRyaW1SaWdodCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkVGV4dExpbmUobWF0Y2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFdpZHRoID0gTWF0aC5tYXgodGV4dFdpZHRoLCBtYXRjaFdpZHRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRIZWlnaHRQeCArPSBsaW5lSGVpZ2h0UHg7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hvdWxkSGFuZGxlRWxsaXBzaXMgPSB0aGlzLl9zaG91bGRIYW5kbGVFbGxpcHNpcyhjdXJyZW50SGVpZ2h0UHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNob3VsZEhhbmRsZUVsbGlwc2lzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJ5VG9BZGRFbGxpcHNpc1RvTGFzdExpbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNsaWNlKGxvdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gbGluZS50cmltTGVmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IHRoaXMuX2dldFRleHRXaWR0aChsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZVdpZHRoIDw9IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZFRleHRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50SGVpZ2h0UHggKz0gbGluZUhlaWdodFB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0V2lkdGggPSBNYXRoLm1heCh0ZXh0V2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkVGV4dExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgY3VycmVudEhlaWdodFB4ICs9IGxpbmVIZWlnaHRQeDtcbiAgICAgICAgICAgICAgICB0ZXh0V2lkdGggPSBNYXRoLm1heCh0ZXh0V2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Nob3VsZEhhbmRsZUVsbGlwc2lzKGN1cnJlbnRIZWlnaHRQeCkgJiYgaSA8IG1heCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJ5VG9BZGRFbGxpcHNpc1RvTGFzdExpbmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0QXJyW3RoaXMudGV4dEFyci5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dEFyclt0aGlzLnRleHRBcnIubGVuZ3RoIC0gMV0ubGFzdEluUGFyYWdyYXBoID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmaXhlZEhlaWdodCAmJiBjdXJyZW50SGVpZ2h0UHggKyBsaW5lSGVpZ2h0UHggPiBtYXhIZWlnaHRQeCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudGV4dEhlaWdodCA9IGZvbnRTaXplO1xuICAgICAgICB0aGlzLnRleHRXaWR0aCA9IHRleHRXaWR0aDtcbiAgICB9XG4gICAgX3Nob3VsZEhhbmRsZUVsbGlwc2lzKGN1cnJlbnRIZWlnaHRQeCkge1xuICAgICAgICB2YXIgZm9udFNpemUgPSArdGhpcy5mb250U2l6ZSgpLCBsaW5lSGVpZ2h0UHggPSB0aGlzLmxpbmVIZWlnaHQoKSAqIGZvbnRTaXplLCBoZWlnaHQgPSB0aGlzLmF0dHJzLmhlaWdodCwgZml4ZWRIZWlnaHQgPSBoZWlnaHQgIT09IEFVVE8gJiYgaGVpZ2h0ICE9PSB1bmRlZmluZWQsIHBhZGRpbmcgPSB0aGlzLnBhZGRpbmcoKSwgbWF4SGVpZ2h0UHggPSBoZWlnaHQgLSBwYWRkaW5nICogMiwgd3JhcCA9IHRoaXMud3JhcCgpLCBzaG91bGRXcmFwID0gd3JhcCAhPT0gTk9ORTtcbiAgICAgICAgcmV0dXJuICghc2hvdWxkV3JhcCB8fFxuICAgICAgICAgICAgKGZpeGVkSGVpZ2h0ICYmIGN1cnJlbnRIZWlnaHRQeCArIGxpbmVIZWlnaHRQeCA+IG1heEhlaWdodFB4KSk7XG4gICAgfVxuICAgIF90cnlUb0FkZEVsbGlwc2lzVG9MYXN0TGluZSgpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5hdHRycy53aWR0aCwgZml4ZWRXaWR0aCA9IHdpZHRoICE9PSBBVVRPICYmIHdpZHRoICE9PSB1bmRlZmluZWQsIHBhZGRpbmcgPSB0aGlzLnBhZGRpbmcoKSwgbWF4V2lkdGggPSB3aWR0aCAtIHBhZGRpbmcgKiAyLCBzaG91bGRBZGRFbGxpcHNpcyA9IHRoaXMuZWxsaXBzaXMoKTtcbiAgICAgICAgdmFyIGxhc3RMaW5lID0gdGhpcy50ZXh0QXJyW3RoaXMudGV4dEFyci5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKCFsYXN0TGluZSB8fCAhc2hvdWxkQWRkRWxsaXBzaXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZml4ZWRXaWR0aCkge1xuICAgICAgICAgICAgdmFyIGhhdmVTcGFjZSA9IHRoaXMuX2dldFRleHRXaWR0aChsYXN0TGluZS50ZXh0ICsgRUxMSVBTSVMpIDwgbWF4V2lkdGg7XG4gICAgICAgICAgICBpZiAoIWhhdmVTcGFjZSkge1xuICAgICAgICAgICAgICAgIGxhc3RMaW5lLnRleHQgPSBsYXN0TGluZS50ZXh0LnNsaWNlKDAsIGxhc3RMaW5lLnRleHQubGVuZ3RoIC0gMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0QXJyLnNwbGljZSh0aGlzLnRleHRBcnIubGVuZ3RoIC0gMSwgMSk7XG4gICAgICAgIHRoaXMuX2FkZFRleHRMaW5lKGxhc3RMaW5lLnRleHQgKyBFTExJUFNJUyk7XG4gICAgfVxuICAgIGdldFN0cm9rZVNjYWxlRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIF91c2VCdWZmZXJDYW52YXMoKSB7XG4gICAgICAgIGNvbnN0IGhhc0xpbmUgPSB0aGlzLnRleHREZWNvcmF0aW9uKCkuaW5kZXhPZigndW5kZXJsaW5lJykgIT09IC0xIHx8XG4gICAgICAgICAgICB0aGlzLnRleHREZWNvcmF0aW9uKCkuaW5kZXhPZignbGluZS10aHJvdWdoJykgIT09IC0xO1xuICAgICAgICBjb25zdCBoYXNTaGFkb3cgPSB0aGlzLmhhc1NoYWRvdygpO1xuICAgICAgICBpZiAoaGFzTGluZSAmJiBoYXNTaGFkb3cpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5fdXNlQnVmZmVyQ2FudmFzKCk7XG4gICAgfVxufVxuZXhwb3J0cy5UZXh0ID0gVGV4dDtcblRleHQucHJvdG90eXBlLl9maWxsRnVuYyA9IF9maWxsRnVuYztcblRleHQucHJvdG90eXBlLl9zdHJva2VGdW5jID0gX3N0cm9rZUZ1bmM7XG5UZXh0LnByb3RvdHlwZS5jbGFzc05hbWUgPSBURVhUX1VQUEVSO1xuVGV4dC5wcm90b3R5cGUuX2F0dHJzQWZmZWN0aW5nU2l6ZSA9IFtcbiAgICAndGV4dCcsXG4gICAgJ2ZvbnRTaXplJyxcbiAgICAncGFkZGluZycsXG4gICAgJ3dyYXAnLFxuICAgICdsaW5lSGVpZ2h0JyxcbiAgICAnbGV0dGVyU3BhY2luZycsXG5dO1xuKDAsIEdsb2JhbF8xLl9yZWdpc3Rlck5vZGUpKFRleHQpO1xuRmFjdG9yeV8xLkZhY3Rvcnkub3ZlcldyaXRlU2V0dGVyKFRleHQsICd3aWR0aCcsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyT3JBdXRvVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5Lm92ZXJXcml0ZVNldHRlcihUZXh0LCAnaGVpZ2h0JywgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJPckF1dG9WYWxpZGF0b3IpKCkpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFRleHQsICdkaXJlY3Rpb24nLCBJTkhFUklUKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUZXh0LCAnZm9udEZhbWlseScsICdBcmlhbCcpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFRleHQsICdmb250U2l6ZScsIDEyLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoVGV4dCwgJ2ZvbnRTdHlsZScsIE5PUk1BTCk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoVGV4dCwgJ2ZvbnRWYXJpYW50JywgTk9STUFMKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUZXh0LCAncGFkZGluZycsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUZXh0LCAnYWxpZ24nLCBMRUZUKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUZXh0LCAndmVydGljYWxBbGlnbicsIFRPUCk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoVGV4dCwgJ2xpbmVIZWlnaHQnLCAxLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoVGV4dCwgJ3dyYXAnLCBXT1JEKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUZXh0LCAnZWxsaXBzaXMnLCBmYWxzZSwgKDAsIFZhbGlkYXRvcnNfMS5nZXRCb29sZWFuVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUZXh0LCAnbGV0dGVyU3BhY2luZycsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUZXh0LCAndGV4dCcsICcnLCAoMCwgVmFsaWRhdG9yc18xLmdldFN0cmluZ1ZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoVGV4dCwgJ3RleHREZWNvcmF0aW9uJywgJycpO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UZXh0UGF0aCA9IHZvaWQgMDtcbmNvbnN0IFV0aWxfMSA9IHJlcXVpcmUoXCIuLi9VdGlsXCIpO1xuY29uc3QgRmFjdG9yeV8xID0gcmVxdWlyZShcIi4uL0ZhY3RvcnlcIik7XG5jb25zdCBTaGFwZV8xID0gcmVxdWlyZShcIi4uL1NoYXBlXCIpO1xuY29uc3QgUGF0aF8xID0gcmVxdWlyZShcIi4vUGF0aFwiKTtcbmNvbnN0IFRleHRfMSA9IHJlcXVpcmUoXCIuL1RleHRcIik7XG5jb25zdCBWYWxpZGF0b3JzXzEgPSByZXF1aXJlKFwiLi4vVmFsaWRhdG9yc1wiKTtcbmNvbnN0IEdsb2JhbF8xID0gcmVxdWlyZShcIi4uL0dsb2JhbFwiKTtcbnZhciBFTVBUWV9TVFJJTkcgPSAnJywgTk9STUFMID0gJ25vcm1hbCc7XG5mdW5jdGlvbiBfZmlsbEZ1bmMoY29udGV4dCkge1xuICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy5wYXJ0aWFsVGV4dCwgMCwgMCk7XG59XG5mdW5jdGlvbiBfc3Ryb2tlRnVuYyhjb250ZXh0KSB7XG4gICAgY29udGV4dC5zdHJva2VUZXh0KHRoaXMucGFydGlhbFRleHQsIDAsIDApO1xufVxuY2xhc3MgVGV4dFBhdGggZXh0ZW5kcyBTaGFwZV8xLlNoYXBlIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcbiAgICAgICAgdGhpcy5kdW1teUNhbnZhcyA9IFV0aWxfMS5VdGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKTtcbiAgICAgICAgdGhpcy5kYXRhQXJyYXkgPSBbXTtcbiAgICAgICAgdGhpcy5fcmVhZERhdGFBdHRyaWJ1dGUoKTtcbiAgICAgICAgdGhpcy5vbignZGF0YUNoYW5nZS5rb252YScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlYWREYXRhQXR0cmlidXRlKCk7XG4gICAgICAgICAgICB0aGlzLl9zZXRUZXh0RGF0YSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbigndGV4dENoYW5nZS5rb252YSBhbGlnbkNoYW5nZS5rb252YSBsZXR0ZXJTcGFjaW5nQ2hhbmdlLmtvbnZhIGtlcm5pbmdGdW5jQ2hhbmdlLmtvbnZhIGZvbnRTaXplQ2hhbmdlLmtvbnZhIGZvbnRGYW1pbHlDaGFuZ2Uua29udmEnLCB0aGlzLl9zZXRUZXh0RGF0YSk7XG4gICAgICAgIHRoaXMuX3NldFRleHREYXRhKCk7XG4gICAgfVxuICAgIF9nZXRUZXh0UGF0aExlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIFBhdGhfMS5QYXRoLmdldFBhdGhMZW5ndGgodGhpcy5kYXRhQXJyYXkpO1xuICAgIH1cbiAgICBfZ2V0UG9pbnRBdExlbmd0aChsZW5ndGgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmF0dHJzLmRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvdGFsTGVuZ3RoID0gdGhpcy5wYXRoTGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoIC0gMSA+IHRvdGFsTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUGF0aF8xLlBhdGguZ2V0UG9pbnRBdExlbmd0aE9mRGF0YUFycmF5KGxlbmd0aCwgdGhpcy5kYXRhQXJyYXkpO1xuICAgIH1cbiAgICBfcmVhZERhdGFBdHRyaWJ1dGUoKSB7XG4gICAgICAgIHRoaXMuZGF0YUFycmF5ID0gUGF0aF8xLlBhdGgucGFyc2VQYXRoRGF0YSh0aGlzLmF0dHJzLmRhdGEpO1xuICAgICAgICB0aGlzLnBhdGhMZW5ndGggPSB0aGlzLl9nZXRUZXh0UGF0aExlbmd0aCgpO1xuICAgIH1cbiAgICBfc2NlbmVGdW5jKGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dC5zZXRBdHRyKCdmb250JywgdGhpcy5fZ2V0Q29udGV4dEZvbnQoKSk7XG4gICAgICAgIGNvbnRleHQuc2V0QXR0cigndGV4dEJhc2VsaW5lJywgdGhpcy50ZXh0QmFzZWxpbmUoKSk7XG4gICAgICAgIGNvbnRleHQuc2V0QXR0cigndGV4dEFsaWduJywgJ2xlZnQnKTtcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIHZhciB0ZXh0RGVjb3JhdGlvbiA9IHRoaXMudGV4dERlY29yYXRpb24oKTtcbiAgICAgICAgdmFyIGZpbGwgPSB0aGlzLmZpbGwoKTtcbiAgICAgICAgdmFyIGZvbnRTaXplID0gdGhpcy5mb250U2l6ZSgpO1xuICAgICAgICB2YXIgZ2x5cGhJbmZvID0gdGhpcy5nbHlwaEluZm87XG4gICAgICAgIGlmICh0ZXh0RGVjb3JhdGlvbiA9PT0gJ3VuZGVybGluZScpIHtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnbHlwaEluZm8ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgdmFyIHAwID0gZ2x5cGhJbmZvW2ldLnAwO1xuICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUocDAueCwgcDAueSk7XG4gICAgICAgICAgICBjb250ZXh0LnJvdGF0ZShnbHlwaEluZm9baV0ucm90YXRpb24pO1xuICAgICAgICAgICAgdGhpcy5wYXJ0aWFsVGV4dCA9IGdseXBoSW5mb1tpXS50ZXh0O1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3Ryb2tlU2hhcGUodGhpcyk7XG4gICAgICAgICAgICBpZiAodGV4dERlY29yYXRpb24gPT09ICd1bmRlcmxpbmUnKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oMCwgZm9udFNpemUgLyAyICsgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGZvbnRTaXplLCBmb250U2l6ZSAvIDIgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZXh0RGVjb3JhdGlvbiA9PT0gJ3VuZGVybGluZScpIHtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBmaWxsO1xuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBmb250U2l6ZSAvIDIwO1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG4gICAgX2hpdEZ1bmMoY29udGV4dCkge1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICB2YXIgZ2x5cGhJbmZvID0gdGhpcy5nbHlwaEluZm87XG4gICAgICAgIGlmIChnbHlwaEluZm8ubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICAgIHZhciBwMCA9IGdseXBoSW5mb1swXS5wMDtcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHAwLngsIHAwLnkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2x5cGhJbmZvLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcDEgPSBnbHlwaEluZm9baV0ucDE7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhwMS54LCBwMS55KTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LnNldEF0dHIoJ2xpbmVXaWR0aCcsIHRoaXMuZm9udFNpemUoKSk7XG4gICAgICAgIGNvbnRleHQuc2V0QXR0cignc3Ryb2tlU3R5bGUnLCB0aGlzLmNvbG9yS2V5KTtcbiAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICB9XG4gICAgZ2V0VGV4dFdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0V2lkdGg7XG4gICAgfVxuICAgIGdldFRleHRIZWlnaHQoKSB7XG4gICAgICAgIFV0aWxfMS5VdGlsLndhcm4oJ3RleHQuZ2V0VGV4dEhlaWdodCgpIG1ldGhvZCBpcyBkZXByZWNhdGVkLiBVc2UgdGV4dC5oZWlnaHQoKSAtIGZvciBmdWxsIGhlaWdodCBhbmQgdGV4dC5mb250U2l6ZSgpIC0gZm9yIG9uZSBsaW5lIGhlaWdodC4nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dEhlaWdodDtcbiAgICB9XG4gICAgc2V0VGV4dCh0ZXh0KSB7XG4gICAgICAgIHJldHVybiBUZXh0XzEuVGV4dC5wcm90b3R5cGUuc2V0VGV4dC5jYWxsKHRoaXMsIHRleHQpO1xuICAgIH1cbiAgICBfZ2V0Q29udGV4dEZvbnQoKSB7XG4gICAgICAgIHJldHVybiBUZXh0XzEuVGV4dC5wcm90b3R5cGUuX2dldENvbnRleHRGb250LmNhbGwodGhpcyk7XG4gICAgfVxuICAgIF9nZXRUZXh0U2l6ZSh0ZXh0KSB7XG4gICAgICAgIHZhciBkdW1teUNhbnZhcyA9IHRoaXMuZHVtbXlDYW52YXM7XG4gICAgICAgIHZhciBfY29udGV4dCA9IGR1bW15Q2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIF9jb250ZXh0LnNhdmUoKTtcbiAgICAgICAgX2NvbnRleHQuZm9udCA9IHRoaXMuX2dldENvbnRleHRGb250KCk7XG4gICAgICAgIHZhciBtZXRyaWNzID0gX2NvbnRleHQubWVhc3VyZVRleHQodGV4dCk7XG4gICAgICAgIF9jb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiBtZXRyaWNzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBwYXJzZUludChgJHt0aGlzLmZvbnRTaXplKCl9YCwgMTApLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfc2V0VGV4dERhdGEoKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5fZ2V0VGV4dFNpemUodGhpcy5hdHRycy50ZXh0KTtcbiAgICAgICAgdGhpcy50ZXh0V2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy50ZXh0SGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmdseXBoSW5mbyA9IFtdO1xuICAgICAgICBpZiAoIXRoaXMuYXR0cnMuZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGV0dGVyU3BhY2luZyA9IHRoaXMubGV0dGVyU3BhY2luZygpO1xuICAgICAgICBjb25zdCBhbGlnbiA9IHRoaXMuYWxpZ24oKTtcbiAgICAgICAgY29uc3Qga2VybmluZ0Z1bmMgPSB0aGlzLmtlcm5pbmdGdW5jKCk7XG4gICAgICAgIGNvbnN0IHRleHRXaWR0aCA9IE1hdGgubWF4KHRoaXMudGV4dFdpZHRoICsgKCh0aGlzLmF0dHJzLnRleHQgfHwgJycpLmxlbmd0aCAtIDEpICogbGV0dGVyU3BhY2luZywgMCk7XG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICBpZiAoYWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSBNYXRoLm1heCgwLCB0aGlzLnBhdGhMZW5ndGggLyAyIC0gdGV4dFdpZHRoIC8gMik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSBNYXRoLm1heCgwLCB0aGlzLnBhdGhMZW5ndGggLSB0ZXh0V2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoYXJBcnIgPSAoMCwgVGV4dF8xLnN0cmluZ1RvQXJyYXkpKHRoaXMudGV4dCgpKTtcbiAgICAgICAgbGV0IG9mZnNldFRvR2x5cGggPSBvZmZzZXQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhckFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hhclN0YXJ0UG9pbnQgPSB0aGlzLl9nZXRQb2ludEF0TGVuZ3RoKG9mZnNldFRvR2x5cGgpO1xuICAgICAgICAgICAgaWYgKCFjaGFyU3RhcnRQb2ludClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBsZXQgZ2x5cGhXaWR0aCA9IHRoaXMuX2dldFRleHRTaXplKGNoYXJBcnJbaV0pLndpZHRoICsgbGV0dGVyU3BhY2luZztcbiAgICAgICAgICAgIGlmIChjaGFyQXJyW2ldID09PSAnICcgJiYgYWxpZ24gPT09ICdqdXN0aWZ5Jykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bWJlck9mU3BhY2VzID0gdGhpcy50ZXh0KCkuc3BsaXQoJyAnKS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIGdseXBoV2lkdGggKz0gKHRoaXMucGF0aExlbmd0aCAtIHRleHRXaWR0aCkgLyBudW1iZXJPZlNwYWNlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNoYXJFbmRQb2ludCA9IHRoaXMuX2dldFBvaW50QXRMZW5ndGgob2Zmc2V0VG9HbHlwaCArIGdseXBoV2lkdGgpO1xuICAgICAgICAgICAgaWYgKCFjaGFyRW5kUG9pbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBQYXRoXzEuUGF0aC5nZXRMaW5lTGVuZ3RoKGNoYXJTdGFydFBvaW50LngsIGNoYXJTdGFydFBvaW50LnksIGNoYXJFbmRQb2ludC54LCBjaGFyRW5kUG9pbnQueSk7XG4gICAgICAgICAgICBsZXQga2VybiA9IDA7XG4gICAgICAgICAgICBpZiAoa2VybmluZ0Z1bmMpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBrZXJuID0ga2VybmluZ0Z1bmMoY2hhckFycltpIC0gMV0sIGNoYXJBcnJbaV0pICogdGhpcy5mb250U2l6ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBrZXJuID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFyU3RhcnRQb2ludC54ICs9IGtlcm47XG4gICAgICAgICAgICBjaGFyRW5kUG9pbnQueCArPSBrZXJuO1xuICAgICAgICAgICAgdGhpcy50ZXh0V2lkdGggKz0ga2VybjtcbiAgICAgICAgICAgIGNvbnN0IG1pZHBvaW50ID0gUGF0aF8xLlBhdGguZ2V0UG9pbnRPbkxpbmUoa2VybiArIHdpZHRoIC8gMi4wLCBjaGFyU3RhcnRQb2ludC54LCBjaGFyU3RhcnRQb2ludC55LCBjaGFyRW5kUG9pbnQueCwgY2hhckVuZFBvaW50LnkpO1xuICAgICAgICAgICAgY29uc3Qgcm90YXRpb24gPSBNYXRoLmF0YW4yKGNoYXJFbmRQb2ludC55IC0gY2hhclN0YXJ0UG9pbnQueSwgY2hhckVuZFBvaW50LnggLSBjaGFyU3RhcnRQb2ludC54KTtcbiAgICAgICAgICAgIHRoaXMuZ2x5cGhJbmZvLnB1c2goe1xuICAgICAgICAgICAgICAgIHRyYW5zcG9zZVg6IG1pZHBvaW50LngsXG4gICAgICAgICAgICAgICAgdHJhbnNwb3NlWTogbWlkcG9pbnQueSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBjaGFyQXJyW2ldLFxuICAgICAgICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvbixcbiAgICAgICAgICAgICAgICBwMDogY2hhclN0YXJ0UG9pbnQsXG4gICAgICAgICAgICAgICAgcDE6IGNoYXJFbmRQb2ludCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgb2Zmc2V0VG9HbHlwaCArPSBnbHlwaFdpZHRoO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFNlbGZSZWN0KCkge1xuICAgICAgICBpZiAoIXRoaXMuZ2x5cGhJbmZvLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9pbnRzID0gW107XG4gICAgICAgIHRoaXMuZ2x5cGhJbmZvLmZvckVhY2goZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKGluZm8ucDAueCk7XG4gICAgICAgICAgICBwb2ludHMucHVzaChpbmZvLnAwLnkpO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goaW5mby5wMS54KTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKGluZm8ucDEueSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbWluWCA9IHBvaW50c1swXSB8fCAwO1xuICAgICAgICB2YXIgbWF4WCA9IHBvaW50c1swXSB8fCAwO1xuICAgICAgICB2YXIgbWluWSA9IHBvaW50c1sxXSB8fCAwO1xuICAgICAgICB2YXIgbWF4WSA9IHBvaW50c1sxXSB8fCAwO1xuICAgICAgICB2YXIgeCwgeTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoIC8gMjsgaSsrKSB7XG4gICAgICAgICAgICB4ID0gcG9pbnRzW2kgKiAyXTtcbiAgICAgICAgICAgIHkgPSBwb2ludHNbaSAqIDIgKyAxXTtcbiAgICAgICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCB4KTtcbiAgICAgICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCB4KTtcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCB5KTtcbiAgICAgICAgICAgIG1heFkgPSBNYXRoLm1heChtYXhZLCB5KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9udFNpemUgPSB0aGlzLmZvbnRTaXplKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBtaW5YIC0gZm9udFNpemUgLyAyLFxuICAgICAgICAgICAgeTogbWluWSAtIGZvbnRTaXplIC8gMixcbiAgICAgICAgICAgIHdpZHRoOiBtYXhYIC0gbWluWCArIGZvbnRTaXplLFxuICAgICAgICAgICAgaGVpZ2h0OiBtYXhZIC0gbWluWSArIGZvbnRTaXplLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBVdGlsXzEuVXRpbC5yZWxlYXNlQ2FudmFzKHRoaXMuZHVtbXlDYW52YXMpO1xuICAgICAgICByZXR1cm4gc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cbn1cbmV4cG9ydHMuVGV4dFBhdGggPSBUZXh0UGF0aDtcblRleHRQYXRoLnByb3RvdHlwZS5fZmlsbEZ1bmMgPSBfZmlsbEZ1bmM7XG5UZXh0UGF0aC5wcm90b3R5cGUuX3N0cm9rZUZ1bmMgPSBfc3Ryb2tlRnVuYztcblRleHRQYXRoLnByb3RvdHlwZS5fZmlsbEZ1bmNIaXQgPSBfZmlsbEZ1bmM7XG5UZXh0UGF0aC5wcm90b3R5cGUuX3N0cm9rZUZ1bmNIaXQgPSBfc3Ryb2tlRnVuYztcblRleHRQYXRoLnByb3RvdHlwZS5jbGFzc05hbWUgPSAnVGV4dFBhdGgnO1xuVGV4dFBhdGgucHJvdG90eXBlLl9hdHRyc0FmZmVjdGluZ1NpemUgPSBbJ3RleHQnLCAnZm9udFNpemUnLCAnZGF0YSddO1xuKDAsIEdsb2JhbF8xLl9yZWdpc3Rlck5vZGUpKFRleHRQYXRoKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUZXh0UGF0aCwgJ2RhdGEnKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUZXh0UGF0aCwgJ2ZvbnRGYW1pbHknLCAnQXJpYWwnKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUZXh0UGF0aCwgJ2ZvbnRTaXplJywgMTIsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUZXh0UGF0aCwgJ2ZvbnRTdHlsZScsIE5PUk1BTCk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoVGV4dFBhdGgsICdhbGlnbicsICdsZWZ0Jyk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoVGV4dFBhdGgsICdsZXR0ZXJTcGFjaW5nJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFRleHRQYXRoLCAndGV4dEJhc2VsaW5lJywgJ21pZGRsZScpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFRleHRQYXRoLCAnZm9udFZhcmlhbnQnLCBOT1JNQUwpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFRleHRQYXRoLCAndGV4dCcsIEVNUFRZX1NUUklORyk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoVGV4dFBhdGgsICd0ZXh0RGVjb3JhdGlvbicsIG51bGwpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFRleHRQYXRoLCAna2VybmluZ0Z1bmMnLCBudWxsKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVHJhbnNmb3JtZXIgPSB2b2lkIDA7XG5jb25zdCBVdGlsXzEgPSByZXF1aXJlKFwiLi4vVXRpbFwiKTtcbmNvbnN0IEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9GYWN0b3J5XCIpO1xuY29uc3QgTm9kZV8xID0gcmVxdWlyZShcIi4uL05vZGVcIik7XG5jb25zdCBTaGFwZV8xID0gcmVxdWlyZShcIi4uL1NoYXBlXCIpO1xuY29uc3QgUmVjdF8xID0gcmVxdWlyZShcIi4vUmVjdFwiKTtcbmNvbnN0IEdyb3VwXzEgPSByZXF1aXJlKFwiLi4vR3JvdXBcIik7XG5jb25zdCBHbG9iYWxfMSA9IHJlcXVpcmUoXCIuLi9HbG9iYWxcIik7XG5jb25zdCBWYWxpZGF0b3JzXzEgPSByZXF1aXJlKFwiLi4vVmFsaWRhdG9yc1wiKTtcbmNvbnN0IEdsb2JhbF8yID0gcmVxdWlyZShcIi4uL0dsb2JhbFwiKTtcbnZhciBFVkVOVFNfTkFNRSA9ICd0ci1rb252YSc7XG52YXIgQVRUUl9DSEFOR0VfTElTVCA9IFtcbiAgICAncmVzaXplRW5hYmxlZENoYW5nZScsXG4gICAgJ3JvdGF0ZUFuY2hvck9mZnNldENoYW5nZScsXG4gICAgJ3JvdGF0ZUVuYWJsZWRDaGFuZ2UnLFxuICAgICdlbmFibGVkQW5jaG9yc0NoYW5nZScsXG4gICAgJ2FuY2hvclNpemVDaGFuZ2UnLFxuICAgICdib3JkZXJFbmFibGVkQ2hhbmdlJyxcbiAgICAnYm9yZGVyU3Ryb2tlQ2hhbmdlJyxcbiAgICAnYm9yZGVyU3Ryb2tlV2lkdGhDaGFuZ2UnLFxuICAgICdib3JkZXJEYXNoQ2hhbmdlJyxcbiAgICAnYW5jaG9yU3Ryb2tlQ2hhbmdlJyxcbiAgICAnYW5jaG9yU3Ryb2tlV2lkdGhDaGFuZ2UnLFxuICAgICdhbmNob3JGaWxsQ2hhbmdlJyxcbiAgICAnYW5jaG9yQ29ybmVyUmFkaXVzQ2hhbmdlJyxcbiAgICAnaWdub3JlU3Ryb2tlQ2hhbmdlJyxcbiAgICAnYW5jaG9yU3R5bGVGdW5jQ2hhbmdlJyxcbl1cbiAgICAubWFwKChlKSA9PiBlICsgYC4ke0VWRU5UU19OQU1FfWApXG4gICAgLmpvaW4oJyAnKTtcbnZhciBOT0RFU19SRUNUID0gJ25vZGVzUmVjdCc7XG52YXIgVFJBTlNGT1JNX0NIQU5HRV9TVFIgPSBbXG4gICAgJ3dpZHRoQ2hhbmdlJyxcbiAgICAnaGVpZ2h0Q2hhbmdlJyxcbiAgICAnc2NhbGVYQ2hhbmdlJyxcbiAgICAnc2NhbGVZQ2hhbmdlJyxcbiAgICAnc2tld1hDaGFuZ2UnLFxuICAgICdza2V3WUNoYW5nZScsXG4gICAgJ3JvdGF0aW9uQ2hhbmdlJyxcbiAgICAnb2Zmc2V0WENoYW5nZScsXG4gICAgJ29mZnNldFlDaGFuZ2UnLFxuICAgICd0cmFuc2Zvcm1zRW5hYmxlZENoYW5nZScsXG4gICAgJ3N0cm9rZVdpZHRoQ2hhbmdlJyxcbl07XG52YXIgQU5HTEVTID0ge1xuICAgICd0b3AtbGVmdCc6IC00NSxcbiAgICAndG9wLWNlbnRlcic6IDAsXG4gICAgJ3RvcC1yaWdodCc6IDQ1LFxuICAgICdtaWRkbGUtcmlnaHQnOiAtOTAsXG4gICAgJ21pZGRsZS1sZWZ0JzogOTAsXG4gICAgJ2JvdHRvbS1sZWZ0JzogLTEzNSxcbiAgICAnYm90dG9tLWNlbnRlcic6IDE4MCxcbiAgICAnYm90dG9tLXJpZ2h0JzogMTM1LFxufTtcbmNvbnN0IFRPVUNIX0RFVklDRSA9ICdvbnRvdWNoc3RhcnQnIGluIEdsb2JhbF8xLktvbnZhLl9nbG9iYWw7XG5mdW5jdGlvbiBnZXRDdXJzb3IoYW5jaG9yTmFtZSwgcmFkLCByb3RhdGVDdXJzb3IpIHtcbiAgICBpZiAoYW5jaG9yTmFtZSA9PT0gJ3JvdGF0ZXInKSB7XG4gICAgICAgIHJldHVybiByb3RhdGVDdXJzb3I7XG4gICAgfVxuICAgIHJhZCArPSBVdGlsXzEuVXRpbC5kZWdUb1JhZChBTkdMRVNbYW5jaG9yTmFtZV0gfHwgMCk7XG4gICAgdmFyIGFuZ2xlID0gKChVdGlsXzEuVXRpbC5yYWRUb0RlZyhyYWQpICUgMzYwKSArIDM2MCkgJSAzNjA7XG4gICAgaWYgKFV0aWxfMS5VdGlsLl9pblJhbmdlKGFuZ2xlLCAzMTUgKyAyMi41LCAzNjApIHx8IFV0aWxfMS5VdGlsLl9pblJhbmdlKGFuZ2xlLCAwLCAyMi41KSkge1xuICAgICAgICByZXR1cm4gJ25zLXJlc2l6ZSc7XG4gICAgfVxuICAgIGVsc2UgaWYgKFV0aWxfMS5VdGlsLl9pblJhbmdlKGFuZ2xlLCA0NSAtIDIyLjUsIDQ1ICsgMjIuNSkpIHtcbiAgICAgICAgcmV0dXJuICduZXN3LXJlc2l6ZSc7XG4gICAgfVxuICAgIGVsc2UgaWYgKFV0aWxfMS5VdGlsLl9pblJhbmdlKGFuZ2xlLCA5MCAtIDIyLjUsIDkwICsgMjIuNSkpIHtcbiAgICAgICAgcmV0dXJuICdldy1yZXNpemUnO1xuICAgIH1cbiAgICBlbHNlIGlmIChVdGlsXzEuVXRpbC5faW5SYW5nZShhbmdsZSwgMTM1IC0gMjIuNSwgMTM1ICsgMjIuNSkpIHtcbiAgICAgICAgcmV0dXJuICdud3NlLXJlc2l6ZSc7XG4gICAgfVxuICAgIGVsc2UgaWYgKFV0aWxfMS5VdGlsLl9pblJhbmdlKGFuZ2xlLCAxODAgLSAyMi41LCAxODAgKyAyMi41KSkge1xuICAgICAgICByZXR1cm4gJ25zLXJlc2l6ZSc7XG4gICAgfVxuICAgIGVsc2UgaWYgKFV0aWxfMS5VdGlsLl9pblJhbmdlKGFuZ2xlLCAyMjUgLSAyMi41LCAyMjUgKyAyMi41KSkge1xuICAgICAgICByZXR1cm4gJ25lc3ctcmVzaXplJztcbiAgICB9XG4gICAgZWxzZSBpZiAoVXRpbF8xLlV0aWwuX2luUmFuZ2UoYW5nbGUsIDI3MCAtIDIyLjUsIDI3MCArIDIyLjUpKSB7XG4gICAgICAgIHJldHVybiAnZXctcmVzaXplJztcbiAgICB9XG4gICAgZWxzZSBpZiAoVXRpbF8xLlV0aWwuX2luUmFuZ2UoYW5nbGUsIDMxNSAtIDIyLjUsIDMxNSArIDIyLjUpKSB7XG4gICAgICAgIHJldHVybiAnbndzZS1yZXNpemUnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgVXRpbF8xLlV0aWwuZXJyb3IoJ1RyYW5zZm9ybWVyIGhhcyB1bmtub3duIGFuZ2xlIGZvciBjdXJzb3IgZGV0ZWN0aW9uOiAnICsgYW5nbGUpO1xuICAgICAgICByZXR1cm4gJ3BvaW50ZXInO1xuICAgIH1cbn1cbnZhciBBTkNIT1JTX05BTUVTID0gW1xuICAgICd0b3AtbGVmdCcsXG4gICAgJ3RvcC1jZW50ZXInLFxuICAgICd0b3AtcmlnaHQnLFxuICAgICdtaWRkbGUtcmlnaHQnLFxuICAgICdtaWRkbGUtbGVmdCcsXG4gICAgJ2JvdHRvbS1sZWZ0JyxcbiAgICAnYm90dG9tLWNlbnRlcicsXG4gICAgJ2JvdHRvbS1yaWdodCcsXG5dO1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSAxMDAwMDAwMDA7XG5mdW5jdGlvbiBnZXRDZW50ZXIoc2hhcGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBzaGFwZS54ICtcbiAgICAgICAgICAgIChzaGFwZS53aWR0aCAvIDIpICogTWF0aC5jb3Moc2hhcGUucm90YXRpb24pICtcbiAgICAgICAgICAgIChzaGFwZS5oZWlnaHQgLyAyKSAqIE1hdGguc2luKC1zaGFwZS5yb3RhdGlvbiksXG4gICAgICAgIHk6IHNoYXBlLnkgK1xuICAgICAgICAgICAgKHNoYXBlLmhlaWdodCAvIDIpICogTWF0aC5jb3Moc2hhcGUucm90YXRpb24pICtcbiAgICAgICAgICAgIChzaGFwZS53aWR0aCAvIDIpICogTWF0aC5zaW4oc2hhcGUucm90YXRpb24pLFxuICAgIH07XG59XG5mdW5jdGlvbiByb3RhdGVBcm91bmRQb2ludChzaGFwZSwgYW5nbGVSYWQsIHBvaW50KSB7XG4gICAgY29uc3QgeCA9IHBvaW50LnggK1xuICAgICAgICAoc2hhcGUueCAtIHBvaW50LngpICogTWF0aC5jb3MoYW5nbGVSYWQpIC1cbiAgICAgICAgKHNoYXBlLnkgLSBwb2ludC55KSAqIE1hdGguc2luKGFuZ2xlUmFkKTtcbiAgICBjb25zdCB5ID0gcG9pbnQueSArXG4gICAgICAgIChzaGFwZS54IC0gcG9pbnQueCkgKiBNYXRoLnNpbihhbmdsZVJhZCkgK1xuICAgICAgICAoc2hhcGUueSAtIHBvaW50LnkpICogTWF0aC5jb3MoYW5nbGVSYWQpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnNoYXBlLFxuICAgICAgICByb3RhdGlvbjogc2hhcGUucm90YXRpb24gKyBhbmdsZVJhZCxcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICB9O1xufVxuZnVuY3Rpb24gcm90YXRlQXJvdW5kQ2VudGVyKHNoYXBlLCBkZWx0YVJhZCkge1xuICAgIGNvbnN0IGNlbnRlciA9IGdldENlbnRlcihzaGFwZSk7XG4gICAgcmV0dXJuIHJvdGF0ZUFyb3VuZFBvaW50KHNoYXBlLCBkZWx0YVJhZCwgY2VudGVyKTtcbn1cbmZ1bmN0aW9uIGdldFNuYXAoc25hcHMsIG5ld1JvdGF0aW9uUmFkLCB0b2wpIHtcbiAgICBsZXQgc25hcHBlZCA9IG5ld1JvdGF0aW9uUmFkO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc25hcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYW5nbGUgPSBHbG9iYWxfMS5Lb252YS5nZXRBbmdsZShzbmFwc1tpXSk7XG4gICAgICAgIGNvbnN0IGFic0RpZmYgPSBNYXRoLmFicyhhbmdsZSAtIG5ld1JvdGF0aW9uUmFkKSAlIChNYXRoLlBJICogMik7XG4gICAgICAgIGNvbnN0IGRpZiA9IE1hdGgubWluKGFic0RpZmYsIE1hdGguUEkgKiAyIC0gYWJzRGlmZik7XG4gICAgICAgIGlmIChkaWYgPCB0b2wpIHtcbiAgICAgICAgICAgIHNuYXBwZWQgPSBhbmdsZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc25hcHBlZDtcbn1cbmNsYXNzIFRyYW5zZm9ybWVyIGV4dGVuZHMgR3JvdXBfMS5Hcm91cCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuX21vdmluZ0FuY2hvck5hbWUgPSBudWxsO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY3JlYXRlRWxlbWVudHMoKTtcbiAgICAgICAgdGhpcy5faGFuZGxlTW91c2VNb3ZlID0gdGhpcy5faGFuZGxlTW91c2VNb3ZlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZU1vdXNlVXAgPSB0aGlzLl9oYW5kbGVNb3VzZVVwLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMudXBkYXRlID0gdGhpcy51cGRhdGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbihBVFRSX0NIQU5HRV9MSVNULCB0aGlzLnVwZGF0ZSk7XG4gICAgICAgIGlmICh0aGlzLmdldE5vZGUoKSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhdHRhY2hUbyhub2RlKSB7XG4gICAgICAgIHRoaXMuc2V0Tm9kZShub2RlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldE5vZGUobm9kZSkge1xuICAgICAgICBVdGlsXzEuVXRpbC53YXJuKCd0ci5zZXROb2RlKHNoYXBlKSwgdHIubm9kZShzaGFwZSkgYW5kIHRyLmF0dGFjaFRvKHNoYXBlKSBtZXRob2RzIGFyZSBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRyLm5vZGVzKG5vZGVzQXJyYXkpIGluc3RlYWQuJyk7XG4gICAgICAgIHJldHVybiB0aGlzLnNldE5vZGVzKFtub2RlXSk7XG4gICAgfVxuICAgIGdldE5vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ub2RlcyAmJiB0aGlzLl9ub2Rlc1swXTtcbiAgICB9XG4gICAgX2dldEV2ZW50TmFtZXNwYWNlKCkge1xuICAgICAgICByZXR1cm4gRVZFTlRTX05BTUUgKyB0aGlzLl9pZDtcbiAgICB9XG4gICAgc2V0Tm9kZXMobm9kZXMgPSBbXSkge1xuICAgICAgICBpZiAodGhpcy5fbm9kZXMgJiYgdGhpcy5fbm9kZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmRldGFjaCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkTm9kZXMgPSBub2Rlcy5maWx0ZXIoKG5vZGUpID0+IHtcbiAgICAgICAgICAgIGlmIChub2RlLmlzQW5jZXN0b3JPZih0aGlzKSkge1xuICAgICAgICAgICAgICAgIFV0aWxfMS5VdGlsLmVycm9yKCdLb252YS5UcmFuc2Zvcm1lciBjYW5ub3QgYmUgYW4gYSBjaGlsZCBvZiB0aGUgbm9kZSB5b3UgYXJlIHRyeWluZyB0byBhdHRhY2gnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX25vZGVzID0gbm9kZXMgPSBmaWx0ZXJlZE5vZGVzO1xuICAgICAgICBpZiAobm9kZXMubGVuZ3RoID09PSAxICYmIHRoaXMudXNlU2luZ2xlTm9kZVJvdGF0aW9uKCkpIHtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb24obm9kZXNbMF0uZ2V0QWJzb2x1dGVSb3RhdGlvbigpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb24oMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb25DaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubm9kZXMoKS5sZW5ndGggPT09IDEgJiYgdGhpcy51c2VTaW5nbGVOb2RlUm90YXRpb24oKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0aW9uKHRoaXMubm9kZXMoKVswXS5nZXRBYnNvbHV0ZVJvdGF0aW9uKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUNhY2hlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl90cmFuc2Zvcm1pbmcgJiYgIXRoaXMuaXNEcmFnZ2luZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGFkZGl0aW9uYWxFdmVudHMgPSBub2RlLl9hdHRyc0FmZmVjdGluZ1NpemVcbiAgICAgICAgICAgICAgICAubWFwKChwcm9wKSA9PiBwcm9wICsgJ0NoYW5nZS4nICsgdGhpcy5fZ2V0RXZlbnROYW1lc3BhY2UoKSlcbiAgICAgICAgICAgICAgICAuam9pbignICcpO1xuICAgICAgICAgICAgbm9kZS5vbihhZGRpdGlvbmFsRXZlbnRzLCBvbkNoYW5nZSk7XG4gICAgICAgICAgICBub2RlLm9uKFRSQU5TRk9STV9DSEFOR0VfU1RSLm1hcCgoZSkgPT4gZSArIGAuJHt0aGlzLl9nZXRFdmVudE5hbWVzcGFjZSgpfWApLmpvaW4oJyAnKSwgb25DaGFuZ2UpO1xuICAgICAgICAgICAgbm9kZS5vbihgYWJzb2x1dGVUcmFuc2Zvcm1DaGFuZ2UuJHt0aGlzLl9nZXRFdmVudE5hbWVzcGFjZSgpfWAsIG9uQ2hhbmdlKTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3h5RHJhZyhub2RlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3Jlc2V0VHJhbnNmb3JtQ2FjaGUoKTtcbiAgICAgICAgdmFyIGVsZW1lbnRzQ3JlYXRlZCA9ICEhdGhpcy5maW5kT25lKCcudG9wLWxlZnQnKTtcbiAgICAgICAgaWYgKGVsZW1lbnRzQ3JlYXRlZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX3Byb3h5RHJhZyhub2RlKSB7XG4gICAgICAgIGxldCBsYXN0UG9zO1xuICAgICAgICBub2RlLm9uKGBkcmFnc3RhcnQuJHt0aGlzLl9nZXRFdmVudE5hbWVzcGFjZSgpfWAsIChlKSA9PiB7XG4gICAgICAgICAgICBsYXN0UG9zID0gbm9kZS5nZXRBYnNvbHV0ZVBvc2l0aW9uKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNEcmFnZ2luZygpICYmIG5vZGUgIT09IHRoaXMuZmluZE9uZSgnLmJhY2snKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnREcmFnKGUsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG5vZGUub24oYGRyYWdtb3ZlLiR7dGhpcy5fZ2V0RXZlbnROYW1lc3BhY2UoKX1gLCAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFsYXN0UG9zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYWJzID0gbm9kZS5nZXRBYnNvbHV0ZVBvc2l0aW9uKCk7XG4gICAgICAgICAgICBjb25zdCBkeCA9IGFicy54IC0gbGFzdFBvcy54O1xuICAgICAgICAgICAgY29uc3QgZHkgPSBhYnMueSAtIGxhc3RQb3MueTtcbiAgICAgICAgICAgIHRoaXMubm9kZXMoKS5mb3JFYWNoKChvdGhlck5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJOb2RlID09PSBub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyTm9kZS5pc0RyYWdnaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlckFicyA9IG90aGVyTm9kZS5nZXRBYnNvbHV0ZVBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLnNldEFic29sdXRlUG9zaXRpb24oe1xuICAgICAgICAgICAgICAgICAgICB4OiBvdGhlckFicy54ICsgZHgsXG4gICAgICAgICAgICAgICAgICAgIHk6IG90aGVyQWJzLnkgKyBkeSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuc3RhcnREcmFnKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsYXN0UG9zID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldE5vZGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbm9kZXMgfHwgW107XG4gICAgfVxuICAgIGdldEFjdGl2ZUFuY2hvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vdmluZ0FuY2hvck5hbWU7XG4gICAgfVxuICAgIGRldGFjaCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX25vZGVzKSB7XG4gICAgICAgICAgICB0aGlzLl9ub2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgbm9kZS5vZmYoJy4nICsgdGhpcy5fZ2V0RXZlbnROYW1lc3BhY2UoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ub2RlcyA9IFtdO1xuICAgICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUNhY2hlKCk7XG4gICAgfVxuICAgIF9yZXNldFRyYW5zZm9ybUNhY2hlKCkge1xuICAgICAgICB0aGlzLl9jbGVhckNhY2hlKE5PREVTX1JFQ1QpO1xuICAgICAgICB0aGlzLl9jbGVhckNhY2hlKCd0cmFuc2Zvcm0nKTtcbiAgICAgICAgdGhpcy5fY2xlYXJTZWxmQW5kRGVzY2VuZGFudENhY2hlKCdhYnNvbHV0ZVRyYW5zZm9ybScpO1xuICAgIH1cbiAgICBfZ2V0Tm9kZVJlY3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDYWNoZShOT0RFU19SRUNULCB0aGlzLl9fZ2V0Tm9kZVJlY3QpO1xuICAgIH1cbiAgICBfX2dldE5vZGVTaGFwZShub2RlLCByb3QgPSB0aGlzLnJvdGF0aW9uKCksIHJlbGF0aXZlKSB7XG4gICAgICAgIHZhciByZWN0ID0gbm9kZS5nZXRDbGllbnRSZWN0KHtcbiAgICAgICAgICAgIHNraXBUcmFuc2Zvcm06IHRydWUsXG4gICAgICAgICAgICBza2lwU2hhZG93OiB0cnVlLFxuICAgICAgICAgICAgc2tpcFN0cm9rZTogdGhpcy5pZ25vcmVTdHJva2UoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBhYnNTY2FsZSA9IG5vZGUuZ2V0QWJzb2x1dGVTY2FsZShyZWxhdGl2ZSk7XG4gICAgICAgIHZhciBhYnNQb3MgPSBub2RlLmdldEFic29sdXRlUG9zaXRpb24ocmVsYXRpdmUpO1xuICAgICAgICB2YXIgZHggPSByZWN0LnggKiBhYnNTY2FsZS54IC0gbm9kZS5vZmZzZXRYKCkgKiBhYnNTY2FsZS54O1xuICAgICAgICB2YXIgZHkgPSByZWN0LnkgKiBhYnNTY2FsZS55IC0gbm9kZS5vZmZzZXRZKCkgKiBhYnNTY2FsZS55O1xuICAgICAgICBjb25zdCByb3RhdGlvbiA9IChHbG9iYWxfMS5Lb252YS5nZXRBbmdsZShub2RlLmdldEFic29sdXRlUm90YXRpb24oKSkgKyBNYXRoLlBJICogMikgJVxuICAgICAgICAgICAgKE1hdGguUEkgKiAyKTtcbiAgICAgICAgY29uc3QgYm94ID0ge1xuICAgICAgICAgICAgeDogYWJzUG9zLnggKyBkeCAqIE1hdGguY29zKHJvdGF0aW9uKSArIGR5ICogTWF0aC5zaW4oLXJvdGF0aW9uKSxcbiAgICAgICAgICAgIHk6IGFic1Bvcy55ICsgZHkgKiBNYXRoLmNvcyhyb3RhdGlvbikgKyBkeCAqIE1hdGguc2luKHJvdGF0aW9uKSxcbiAgICAgICAgICAgIHdpZHRoOiByZWN0LndpZHRoICogYWJzU2NhbGUueCxcbiAgICAgICAgICAgIGhlaWdodDogcmVjdC5oZWlnaHQgKiBhYnNTY2FsZS55LFxuICAgICAgICAgICAgcm90YXRpb246IHJvdGF0aW9uLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcm90YXRlQXJvdW5kUG9pbnQoYm94LCAtR2xvYmFsXzEuS29udmEuZ2V0QW5nbGUocm90KSwge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfX2dldE5vZGVSZWN0KCkge1xuICAgICAgICB2YXIgbm9kZSA9IHRoaXMuZ2V0Tm9kZSgpO1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgeDogLU1BWF9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICAgICAgeTogLU1BWF9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b3RhbFBvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLm5vZGVzKCkubWFwKChub2RlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib3ggPSBub2RlLmdldENsaWVudFJlY3Qoe1xuICAgICAgICAgICAgICAgIHNraXBUcmFuc2Zvcm06IHRydWUsXG4gICAgICAgICAgICAgICAgc2tpcFNoYWRvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBza2lwU3Ryb2tlOiB0aGlzLmlnbm9yZVN0cm9rZSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgcG9pbnRzID0gW1xuICAgICAgICAgICAgICAgIHsgeDogYm94LngsIHk6IGJveC55IH0sXG4gICAgICAgICAgICAgICAgeyB4OiBib3gueCArIGJveC53aWR0aCwgeTogYm94LnkgfSxcbiAgICAgICAgICAgICAgICB7IHg6IGJveC54ICsgYm94LndpZHRoLCB5OiBib3gueSArIGJveC5oZWlnaHQgfSxcbiAgICAgICAgICAgICAgICB7IHg6IGJveC54LCB5OiBib3gueSArIGJveC5oZWlnaHQgfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICB2YXIgdHJhbnMgPSBub2RlLmdldEFic29sdXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBwb2ludHMuZm9yRWFjaChmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNmb3JtZWQgPSB0cmFucy5wb2ludChwb2ludCk7XG4gICAgICAgICAgICAgICAgdG90YWxQb2ludHMucHVzaCh0cmFuc2Zvcm1lZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHRyID0gbmV3IFV0aWxfMS5UcmFuc2Zvcm0oKTtcbiAgICAgICAgdHIucm90YXRlKC1HbG9iYWxfMS5Lb252YS5nZXRBbmdsZSh0aGlzLnJvdGF0aW9uKCkpKTtcbiAgICAgICAgdmFyIG1pblggPSBJbmZpbml0eSwgbWluWSA9IEluZmluaXR5LCBtYXhYID0gLUluZmluaXR5LCBtYXhZID0gLUluZmluaXR5O1xuICAgICAgICB0b3RhbFBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybWVkID0gdHIucG9pbnQocG9pbnQpO1xuICAgICAgICAgICAgaWYgKG1pblggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG1pblggPSBtYXhYID0gdHJhbnNmb3JtZWQueDtcbiAgICAgICAgICAgICAgICBtaW5ZID0gbWF4WSA9IHRyYW5zZm9ybWVkLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgdHJhbnNmb3JtZWQueCk7XG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgdHJhbnNmb3JtZWQueSk7XG4gICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgdHJhbnNmb3JtZWQueCk7XG4gICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgdHJhbnNmb3JtZWQueSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0ci5pbnZlcnQoKTtcbiAgICAgICAgY29uc3QgcCA9IHRyLnBvaW50KHsgeDogbWluWCwgeTogbWluWSB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHAueCxcbiAgICAgICAgICAgIHk6IHAueSxcbiAgICAgICAgICAgIHdpZHRoOiBtYXhYIC0gbWluWCxcbiAgICAgICAgICAgIGhlaWdodDogbWF4WSAtIG1pblksXG4gICAgICAgICAgICByb3RhdGlvbjogR2xvYmFsXzEuS29udmEuZ2V0QW5nbGUodGhpcy5yb3RhdGlvbigpKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0WCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldE5vZGVSZWN0KCkueDtcbiAgICB9XG4gICAgZ2V0WSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldE5vZGVSZWN0KCkueTtcbiAgICB9XG4gICAgZ2V0V2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXROb2RlUmVjdCgpLndpZHRoO1xuICAgIH1cbiAgICBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXROb2RlUmVjdCgpLmhlaWdodDtcbiAgICB9XG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9jcmVhdGVCYWNrKCk7XG4gICAgICAgIEFOQ0hPUlNfTkFNRVMuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlQW5jaG9yKG5hbWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fY3JlYXRlQW5jaG9yKCdyb3RhdGVyJyk7XG4gICAgfVxuICAgIF9jcmVhdGVBbmNob3IobmFtZSkge1xuICAgICAgICB2YXIgYW5jaG9yID0gbmV3IFJlY3RfMS5SZWN0KHtcbiAgICAgICAgICAgIHN0cm9rZTogJ3JnYigwLCAxNjEsIDI1NSknLFxuICAgICAgICAgICAgZmlsbDogJ3doaXRlJyxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgICAgICAgICAgbmFtZTogbmFtZSArICcgX2FuY2hvcicsXG4gICAgICAgICAgICBkcmFnRGlzdGFuY2U6IDAsXG4gICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICAgICAgICBoaXRTdHJva2VXaWR0aDogVE9VQ0hfREVWSUNFID8gMTAgOiAnYXV0bycsXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGFuY2hvci5vbignbW91c2Vkb3duIHRvdWNoc3RhcnQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgc2VsZi5faGFuZGxlTW91c2VEb3duKGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgYW5jaG9yLm9uKCdkcmFnc3RhcnQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgYW5jaG9yLnN0b3BEcmFnKCk7XG4gICAgICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBhbmNob3Iub24oJ2RyYWdlbmQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgYW5jaG9yLm9uKCdtb3VzZWVudGVyJywgKCkgPT4ge1xuICAgICAgICAgICAgdmFyIHJhZCA9IEdsb2JhbF8xLktvbnZhLmdldEFuZ2xlKHRoaXMucm90YXRpb24oKSk7XG4gICAgICAgICAgICB2YXIgcm90YXRlQ3Vyc29yID0gdGhpcy5yb3RhdGVBbmNob3JDdXJzb3IoKTtcbiAgICAgICAgICAgIHZhciBjdXJzb3IgPSBnZXRDdXJzb3IobmFtZSwgcmFkLCByb3RhdGVDdXJzb3IpO1xuICAgICAgICAgICAgYW5jaG9yLmdldFN0YWdlKCkuY29udGVudCAmJlxuICAgICAgICAgICAgICAgIChhbmNob3IuZ2V0U3RhZ2UoKS5jb250ZW50LnN0eWxlLmN1cnNvciA9IGN1cnNvcik7XG4gICAgICAgICAgICB0aGlzLl9jdXJzb3JDaGFuZ2UgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgYW5jaG9yLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgICAgIGFuY2hvci5nZXRTdGFnZSgpLmNvbnRlbnQgJiZcbiAgICAgICAgICAgICAgICAoYW5jaG9yLmdldFN0YWdlKCkuY29udGVudC5zdHlsZS5jdXJzb3IgPSAnJyk7XG4gICAgICAgICAgICB0aGlzLl9jdXJzb3JDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWRkKGFuY2hvcik7XG4gICAgfVxuICAgIF9jcmVhdGVCYWNrKCkge1xuICAgICAgICB2YXIgYmFjayA9IG5ldyBTaGFwZV8xLlNoYXBlKHtcbiAgICAgICAgICAgIG5hbWU6ICdiYWNrJyxcbiAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgICAgICAgICAgc2NlbmVGdW5jKGN0eCwgc2hhcGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHIgPSBzaGFwZS5nZXRQYXJlbnQoKTtcbiAgICAgICAgICAgICAgICB2YXIgcGFkZGluZyA9IHRyLnBhZGRpbmcoKTtcbiAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgY3R4LnJlY3QoLXBhZGRpbmcsIC1wYWRkaW5nLCBzaGFwZS53aWR0aCgpICsgcGFkZGluZyAqIDIsIHNoYXBlLmhlaWdodCgpICsgcGFkZGluZyAqIDIpO1xuICAgICAgICAgICAgICAgIGN0eC5tb3ZlVG8oc2hhcGUud2lkdGgoKSAvIDIsIC1wYWRkaW5nKTtcbiAgICAgICAgICAgICAgICBpZiAodHIucm90YXRlRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5saW5lVG8oc2hhcGUud2lkdGgoKSAvIDIsIC10ci5yb3RhdGVBbmNob3JPZmZzZXQoKSAqIFV0aWxfMS5VdGlsLl9zaWduKHNoYXBlLmhlaWdodCgpKSAtIHBhZGRpbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0cm9rZVNoYXBlKHNoYXBlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoaXRGdW5jOiAoY3R4LCBzaGFwZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zaG91bGRPdmVyZHJhd1dob2xlQXJlYSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLnBhZGRpbmcoKTtcbiAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgY3R4LnJlY3QoLXBhZGRpbmcsIC1wYWRkaW5nLCBzaGFwZS53aWR0aCgpICsgcGFkZGluZyAqIDIsIHNoYXBlLmhlaWdodCgpICsgcGFkZGluZyAqIDIpO1xuICAgICAgICAgICAgICAgIGN0eC5maWxsU3Ryb2tlU2hhcGUoc2hhcGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWRkKGJhY2spO1xuICAgICAgICB0aGlzLl9wcm94eURyYWcoYmFjayk7XG4gICAgICAgIGJhY2sub24oJ2RyYWdzdGFydCcsIChlKSA9PiB7XG4gICAgICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBiYWNrLm9uKCdkcmFnbW92ZScsIChlKSA9PiB7XG4gICAgICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBiYWNrLm9uKCdkcmFnZW5kJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2RyYWdtb3ZlJywgKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfaGFuZGxlTW91c2VEb3duKGUpIHtcbiAgICAgICAgdGhpcy5fbW92aW5nQW5jaG9yTmFtZSA9IGUudGFyZ2V0Lm5hbWUoKS5zcGxpdCgnICcpWzBdO1xuICAgICAgICB2YXIgYXR0cnMgPSB0aGlzLl9nZXROb2RlUmVjdCgpO1xuICAgICAgICB2YXIgd2lkdGggPSBhdHRycy53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGF0dHJzLmhlaWdodDtcbiAgICAgICAgdmFyIGh5cG90ZW51c2UgPSBNYXRoLnNxcnQoTWF0aC5wb3cod2lkdGgsIDIpICsgTWF0aC5wb3coaGVpZ2h0LCAyKSk7XG4gICAgICAgIHRoaXMuc2luID0gTWF0aC5hYnMoaGVpZ2h0IC8gaHlwb3RlbnVzZSk7XG4gICAgICAgIHRoaXMuY29zID0gTWF0aC5hYnMod2lkdGggLyBoeXBvdGVudXNlKTtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlTW91c2VNb3ZlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVNb3VzZU1vdmUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVNb3VzZVVwLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZU1vdXNlVXAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybWluZyA9IHRydWU7XG4gICAgICAgIHZhciBhcCA9IGUudGFyZ2V0LmdldEFic29sdXRlUG9zaXRpb24oKTtcbiAgICAgICAgdmFyIHBvcyA9IGUudGFyZ2V0LmdldFN0YWdlKCkuZ2V0UG9pbnRlclBvc2l0aW9uKCk7XG4gICAgICAgIHRoaXMuX2FuY2hvckRyYWdPZmZzZXQgPSB7XG4gICAgICAgICAgICB4OiBwb3MueCAtIGFwLngsXG4gICAgICAgICAgICB5OiBwb3MueSAtIGFwLnksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2ZpcmUoJ3RyYW5zZm9ybXN0YXJ0JywgeyBldnQ6IGUuZXZ0LCB0YXJnZXQ6IHRoaXMuZ2V0Tm9kZSgpIH0pO1xuICAgICAgICB0aGlzLl9ub2Rlcy5mb3JFYWNoKCh0YXJnZXQpID0+IHtcbiAgICAgICAgICAgIHRhcmdldC5fZmlyZSgndHJhbnNmb3Jtc3RhcnQnLCB7IGV2dDogZS5ldnQsIHRhcmdldCB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9oYW5kbGVNb3VzZU1vdmUoZSkge1xuICAgICAgICB2YXIgeCwgeSwgbmV3SHlwb3RlbnVzZTtcbiAgICAgICAgdmFyIGFuY2hvck5vZGUgPSB0aGlzLmZpbmRPbmUoJy4nICsgdGhpcy5fbW92aW5nQW5jaG9yTmFtZSk7XG4gICAgICAgIHZhciBzdGFnZSA9IGFuY2hvck5vZGUuZ2V0U3RhZ2UoKTtcbiAgICAgICAgc3RhZ2Uuc2V0UG9pbnRlcnNQb3NpdGlvbnMoZSk7XG4gICAgICAgIGNvbnN0IHBwID0gc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCk7XG4gICAgICAgIGxldCBuZXdOb2RlUG9zID0ge1xuICAgICAgICAgICAgeDogcHAueCAtIHRoaXMuX2FuY2hvckRyYWdPZmZzZXQueCxcbiAgICAgICAgICAgIHk6IHBwLnkgLSB0aGlzLl9hbmNob3JEcmFnT2Zmc2V0LnksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9sZEFicyA9IGFuY2hvck5vZGUuZ2V0QWJzb2x1dGVQb3NpdGlvbigpO1xuICAgICAgICBpZiAodGhpcy5hbmNob3JEcmFnQm91bmRGdW5jKCkpIHtcbiAgICAgICAgICAgIG5ld05vZGVQb3MgPSB0aGlzLmFuY2hvckRyYWdCb3VuZEZ1bmMoKShvbGRBYnMsIG5ld05vZGVQb3MsIGUpO1xuICAgICAgICB9XG4gICAgICAgIGFuY2hvck5vZGUuc2V0QWJzb2x1dGVQb3NpdGlvbihuZXdOb2RlUG9zKTtcbiAgICAgICAgY29uc3QgbmV3QWJzID0gYW5jaG9yTm9kZS5nZXRBYnNvbHV0ZVBvc2l0aW9uKCk7XG4gICAgICAgIGlmIChvbGRBYnMueCA9PT0gbmV3QWJzLnggJiYgb2xkQWJzLnkgPT09IG5ld0Ficy55KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX21vdmluZ0FuY2hvck5hbWUgPT09ICdyb3RhdGVyJykge1xuICAgICAgICAgICAgdmFyIGF0dHJzID0gdGhpcy5fZ2V0Tm9kZVJlY3QoKTtcbiAgICAgICAgICAgIHggPSBhbmNob3JOb2RlLngoKSAtIGF0dHJzLndpZHRoIC8gMjtcbiAgICAgICAgICAgIHkgPSAtYW5jaG9yTm9kZS55KCkgKyBhdHRycy5oZWlnaHQgLyAyO1xuICAgICAgICAgICAgbGV0IGRlbHRhID0gTWF0aC5hdGFuMigteSwgeCkgKyBNYXRoLlBJIC8gMjtcbiAgICAgICAgICAgIGlmIChhdHRycy5oZWlnaHQgPCAwKSB7XG4gICAgICAgICAgICAgICAgZGVsdGEgLT0gTWF0aC5QSTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvbGRSb3RhdGlvbiA9IEdsb2JhbF8xLktvbnZhLmdldEFuZ2xlKHRoaXMucm90YXRpb24oKSk7XG4gICAgICAgICAgICBjb25zdCBuZXdSb3RhdGlvbiA9IG9sZFJvdGF0aW9uICsgZGVsdGE7XG4gICAgICAgICAgICBjb25zdCB0b2wgPSBHbG9iYWxfMS5Lb252YS5nZXRBbmdsZSh0aGlzLnJvdGF0aW9uU25hcFRvbGVyYW5jZSgpKTtcbiAgICAgICAgICAgIGNvbnN0IHNuYXBwZWRSb3QgPSBnZXRTbmFwKHRoaXMucm90YXRpb25TbmFwcygpLCBuZXdSb3RhdGlvbiwgdG9sKTtcbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBzbmFwcGVkUm90IC0gYXR0cnMucm90YXRpb247XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IHJvdGF0ZUFyb3VuZENlbnRlcihhdHRycywgZGlmZik7XG4gICAgICAgICAgICB0aGlzLl9maXROb2Rlc0ludG8oc2hhcGUsIGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzaGlmdEJlaGF2aW9yID0gdGhpcy5zaGlmdEJlaGF2aW9yKCk7XG4gICAgICAgIHZhciBrZWVwUHJvcG9ydGlvbjtcbiAgICAgICAgaWYgKHNoaWZ0QmVoYXZpb3IgPT09ICdpbnZlcnRlZCcpIHtcbiAgICAgICAgICAgIGtlZXBQcm9wb3J0aW9uID0gdGhpcy5rZWVwUmF0aW8oKSAmJiAhZS5zaGlmdEtleTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaGlmdEJlaGF2aW9yID09PSAnbm9uZScpIHtcbiAgICAgICAgICAgIGtlZXBQcm9wb3J0aW9uID0gdGhpcy5rZWVwUmF0aW8oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGtlZXBQcm9wb3J0aW9uID0gdGhpcy5rZWVwUmF0aW8oKSB8fCBlLnNoaWZ0S2V5O1xuICAgICAgICB9XG4gICAgICAgIHZhciBjZW50ZXJlZFNjYWxpbmcgPSB0aGlzLmNlbnRlcmVkU2NhbGluZygpIHx8IGUuYWx0S2V5O1xuICAgICAgICBpZiAodGhpcy5fbW92aW5nQW5jaG9yTmFtZSA9PT0gJ3RvcC1sZWZ0Jykge1xuICAgICAgICAgICAgaWYgKGtlZXBQcm9wb3J0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBhcmVQb2ludCA9IGNlbnRlcmVkU2NhbGluZ1xuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHRoaXMud2lkdGgoKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiB0aGlzLmhlaWdodCgpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHRoaXMuZmluZE9uZSgnLmJvdHRvbS1yaWdodCcpLngoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IHRoaXMuZmluZE9uZSgnLmJvdHRvbS1yaWdodCcpLnkoKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBuZXdIeXBvdGVudXNlID0gTWF0aC5zcXJ0KE1hdGgucG93KGNvbXBhcmVQb2ludC54IC0gYW5jaG9yTm9kZS54KCksIDIpICtcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5wb3coY29tcGFyZVBvaW50LnkgLSBhbmNob3JOb2RlLnkoKSwgMikpO1xuICAgICAgICAgICAgICAgIHZhciByZXZlcnNlWCA9IHRoaXMuZmluZE9uZSgnLnRvcC1sZWZ0JykueCgpID4gY29tcGFyZVBvaW50LnggPyAtMSA6IDE7XG4gICAgICAgICAgICAgICAgdmFyIHJldmVyc2VZID0gdGhpcy5maW5kT25lKCcudG9wLWxlZnQnKS55KCkgPiBjb21wYXJlUG9pbnQueSA/IC0xIDogMTtcbiAgICAgICAgICAgICAgICB4ID0gbmV3SHlwb3RlbnVzZSAqIHRoaXMuY29zICogcmV2ZXJzZVg7XG4gICAgICAgICAgICAgICAgeSA9IG5ld0h5cG90ZW51c2UgKiB0aGlzLnNpbiAqIHJldmVyc2VZO1xuICAgICAgICAgICAgICAgIHRoaXMuZmluZE9uZSgnLnRvcC1sZWZ0JykueChjb21wYXJlUG9pbnQueCAtIHgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmluZE9uZSgnLnRvcC1sZWZ0JykueShjb21wYXJlUG9pbnQueSAtIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX21vdmluZ0FuY2hvck5hbWUgPT09ICd0b3AtY2VudGVyJykge1xuICAgICAgICAgICAgdGhpcy5maW5kT25lKCcudG9wLWxlZnQnKS55KGFuY2hvck5vZGUueSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9tb3ZpbmdBbmNob3JOYW1lID09PSAndG9wLXJpZ2h0Jykge1xuICAgICAgICAgICAgaWYgKGtlZXBQcm9wb3J0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBhcmVQb2ludCA9IGNlbnRlcmVkU2NhbGluZ1xuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHRoaXMud2lkdGgoKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiB0aGlzLmhlaWdodCgpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHRoaXMuZmluZE9uZSgnLmJvdHRvbS1sZWZ0JykueCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgeTogdGhpcy5maW5kT25lKCcuYm90dG9tLWxlZnQnKS55KCksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbmV3SHlwb3RlbnVzZSA9IE1hdGguc3FydChNYXRoLnBvdyhhbmNob3JOb2RlLngoKSAtIGNvbXBhcmVQb2ludC54LCAyKSArXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucG93KGNvbXBhcmVQb2ludC55IC0gYW5jaG9yTm9kZS55KCksIDIpKTtcbiAgICAgICAgICAgICAgICB2YXIgcmV2ZXJzZVggPSB0aGlzLmZpbmRPbmUoJy50b3AtcmlnaHQnKS54KCkgPCBjb21wYXJlUG9pbnQueCA/IC0xIDogMTtcbiAgICAgICAgICAgICAgICB2YXIgcmV2ZXJzZVkgPSB0aGlzLmZpbmRPbmUoJy50b3AtcmlnaHQnKS55KCkgPiBjb21wYXJlUG9pbnQueSA/IC0xIDogMTtcbiAgICAgICAgICAgICAgICB4ID0gbmV3SHlwb3RlbnVzZSAqIHRoaXMuY29zICogcmV2ZXJzZVg7XG4gICAgICAgICAgICAgICAgeSA9IG5ld0h5cG90ZW51c2UgKiB0aGlzLnNpbiAqIHJldmVyc2VZO1xuICAgICAgICAgICAgICAgIHRoaXMuZmluZE9uZSgnLnRvcC1yaWdodCcpLngoY29tcGFyZVBvaW50LnggKyB4KTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmRPbmUoJy50b3AtcmlnaHQnKS55KGNvbXBhcmVQb2ludC55IC0geSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcG9zID0gYW5jaG9yTm9kZS5wb3NpdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5maW5kT25lKCcudG9wLWxlZnQnKS55KHBvcy55KTtcbiAgICAgICAgICAgIHRoaXMuZmluZE9uZSgnLmJvdHRvbS1yaWdodCcpLngocG9zLngpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX21vdmluZ0FuY2hvck5hbWUgPT09ICdtaWRkbGUtbGVmdCcpIHtcbiAgICAgICAgICAgIHRoaXMuZmluZE9uZSgnLnRvcC1sZWZ0JykueChhbmNob3JOb2RlLngoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fbW92aW5nQW5jaG9yTmFtZSA9PT0gJ21pZGRsZS1yaWdodCcpIHtcbiAgICAgICAgICAgIHRoaXMuZmluZE9uZSgnLmJvdHRvbS1yaWdodCcpLngoYW5jaG9yTm9kZS54KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX21vdmluZ0FuY2hvck5hbWUgPT09ICdib3R0b20tbGVmdCcpIHtcbiAgICAgICAgICAgIGlmIChrZWVwUHJvcG9ydGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBjb21wYXJlUG9pbnQgPSBjZW50ZXJlZFNjYWxpbmdcbiAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiB0aGlzLndpZHRoKCkgLyAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgeTogdGhpcy5oZWlnaHQoKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiB0aGlzLmZpbmRPbmUoJy50b3AtcmlnaHQnKS54KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiB0aGlzLmZpbmRPbmUoJy50b3AtcmlnaHQnKS55KCksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbmV3SHlwb3RlbnVzZSA9IE1hdGguc3FydChNYXRoLnBvdyhjb21wYXJlUG9pbnQueCAtIGFuY2hvck5vZGUueCgpLCAyKSArXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucG93KGFuY2hvck5vZGUueSgpIC0gY29tcGFyZVBvaW50LnksIDIpKTtcbiAgICAgICAgICAgICAgICB2YXIgcmV2ZXJzZVggPSBjb21wYXJlUG9pbnQueCA8IGFuY2hvck5vZGUueCgpID8gLTEgOiAxO1xuICAgICAgICAgICAgICAgIHZhciByZXZlcnNlWSA9IGFuY2hvck5vZGUueSgpIDwgY29tcGFyZVBvaW50LnkgPyAtMSA6IDE7XG4gICAgICAgICAgICAgICAgeCA9IG5ld0h5cG90ZW51c2UgKiB0aGlzLmNvcyAqIHJldmVyc2VYO1xuICAgICAgICAgICAgICAgIHkgPSBuZXdIeXBvdGVudXNlICogdGhpcy5zaW4gKiByZXZlcnNlWTtcbiAgICAgICAgICAgICAgICBhbmNob3JOb2RlLngoY29tcGFyZVBvaW50LnggLSB4KTtcbiAgICAgICAgICAgICAgICBhbmNob3JOb2RlLnkoY29tcGFyZVBvaW50LnkgKyB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvcyA9IGFuY2hvck5vZGUucG9zaXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMuZmluZE9uZSgnLnRvcC1sZWZ0JykueChwb3MueCk7XG4gICAgICAgICAgICB0aGlzLmZpbmRPbmUoJy5ib3R0b20tcmlnaHQnKS55KHBvcy55KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9tb3ZpbmdBbmNob3JOYW1lID09PSAnYm90dG9tLWNlbnRlcicpIHtcbiAgICAgICAgICAgIHRoaXMuZmluZE9uZSgnLmJvdHRvbS1yaWdodCcpLnkoYW5jaG9yTm9kZS55KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX21vdmluZ0FuY2hvck5hbWUgPT09ICdib3R0b20tcmlnaHQnKSB7XG4gICAgICAgICAgICBpZiAoa2VlcFByb3BvcnRpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgY29tcGFyZVBvaW50ID0gY2VudGVyZWRTY2FsaW5nXG4gICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgeDogdGhpcy53aWR0aCgpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IHRoaXMuaGVpZ2h0KCkgLyAyLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgeDogdGhpcy5maW5kT25lKCcudG9wLWxlZnQnKS54KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiB0aGlzLmZpbmRPbmUoJy50b3AtbGVmdCcpLnkoKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBuZXdIeXBvdGVudXNlID0gTWF0aC5zcXJ0KE1hdGgucG93KGFuY2hvck5vZGUueCgpIC0gY29tcGFyZVBvaW50LngsIDIpICtcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5wb3coYW5jaG9yTm9kZS55KCkgLSBjb21wYXJlUG9pbnQueSwgMikpO1xuICAgICAgICAgICAgICAgIHZhciByZXZlcnNlWCA9IHRoaXMuZmluZE9uZSgnLmJvdHRvbS1yaWdodCcpLngoKSA8IGNvbXBhcmVQb2ludC54ID8gLTEgOiAxO1xuICAgICAgICAgICAgICAgIHZhciByZXZlcnNlWSA9IHRoaXMuZmluZE9uZSgnLmJvdHRvbS1yaWdodCcpLnkoKSA8IGNvbXBhcmVQb2ludC55ID8gLTEgOiAxO1xuICAgICAgICAgICAgICAgIHggPSBuZXdIeXBvdGVudXNlICogdGhpcy5jb3MgKiByZXZlcnNlWDtcbiAgICAgICAgICAgICAgICB5ID0gbmV3SHlwb3RlbnVzZSAqIHRoaXMuc2luICogcmV2ZXJzZVk7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5kT25lKCcuYm90dG9tLXJpZ2h0JykueChjb21wYXJlUG9pbnQueCArIHgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmluZE9uZSgnLmJvdHRvbS1yaWdodCcpLnkoY29tcGFyZVBvaW50LnkgKyB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IEVycm9yKCdXcm9uZyBwb3NpdGlvbiBhcmd1bWVudCBvZiBzZWxlY3Rpb24gcmVzaXplcjogJyArXG4gICAgICAgICAgICAgICAgdGhpcy5fbW92aW5nQW5jaG9yTmFtZSkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjZW50ZXJlZFNjYWxpbmcgPSB0aGlzLmNlbnRlcmVkU2NhbGluZygpIHx8IGUuYWx0S2V5O1xuICAgICAgICBpZiAoY2VudGVyZWRTY2FsaW5nKSB7XG4gICAgICAgICAgICB2YXIgdG9wTGVmdCA9IHRoaXMuZmluZE9uZSgnLnRvcC1sZWZ0Jyk7XG4gICAgICAgICAgICB2YXIgYm90dG9tUmlnaHQgPSB0aGlzLmZpbmRPbmUoJy5ib3R0b20tcmlnaHQnKTtcbiAgICAgICAgICAgIHZhciB0b3BPZmZzZXRYID0gdG9wTGVmdC54KCk7XG4gICAgICAgICAgICB2YXIgdG9wT2Zmc2V0WSA9IHRvcExlZnQueSgpO1xuICAgICAgICAgICAgdmFyIGJvdHRvbU9mZnNldFggPSB0aGlzLmdldFdpZHRoKCkgLSBib3R0b21SaWdodC54KCk7XG4gICAgICAgICAgICB2YXIgYm90dG9tT2Zmc2V0WSA9IHRoaXMuZ2V0SGVpZ2h0KCkgLSBib3R0b21SaWdodC55KCk7XG4gICAgICAgICAgICBib3R0b21SaWdodC5tb3ZlKHtcbiAgICAgICAgICAgICAgICB4OiAtdG9wT2Zmc2V0WCxcbiAgICAgICAgICAgICAgICB5OiAtdG9wT2Zmc2V0WSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdG9wTGVmdC5tb3ZlKHtcbiAgICAgICAgICAgICAgICB4OiBib3R0b21PZmZzZXRYLFxuICAgICAgICAgICAgICAgIHk6IGJvdHRvbU9mZnNldFksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWJzUG9zID0gdGhpcy5maW5kT25lKCcudG9wLWxlZnQnKS5nZXRBYnNvbHV0ZVBvc2l0aW9uKCk7XG4gICAgICAgIHggPSBhYnNQb3MueDtcbiAgICAgICAgeSA9IGFic1Bvcy55O1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmZpbmRPbmUoJy5ib3R0b20tcmlnaHQnKS54KCkgLSB0aGlzLmZpbmRPbmUoJy50b3AtbGVmdCcpLngoKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuZmluZE9uZSgnLmJvdHRvbS1yaWdodCcpLnkoKSAtIHRoaXMuZmluZE9uZSgnLnRvcC1sZWZ0JykueSgpO1xuICAgICAgICB0aGlzLl9maXROb2Rlc0ludG8oe1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBHbG9iYWxfMS5Lb252YS5nZXRBbmdsZSh0aGlzLnJvdGF0aW9uKCkpLFxuICAgICAgICB9LCBlKTtcbiAgICB9XG4gICAgX2hhbmRsZU1vdXNlVXAoZSkge1xuICAgICAgICB0aGlzLl9yZW1vdmVFdmVudHMoZSk7XG4gICAgfVxuICAgIGdldEFic29sdXRlVHJhbnNmb3JtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUcmFuc2Zvcm0oKTtcbiAgICB9XG4gICAgX3JlbW92ZUV2ZW50cyhlKSB7XG4gICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybWluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZU1vdXNlTW92ZSk7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZU1vdXNlTW92ZSk7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVNb3VzZVVwLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVNb3VzZVVwLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBub2RlID0gdGhpcy5nZXROb2RlKCk7XG4gICAgICAgICAgICB0aGlzLl9maXJlKCd0cmFuc2Zvcm1lbmQnLCB7IGV2dDogZSwgdGFyZ2V0OiBub2RlIH0pO1xuICAgICAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ub2Rlcy5mb3JFYWNoKCh0YXJnZXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Ll9maXJlKCd0cmFuc2Zvcm1lbmQnLCB7IGV2dDogZSwgdGFyZ2V0IH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbW92aW5nQW5jaG9yTmFtZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2ZpdE5vZGVzSW50byhuZXdBdHRycywgZXZ0KSB7XG4gICAgICAgIHZhciBvbGRBdHRycyA9IHRoaXMuX2dldE5vZGVSZWN0KCk7XG4gICAgICAgIGNvbnN0IG1pblNpemUgPSAxO1xuICAgICAgICBpZiAoVXRpbF8xLlV0aWwuX2luUmFuZ2UobmV3QXR0cnMud2lkdGgsIC10aGlzLnBhZGRpbmcoKSAqIDIgLSBtaW5TaXplLCBtaW5TaXplKSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVXRpbF8xLlV0aWwuX2luUmFuZ2UobmV3QXR0cnMuaGVpZ2h0LCAtdGhpcy5wYWRkaW5nKCkgKiAyIC0gbWluU2l6ZSwgbWluU2l6ZSkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHQgPSBuZXcgVXRpbF8xLlRyYW5zZm9ybSgpO1xuICAgICAgICB0LnJvdGF0ZShHbG9iYWxfMS5Lb252YS5nZXRBbmdsZSh0aGlzLnJvdGF0aW9uKCkpKTtcbiAgICAgICAgaWYgKHRoaXMuX21vdmluZ0FuY2hvck5hbWUgJiZcbiAgICAgICAgICAgIG5ld0F0dHJzLndpZHRoIDwgMCAmJlxuICAgICAgICAgICAgdGhpcy5fbW92aW5nQW5jaG9yTmFtZS5pbmRleE9mKCdsZWZ0JykgPj0gMCkge1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdC5wb2ludCh7XG4gICAgICAgICAgICAgICAgeDogLXRoaXMucGFkZGluZygpICogMixcbiAgICAgICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuZXdBdHRycy54ICs9IG9mZnNldC54O1xuICAgICAgICAgICAgbmV3QXR0cnMueSArPSBvZmZzZXQueTtcbiAgICAgICAgICAgIG5ld0F0dHJzLndpZHRoICs9IHRoaXMucGFkZGluZygpICogMjtcbiAgICAgICAgICAgIHRoaXMuX21vdmluZ0FuY2hvck5hbWUgPSB0aGlzLl9tb3ZpbmdBbmNob3JOYW1lLnJlcGxhY2UoJ2xlZnQnLCAncmlnaHQnKTtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvckRyYWdPZmZzZXQueCAtPSBvZmZzZXQueDtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvckRyYWdPZmZzZXQueSAtPSBvZmZzZXQueTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9tb3ZpbmdBbmNob3JOYW1lICYmXG4gICAgICAgICAgICBuZXdBdHRycy53aWR0aCA8IDAgJiZcbiAgICAgICAgICAgIHRoaXMuX21vdmluZ0FuY2hvck5hbWUuaW5kZXhPZigncmlnaHQnKSA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB0LnBvaW50KHtcbiAgICAgICAgICAgICAgICB4OiB0aGlzLnBhZGRpbmcoKSAqIDIsXG4gICAgICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fbW92aW5nQW5jaG9yTmFtZSA9IHRoaXMuX21vdmluZ0FuY2hvck5hbWUucmVwbGFjZSgncmlnaHQnLCAnbGVmdCcpO1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yRHJhZ09mZnNldC54IC09IG9mZnNldC54O1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yRHJhZ09mZnNldC55IC09IG9mZnNldC55O1xuICAgICAgICAgICAgbmV3QXR0cnMud2lkdGggKz0gdGhpcy5wYWRkaW5nKCkgKiAyO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9tb3ZpbmdBbmNob3JOYW1lICYmXG4gICAgICAgICAgICBuZXdBdHRycy5oZWlnaHQgPCAwICYmXG4gICAgICAgICAgICB0aGlzLl9tb3ZpbmdBbmNob3JOYW1lLmluZGV4T2YoJ3RvcCcpID49IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHQucG9pbnQoe1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogLXRoaXMucGFkZGluZygpICogMixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbmV3QXR0cnMueCArPSBvZmZzZXQueDtcbiAgICAgICAgICAgIG5ld0F0dHJzLnkgKz0gb2Zmc2V0Lnk7XG4gICAgICAgICAgICB0aGlzLl9tb3ZpbmdBbmNob3JOYW1lID0gdGhpcy5fbW92aW5nQW5jaG9yTmFtZS5yZXBsYWNlKCd0b3AnLCAnYm90dG9tJyk7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3JEcmFnT2Zmc2V0LnggLT0gb2Zmc2V0Lng7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3JEcmFnT2Zmc2V0LnkgLT0gb2Zmc2V0Lnk7XG4gICAgICAgICAgICBuZXdBdHRycy5oZWlnaHQgKz0gdGhpcy5wYWRkaW5nKCkgKiAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX21vdmluZ0FuY2hvck5hbWUgJiZcbiAgICAgICAgICAgIG5ld0F0dHJzLmhlaWdodCA8IDAgJiZcbiAgICAgICAgICAgIHRoaXMuX21vdmluZ0FuY2hvck5hbWUuaW5kZXhPZignYm90dG9tJykgPj0gMCkge1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdC5wb2ludCh7XG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLnBhZGRpbmcoKSAqIDIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX21vdmluZ0FuY2hvck5hbWUgPSB0aGlzLl9tb3ZpbmdBbmNob3JOYW1lLnJlcGxhY2UoJ2JvdHRvbScsICd0b3AnKTtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvckRyYWdPZmZzZXQueCAtPSBvZmZzZXQueDtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvckRyYWdPZmZzZXQueSAtPSBvZmZzZXQueTtcbiAgICAgICAgICAgIG5ld0F0dHJzLmhlaWdodCArPSB0aGlzLnBhZGRpbmcoKSAqIDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYm91bmRCb3hGdW5jKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGJvdW5kZWQgPSB0aGlzLmJvdW5kQm94RnVuYygpKG9sZEF0dHJzLCBuZXdBdHRycyk7XG4gICAgICAgICAgICBpZiAoYm91bmRlZCkge1xuICAgICAgICAgICAgICAgIG5ld0F0dHJzID0gYm91bmRlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIFV0aWxfMS5VdGlsLndhcm4oJ2JvdW5kQm94RnVuYyByZXR1cm5lZCBmYWxzeS4gWW91IHNob3VsZCByZXR1cm4gbmV3IGJvdW5kIHJlY3QgZnJvbSBpdCEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBiYXNlU2l6ZSA9IDEwMDAwMDAwO1xuICAgICAgICBjb25zdCBvbGRUciA9IG5ldyBVdGlsXzEuVHJhbnNmb3JtKCk7XG4gICAgICAgIG9sZFRyLnRyYW5zbGF0ZShvbGRBdHRycy54LCBvbGRBdHRycy55KTtcbiAgICAgICAgb2xkVHIucm90YXRlKG9sZEF0dHJzLnJvdGF0aW9uKTtcbiAgICAgICAgb2xkVHIuc2NhbGUob2xkQXR0cnMud2lkdGggLyBiYXNlU2l6ZSwgb2xkQXR0cnMuaGVpZ2h0IC8gYmFzZVNpemUpO1xuICAgICAgICBjb25zdCBuZXdUciA9IG5ldyBVdGlsXzEuVHJhbnNmb3JtKCk7XG4gICAgICAgIGNvbnN0IG5ld1NjYWxlWCA9IG5ld0F0dHJzLndpZHRoIC8gYmFzZVNpemU7XG4gICAgICAgIGNvbnN0IG5ld1NjYWxlWSA9IG5ld0F0dHJzLmhlaWdodCAvIGJhc2VTaXplO1xuICAgICAgICBpZiAodGhpcy5mbGlwRW5hYmxlZCgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgbmV3VHIudHJhbnNsYXRlKG5ld0F0dHJzLngsIG5ld0F0dHJzLnkpO1xuICAgICAgICAgICAgbmV3VHIucm90YXRlKG5ld0F0dHJzLnJvdGF0aW9uKTtcbiAgICAgICAgICAgIG5ld1RyLnRyYW5zbGF0ZShuZXdBdHRycy53aWR0aCA8IDAgPyBuZXdBdHRycy53aWR0aCA6IDAsIG5ld0F0dHJzLmhlaWdodCA8IDAgPyBuZXdBdHRycy5oZWlnaHQgOiAwKTtcbiAgICAgICAgICAgIG5ld1RyLnNjYWxlKE1hdGguYWJzKG5ld1NjYWxlWCksIE1hdGguYWJzKG5ld1NjYWxlWSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3VHIudHJhbnNsYXRlKG5ld0F0dHJzLngsIG5ld0F0dHJzLnkpO1xuICAgICAgICAgICAgbmV3VHIucm90YXRlKG5ld0F0dHJzLnJvdGF0aW9uKTtcbiAgICAgICAgICAgIG5ld1RyLnNjYWxlKG5ld1NjYWxlWCwgbmV3U2NhbGVZKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWx0YSA9IG5ld1RyLm11bHRpcGx5KG9sZFRyLmludmVydCgpKTtcbiAgICAgICAgdGhpcy5fbm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgcGFyZW50VHJhbnNmb3JtID0gbm9kZS5nZXRQYXJlbnQoKS5nZXRBYnNvbHV0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxUcmFuc2Zvcm0gPSBub2RlLmdldFRyYW5zZm9ybSgpLmNvcHkoKTtcbiAgICAgICAgICAgIGxvY2FsVHJhbnNmb3JtLnRyYW5zbGF0ZShub2RlLm9mZnNldFgoKSwgbm9kZS5vZmZzZXRZKCkpO1xuICAgICAgICAgICAgY29uc3QgbmV3TG9jYWxUcmFuc2Zvcm0gPSBuZXcgVXRpbF8xLlRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgbmV3TG9jYWxUcmFuc2Zvcm1cbiAgICAgICAgICAgICAgICAubXVsdGlwbHkocGFyZW50VHJhbnNmb3JtLmNvcHkoKS5pbnZlcnQoKSlcbiAgICAgICAgICAgICAgICAubXVsdGlwbHkoZGVsdGEpXG4gICAgICAgICAgICAgICAgLm11bHRpcGx5KHBhcmVudFRyYW5zZm9ybSlcbiAgICAgICAgICAgICAgICAubXVsdGlwbHkobG9jYWxUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgY29uc3QgYXR0cnMgPSBuZXdMb2NhbFRyYW5zZm9ybS5kZWNvbXBvc2UoKTtcbiAgICAgICAgICAgIG5vZGUuc2V0QXR0cnMoYXR0cnMpO1xuICAgICAgICAgICAgdGhpcy5fZmlyZSgndHJhbnNmb3JtJywgeyBldnQ6IGV2dCwgdGFyZ2V0OiBub2RlIH0pO1xuICAgICAgICAgICAgbm9kZS5fZmlyZSgndHJhbnNmb3JtJywgeyBldnQ6IGV2dCwgdGFyZ2V0OiBub2RlIH0pO1xuICAgICAgICAgICAgKF9hID0gbm9kZS5nZXRMYXllcigpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmF0Y2hEcmF3KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJvdGF0aW9uKFV0aWxfMS5VdGlsLl9nZXRSb3RhdGlvbihuZXdBdHRycy5yb3RhdGlvbikpO1xuICAgICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUNhY2hlKCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHRoaXMuZ2V0TGF5ZXIoKS5iYXRjaERyYXcoKTtcbiAgICB9XG4gICAgZm9yY2VVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0VHJhbnNmb3JtQ2FjaGUoKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gICAgX2JhdGNoQ2hhbmdlQ2hpbGQoc2VsZWN0b3IsIGF0dHJzKSB7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuZmluZE9uZShzZWxlY3Rvcik7XG4gICAgICAgIGFuY2hvci5zZXRBdHRycyhhdHRycyk7XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgYXR0cnMgPSB0aGlzLl9nZXROb2RlUmVjdCgpO1xuICAgICAgICB0aGlzLnJvdGF0aW9uKFV0aWxfMS5VdGlsLl9nZXRSb3RhdGlvbihhdHRycy5yb3RhdGlvbikpO1xuICAgICAgICB2YXIgd2lkdGggPSBhdHRycy53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGF0dHJzLmhlaWdodDtcbiAgICAgICAgdmFyIGVuYWJsZWRBbmNob3JzID0gdGhpcy5lbmFibGVkQW5jaG9ycygpO1xuICAgICAgICB2YXIgcmVzaXplRW5hYmxlZCA9IHRoaXMucmVzaXplRW5hYmxlZCgpO1xuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMucGFkZGluZygpO1xuICAgICAgICB2YXIgYW5jaG9yU2l6ZSA9IHRoaXMuYW5jaG9yU2l6ZSgpO1xuICAgICAgICBjb25zdCBhbmNob3JzID0gdGhpcy5maW5kKCcuX2FuY2hvcicpO1xuICAgICAgICBhbmNob3JzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgICAgIG5vZGUuc2V0QXR0cnMoe1xuICAgICAgICAgICAgICAgIHdpZHRoOiBhbmNob3JTaXplLFxuICAgICAgICAgICAgICAgIGhlaWdodDogYW5jaG9yU2l6ZSxcbiAgICAgICAgICAgICAgICBvZmZzZXRYOiBhbmNob3JTaXplIC8gMixcbiAgICAgICAgICAgICAgICBvZmZzZXRZOiBhbmNob3JTaXplIC8gMixcbiAgICAgICAgICAgICAgICBzdHJva2U6IHRoaXMuYW5jaG9yU3Ryb2tlKCksXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHRoaXMuYW5jaG9yU3Ryb2tlV2lkdGgoKSxcbiAgICAgICAgICAgICAgICBmaWxsOiB0aGlzLmFuY2hvckZpbGwoKSxcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXM6IHRoaXMuYW5jaG9yQ29ybmVyUmFkaXVzKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2JhdGNoQ2hhbmdlQ2hpbGQoJy50b3AtbGVmdCcsIHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgb2Zmc2V0WDogYW5jaG9yU2l6ZSAvIDIgKyBwYWRkaW5nLFxuICAgICAgICAgICAgb2Zmc2V0WTogYW5jaG9yU2l6ZSAvIDIgKyBwYWRkaW5nLFxuICAgICAgICAgICAgdmlzaWJsZTogcmVzaXplRW5hYmxlZCAmJiBlbmFibGVkQW5jaG9ycy5pbmRleE9mKCd0b3AtbGVmdCcpID49IDAsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9iYXRjaENoYW5nZUNoaWxkKCcudG9wLWNlbnRlcicsIHtcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICBvZmZzZXRZOiBhbmNob3JTaXplIC8gMiArIHBhZGRpbmcsXG4gICAgICAgICAgICB2aXNpYmxlOiByZXNpemVFbmFibGVkICYmIGVuYWJsZWRBbmNob3JzLmluZGV4T2YoJ3RvcC1jZW50ZXInKSA+PSAwLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fYmF0Y2hDaGFuZ2VDaGlsZCgnLnRvcC1yaWdodCcsIHtcbiAgICAgICAgICAgIHg6IHdpZHRoLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIG9mZnNldFg6IGFuY2hvclNpemUgLyAyIC0gcGFkZGluZyxcbiAgICAgICAgICAgIG9mZnNldFk6IGFuY2hvclNpemUgLyAyICsgcGFkZGluZyxcbiAgICAgICAgICAgIHZpc2libGU6IHJlc2l6ZUVuYWJsZWQgJiYgZW5hYmxlZEFuY2hvcnMuaW5kZXhPZigndG9wLXJpZ2h0JykgPj0gMCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2JhdGNoQ2hhbmdlQ2hpbGQoJy5taWRkbGUtbGVmdCcsIHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiBoZWlnaHQgLyAyLFxuICAgICAgICAgICAgb2Zmc2V0WDogYW5jaG9yU2l6ZSAvIDIgKyBwYWRkaW5nLFxuICAgICAgICAgICAgdmlzaWJsZTogcmVzaXplRW5hYmxlZCAmJiBlbmFibGVkQW5jaG9ycy5pbmRleE9mKCdtaWRkbGUtbGVmdCcpID49IDAsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9iYXRjaENoYW5nZUNoaWxkKCcubWlkZGxlLXJpZ2h0Jywge1xuICAgICAgICAgICAgeDogd2lkdGgsXG4gICAgICAgICAgICB5OiBoZWlnaHQgLyAyLFxuICAgICAgICAgICAgb2Zmc2V0WDogYW5jaG9yU2l6ZSAvIDIgLSBwYWRkaW5nLFxuICAgICAgICAgICAgdmlzaWJsZTogcmVzaXplRW5hYmxlZCAmJiBlbmFibGVkQW5jaG9ycy5pbmRleE9mKCdtaWRkbGUtcmlnaHQnKSA+PSAwLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fYmF0Y2hDaGFuZ2VDaGlsZCgnLmJvdHRvbS1sZWZ0Jywge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IGhlaWdodCxcbiAgICAgICAgICAgIG9mZnNldFg6IGFuY2hvclNpemUgLyAyICsgcGFkZGluZyxcbiAgICAgICAgICAgIG9mZnNldFk6IGFuY2hvclNpemUgLyAyIC0gcGFkZGluZyxcbiAgICAgICAgICAgIHZpc2libGU6IHJlc2l6ZUVuYWJsZWQgJiYgZW5hYmxlZEFuY2hvcnMuaW5kZXhPZignYm90dG9tLWxlZnQnKSA+PSAwLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fYmF0Y2hDaGFuZ2VDaGlsZCgnLmJvdHRvbS1jZW50ZXInLCB7XG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXG4gICAgICAgICAgICB5OiBoZWlnaHQsXG4gICAgICAgICAgICBvZmZzZXRZOiBhbmNob3JTaXplIC8gMiAtIHBhZGRpbmcsXG4gICAgICAgICAgICB2aXNpYmxlOiByZXNpemVFbmFibGVkICYmIGVuYWJsZWRBbmNob3JzLmluZGV4T2YoJ2JvdHRvbS1jZW50ZXInKSA+PSAwLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fYmF0Y2hDaGFuZ2VDaGlsZCgnLmJvdHRvbS1yaWdodCcsIHtcbiAgICAgICAgICAgIHg6IHdpZHRoLFxuICAgICAgICAgICAgeTogaGVpZ2h0LFxuICAgICAgICAgICAgb2Zmc2V0WDogYW5jaG9yU2l6ZSAvIDIgLSBwYWRkaW5nLFxuICAgICAgICAgICAgb2Zmc2V0WTogYW5jaG9yU2l6ZSAvIDIgLSBwYWRkaW5nLFxuICAgICAgICAgICAgdmlzaWJsZTogcmVzaXplRW5hYmxlZCAmJiBlbmFibGVkQW5jaG9ycy5pbmRleE9mKCdib3R0b20tcmlnaHQnKSA+PSAwLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fYmF0Y2hDaGFuZ2VDaGlsZCgnLnJvdGF0ZXInLCB7XG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXG4gICAgICAgICAgICB5OiAtdGhpcy5yb3RhdGVBbmNob3JPZmZzZXQoKSAqIFV0aWxfMS5VdGlsLl9zaWduKGhlaWdodCkgLSBwYWRkaW5nLFxuICAgICAgICAgICAgdmlzaWJsZTogdGhpcy5yb3RhdGVFbmFibGVkKCksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9iYXRjaENoYW5nZUNoaWxkKCcuYmFjaycsIHtcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgdmlzaWJsZTogdGhpcy5ib3JkZXJFbmFibGVkKCksXG4gICAgICAgICAgICBzdHJva2U6IHRoaXMuYm9yZGVyU3Ryb2tlKCksXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogdGhpcy5ib3JkZXJTdHJva2VXaWR0aCgpLFxuICAgICAgICAgICAgZGFzaDogdGhpcy5ib3JkZXJEYXNoKCksXG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHN0eWxlRnVuYyA9IHRoaXMuYW5jaG9yU3R5bGVGdW5jKCk7XG4gICAgICAgIGlmIChzdHlsZUZ1bmMpIHtcbiAgICAgICAgICAgIGFuY2hvcnMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgIHN0eWxlRnVuYyhub2RlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIChfYSA9IHRoaXMuZ2V0TGF5ZXIoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJhdGNoRHJhdygpO1xuICAgIH1cbiAgICBpc1RyYW5zZm9ybWluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zZm9ybWluZztcbiAgICB9XG4gICAgc3RvcFRyYW5zZm9ybSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybWluZykge1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRzKCk7XG4gICAgICAgICAgICB2YXIgYW5jaG9yTm9kZSA9IHRoaXMuZmluZE9uZSgnLicgKyB0aGlzLl9tb3ZpbmdBbmNob3JOYW1lKTtcbiAgICAgICAgICAgIGlmIChhbmNob3JOb2RlKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yTm9kZS5zdG9wRHJhZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLmdldFN0YWdlKCkgJiYgdGhpcy5fY3Vyc29yQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLmdldFN0YWdlKCkuY29udGVudCAmJiAodGhpcy5nZXRTdGFnZSgpLmNvbnRlbnQuc3R5bGUuY3Vyc29yID0gJycpO1xuICAgICAgICB9XG4gICAgICAgIEdyb3VwXzEuR3JvdXAucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5kZXRhY2goKTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRzKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0b09iamVjdCgpIHtcbiAgICAgICAgcmV0dXJuIE5vZGVfMS5Ob2RlLnByb3RvdHlwZS50b09iamVjdC5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBjbG9uZShvYmopIHtcbiAgICAgICAgdmFyIG5vZGUgPSBOb2RlXzEuTm9kZS5wcm90b3R5cGUuY2xvbmUuY2FsbCh0aGlzLCBvYmopO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZ2V0Q2xpZW50UmVjdCgpIHtcbiAgICAgICAgaWYgKHRoaXMubm9kZXMoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0Q2xpZW50UmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCwgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5UcmFuc2Zvcm1lciA9IFRyYW5zZm9ybWVyO1xuZnVuY3Rpb24gdmFsaWRhdGVBbmNob3JzKHZhbCkge1xuICAgIGlmICghKHZhbCBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICBVdGlsXzEuVXRpbC53YXJuKCdlbmFibGVkQW5jaG9ycyB2YWx1ZSBzaG91bGQgYmUgYW4gYXJyYXknKTtcbiAgICB9XG4gICAgaWYgKHZhbCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHZhbC5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICBpZiAoQU5DSE9SU19OQU1FUy5pbmRleE9mKG5hbWUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIFV0aWxfMS5VdGlsLndhcm4oJ1Vua25vd24gYW5jaG9yIG5hbWU6ICcgK1xuICAgICAgICAgICAgICAgICAgICBuYW1lICtcbiAgICAgICAgICAgICAgICAgICAgJy4gQXZhaWxhYmxlIG5hbWVzIGFyZTogJyArXG4gICAgICAgICAgICAgICAgICAgIEFOQ0hPUlNfTkFNRVMuam9pbignLCAnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdmFsIHx8IFtdO1xufVxuVHJhbnNmb3JtZXIucHJvdG90eXBlLmNsYXNzTmFtZSA9ICdUcmFuc2Zvcm1lcic7XG4oMCwgR2xvYmFsXzIuX3JlZ2lzdGVyTm9kZSkoVHJhbnNmb3JtZXIpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFRyYW5zZm9ybWVyLCAnZW5hYmxlZEFuY2hvcnMnLCBBTkNIT1JTX05BTUVTLCB2YWxpZGF0ZUFuY2hvcnMpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFRyYW5zZm9ybWVyLCAnZmxpcEVuYWJsZWQnLCB0cnVlLCAoMCwgVmFsaWRhdG9yc18xLmdldEJvb2xlYW5WYWxpZGF0b3IpKCkpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFRyYW5zZm9ybWVyLCAncmVzaXplRW5hYmxlZCcsIHRydWUpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFRyYW5zZm9ybWVyLCAnYW5jaG9yU2l6ZScsIDEwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoVHJhbnNmb3JtZXIsICdyb3RhdGVFbmFibGVkJywgdHJ1ZSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoVHJhbnNmb3JtZXIsICdyb3RhdGlvblNuYXBzJywgW10pO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFRyYW5zZm9ybWVyLCAncm90YXRlQW5jaG9yT2Zmc2V0JywgNTAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUcmFuc2Zvcm1lciwgJ3JvdGF0ZUFuY2hvckN1cnNvcicsICdjcm9zc2hhaXInKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUcmFuc2Zvcm1lciwgJ3JvdGF0aW9uU25hcFRvbGVyYW5jZScsIDUsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUcmFuc2Zvcm1lciwgJ2JvcmRlckVuYWJsZWQnLCB0cnVlKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUcmFuc2Zvcm1lciwgJ2FuY2hvclN0cm9rZScsICdyZ2IoMCwgMTYxLCAyNTUpJyk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoVHJhbnNmb3JtZXIsICdhbmNob3JTdHJva2VXaWR0aCcsIDEsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUcmFuc2Zvcm1lciwgJ2FuY2hvckZpbGwnLCAnd2hpdGUnKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUcmFuc2Zvcm1lciwgJ2FuY2hvckNvcm5lclJhZGl1cycsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUcmFuc2Zvcm1lciwgJ2JvcmRlclN0cm9rZScsICdyZ2IoMCwgMTYxLCAyNTUpJyk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoVHJhbnNmb3JtZXIsICdib3JkZXJTdHJva2VXaWR0aCcsIDEsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUcmFuc2Zvcm1lciwgJ2JvcmRlckRhc2gnKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUcmFuc2Zvcm1lciwgJ2tlZXBSYXRpbycsIHRydWUpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFRyYW5zZm9ybWVyLCAnc2hpZnRCZWhhdmlvcicsICdkZWZhdWx0Jyk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoVHJhbnNmb3JtZXIsICdjZW50ZXJlZFNjYWxpbmcnLCBmYWxzZSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoVHJhbnNmb3JtZXIsICdpZ25vcmVTdHJva2UnLCBmYWxzZSk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoVHJhbnNmb3JtZXIsICdwYWRkaW5nJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFRyYW5zZm9ybWVyLCAnbm9kZScpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFRyYW5zZm9ybWVyLCAnbm9kZXMnKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUcmFuc2Zvcm1lciwgJ2JvdW5kQm94RnVuYycpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFRyYW5zZm9ybWVyLCAnYW5jaG9yRHJhZ0JvdW5kRnVuYycpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFRyYW5zZm9ybWVyLCAnYW5jaG9yU3R5bGVGdW5jJyk7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoVHJhbnNmb3JtZXIsICdzaG91bGRPdmVyZHJhd1dob2xlQXJlYScsIGZhbHNlKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihUcmFuc2Zvcm1lciwgJ3VzZVNpbmdsZU5vZGVSb3RhdGlvbicsIHRydWUpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYmFja0NvbXBhdChUcmFuc2Zvcm1lciwge1xuICAgIGxpbmVFbmFibGVkOiAnYm9yZGVyRW5hYmxlZCcsXG4gICAgcm90YXRlSGFuZGxlck9mZnNldDogJ3JvdGF0ZUFuY2hvck9mZnNldCcsXG4gICAgZW5hYmxlZEhhbmRsZXJzOiAnZW5hYmxlZEFuY2hvcnMnLFxufSk7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLldlZGdlID0gdm9pZCAwO1xuY29uc3QgRmFjdG9yeV8xID0gcmVxdWlyZShcIi4uL0ZhY3RvcnlcIik7XG5jb25zdCBTaGFwZV8xID0gcmVxdWlyZShcIi4uL1NoYXBlXCIpO1xuY29uc3QgR2xvYmFsXzEgPSByZXF1aXJlKFwiLi4vR2xvYmFsXCIpO1xuY29uc3QgVmFsaWRhdG9yc18xID0gcmVxdWlyZShcIi4uL1ZhbGlkYXRvcnNcIik7XG5jb25zdCBHbG9iYWxfMiA9IHJlcXVpcmUoXCIuLi9HbG9iYWxcIik7XG5jbGFzcyBXZWRnZSBleHRlbmRzIFNoYXBlXzEuU2hhcGUge1xuICAgIF9zY2VuZUZ1bmMoY29udGV4dCkge1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0LmFyYygwLCAwLCB0aGlzLnJhZGl1cygpLCAwLCBHbG9iYWxfMS5Lb252YS5nZXRBbmdsZSh0aGlzLmFuZ2xlKCkpLCB0aGlzLmNsb2Nrd2lzZSgpKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oMCwgMCk7XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0cm9rZVNoYXBlKHRoaXMpO1xuICAgIH1cbiAgICBnZXRXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFkaXVzKCkgKiAyO1xuICAgIH1cbiAgICBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhZGl1cygpICogMjtcbiAgICB9XG4gICAgc2V0V2lkdGgod2lkdGgpIHtcbiAgICAgICAgdGhpcy5yYWRpdXMod2lkdGggLyAyKTtcbiAgICB9XG4gICAgc2V0SGVpZ2h0KGhlaWdodCkge1xuICAgICAgICB0aGlzLnJhZGl1cyhoZWlnaHQgLyAyKTtcbiAgICB9XG59XG5leHBvcnRzLldlZGdlID0gV2VkZ2U7XG5XZWRnZS5wcm90b3R5cGUuY2xhc3NOYW1lID0gJ1dlZGdlJztcbldlZGdlLnByb3RvdHlwZS5fY2VudHJvaWQgPSB0cnVlO1xuV2VkZ2UucHJvdG90eXBlLl9hdHRyc0FmZmVjdGluZ1NpemUgPSBbJ3JhZGl1cyddO1xuKDAsIEdsb2JhbF8yLl9yZWdpc3Rlck5vZGUpKFdlZGdlKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihXZWRnZSwgJ3JhZGl1cycsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihXZWRnZSwgJ2FuZ2xlJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCkpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKFdlZGdlLCAnY2xvY2t3aXNlJywgZmFsc2UpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYmFja0NvbXBhdChXZWRnZSwge1xuICAgIGFuZ2xlRGVnOiAnYW5nbGUnLFxuICAgIGdldEFuZ2xlRGVnOiAnZ2V0QW5nbGUnLFxuICAgIHNldEFuZ2xlRGVnOiAnc2V0QW5nbGUnLFxufSk7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJsdXIgPSB2b2lkIDA7XG5jb25zdCBGYWN0b3J5XzEgPSByZXF1aXJlKFwiLi4vRmFjdG9yeVwiKTtcbmNvbnN0IE5vZGVfMSA9IHJlcXVpcmUoXCIuLi9Ob2RlXCIpO1xuY29uc3QgVmFsaWRhdG9yc18xID0gcmVxdWlyZShcIi4uL1ZhbGlkYXRvcnNcIik7XG5mdW5jdGlvbiBCbHVyU3RhY2soKSB7XG4gICAgdGhpcy5yID0gMDtcbiAgICB0aGlzLmcgPSAwO1xuICAgIHRoaXMuYiA9IDA7XG4gICAgdGhpcy5hID0gMDtcbiAgICB0aGlzLm5leHQgPSBudWxsO1xufVxudmFyIG11bF90YWJsZSA9IFtcbiAgICA1MTIsIDUxMiwgNDU2LCA1MTIsIDMyOCwgNDU2LCAzMzUsIDUxMiwgNDA1LCAzMjgsIDI3MSwgNDU2LCAzODgsIDMzNSwgMjkyLFxuICAgIDUxMiwgNDU0LCA0MDUsIDM2NCwgMzI4LCAyOTgsIDI3MSwgNDk2LCA0NTYsIDQyMCwgMzg4LCAzNjAsIDMzNSwgMzEyLCAyOTIsXG4gICAgMjczLCA1MTIsIDQ4MiwgNDU0LCA0MjgsIDQwNSwgMzgzLCAzNjQsIDM0NSwgMzI4LCAzMTIsIDI5OCwgMjg0LCAyNzEsIDI1OSxcbiAgICA0OTYsIDQ3NSwgNDU2LCA0MzcsIDQyMCwgNDA0LCAzODgsIDM3NCwgMzYwLCAzNDcsIDMzNSwgMzIzLCAzMTIsIDMwMiwgMjkyLFxuICAgIDI4MiwgMjczLCAyNjUsIDUxMiwgNDk3LCA0ODIsIDQ2OCwgNDU0LCA0NDEsIDQyOCwgNDE3LCA0MDUsIDM5NCwgMzgzLCAzNzMsXG4gICAgMzY0LCAzNTQsIDM0NSwgMzM3LCAzMjgsIDMyMCwgMzEyLCAzMDUsIDI5OCwgMjkxLCAyODQsIDI3OCwgMjcxLCAyNjUsIDI1OSxcbiAgICA1MDcsIDQ5NiwgNDg1LCA0NzUsIDQ2NSwgNDU2LCA0NDYsIDQzNywgNDI4LCA0MjAsIDQxMiwgNDA0LCAzOTYsIDM4OCwgMzgxLFxuICAgIDM3NCwgMzY3LCAzNjAsIDM1NCwgMzQ3LCAzNDEsIDMzNSwgMzI5LCAzMjMsIDMxOCwgMzEyLCAzMDcsIDMwMiwgMjk3LCAyOTIsXG4gICAgMjg3LCAyODIsIDI3OCwgMjczLCAyNjksIDI2NSwgMjYxLCA1MTIsIDUwNSwgNDk3LCA0ODksIDQ4MiwgNDc1LCA0NjgsIDQ2MSxcbiAgICA0NTQsIDQ0NywgNDQxLCA0MzUsIDQyOCwgNDIyLCA0MTcsIDQxMSwgNDA1LCAzOTksIDM5NCwgMzg5LCAzODMsIDM3OCwgMzczLFxuICAgIDM2OCwgMzY0LCAzNTksIDM1NCwgMzUwLCAzNDUsIDM0MSwgMzM3LCAzMzIsIDMyOCwgMzI0LCAzMjAsIDMxNiwgMzEyLCAzMDksXG4gICAgMzA1LCAzMDEsIDI5OCwgMjk0LCAyOTEsIDI4NywgMjg0LCAyODEsIDI3OCwgMjc0LCAyNzEsIDI2OCwgMjY1LCAyNjIsIDI1OSxcbiAgICAyNTcsIDUwNywgNTAxLCA0OTYsIDQ5MSwgNDg1LCA0ODAsIDQ3NSwgNDcwLCA0NjUsIDQ2MCwgNDU2LCA0NTEsIDQ0NiwgNDQyLFxuICAgIDQzNywgNDMzLCA0MjgsIDQyNCwgNDIwLCA0MTYsIDQxMiwgNDA4LCA0MDQsIDQwMCwgMzk2LCAzOTIsIDM4OCwgMzg1LCAzODEsXG4gICAgMzc3LCAzNzQsIDM3MCwgMzY3LCAzNjMsIDM2MCwgMzU3LCAzNTQsIDM1MCwgMzQ3LCAzNDQsIDM0MSwgMzM4LCAzMzUsIDMzMixcbiAgICAzMjksIDMyNiwgMzIzLCAzMjAsIDMxOCwgMzE1LCAzMTIsIDMxMCwgMzA3LCAzMDQsIDMwMiwgMjk5LCAyOTcsIDI5NCwgMjkyLFxuICAgIDI4OSwgMjg3LCAyODUsIDI4MiwgMjgwLCAyNzgsIDI3NSwgMjczLCAyNzEsIDI2OSwgMjY3LCAyNjUsIDI2MywgMjYxLCAyNTksXG5dO1xudmFyIHNoZ190YWJsZSA9IFtcbiAgICA5LCAxMSwgMTIsIDEzLCAxMywgMTQsIDE0LCAxNSwgMTUsIDE1LCAxNSwgMTYsIDE2LCAxNiwgMTYsIDE3LCAxNywgMTcsIDE3LCAxNyxcbiAgICAxNywgMTcsIDE4LCAxOCwgMTgsIDE4LCAxOCwgMTgsIDE4LCAxOCwgMTgsIDE5LCAxOSwgMTksIDE5LCAxOSwgMTksIDE5LCAxOSxcbiAgICAxOSwgMTksIDE5LCAxOSwgMTksIDE5LCAyMCwgMjAsIDIwLCAyMCwgMjAsIDIwLCAyMCwgMjAsIDIwLCAyMCwgMjAsIDIwLCAyMCxcbiAgICAyMCwgMjAsIDIwLCAyMCwgMjAsIDIxLCAyMSwgMjEsIDIxLCAyMSwgMjEsIDIxLCAyMSwgMjEsIDIxLCAyMSwgMjEsIDIxLCAyMSxcbiAgICAyMSwgMjEsIDIxLCAyMSwgMjEsIDIxLCAyMSwgMjEsIDIxLCAyMSwgMjEsIDIxLCAyMSwgMjIsIDIyLCAyMiwgMjIsIDIyLCAyMixcbiAgICAyMiwgMjIsIDIyLCAyMiwgMjIsIDIyLCAyMiwgMjIsIDIyLCAyMiwgMjIsIDIyLCAyMiwgMjIsIDIyLCAyMiwgMjIsIDIyLCAyMixcbiAgICAyMiwgMjIsIDIyLCAyMiwgMjIsIDIyLCAyMiwgMjIsIDIyLCAyMiwgMjIsIDIyLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMyxcbiAgICAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMyxcbiAgICAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMyxcbiAgICAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCxcbiAgICAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCxcbiAgICAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCxcbiAgICAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCxcbiAgICAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCxcbl07XG5mdW5jdGlvbiBmaWx0ZXJHYXVzc0JsdXJSR0JBKGltYWdlRGF0YSwgcmFkaXVzKSB7XG4gICAgdmFyIHBpeGVscyA9IGltYWdlRGF0YS5kYXRhLCB3aWR0aCA9IGltYWdlRGF0YS53aWR0aCwgaGVpZ2h0ID0gaW1hZ2VEYXRhLmhlaWdodDtcbiAgICB2YXIgeCwgeSwgaSwgcCwgeXAsIHlpLCB5dywgcl9zdW0sIGdfc3VtLCBiX3N1bSwgYV9zdW0sIHJfb3V0X3N1bSwgZ19vdXRfc3VtLCBiX291dF9zdW0sIGFfb3V0X3N1bSwgcl9pbl9zdW0sIGdfaW5fc3VtLCBiX2luX3N1bSwgYV9pbl9zdW0sIHByLCBwZywgcGIsIHBhLCByYnM7XG4gICAgdmFyIGRpdiA9IHJhZGl1cyArIHJhZGl1cyArIDEsIHdpZHRoTWludXMxID0gd2lkdGggLSAxLCBoZWlnaHRNaW51czEgPSBoZWlnaHQgLSAxLCByYWRpdXNQbHVzMSA9IHJhZGl1cyArIDEsIHN1bUZhY3RvciA9IChyYWRpdXNQbHVzMSAqIChyYWRpdXNQbHVzMSArIDEpKSAvIDIsIHN0YWNrU3RhcnQgPSBuZXcgQmx1clN0YWNrKCksIHN0YWNrRW5kID0gbnVsbCwgc3RhY2sgPSBzdGFja1N0YXJ0LCBzdGFja0luID0gbnVsbCwgc3RhY2tPdXQgPSBudWxsLCBtdWxfc3VtID0gbXVsX3RhYmxlW3JhZGl1c10sIHNoZ19zdW0gPSBzaGdfdGFibGVbcmFkaXVzXTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgZGl2OyBpKyspIHtcbiAgICAgICAgc3RhY2sgPSBzdGFjay5uZXh0ID0gbmV3IEJsdXJTdGFjaygpO1xuICAgICAgICBpZiAoaSA9PT0gcmFkaXVzUGx1czEpIHtcbiAgICAgICAgICAgIHN0YWNrRW5kID0gc3RhY2s7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhY2submV4dCA9IHN0YWNrU3RhcnQ7XG4gICAgeXcgPSB5aSA9IDA7XG4gICAgZm9yICh5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7XG4gICAgICAgIHJfaW5fc3VtID1cbiAgICAgICAgICAgIGdfaW5fc3VtID1cbiAgICAgICAgICAgICAgICBiX2luX3N1bSA9XG4gICAgICAgICAgICAgICAgICAgIGFfaW5fc3VtID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJfc3VtID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnX3N1bSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJfc3VtID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFfc3VtID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwO1xuICAgICAgICByX291dF9zdW0gPSByYWRpdXNQbHVzMSAqIChwciA9IHBpeGVsc1t5aV0pO1xuICAgICAgICBnX291dF9zdW0gPSByYWRpdXNQbHVzMSAqIChwZyA9IHBpeGVsc1t5aSArIDFdKTtcbiAgICAgICAgYl9vdXRfc3VtID0gcmFkaXVzUGx1czEgKiAocGIgPSBwaXhlbHNbeWkgKyAyXSk7XG4gICAgICAgIGFfb3V0X3N1bSA9IHJhZGl1c1BsdXMxICogKHBhID0gcGl4ZWxzW3lpICsgM10pO1xuICAgICAgICByX3N1bSArPSBzdW1GYWN0b3IgKiBwcjtcbiAgICAgICAgZ19zdW0gKz0gc3VtRmFjdG9yICogcGc7XG4gICAgICAgIGJfc3VtICs9IHN1bUZhY3RvciAqIHBiO1xuICAgICAgICBhX3N1bSArPSBzdW1GYWN0b3IgKiBwYTtcbiAgICAgICAgc3RhY2sgPSBzdGFja1N0YXJ0O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcmFkaXVzUGx1czE7IGkrKykge1xuICAgICAgICAgICAgc3RhY2suciA9IHByO1xuICAgICAgICAgICAgc3RhY2suZyA9IHBnO1xuICAgICAgICAgICAgc3RhY2suYiA9IHBiO1xuICAgICAgICAgICAgc3RhY2suYSA9IHBhO1xuICAgICAgICAgICAgc3RhY2sgPSBzdGFjay5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDE7IGkgPCByYWRpdXNQbHVzMTsgaSsrKSB7XG4gICAgICAgICAgICBwID0geWkgKyAoKHdpZHRoTWludXMxIDwgaSA/IHdpZHRoTWludXMxIDogaSkgPDwgMik7XG4gICAgICAgICAgICByX3N1bSArPSAoc3RhY2suciA9IHByID0gcGl4ZWxzW3BdKSAqIChyYnMgPSByYWRpdXNQbHVzMSAtIGkpO1xuICAgICAgICAgICAgZ19zdW0gKz0gKHN0YWNrLmcgPSBwZyA9IHBpeGVsc1twICsgMV0pICogcmJzO1xuICAgICAgICAgICAgYl9zdW0gKz0gKHN0YWNrLmIgPSBwYiA9IHBpeGVsc1twICsgMl0pICogcmJzO1xuICAgICAgICAgICAgYV9zdW0gKz0gKHN0YWNrLmEgPSBwYSA9IHBpeGVsc1twICsgM10pICogcmJzO1xuICAgICAgICAgICAgcl9pbl9zdW0gKz0gcHI7XG4gICAgICAgICAgICBnX2luX3N1bSArPSBwZztcbiAgICAgICAgICAgIGJfaW5fc3VtICs9IHBiO1xuICAgICAgICAgICAgYV9pbl9zdW0gKz0gcGE7XG4gICAgICAgICAgICBzdGFjayA9IHN0YWNrLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgc3RhY2tJbiA9IHN0YWNrU3RhcnQ7XG4gICAgICAgIHN0YWNrT3V0ID0gc3RhY2tFbmQ7XG4gICAgICAgIGZvciAoeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7XG4gICAgICAgICAgICBwaXhlbHNbeWkgKyAzXSA9IHBhID0gKGFfc3VtICogbXVsX3N1bSkgPj4gc2hnX3N1bTtcbiAgICAgICAgICAgIGlmIChwYSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHBhID0gMjU1IC8gcGE7XG4gICAgICAgICAgICAgICAgcGl4ZWxzW3lpXSA9ICgocl9zdW0gKiBtdWxfc3VtKSA+PiBzaGdfc3VtKSAqIHBhO1xuICAgICAgICAgICAgICAgIHBpeGVsc1t5aSArIDFdID0gKChnX3N1bSAqIG11bF9zdW0pID4+IHNoZ19zdW0pICogcGE7XG4gICAgICAgICAgICAgICAgcGl4ZWxzW3lpICsgMl0gPSAoKGJfc3VtICogbXVsX3N1bSkgPj4gc2hnX3N1bSkgKiBwYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBpeGVsc1t5aV0gPSBwaXhlbHNbeWkgKyAxXSA9IHBpeGVsc1t5aSArIDJdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJfc3VtIC09IHJfb3V0X3N1bTtcbiAgICAgICAgICAgIGdfc3VtIC09IGdfb3V0X3N1bTtcbiAgICAgICAgICAgIGJfc3VtIC09IGJfb3V0X3N1bTtcbiAgICAgICAgICAgIGFfc3VtIC09IGFfb3V0X3N1bTtcbiAgICAgICAgICAgIHJfb3V0X3N1bSAtPSBzdGFja0luLnI7XG4gICAgICAgICAgICBnX291dF9zdW0gLT0gc3RhY2tJbi5nO1xuICAgICAgICAgICAgYl9vdXRfc3VtIC09IHN0YWNrSW4uYjtcbiAgICAgICAgICAgIGFfb3V0X3N1bSAtPSBzdGFja0luLmE7XG4gICAgICAgICAgICBwID0gKHl3ICsgKChwID0geCArIHJhZGl1cyArIDEpIDwgd2lkdGhNaW51czEgPyBwIDogd2lkdGhNaW51czEpKSA8PCAyO1xuICAgICAgICAgICAgcl9pbl9zdW0gKz0gc3RhY2tJbi5yID0gcGl4ZWxzW3BdO1xuICAgICAgICAgICAgZ19pbl9zdW0gKz0gc3RhY2tJbi5nID0gcGl4ZWxzW3AgKyAxXTtcbiAgICAgICAgICAgIGJfaW5fc3VtICs9IHN0YWNrSW4uYiA9IHBpeGVsc1twICsgMl07XG4gICAgICAgICAgICBhX2luX3N1bSArPSBzdGFja0luLmEgPSBwaXhlbHNbcCArIDNdO1xuICAgICAgICAgICAgcl9zdW0gKz0gcl9pbl9zdW07XG4gICAgICAgICAgICBnX3N1bSArPSBnX2luX3N1bTtcbiAgICAgICAgICAgIGJfc3VtICs9IGJfaW5fc3VtO1xuICAgICAgICAgICAgYV9zdW0gKz0gYV9pbl9zdW07XG4gICAgICAgICAgICBzdGFja0luID0gc3RhY2tJbi5uZXh0O1xuICAgICAgICAgICAgcl9vdXRfc3VtICs9IHByID0gc3RhY2tPdXQucjtcbiAgICAgICAgICAgIGdfb3V0X3N1bSArPSBwZyA9IHN0YWNrT3V0Lmc7XG4gICAgICAgICAgICBiX291dF9zdW0gKz0gcGIgPSBzdGFja091dC5iO1xuICAgICAgICAgICAgYV9vdXRfc3VtICs9IHBhID0gc3RhY2tPdXQuYTtcbiAgICAgICAgICAgIHJfaW5fc3VtIC09IHByO1xuICAgICAgICAgICAgZ19pbl9zdW0gLT0gcGc7XG4gICAgICAgICAgICBiX2luX3N1bSAtPSBwYjtcbiAgICAgICAgICAgIGFfaW5fc3VtIC09IHBhO1xuICAgICAgICAgICAgc3RhY2tPdXQgPSBzdGFja091dC5uZXh0O1xuICAgICAgICAgICAgeWkgKz0gNDtcbiAgICAgICAgfVxuICAgICAgICB5dyArPSB3aWR0aDtcbiAgICB9XG4gICAgZm9yICh4ID0gMDsgeCA8IHdpZHRoOyB4KyspIHtcbiAgICAgICAgZ19pbl9zdW0gPVxuICAgICAgICAgICAgYl9pbl9zdW0gPVxuICAgICAgICAgICAgICAgIGFfaW5fc3VtID1cbiAgICAgICAgICAgICAgICAgICAgcl9pbl9zdW0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgZ19zdW0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJfc3VtID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYV9zdW0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcl9zdW0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDA7XG4gICAgICAgIHlpID0geCA8PCAyO1xuICAgICAgICByX291dF9zdW0gPSByYWRpdXNQbHVzMSAqIChwciA9IHBpeGVsc1t5aV0pO1xuICAgICAgICBnX291dF9zdW0gPSByYWRpdXNQbHVzMSAqIChwZyA9IHBpeGVsc1t5aSArIDFdKTtcbiAgICAgICAgYl9vdXRfc3VtID0gcmFkaXVzUGx1czEgKiAocGIgPSBwaXhlbHNbeWkgKyAyXSk7XG4gICAgICAgIGFfb3V0X3N1bSA9IHJhZGl1c1BsdXMxICogKHBhID0gcGl4ZWxzW3lpICsgM10pO1xuICAgICAgICByX3N1bSArPSBzdW1GYWN0b3IgKiBwcjtcbiAgICAgICAgZ19zdW0gKz0gc3VtRmFjdG9yICogcGc7XG4gICAgICAgIGJfc3VtICs9IHN1bUZhY3RvciAqIHBiO1xuICAgICAgICBhX3N1bSArPSBzdW1GYWN0b3IgKiBwYTtcbiAgICAgICAgc3RhY2sgPSBzdGFja1N0YXJ0O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcmFkaXVzUGx1czE7IGkrKykge1xuICAgICAgICAgICAgc3RhY2suciA9IHByO1xuICAgICAgICAgICAgc3RhY2suZyA9IHBnO1xuICAgICAgICAgICAgc3RhY2suYiA9IHBiO1xuICAgICAgICAgICAgc3RhY2suYSA9IHBhO1xuICAgICAgICAgICAgc3RhY2sgPSBzdGFjay5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIHlwID0gd2lkdGg7XG4gICAgICAgIGZvciAoaSA9IDE7IGkgPD0gcmFkaXVzOyBpKyspIHtcbiAgICAgICAgICAgIHlpID0gKHlwICsgeCkgPDwgMjtcbiAgICAgICAgICAgIHJfc3VtICs9IChzdGFjay5yID0gcHIgPSBwaXhlbHNbeWldKSAqIChyYnMgPSByYWRpdXNQbHVzMSAtIGkpO1xuICAgICAgICAgICAgZ19zdW0gKz0gKHN0YWNrLmcgPSBwZyA9IHBpeGVsc1t5aSArIDFdKSAqIHJicztcbiAgICAgICAgICAgIGJfc3VtICs9IChzdGFjay5iID0gcGIgPSBwaXhlbHNbeWkgKyAyXSkgKiByYnM7XG4gICAgICAgICAgICBhX3N1bSArPSAoc3RhY2suYSA9IHBhID0gcGl4ZWxzW3lpICsgM10pICogcmJzO1xuICAgICAgICAgICAgcl9pbl9zdW0gKz0gcHI7XG4gICAgICAgICAgICBnX2luX3N1bSArPSBwZztcbiAgICAgICAgICAgIGJfaW5fc3VtICs9IHBiO1xuICAgICAgICAgICAgYV9pbl9zdW0gKz0gcGE7XG4gICAgICAgICAgICBzdGFjayA9IHN0YWNrLm5leHQ7XG4gICAgICAgICAgICBpZiAoaSA8IGhlaWdodE1pbnVzMSkge1xuICAgICAgICAgICAgICAgIHlwICs9IHdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHlpID0geDtcbiAgICAgICAgc3RhY2tJbiA9IHN0YWNrU3RhcnQ7XG4gICAgICAgIHN0YWNrT3V0ID0gc3RhY2tFbmQ7XG4gICAgICAgIGZvciAoeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgcCA9IHlpIDw8IDI7XG4gICAgICAgICAgICBwaXhlbHNbcCArIDNdID0gcGEgPSAoYV9zdW0gKiBtdWxfc3VtKSA+PiBzaGdfc3VtO1xuICAgICAgICAgICAgaWYgKHBhID4gMCkge1xuICAgICAgICAgICAgICAgIHBhID0gMjU1IC8gcGE7XG4gICAgICAgICAgICAgICAgcGl4ZWxzW3BdID0gKChyX3N1bSAqIG11bF9zdW0pID4+IHNoZ19zdW0pICogcGE7XG4gICAgICAgICAgICAgICAgcGl4ZWxzW3AgKyAxXSA9ICgoZ19zdW0gKiBtdWxfc3VtKSA+PiBzaGdfc3VtKSAqIHBhO1xuICAgICAgICAgICAgICAgIHBpeGVsc1twICsgMl0gPSAoKGJfc3VtICogbXVsX3N1bSkgPj4gc2hnX3N1bSkgKiBwYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBpeGVsc1twXSA9IHBpeGVsc1twICsgMV0gPSBwaXhlbHNbcCArIDJdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJfc3VtIC09IHJfb3V0X3N1bTtcbiAgICAgICAgICAgIGdfc3VtIC09IGdfb3V0X3N1bTtcbiAgICAgICAgICAgIGJfc3VtIC09IGJfb3V0X3N1bTtcbiAgICAgICAgICAgIGFfc3VtIC09IGFfb3V0X3N1bTtcbiAgICAgICAgICAgIHJfb3V0X3N1bSAtPSBzdGFja0luLnI7XG4gICAgICAgICAgICBnX291dF9zdW0gLT0gc3RhY2tJbi5nO1xuICAgICAgICAgICAgYl9vdXRfc3VtIC09IHN0YWNrSW4uYjtcbiAgICAgICAgICAgIGFfb3V0X3N1bSAtPSBzdGFja0luLmE7XG4gICAgICAgICAgICBwID1cbiAgICAgICAgICAgICAgICAoeCArXG4gICAgICAgICAgICAgICAgICAgICgocCA9IHkgKyByYWRpdXNQbHVzMSkgPCBoZWlnaHRNaW51czEgPyBwIDogaGVpZ2h0TWludXMxKSAqIHdpZHRoKSA8PFxuICAgICAgICAgICAgICAgICAgICAyO1xuICAgICAgICAgICAgcl9zdW0gKz0gcl9pbl9zdW0gKz0gc3RhY2tJbi5yID0gcGl4ZWxzW3BdO1xuICAgICAgICAgICAgZ19zdW0gKz0gZ19pbl9zdW0gKz0gc3RhY2tJbi5nID0gcGl4ZWxzW3AgKyAxXTtcbiAgICAgICAgICAgIGJfc3VtICs9IGJfaW5fc3VtICs9IHN0YWNrSW4uYiA9IHBpeGVsc1twICsgMl07XG4gICAgICAgICAgICBhX3N1bSArPSBhX2luX3N1bSArPSBzdGFja0luLmEgPSBwaXhlbHNbcCArIDNdO1xuICAgICAgICAgICAgc3RhY2tJbiA9IHN0YWNrSW4ubmV4dDtcbiAgICAgICAgICAgIHJfb3V0X3N1bSArPSBwciA9IHN0YWNrT3V0LnI7XG4gICAgICAgICAgICBnX291dF9zdW0gKz0gcGcgPSBzdGFja091dC5nO1xuICAgICAgICAgICAgYl9vdXRfc3VtICs9IHBiID0gc3RhY2tPdXQuYjtcbiAgICAgICAgICAgIGFfb3V0X3N1bSArPSBwYSA9IHN0YWNrT3V0LmE7XG4gICAgICAgICAgICByX2luX3N1bSAtPSBwcjtcbiAgICAgICAgICAgIGdfaW5fc3VtIC09IHBnO1xuICAgICAgICAgICAgYl9pbl9zdW0gLT0gcGI7XG4gICAgICAgICAgICBhX2luX3N1bSAtPSBwYTtcbiAgICAgICAgICAgIHN0YWNrT3V0ID0gc3RhY2tPdXQubmV4dDtcbiAgICAgICAgICAgIHlpICs9IHdpZHRoO1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgQmx1ciA9IGZ1bmN0aW9uIEJsdXIoaW1hZ2VEYXRhKSB7XG4gICAgdmFyIHJhZGl1cyA9IE1hdGgucm91bmQodGhpcy5ibHVyUmFkaXVzKCkpO1xuICAgIGlmIChyYWRpdXMgPiAwKSB7XG4gICAgICAgIGZpbHRlckdhdXNzQmx1clJHQkEoaW1hZ2VEYXRhLCByYWRpdXMpO1xuICAgIH1cbn07XG5leHBvcnRzLkJsdXIgPSBCbHVyO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKE5vZGVfMS5Ob2RlLCAnYmx1clJhZGl1cycsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpLCBGYWN0b3J5XzEuRmFjdG9yeS5hZnRlclNldEZpbHRlcik7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJyaWdodGVuID0gdm9pZCAwO1xuY29uc3QgRmFjdG9yeV8xID0gcmVxdWlyZShcIi4uL0ZhY3RvcnlcIik7XG5jb25zdCBOb2RlXzEgPSByZXF1aXJlKFwiLi4vTm9kZVwiKTtcbmNvbnN0IFZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoXCIuLi9WYWxpZGF0b3JzXCIpO1xuY29uc3QgQnJpZ2h0ZW4gPSBmdW5jdGlvbiAoaW1hZ2VEYXRhKSB7XG4gICAgdmFyIGJyaWdodG5lc3MgPSB0aGlzLmJyaWdodG5lc3MoKSAqIDI1NSwgZGF0YSA9IGltYWdlRGF0YS5kYXRhLCBsZW4gPSBkYXRhLmxlbmd0aCwgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgZGF0YVtpXSArPSBicmlnaHRuZXNzO1xuICAgICAgICBkYXRhW2kgKyAxXSArPSBicmlnaHRuZXNzO1xuICAgICAgICBkYXRhW2kgKyAyXSArPSBicmlnaHRuZXNzO1xuICAgIH1cbn07XG5leHBvcnRzLkJyaWdodGVuID0gQnJpZ2h0ZW47XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoTm9kZV8xLk5vZGUsICdicmlnaHRuZXNzJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCksIEZhY3RvcnlfMS5GYWN0b3J5LmFmdGVyU2V0RmlsdGVyKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29udHJhc3QgPSB2b2lkIDA7XG5jb25zdCBGYWN0b3J5XzEgPSByZXF1aXJlKFwiLi4vRmFjdG9yeVwiKTtcbmNvbnN0IE5vZGVfMSA9IHJlcXVpcmUoXCIuLi9Ob2RlXCIpO1xuY29uc3QgVmFsaWRhdG9yc18xID0gcmVxdWlyZShcIi4uL1ZhbGlkYXRvcnNcIik7XG5jb25zdCBDb250cmFzdCA9IGZ1bmN0aW9uIChpbWFnZURhdGEpIHtcbiAgICB2YXIgYWRqdXN0ID0gTWF0aC5wb3coKHRoaXMuY29udHJhc3QoKSArIDEwMCkgLyAxMDAsIDIpO1xuICAgIHZhciBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIG5QaXhlbHMgPSBkYXRhLmxlbmd0aCwgcmVkID0gMTUwLCBncmVlbiA9IDE1MCwgYmx1ZSA9IDE1MCwgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgblBpeGVsczsgaSArPSA0KSB7XG4gICAgICAgIHJlZCA9IGRhdGFbaV07XG4gICAgICAgIGdyZWVuID0gZGF0YVtpICsgMV07XG4gICAgICAgIGJsdWUgPSBkYXRhW2kgKyAyXTtcbiAgICAgICAgcmVkIC89IDI1NTtcbiAgICAgICAgcmVkIC09IDAuNTtcbiAgICAgICAgcmVkICo9IGFkanVzdDtcbiAgICAgICAgcmVkICs9IDAuNTtcbiAgICAgICAgcmVkICo9IDI1NTtcbiAgICAgICAgZ3JlZW4gLz0gMjU1O1xuICAgICAgICBncmVlbiAtPSAwLjU7XG4gICAgICAgIGdyZWVuICo9IGFkanVzdDtcbiAgICAgICAgZ3JlZW4gKz0gMC41O1xuICAgICAgICBncmVlbiAqPSAyNTU7XG4gICAgICAgIGJsdWUgLz0gMjU1O1xuICAgICAgICBibHVlIC09IDAuNTtcbiAgICAgICAgYmx1ZSAqPSBhZGp1c3Q7XG4gICAgICAgIGJsdWUgKz0gMC41O1xuICAgICAgICBibHVlICo9IDI1NTtcbiAgICAgICAgcmVkID0gcmVkIDwgMCA/IDAgOiByZWQgPiAyNTUgPyAyNTUgOiByZWQ7XG4gICAgICAgIGdyZWVuID0gZ3JlZW4gPCAwID8gMCA6IGdyZWVuID4gMjU1ID8gMjU1IDogZ3JlZW47XG4gICAgICAgIGJsdWUgPSBibHVlIDwgMCA/IDAgOiBibHVlID4gMjU1ID8gMjU1IDogYmx1ZTtcbiAgICAgICAgZGF0YVtpXSA9IHJlZDtcbiAgICAgICAgZGF0YVtpICsgMV0gPSBncmVlbjtcbiAgICAgICAgZGF0YVtpICsgMl0gPSBibHVlO1xuICAgIH1cbn07XG5leHBvcnRzLkNvbnRyYXN0ID0gQ29udHJhc3Q7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoTm9kZV8xLk5vZGUsICdjb250cmFzdCcsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpLCBGYWN0b3J5XzEuRmFjdG9yeS5hZnRlclNldEZpbHRlcik7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkVtYm9zcyA9IHZvaWQgMDtcbmNvbnN0IEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9GYWN0b3J5XCIpO1xuY29uc3QgTm9kZV8xID0gcmVxdWlyZShcIi4uL05vZGVcIik7XG5jb25zdCBVdGlsXzEgPSByZXF1aXJlKFwiLi4vVXRpbFwiKTtcbmNvbnN0IFZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoXCIuLi9WYWxpZGF0b3JzXCIpO1xuY29uc3QgRW1ib3NzID0gZnVuY3Rpb24gKGltYWdlRGF0YSkge1xuICAgIHZhciBzdHJlbmd0aCA9IHRoaXMuZW1ib3NzU3RyZW5ndGgoKSAqIDEwLCBncmV5TGV2ZWwgPSB0aGlzLmVtYm9zc1doaXRlTGV2ZWwoKSAqIDI1NSwgZGlyZWN0aW9uID0gdGhpcy5lbWJvc3NEaXJlY3Rpb24oKSwgYmxlbmQgPSB0aGlzLmVtYm9zc0JsZW5kKCksIGRpclkgPSAwLCBkaXJYID0gMCwgZGF0YSA9IGltYWdlRGF0YS5kYXRhLCB3ID0gaW1hZ2VEYXRhLndpZHRoLCBoID0gaW1hZ2VEYXRhLmhlaWdodCwgdzQgPSB3ICogNCwgeSA9IGg7XG4gICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgICAgY2FzZSAndG9wLWxlZnQnOlxuICAgICAgICAgICAgZGlyWSA9IC0xO1xuICAgICAgICAgICAgZGlyWCA9IC0xO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgICBkaXJZID0gLTE7XG4gICAgICAgICAgICBkaXJYID0gMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0b3AtcmlnaHQnOlxuICAgICAgICAgICAgZGlyWSA9IC0xO1xuICAgICAgICAgICAgZGlyWCA9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgZGlyWSA9IDA7XG4gICAgICAgICAgICBkaXJYID0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdib3R0b20tcmlnaHQnOlxuICAgICAgICAgICAgZGlyWSA9IDE7XG4gICAgICAgICAgICBkaXJYID0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgZGlyWSA9IDE7XG4gICAgICAgICAgICBkaXJYID0gMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdib3R0b20tbGVmdCc6XG4gICAgICAgICAgICBkaXJZID0gMTtcbiAgICAgICAgICAgIGRpclggPSAtMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgIGRpclkgPSAwO1xuICAgICAgICAgICAgZGlyWCA9IC0xO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBVdGlsXzEuVXRpbC5lcnJvcignVW5rbm93biBlbWJvc3MgZGlyZWN0aW9uOiAnICsgZGlyZWN0aW9uKTtcbiAgICB9XG4gICAgZG8ge1xuICAgICAgICB2YXIgb2Zmc2V0WSA9ICh5IC0gMSkgKiB3NDtcbiAgICAgICAgdmFyIG90aGVyWSA9IGRpclk7XG4gICAgICAgIGlmICh5ICsgb3RoZXJZIDwgMSkge1xuICAgICAgICAgICAgb3RoZXJZID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeSArIG90aGVyWSA+IGgpIHtcbiAgICAgICAgICAgIG90aGVyWSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9mZnNldFlPdGhlciA9ICh5IC0gMSArIG90aGVyWSkgKiB3ICogNDtcbiAgICAgICAgdmFyIHggPSB3O1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gb2Zmc2V0WSArICh4IC0gMSkgKiA0O1xuICAgICAgICAgICAgdmFyIG90aGVyWCA9IGRpclg7XG4gICAgICAgICAgICBpZiAoeCArIG90aGVyWCA8IDEpIHtcbiAgICAgICAgICAgICAgICBvdGhlclggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHggKyBvdGhlclggPiB3KSB7XG4gICAgICAgICAgICAgICAgb3RoZXJYID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvZmZzZXRPdGhlciA9IG9mZnNldFlPdGhlciArICh4IC0gMSArIG90aGVyWCkgKiA0O1xuICAgICAgICAgICAgdmFyIGRSID0gZGF0YVtvZmZzZXRdIC0gZGF0YVtvZmZzZXRPdGhlcl07XG4gICAgICAgICAgICB2YXIgZEcgPSBkYXRhW29mZnNldCArIDFdIC0gZGF0YVtvZmZzZXRPdGhlciArIDFdO1xuICAgICAgICAgICAgdmFyIGRCID0gZGF0YVtvZmZzZXQgKyAyXSAtIGRhdGFbb2Zmc2V0T3RoZXIgKyAyXTtcbiAgICAgICAgICAgIHZhciBkaWYgPSBkUjtcbiAgICAgICAgICAgIHZhciBhYnNEaWYgPSBkaWYgPiAwID8gZGlmIDogLWRpZjtcbiAgICAgICAgICAgIHZhciBhYnNHID0gZEcgPiAwID8gZEcgOiAtZEc7XG4gICAgICAgICAgICB2YXIgYWJzQiA9IGRCID4gMCA/IGRCIDogLWRCO1xuICAgICAgICAgICAgaWYgKGFic0cgPiBhYnNEaWYpIHtcbiAgICAgICAgICAgICAgICBkaWYgPSBkRztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhYnNCID4gYWJzRGlmKSB7XG4gICAgICAgICAgICAgICAgZGlmID0gZEI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaWYgKj0gc3RyZW5ndGg7XG4gICAgICAgICAgICBpZiAoYmxlbmQpIHtcbiAgICAgICAgICAgICAgICB2YXIgciA9IGRhdGFbb2Zmc2V0XSArIGRpZjtcbiAgICAgICAgICAgICAgICB2YXIgZyA9IGRhdGFbb2Zmc2V0ICsgMV0gKyBkaWY7XG4gICAgICAgICAgICAgICAgdmFyIGIgPSBkYXRhW29mZnNldCArIDJdICsgZGlmO1xuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0XSA9IHIgPiAyNTUgPyAyNTUgOiByIDwgMCA/IDAgOiByO1xuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMV0gPSBnID4gMjU1ID8gMjU1IDogZyA8IDAgPyAwIDogZztcbiAgICAgICAgICAgICAgICBkYXRhW29mZnNldCArIDJdID0gYiA+IDI1NSA/IDI1NSA6IGIgPCAwID8gMCA6IGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZ3JleSA9IGdyZXlMZXZlbCAtIGRpZjtcbiAgICAgICAgICAgICAgICBpZiAoZ3JleSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JleSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyZXkgPiAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JleSA9IDI1NTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGF0YVtvZmZzZXRdID0gZGF0YVtvZmZzZXQgKyAxXSA9IGRhdGFbb2Zmc2V0ICsgMl0gPSBncmV5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICgtLXgpO1xuICAgIH0gd2hpbGUgKC0teSk7XG59O1xuZXhwb3J0cy5FbWJvc3MgPSBFbWJvc3M7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoTm9kZV8xLk5vZGUsICdlbWJvc3NTdHJlbmd0aCcsIDAuNSwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCksIEZhY3RvcnlfMS5GYWN0b3J5LmFmdGVyU2V0RmlsdGVyKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihOb2RlXzEuTm9kZSwgJ2VtYm9zc1doaXRlTGV2ZWwnLCAwLjUsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpLCBGYWN0b3J5XzEuRmFjdG9yeS5hZnRlclNldEZpbHRlcik7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoTm9kZV8xLk5vZGUsICdlbWJvc3NEaXJlY3Rpb24nLCAndG9wLWxlZnQnLCBudWxsLCBGYWN0b3J5XzEuRmFjdG9yeS5hZnRlclNldEZpbHRlcik7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoTm9kZV8xLk5vZGUsICdlbWJvc3NCbGVuZCcsIGZhbHNlLCBudWxsLCBGYWN0b3J5XzEuRmFjdG9yeS5hZnRlclNldEZpbHRlcik7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkVuaGFuY2UgPSB2b2lkIDA7XG5jb25zdCBGYWN0b3J5XzEgPSByZXF1aXJlKFwiLi4vRmFjdG9yeVwiKTtcbmNvbnN0IE5vZGVfMSA9IHJlcXVpcmUoXCIuLi9Ob2RlXCIpO1xuY29uc3QgVmFsaWRhdG9yc18xID0gcmVxdWlyZShcIi4uL1ZhbGlkYXRvcnNcIik7XG5mdW5jdGlvbiByZW1hcChmcm9tVmFsdWUsIGZyb21NaW4sIGZyb21NYXgsIHRvTWluLCB0b01heCkge1xuICAgIHZhciBmcm9tUmFuZ2UgPSBmcm9tTWF4IC0gZnJvbU1pbiwgdG9SYW5nZSA9IHRvTWF4IC0gdG9NaW4sIHRvVmFsdWU7XG4gICAgaWYgKGZyb21SYW5nZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdG9NaW4gKyB0b1JhbmdlIC8gMjtcbiAgICB9XG4gICAgaWYgKHRvUmFuZ2UgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRvTWluO1xuICAgIH1cbiAgICB0b1ZhbHVlID0gKGZyb21WYWx1ZSAtIGZyb21NaW4pIC8gZnJvbVJhbmdlO1xuICAgIHRvVmFsdWUgPSB0b1JhbmdlICogdG9WYWx1ZSArIHRvTWluO1xuICAgIHJldHVybiB0b1ZhbHVlO1xufVxuY29uc3QgRW5oYW5jZSA9IGZ1bmN0aW9uIChpbWFnZURhdGEpIHtcbiAgICB2YXIgZGF0YSA9IGltYWdlRGF0YS5kYXRhLCBuU3ViUGl4ZWxzID0gZGF0YS5sZW5ndGgsIHJNaW4gPSBkYXRhWzBdLCByTWF4ID0gck1pbiwgciwgZ01pbiA9IGRhdGFbMV0sIGdNYXggPSBnTWluLCBnLCBiTWluID0gZGF0YVsyXSwgYk1heCA9IGJNaW4sIGIsIGk7XG4gICAgdmFyIGVuaGFuY2VBbW91bnQgPSB0aGlzLmVuaGFuY2UoKTtcbiAgICBpZiAoZW5oYW5jZUFtb3VudCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCBuU3ViUGl4ZWxzOyBpICs9IDQpIHtcbiAgICAgICAgciA9IGRhdGFbaSArIDBdO1xuICAgICAgICBpZiAociA8IHJNaW4pIHtcbiAgICAgICAgICAgIHJNaW4gPSByO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHIgPiByTWF4KSB7XG4gICAgICAgICAgICByTWF4ID0gcjtcbiAgICAgICAgfVxuICAgICAgICBnID0gZGF0YVtpICsgMV07XG4gICAgICAgIGlmIChnIDwgZ01pbikge1xuICAgICAgICAgICAgZ01pbiA9IGc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZyA+IGdNYXgpIHtcbiAgICAgICAgICAgIGdNYXggPSBnO1xuICAgICAgICB9XG4gICAgICAgIGIgPSBkYXRhW2kgKyAyXTtcbiAgICAgICAgaWYgKGIgPCBiTWluKSB7XG4gICAgICAgICAgICBiTWluID0gYjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiID4gYk1heCkge1xuICAgICAgICAgICAgYk1heCA9IGI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJNYXggPT09IHJNaW4pIHtcbiAgICAgICAgck1heCA9IDI1NTtcbiAgICAgICAgck1pbiA9IDA7XG4gICAgfVxuICAgIGlmIChnTWF4ID09PSBnTWluKSB7XG4gICAgICAgIGdNYXggPSAyNTU7XG4gICAgICAgIGdNaW4gPSAwO1xuICAgIH1cbiAgICBpZiAoYk1heCA9PT0gYk1pbikge1xuICAgICAgICBiTWF4ID0gMjU1O1xuICAgICAgICBiTWluID0gMDtcbiAgICB9XG4gICAgdmFyIHJNaWQsIHJHb2FsTWF4LCByR29hbE1pbiwgZ01pZCwgZ0dvYWxNYXgsIGdHb2FsTWluLCBiTWlkLCBiR29hbE1heCwgYkdvYWxNaW47XG4gICAgaWYgKGVuaGFuY2VBbW91bnQgPiAwKSB7XG4gICAgICAgIHJHb2FsTWF4ID0gck1heCArIGVuaGFuY2VBbW91bnQgKiAoMjU1IC0gck1heCk7XG4gICAgICAgIHJHb2FsTWluID0gck1pbiAtIGVuaGFuY2VBbW91bnQgKiAock1pbiAtIDApO1xuICAgICAgICBnR29hbE1heCA9IGdNYXggKyBlbmhhbmNlQW1vdW50ICogKDI1NSAtIGdNYXgpO1xuICAgICAgICBnR29hbE1pbiA9IGdNaW4gLSBlbmhhbmNlQW1vdW50ICogKGdNaW4gLSAwKTtcbiAgICAgICAgYkdvYWxNYXggPSBiTWF4ICsgZW5oYW5jZUFtb3VudCAqICgyNTUgLSBiTWF4KTtcbiAgICAgICAgYkdvYWxNaW4gPSBiTWluIC0gZW5oYW5jZUFtb3VudCAqIChiTWluIC0gMCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByTWlkID0gKHJNYXggKyByTWluKSAqIDAuNTtcbiAgICAgICAgckdvYWxNYXggPSByTWF4ICsgZW5oYW5jZUFtb3VudCAqIChyTWF4IC0gck1pZCk7XG4gICAgICAgIHJHb2FsTWluID0gck1pbiArIGVuaGFuY2VBbW91bnQgKiAock1pbiAtIHJNaWQpO1xuICAgICAgICBnTWlkID0gKGdNYXggKyBnTWluKSAqIDAuNTtcbiAgICAgICAgZ0dvYWxNYXggPSBnTWF4ICsgZW5oYW5jZUFtb3VudCAqIChnTWF4IC0gZ01pZCk7XG4gICAgICAgIGdHb2FsTWluID0gZ01pbiArIGVuaGFuY2VBbW91bnQgKiAoZ01pbiAtIGdNaWQpO1xuICAgICAgICBiTWlkID0gKGJNYXggKyBiTWluKSAqIDAuNTtcbiAgICAgICAgYkdvYWxNYXggPSBiTWF4ICsgZW5oYW5jZUFtb3VudCAqIChiTWF4IC0gYk1pZCk7XG4gICAgICAgIGJHb2FsTWluID0gYk1pbiArIGVuaGFuY2VBbW91bnQgKiAoYk1pbiAtIGJNaWQpO1xuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgblN1YlBpeGVsczsgaSArPSA0KSB7XG4gICAgICAgIGRhdGFbaSArIDBdID0gcmVtYXAoZGF0YVtpICsgMF0sIHJNaW4sIHJNYXgsIHJHb2FsTWluLCByR29hbE1heCk7XG4gICAgICAgIGRhdGFbaSArIDFdID0gcmVtYXAoZGF0YVtpICsgMV0sIGdNaW4sIGdNYXgsIGdHb2FsTWluLCBnR29hbE1heCk7XG4gICAgICAgIGRhdGFbaSArIDJdID0gcmVtYXAoZGF0YVtpICsgMl0sIGJNaW4sIGJNYXgsIGJHb2FsTWluLCBiR29hbE1heCk7XG4gICAgfVxufTtcbmV4cG9ydHMuRW5oYW5jZSA9IEVuaGFuY2U7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoTm9kZV8xLk5vZGUsICdlbmhhbmNlJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCksIEZhY3RvcnlfMS5GYWN0b3J5LmFmdGVyU2V0RmlsdGVyKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR3JheXNjYWxlID0gdm9pZCAwO1xuY29uc3QgR3JheXNjYWxlID0gZnVuY3Rpb24gKGltYWdlRGF0YSkge1xuICAgIHZhciBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIGxlbiA9IGRhdGEubGVuZ3RoLCBpLCBicmlnaHRuZXNzO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBicmlnaHRuZXNzID0gMC4zNCAqIGRhdGFbaV0gKyAwLjUgKiBkYXRhW2kgKyAxXSArIDAuMTYgKiBkYXRhW2kgKyAyXTtcbiAgICAgICAgZGF0YVtpXSA9IGJyaWdodG5lc3M7XG4gICAgICAgIGRhdGFbaSArIDFdID0gYnJpZ2h0bmVzcztcbiAgICAgICAgZGF0YVtpICsgMl0gPSBicmlnaHRuZXNzO1xuICAgIH1cbn07XG5leHBvcnRzLkdyYXlzY2FsZSA9IEdyYXlzY2FsZTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSFNMID0gdm9pZCAwO1xuY29uc3QgRmFjdG9yeV8xID0gcmVxdWlyZShcIi4uL0ZhY3RvcnlcIik7XG5jb25zdCBOb2RlXzEgPSByZXF1aXJlKFwiLi4vTm9kZVwiKTtcbmNvbnN0IFZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoXCIuLi9WYWxpZGF0b3JzXCIpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKE5vZGVfMS5Ob2RlLCAnaHVlJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCksIEZhY3RvcnlfMS5GYWN0b3J5LmFmdGVyU2V0RmlsdGVyKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihOb2RlXzEuTm9kZSwgJ3NhdHVyYXRpb24nLCAwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSwgRmFjdG9yeV8xLkZhY3RvcnkuYWZ0ZXJTZXRGaWx0ZXIpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKE5vZGVfMS5Ob2RlLCAnbHVtaW5hbmNlJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCksIEZhY3RvcnlfMS5GYWN0b3J5LmFmdGVyU2V0RmlsdGVyKTtcbmNvbnN0IEhTTCA9IGZ1bmN0aW9uIChpbWFnZURhdGEpIHtcbiAgICB2YXIgZGF0YSA9IGltYWdlRGF0YS5kYXRhLCBuUGl4ZWxzID0gZGF0YS5sZW5ndGgsIHYgPSAxLCBzID0gTWF0aC5wb3coMiwgdGhpcy5zYXR1cmF0aW9uKCkpLCBoID0gTWF0aC5hYnModGhpcy5odWUoKSArIDM2MCkgJSAzNjAsIGwgPSB0aGlzLmx1bWluYW5jZSgpICogMTI3LCBpO1xuICAgIHZhciB2c3UgPSB2ICogcyAqIE1hdGguY29zKChoICogTWF0aC5QSSkgLyAxODApLCB2c3cgPSB2ICogcyAqIE1hdGguc2luKChoICogTWF0aC5QSSkgLyAxODApO1xuICAgIHZhciByciA9IDAuMjk5ICogdiArIDAuNzAxICogdnN1ICsgMC4xNjcgKiB2c3csIHJnID0gMC41ODcgKiB2IC0gMC41ODcgKiB2c3UgKyAwLjMzICogdnN3LCByYiA9IDAuMTE0ICogdiAtIDAuMTE0ICogdnN1IC0gMC40OTcgKiB2c3c7XG4gICAgdmFyIGdyID0gMC4yOTkgKiB2IC0gMC4yOTkgKiB2c3UgLSAwLjMyOCAqIHZzdywgZ2cgPSAwLjU4NyAqIHYgKyAwLjQxMyAqIHZzdSArIDAuMDM1ICogdnN3LCBnYiA9IDAuMTE0ICogdiAtIDAuMTE0ICogdnN1ICsgMC4yOTMgKiB2c3c7XG4gICAgdmFyIGJyID0gMC4yOTkgKiB2IC0gMC4zICogdnN1ICsgMS4yNSAqIHZzdywgYmcgPSAwLjU4NyAqIHYgLSAwLjU4NiAqIHZzdSAtIDEuMDUgKiB2c3csIGJiID0gMC4xMTQgKiB2ICsgMC44ODYgKiB2c3UgLSAwLjIgKiB2c3c7XG4gICAgdmFyIHIsIGcsIGIsIGE7XG4gICAgZm9yIChpID0gMDsgaSA8IG5QaXhlbHM7IGkgKz0gNCkge1xuICAgICAgICByID0gZGF0YVtpICsgMF07XG4gICAgICAgIGcgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgYiA9IGRhdGFbaSArIDJdO1xuICAgICAgICBhID0gZGF0YVtpICsgM107XG4gICAgICAgIGRhdGFbaSArIDBdID0gcnIgKiByICsgcmcgKiBnICsgcmIgKiBiICsgbDtcbiAgICAgICAgZGF0YVtpICsgMV0gPSBnciAqIHIgKyBnZyAqIGcgKyBnYiAqIGIgKyBsO1xuICAgICAgICBkYXRhW2kgKyAyXSA9IGJyICogciArIGJnICogZyArIGJiICogYiArIGw7XG4gICAgICAgIGRhdGFbaSArIDNdID0gYTtcbiAgICB9XG59O1xuZXhwb3J0cy5IU0wgPSBIU0w7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkhTViA9IHZvaWQgMDtcbmNvbnN0IEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9GYWN0b3J5XCIpO1xuY29uc3QgTm9kZV8xID0gcmVxdWlyZShcIi4uL05vZGVcIik7XG5jb25zdCBWYWxpZGF0b3JzXzEgPSByZXF1aXJlKFwiLi4vVmFsaWRhdG9yc1wiKTtcbmNvbnN0IEhTViA9IGZ1bmN0aW9uIChpbWFnZURhdGEpIHtcbiAgICB2YXIgZGF0YSA9IGltYWdlRGF0YS5kYXRhLCBuUGl4ZWxzID0gZGF0YS5sZW5ndGgsIHYgPSBNYXRoLnBvdygyLCB0aGlzLnZhbHVlKCkpLCBzID0gTWF0aC5wb3coMiwgdGhpcy5zYXR1cmF0aW9uKCkpLCBoID0gTWF0aC5hYnModGhpcy5odWUoKSArIDM2MCkgJSAzNjAsIGk7XG4gICAgdmFyIHZzdSA9IHYgKiBzICogTWF0aC5jb3MoKGggKiBNYXRoLlBJKSAvIDE4MCksIHZzdyA9IHYgKiBzICogTWF0aC5zaW4oKGggKiBNYXRoLlBJKSAvIDE4MCk7XG4gICAgdmFyIHJyID0gMC4yOTkgKiB2ICsgMC43MDEgKiB2c3UgKyAwLjE2NyAqIHZzdywgcmcgPSAwLjU4NyAqIHYgLSAwLjU4NyAqIHZzdSArIDAuMzMgKiB2c3csIHJiID0gMC4xMTQgKiB2IC0gMC4xMTQgKiB2c3UgLSAwLjQ5NyAqIHZzdztcbiAgICB2YXIgZ3IgPSAwLjI5OSAqIHYgLSAwLjI5OSAqIHZzdSAtIDAuMzI4ICogdnN3LCBnZyA9IDAuNTg3ICogdiArIDAuNDEzICogdnN1ICsgMC4wMzUgKiB2c3csIGdiID0gMC4xMTQgKiB2IC0gMC4xMTQgKiB2c3UgKyAwLjI5MyAqIHZzdztcbiAgICB2YXIgYnIgPSAwLjI5OSAqIHYgLSAwLjMgKiB2c3UgKyAxLjI1ICogdnN3LCBiZyA9IDAuNTg3ICogdiAtIDAuNTg2ICogdnN1IC0gMS4wNSAqIHZzdywgYmIgPSAwLjExNCAqIHYgKyAwLjg4NiAqIHZzdSAtIDAuMiAqIHZzdztcbiAgICB2YXIgciwgZywgYiwgYTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgblBpeGVsczsgaSArPSA0KSB7XG4gICAgICAgIHIgPSBkYXRhW2kgKyAwXTtcbiAgICAgICAgZyA9IGRhdGFbaSArIDFdO1xuICAgICAgICBiID0gZGF0YVtpICsgMl07XG4gICAgICAgIGEgPSBkYXRhW2kgKyAzXTtcbiAgICAgICAgZGF0YVtpICsgMF0gPSByciAqIHIgKyByZyAqIGcgKyByYiAqIGI7XG4gICAgICAgIGRhdGFbaSArIDFdID0gZ3IgKiByICsgZ2cgKiBnICsgZ2IgKiBiO1xuICAgICAgICBkYXRhW2kgKyAyXSA9IGJyICogciArIGJnICogZyArIGJiICogYjtcbiAgICAgICAgZGF0YVtpICsgM10gPSBhO1xuICAgIH1cbn07XG5leHBvcnRzLkhTViA9IEhTVjtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihOb2RlXzEuTm9kZSwgJ2h1ZScsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpLCBGYWN0b3J5XzEuRmFjdG9yeS5hZnRlclNldEZpbHRlcik7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoTm9kZV8xLk5vZGUsICdzYXR1cmF0aW9uJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCksIEZhY3RvcnlfMS5GYWN0b3J5LmFmdGVyU2V0RmlsdGVyKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihOb2RlXzEuTm9kZSwgJ3ZhbHVlJywgMCwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCksIEZhY3RvcnlfMS5GYWN0b3J5LmFmdGVyU2V0RmlsdGVyKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSW52ZXJ0ID0gdm9pZCAwO1xuY29uc3QgSW52ZXJ0ID0gZnVuY3Rpb24gKGltYWdlRGF0YSkge1xuICAgIHZhciBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIGxlbiA9IGRhdGEubGVuZ3RoLCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBkYXRhW2ldID0gMjU1IC0gZGF0YVtpXTtcbiAgICAgICAgZGF0YVtpICsgMV0gPSAyNTUgLSBkYXRhW2kgKyAxXTtcbiAgICAgICAgZGF0YVtpICsgMl0gPSAyNTUgLSBkYXRhW2kgKyAyXTtcbiAgICB9XG59O1xuZXhwb3J0cy5JbnZlcnQgPSBJbnZlcnQ7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkthbGVpZG9zY29wZSA9IHZvaWQgMDtcbmNvbnN0IEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9GYWN0b3J5XCIpO1xuY29uc3QgTm9kZV8xID0gcmVxdWlyZShcIi4uL05vZGVcIik7XG5jb25zdCBVdGlsXzEgPSByZXF1aXJlKFwiLi4vVXRpbFwiKTtcbmNvbnN0IFZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoXCIuLi9WYWxpZGF0b3JzXCIpO1xudmFyIFRvUG9sYXIgPSBmdW5jdGlvbiAoc3JjLCBkc3QsIG9wdCkge1xuICAgIHZhciBzcmNQaXhlbHMgPSBzcmMuZGF0YSwgZHN0UGl4ZWxzID0gZHN0LmRhdGEsIHhTaXplID0gc3JjLndpZHRoLCB5U2l6ZSA9IHNyYy5oZWlnaHQsIHhNaWQgPSBvcHQucG9sYXJDZW50ZXJYIHx8IHhTaXplIC8gMiwgeU1pZCA9IG9wdC5wb2xhckNlbnRlclkgfHwgeVNpemUgLyAyLCBpLCB4LCB5LCByID0gMCwgZyA9IDAsIGIgPSAwLCBhID0gMDtcbiAgICB2YXIgcmFkLCByTWF4ID0gTWF0aC5zcXJ0KHhNaWQgKiB4TWlkICsgeU1pZCAqIHlNaWQpO1xuICAgIHggPSB4U2l6ZSAtIHhNaWQ7XG4gICAgeSA9IHlTaXplIC0geU1pZDtcbiAgICByYWQgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSk7XG4gICAgck1heCA9IHJhZCA+IHJNYXggPyByYWQgOiByTWF4O1xuICAgIHZhciByU2l6ZSA9IHlTaXplLCB0U2l6ZSA9IHhTaXplLCByYWRpdXMsIHRoZXRhO1xuICAgIHZhciBjb252ZXJzaW9uID0gKCgzNjAgLyB0U2l6ZSkgKiBNYXRoLlBJKSAvIDE4MCwgc2luLCBjb3M7XG4gICAgZm9yICh0aGV0YSA9IDA7IHRoZXRhIDwgdFNpemU7IHRoZXRhICs9IDEpIHtcbiAgICAgICAgc2luID0gTWF0aC5zaW4odGhldGEgKiBjb252ZXJzaW9uKTtcbiAgICAgICAgY29zID0gTWF0aC5jb3ModGhldGEgKiBjb252ZXJzaW9uKTtcbiAgICAgICAgZm9yIChyYWRpdXMgPSAwOyByYWRpdXMgPCByU2l6ZTsgcmFkaXVzICs9IDEpIHtcbiAgICAgICAgICAgIHggPSBNYXRoLmZsb29yKHhNaWQgKyAoKHJNYXggKiByYWRpdXMpIC8gclNpemUpICogY29zKTtcbiAgICAgICAgICAgIHkgPSBNYXRoLmZsb29yKHlNaWQgKyAoKHJNYXggKiByYWRpdXMpIC8gclNpemUpICogc2luKTtcbiAgICAgICAgICAgIGkgPSAoeSAqIHhTaXplICsgeCkgKiA0O1xuICAgICAgICAgICAgciA9IHNyY1BpeGVsc1tpICsgMF07XG4gICAgICAgICAgICBnID0gc3JjUGl4ZWxzW2kgKyAxXTtcbiAgICAgICAgICAgIGIgPSBzcmNQaXhlbHNbaSArIDJdO1xuICAgICAgICAgICAgYSA9IHNyY1BpeGVsc1tpICsgM107XG4gICAgICAgICAgICBpID0gKHRoZXRhICsgcmFkaXVzICogeFNpemUpICogNDtcbiAgICAgICAgICAgIGRzdFBpeGVsc1tpICsgMF0gPSByO1xuICAgICAgICAgICAgZHN0UGl4ZWxzW2kgKyAxXSA9IGc7XG4gICAgICAgICAgICBkc3RQaXhlbHNbaSArIDJdID0gYjtcbiAgICAgICAgICAgIGRzdFBpeGVsc1tpICsgM10gPSBhO1xuICAgICAgICB9XG4gICAgfVxufTtcbnZhciBGcm9tUG9sYXIgPSBmdW5jdGlvbiAoc3JjLCBkc3QsIG9wdCkge1xuICAgIHZhciBzcmNQaXhlbHMgPSBzcmMuZGF0YSwgZHN0UGl4ZWxzID0gZHN0LmRhdGEsIHhTaXplID0gc3JjLndpZHRoLCB5U2l6ZSA9IHNyYy5oZWlnaHQsIHhNaWQgPSBvcHQucG9sYXJDZW50ZXJYIHx8IHhTaXplIC8gMiwgeU1pZCA9IG9wdC5wb2xhckNlbnRlclkgfHwgeVNpemUgLyAyLCBpLCB4LCB5LCBkeCwgZHksIHIgPSAwLCBnID0gMCwgYiA9IDAsIGEgPSAwO1xuICAgIHZhciByYWQsIHJNYXggPSBNYXRoLnNxcnQoeE1pZCAqIHhNaWQgKyB5TWlkICogeU1pZCk7XG4gICAgeCA9IHhTaXplIC0geE1pZDtcbiAgICB5ID0geVNpemUgLSB5TWlkO1xuICAgIHJhZCA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5KTtcbiAgICByTWF4ID0gcmFkID4gck1heCA/IHJhZCA6IHJNYXg7XG4gICAgdmFyIHJTaXplID0geVNpemUsIHRTaXplID0geFNpemUsIHJhZGl1cywgdGhldGEsIHBoYXNlU2hpZnQgPSBvcHQucG9sYXJSb3RhdGlvbiB8fCAwO1xuICAgIHZhciB4MSwgeTE7XG4gICAgZm9yICh4ID0gMDsgeCA8IHhTaXplOyB4ICs9IDEpIHtcbiAgICAgICAgZm9yICh5ID0gMDsgeSA8IHlTaXplOyB5ICs9IDEpIHtcbiAgICAgICAgICAgIGR4ID0geCAtIHhNaWQ7XG4gICAgICAgICAgICBkeSA9IHkgLSB5TWlkO1xuICAgICAgICAgICAgcmFkaXVzID0gKE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSkgKiByU2l6ZSkgLyByTWF4O1xuICAgICAgICAgICAgdGhldGEgPSAoKE1hdGguYXRhbjIoZHksIGR4KSAqIDE4MCkgLyBNYXRoLlBJICsgMzYwICsgcGhhc2VTaGlmdCkgJSAzNjA7XG4gICAgICAgICAgICB0aGV0YSA9ICh0aGV0YSAqIHRTaXplKSAvIDM2MDtcbiAgICAgICAgICAgIHgxID0gTWF0aC5mbG9vcih0aGV0YSk7XG4gICAgICAgICAgICB5MSA9IE1hdGguZmxvb3IocmFkaXVzKTtcbiAgICAgICAgICAgIGkgPSAoeTEgKiB4U2l6ZSArIHgxKSAqIDQ7XG4gICAgICAgICAgICByID0gc3JjUGl4ZWxzW2kgKyAwXTtcbiAgICAgICAgICAgIGcgPSBzcmNQaXhlbHNbaSArIDFdO1xuICAgICAgICAgICAgYiA9IHNyY1BpeGVsc1tpICsgMl07XG4gICAgICAgICAgICBhID0gc3JjUGl4ZWxzW2kgKyAzXTtcbiAgICAgICAgICAgIGkgPSAoeSAqIHhTaXplICsgeCkgKiA0O1xuICAgICAgICAgICAgZHN0UGl4ZWxzW2kgKyAwXSA9IHI7XG4gICAgICAgICAgICBkc3RQaXhlbHNbaSArIDFdID0gZztcbiAgICAgICAgICAgIGRzdFBpeGVsc1tpICsgMl0gPSBiO1xuICAgICAgICAgICAgZHN0UGl4ZWxzW2kgKyAzXSA9IGE7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgS2FsZWlkb3Njb3BlID0gZnVuY3Rpb24gKGltYWdlRGF0YSkge1xuICAgIHZhciB4U2l6ZSA9IGltYWdlRGF0YS53aWR0aCwgeVNpemUgPSBpbWFnZURhdGEuaGVpZ2h0O1xuICAgIHZhciB4LCB5LCB4b2ZmLCBpLCByLCBnLCBiLCBhLCBzcmNQb3MsIGRzdFBvcztcbiAgICB2YXIgcG93ZXIgPSBNYXRoLnJvdW5kKHRoaXMua2FsZWlkb3Njb3BlUG93ZXIoKSk7XG4gICAgdmFyIGFuZ2xlID0gTWF0aC5yb3VuZCh0aGlzLmthbGVpZG9zY29wZUFuZ2xlKCkpO1xuICAgIHZhciBvZmZzZXQgPSBNYXRoLmZsb29yKCh4U2l6ZSAqIChhbmdsZSAlIDM2MCkpIC8gMzYwKTtcbiAgICBpZiAocG93ZXIgPCAxKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRlbXBDYW52YXMgPSBVdGlsXzEuVXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgdGVtcENhbnZhcy53aWR0aCA9IHhTaXplO1xuICAgIHRlbXBDYW52YXMuaGVpZ2h0ID0geVNpemU7XG4gICAgdmFyIHNjcmF0Y2hEYXRhID0gdGVtcENhbnZhc1xuICAgICAgICAuZ2V0Q29udGV4dCgnMmQnKVxuICAgICAgICAuZ2V0SW1hZ2VEYXRhKDAsIDAsIHhTaXplLCB5U2l6ZSk7XG4gICAgVXRpbF8xLlV0aWwucmVsZWFzZUNhbnZhcyh0ZW1wQ2FudmFzKTtcbiAgICBUb1BvbGFyKGltYWdlRGF0YSwgc2NyYXRjaERhdGEsIHtcbiAgICAgICAgcG9sYXJDZW50ZXJYOiB4U2l6ZSAvIDIsXG4gICAgICAgIHBvbGFyQ2VudGVyWTogeVNpemUgLyAyLFxuICAgIH0pO1xuICAgIHZhciBtaW5TZWN0aW9uU2l6ZSA9IHhTaXplIC8gTWF0aC5wb3coMiwgcG93ZXIpO1xuICAgIHdoaWxlIChtaW5TZWN0aW9uU2l6ZSA8PSA4KSB7XG4gICAgICAgIG1pblNlY3Rpb25TaXplID0gbWluU2VjdGlvblNpemUgKiAyO1xuICAgICAgICBwb3dlciAtPSAxO1xuICAgIH1cbiAgICBtaW5TZWN0aW9uU2l6ZSA9IE1hdGguY2VpbChtaW5TZWN0aW9uU2l6ZSk7XG4gICAgdmFyIHNlY3Rpb25TaXplID0gbWluU2VjdGlvblNpemU7XG4gICAgdmFyIHhTdGFydCA9IDAsIHhFbmQgPSBzZWN0aW9uU2l6ZSwgeERlbHRhID0gMTtcbiAgICBpZiAob2Zmc2V0ICsgbWluU2VjdGlvblNpemUgPiB4U2l6ZSkge1xuICAgICAgICB4U3RhcnQgPSBzZWN0aW9uU2l6ZTtcbiAgICAgICAgeEVuZCA9IDA7XG4gICAgICAgIHhEZWx0YSA9IC0xO1xuICAgIH1cbiAgICBmb3IgKHkgPSAwOyB5IDwgeVNpemU7IHkgKz0gMSkge1xuICAgICAgICBmb3IgKHggPSB4U3RhcnQ7IHggIT09IHhFbmQ7IHggKz0geERlbHRhKSB7XG4gICAgICAgICAgICB4b2ZmID0gTWF0aC5yb3VuZCh4ICsgb2Zmc2V0KSAlIHhTaXplO1xuICAgICAgICAgICAgc3JjUG9zID0gKHhTaXplICogeSArIHhvZmYpICogNDtcbiAgICAgICAgICAgIHIgPSBzY3JhdGNoRGF0YS5kYXRhW3NyY1BvcyArIDBdO1xuICAgICAgICAgICAgZyA9IHNjcmF0Y2hEYXRhLmRhdGFbc3JjUG9zICsgMV07XG4gICAgICAgICAgICBiID0gc2NyYXRjaERhdGEuZGF0YVtzcmNQb3MgKyAyXTtcbiAgICAgICAgICAgIGEgPSBzY3JhdGNoRGF0YS5kYXRhW3NyY1BvcyArIDNdO1xuICAgICAgICAgICAgZHN0UG9zID0gKHhTaXplICogeSArIHgpICogNDtcbiAgICAgICAgICAgIHNjcmF0Y2hEYXRhLmRhdGFbZHN0UG9zICsgMF0gPSByO1xuICAgICAgICAgICAgc2NyYXRjaERhdGEuZGF0YVtkc3RQb3MgKyAxXSA9IGc7XG4gICAgICAgICAgICBzY3JhdGNoRGF0YS5kYXRhW2RzdFBvcyArIDJdID0gYjtcbiAgICAgICAgICAgIHNjcmF0Y2hEYXRhLmRhdGFbZHN0UG9zICsgM10gPSBhO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoeSA9IDA7IHkgPCB5U2l6ZTsgeSArPSAxKSB7XG4gICAgICAgIHNlY3Rpb25TaXplID0gTWF0aC5mbG9vcihtaW5TZWN0aW9uU2l6ZSk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwb3dlcjsgaSArPSAxKSB7XG4gICAgICAgICAgICBmb3IgKHggPSAwOyB4IDwgc2VjdGlvblNpemUgKyAxOyB4ICs9IDEpIHtcbiAgICAgICAgICAgICAgICBzcmNQb3MgPSAoeFNpemUgKiB5ICsgeCkgKiA0O1xuICAgICAgICAgICAgICAgIHIgPSBzY3JhdGNoRGF0YS5kYXRhW3NyY1BvcyArIDBdO1xuICAgICAgICAgICAgICAgIGcgPSBzY3JhdGNoRGF0YS5kYXRhW3NyY1BvcyArIDFdO1xuICAgICAgICAgICAgICAgIGIgPSBzY3JhdGNoRGF0YS5kYXRhW3NyY1BvcyArIDJdO1xuICAgICAgICAgICAgICAgIGEgPSBzY3JhdGNoRGF0YS5kYXRhW3NyY1BvcyArIDNdO1xuICAgICAgICAgICAgICAgIGRzdFBvcyA9ICh4U2l6ZSAqIHkgKyBzZWN0aW9uU2l6ZSAqIDIgLSB4IC0gMSkgKiA0O1xuICAgICAgICAgICAgICAgIHNjcmF0Y2hEYXRhLmRhdGFbZHN0UG9zICsgMF0gPSByO1xuICAgICAgICAgICAgICAgIHNjcmF0Y2hEYXRhLmRhdGFbZHN0UG9zICsgMV0gPSBnO1xuICAgICAgICAgICAgICAgIHNjcmF0Y2hEYXRhLmRhdGFbZHN0UG9zICsgMl0gPSBiO1xuICAgICAgICAgICAgICAgIHNjcmF0Y2hEYXRhLmRhdGFbZHN0UG9zICsgM10gPSBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VjdGlvblNpemUgKj0gMjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBGcm9tUG9sYXIoc2NyYXRjaERhdGEsIGltYWdlRGF0YSwgeyBwb2xhclJvdGF0aW9uOiAwIH0pO1xufTtcbmV4cG9ydHMuS2FsZWlkb3Njb3BlID0gS2FsZWlkb3Njb3BlO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKE5vZGVfMS5Ob2RlLCAna2FsZWlkb3Njb3BlUG93ZXInLCAyLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSwgRmFjdG9yeV8xLkZhY3RvcnkuYWZ0ZXJTZXRGaWx0ZXIpO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKE5vZGVfMS5Ob2RlLCAna2FsZWlkb3Njb3BlQW5nbGUnLCAwLCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSwgRmFjdG9yeV8xLkZhY3RvcnkuYWZ0ZXJTZXRGaWx0ZXIpO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5NYXNrID0gdm9pZCAwO1xuY29uc3QgRmFjdG9yeV8xID0gcmVxdWlyZShcIi4uL0ZhY3RvcnlcIik7XG5jb25zdCBOb2RlXzEgPSByZXF1aXJlKFwiLi4vTm9kZVwiKTtcbmNvbnN0IFZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoXCIuLi9WYWxpZGF0b3JzXCIpO1xuZnVuY3Rpb24gcGl4ZWxBdChpZGF0YSwgeCwgeSkge1xuICAgIHZhciBpZHggPSAoeSAqIGlkYXRhLndpZHRoICsgeCkgKiA0O1xuICAgIHZhciBkID0gW107XG4gICAgZC5wdXNoKGlkYXRhLmRhdGFbaWR4KytdLCBpZGF0YS5kYXRhW2lkeCsrXSwgaWRhdGEuZGF0YVtpZHgrK10sIGlkYXRhLmRhdGFbaWR4KytdKTtcbiAgICByZXR1cm4gZDtcbn1cbmZ1bmN0aW9uIHJnYkRpc3RhbmNlKHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3cocDFbMF0gLSBwMlswXSwgMikgK1xuICAgICAgICBNYXRoLnBvdyhwMVsxXSAtIHAyWzFdLCAyKSArXG4gICAgICAgIE1hdGgucG93KHAxWzJdIC0gcDJbMl0sIDIpKTtcbn1cbmZ1bmN0aW9uIHJnYk1lYW4ocFRhYikge1xuICAgIHZhciBtID0gWzAsIDAsIDBdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcFRhYi5sZW5ndGg7IGkrKykge1xuICAgICAgICBtWzBdICs9IHBUYWJbaV1bMF07XG4gICAgICAgIG1bMV0gKz0gcFRhYltpXVsxXTtcbiAgICAgICAgbVsyXSArPSBwVGFiW2ldWzJdO1xuICAgIH1cbiAgICBtWzBdIC89IHBUYWIubGVuZ3RoO1xuICAgIG1bMV0gLz0gcFRhYi5sZW5ndGg7XG4gICAgbVsyXSAvPSBwVGFiLmxlbmd0aDtcbiAgICByZXR1cm4gbTtcbn1cbmZ1bmN0aW9uIGJhY2tncm91bmRNYXNrKGlkYXRhLCB0aHJlc2hvbGQpIHtcbiAgICB2YXIgcmdidl9ubyA9IHBpeGVsQXQoaWRhdGEsIDAsIDApO1xuICAgIHZhciByZ2J2X25lID0gcGl4ZWxBdChpZGF0YSwgaWRhdGEud2lkdGggLSAxLCAwKTtcbiAgICB2YXIgcmdidl9zbyA9IHBpeGVsQXQoaWRhdGEsIDAsIGlkYXRhLmhlaWdodCAtIDEpO1xuICAgIHZhciByZ2J2X3NlID0gcGl4ZWxBdChpZGF0YSwgaWRhdGEud2lkdGggLSAxLCBpZGF0YS5oZWlnaHQgLSAxKTtcbiAgICB2YXIgdGhyZXMgPSB0aHJlc2hvbGQgfHwgMTA7XG4gICAgaWYgKHJnYkRpc3RhbmNlKHJnYnZfbm8sIHJnYnZfbmUpIDwgdGhyZXMgJiZcbiAgICAgICAgcmdiRGlzdGFuY2Uocmdidl9uZSwgcmdidl9zZSkgPCB0aHJlcyAmJlxuICAgICAgICByZ2JEaXN0YW5jZShyZ2J2X3NlLCByZ2J2X3NvKSA8IHRocmVzICYmXG4gICAgICAgIHJnYkRpc3RhbmNlKHJnYnZfc28sIHJnYnZfbm8pIDwgdGhyZXMpIHtcbiAgICAgICAgdmFyIG1lYW4gPSByZ2JNZWFuKFtyZ2J2X25lLCByZ2J2X25vLCByZ2J2X3NlLCByZ2J2X3NvXSk7XG4gICAgICAgIHZhciBtYXNrID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRhdGEud2lkdGggKiBpZGF0YS5oZWlnaHQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIGQgPSByZ2JEaXN0YW5jZShtZWFuLCBbXG4gICAgICAgICAgICAgICAgaWRhdGEuZGF0YVtpICogNF0sXG4gICAgICAgICAgICAgICAgaWRhdGEuZGF0YVtpICogNCArIDFdLFxuICAgICAgICAgICAgICAgIGlkYXRhLmRhdGFbaSAqIDQgKyAyXSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgbWFza1tpXSA9IGQgPCB0aHJlcyA/IDAgOiAyNTU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hc2s7XG4gICAgfVxufVxuZnVuY3Rpb24gYXBwbHlNYXNrKGlkYXRhLCBtYXNrKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZGF0YS53aWR0aCAqIGlkYXRhLmhlaWdodDsgaSsrKSB7XG4gICAgICAgIGlkYXRhLmRhdGFbNCAqIGkgKyAzXSA9IG1hc2tbaV07XG4gICAgfVxufVxuZnVuY3Rpb24gZXJvZGVNYXNrKG1hc2ssIHN3LCBzaCkge1xuICAgIHZhciB3ZWlnaHRzID0gWzEsIDEsIDEsIDEsIDAsIDEsIDEsIDEsIDFdO1xuICAgIHZhciBzaWRlID0gTWF0aC5yb3VuZChNYXRoLnNxcnQod2VpZ2h0cy5sZW5ndGgpKTtcbiAgICB2YXIgaGFsZlNpZGUgPSBNYXRoLmZsb29yKHNpZGUgLyAyKTtcbiAgICB2YXIgbWFza1Jlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc2g7IHkrKykge1xuICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN3OyB4KyspIHtcbiAgICAgICAgICAgIHZhciBzbyA9IHkgKiBzdyArIHg7XG4gICAgICAgICAgICB2YXIgYSA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBjeSA9IDA7IGN5IDwgc2lkZTsgY3krKykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGN4ID0gMDsgY3ggPCBzaWRlOyBjeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzY3kgPSB5ICsgY3kgLSBoYWxmU2lkZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjeCA9IHggKyBjeCAtIGhhbGZTaWRlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2N5ID49IDAgJiYgc2N5IDwgc2ggJiYgc2N4ID49IDAgJiYgc2N4IDwgc3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcmNPZmYgPSBzY3kgKiBzdyArIHNjeDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3dCA9IHdlaWdodHNbY3kgKiBzaWRlICsgY3hdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYSArPSBtYXNrW3NyY09mZl0gKiB3dDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hc2tSZXN1bHRbc29dID0gYSA9PT0gMjU1ICogOCA/IDI1NSA6IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hc2tSZXN1bHQ7XG59XG5mdW5jdGlvbiBkaWxhdGVNYXNrKG1hc2ssIHN3LCBzaCkge1xuICAgIHZhciB3ZWlnaHRzID0gWzEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDFdO1xuICAgIHZhciBzaWRlID0gTWF0aC5yb3VuZChNYXRoLnNxcnQod2VpZ2h0cy5sZW5ndGgpKTtcbiAgICB2YXIgaGFsZlNpZGUgPSBNYXRoLmZsb29yKHNpZGUgLyAyKTtcbiAgICB2YXIgbWFza1Jlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc2g7IHkrKykge1xuICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN3OyB4KyspIHtcbiAgICAgICAgICAgIHZhciBzbyA9IHkgKiBzdyArIHg7XG4gICAgICAgICAgICB2YXIgYSA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBjeSA9IDA7IGN5IDwgc2lkZTsgY3krKykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGN4ID0gMDsgY3ggPCBzaWRlOyBjeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzY3kgPSB5ICsgY3kgLSBoYWxmU2lkZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjeCA9IHggKyBjeCAtIGhhbGZTaWRlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2N5ID49IDAgJiYgc2N5IDwgc2ggJiYgc2N4ID49IDAgJiYgc2N4IDwgc3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcmNPZmYgPSBzY3kgKiBzdyArIHNjeDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3dCA9IHdlaWdodHNbY3kgKiBzaWRlICsgY3hdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYSArPSBtYXNrW3NyY09mZl0gKiB3dDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hc2tSZXN1bHRbc29dID0gYSA+PSAyNTUgKiA0ID8gMjU1IDogMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWFza1Jlc3VsdDtcbn1cbmZ1bmN0aW9uIHNtb290aEVkZ2VNYXNrKG1hc2ssIHN3LCBzaCkge1xuICAgIHZhciB3ZWlnaHRzID0gWzEgLyA5LCAxIC8gOSwgMSAvIDksIDEgLyA5LCAxIC8gOSwgMSAvIDksIDEgLyA5LCAxIC8gOSwgMSAvIDldO1xuICAgIHZhciBzaWRlID0gTWF0aC5yb3VuZChNYXRoLnNxcnQod2VpZ2h0cy5sZW5ndGgpKTtcbiAgICB2YXIgaGFsZlNpZGUgPSBNYXRoLmZsb29yKHNpZGUgLyAyKTtcbiAgICB2YXIgbWFza1Jlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc2g7IHkrKykge1xuICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN3OyB4KyspIHtcbiAgICAgICAgICAgIHZhciBzbyA9IHkgKiBzdyArIHg7XG4gICAgICAgICAgICB2YXIgYSA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBjeSA9IDA7IGN5IDwgc2lkZTsgY3krKykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGN4ID0gMDsgY3ggPCBzaWRlOyBjeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzY3kgPSB5ICsgY3kgLSBoYWxmU2lkZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjeCA9IHggKyBjeCAtIGhhbGZTaWRlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2N5ID49IDAgJiYgc2N5IDwgc2ggJiYgc2N4ID49IDAgJiYgc2N4IDwgc3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcmNPZmYgPSBzY3kgKiBzdyArIHNjeDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3dCA9IHdlaWdodHNbY3kgKiBzaWRlICsgY3hdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYSArPSBtYXNrW3NyY09mZl0gKiB3dDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hc2tSZXN1bHRbc29dID0gYTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWFza1Jlc3VsdDtcbn1cbmNvbnN0IE1hc2sgPSBmdW5jdGlvbiAoaW1hZ2VEYXRhKSB7XG4gICAgdmFyIHRocmVzaG9sZCA9IHRoaXMudGhyZXNob2xkKCksIG1hc2sgPSBiYWNrZ3JvdW5kTWFzayhpbWFnZURhdGEsIHRocmVzaG9sZCk7XG4gICAgaWYgKG1hc2spIHtcbiAgICAgICAgbWFzayA9IGVyb2RlTWFzayhtYXNrLCBpbWFnZURhdGEud2lkdGgsIGltYWdlRGF0YS5oZWlnaHQpO1xuICAgICAgICBtYXNrID0gZGlsYXRlTWFzayhtYXNrLCBpbWFnZURhdGEud2lkdGgsIGltYWdlRGF0YS5oZWlnaHQpO1xuICAgICAgICBtYXNrID0gc21vb3RoRWRnZU1hc2sobWFzaywgaW1hZ2VEYXRhLndpZHRoLCBpbWFnZURhdGEuaGVpZ2h0KTtcbiAgICAgICAgYXBwbHlNYXNrKGltYWdlRGF0YSwgbWFzayk7XG4gICAgfVxuICAgIHJldHVybiBpbWFnZURhdGE7XG59O1xuZXhwb3J0cy5NYXNrID0gTWFzaztcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihOb2RlXzEuTm9kZSwgJ3RocmVzaG9sZCcsIDAsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpLCBGYWN0b3J5XzEuRmFjdG9yeS5hZnRlclNldEZpbHRlcik7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk5vaXNlID0gdm9pZCAwO1xuY29uc3QgRmFjdG9yeV8xID0gcmVxdWlyZShcIi4uL0ZhY3RvcnlcIik7XG5jb25zdCBOb2RlXzEgPSByZXF1aXJlKFwiLi4vTm9kZVwiKTtcbmNvbnN0IFZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoXCIuLi9WYWxpZGF0b3JzXCIpO1xuY29uc3QgTm9pc2UgPSBmdW5jdGlvbiAoaW1hZ2VEYXRhKSB7XG4gICAgdmFyIGFtb3VudCA9IHRoaXMubm9pc2UoKSAqIDI1NSwgZGF0YSA9IGltYWdlRGF0YS5kYXRhLCBuUGl4ZWxzID0gZGF0YS5sZW5ndGgsIGhhbGYgPSBhbW91bnQgLyAyLCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBuUGl4ZWxzOyBpICs9IDQpIHtcbiAgICAgICAgZGF0YVtpICsgMF0gKz0gaGFsZiAtIDIgKiBoYWxmICogTWF0aC5yYW5kb20oKTtcbiAgICAgICAgZGF0YVtpICsgMV0gKz0gaGFsZiAtIDIgKiBoYWxmICogTWF0aC5yYW5kb20oKTtcbiAgICAgICAgZGF0YVtpICsgMl0gKz0gaGFsZiAtIDIgKiBoYWxmICogTWF0aC5yYW5kb20oKTtcbiAgICB9XG59O1xuZXhwb3J0cy5Ob2lzZSA9IE5vaXNlO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKE5vZGVfMS5Ob2RlLCAnbm9pc2UnLCAwLjIsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpLCBGYWN0b3J5XzEuRmFjdG9yeS5hZnRlclNldEZpbHRlcik7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBpeGVsYXRlID0gdm9pZCAwO1xuY29uc3QgRmFjdG9yeV8xID0gcmVxdWlyZShcIi4uL0ZhY3RvcnlcIik7XG5jb25zdCBVdGlsXzEgPSByZXF1aXJlKFwiLi4vVXRpbFwiKTtcbmNvbnN0IE5vZGVfMSA9IHJlcXVpcmUoXCIuLi9Ob2RlXCIpO1xuY29uc3QgVmFsaWRhdG9yc18xID0gcmVxdWlyZShcIi4uL1ZhbGlkYXRvcnNcIik7XG5jb25zdCBQaXhlbGF0ZSA9IGZ1bmN0aW9uIChpbWFnZURhdGEpIHtcbiAgICB2YXIgcGl4ZWxTaXplID0gTWF0aC5jZWlsKHRoaXMucGl4ZWxTaXplKCkpLCB3aWR0aCA9IGltYWdlRGF0YS53aWR0aCwgaGVpZ2h0ID0gaW1hZ2VEYXRhLmhlaWdodCwgeCwgeSwgaSwgcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGEsIG5CaW5zWCA9IE1hdGguY2VpbCh3aWR0aCAvIHBpeGVsU2l6ZSksIG5CaW5zWSA9IE1hdGguY2VpbChoZWlnaHQgLyBwaXhlbFNpemUpLCB4QmluU3RhcnQsIHhCaW5FbmQsIHlCaW5TdGFydCwgeUJpbkVuZCwgeEJpbiwgeUJpbiwgcGl4ZWxzSW5CaW4sIGRhdGEgPSBpbWFnZURhdGEuZGF0YTtcbiAgICBpZiAocGl4ZWxTaXplIDw9IDApIHtcbiAgICAgICAgVXRpbF8xLlV0aWwuZXJyb3IoJ3BpeGVsU2l6ZSB2YWx1ZSBjYW4gbm90IGJlIDw9IDAnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKHhCaW4gPSAwOyB4QmluIDwgbkJpbnNYOyB4QmluICs9IDEpIHtcbiAgICAgICAgZm9yICh5QmluID0gMDsgeUJpbiA8IG5CaW5zWTsgeUJpbiArPSAxKSB7XG4gICAgICAgICAgICByZWQgPSAwO1xuICAgICAgICAgICAgZ3JlZW4gPSAwO1xuICAgICAgICAgICAgYmx1ZSA9IDA7XG4gICAgICAgICAgICBhbHBoYSA9IDA7XG4gICAgICAgICAgICB4QmluU3RhcnQgPSB4QmluICogcGl4ZWxTaXplO1xuICAgICAgICAgICAgeEJpbkVuZCA9IHhCaW5TdGFydCArIHBpeGVsU2l6ZTtcbiAgICAgICAgICAgIHlCaW5TdGFydCA9IHlCaW4gKiBwaXhlbFNpemU7XG4gICAgICAgICAgICB5QmluRW5kID0geUJpblN0YXJ0ICsgcGl4ZWxTaXplO1xuICAgICAgICAgICAgcGl4ZWxzSW5CaW4gPSAwO1xuICAgICAgICAgICAgZm9yICh4ID0geEJpblN0YXJ0OyB4IDwgeEJpbkVuZDsgeCArPSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKHggPj0gd2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoeSA9IHlCaW5TdGFydDsgeSA8IHlCaW5FbmQ7IHkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoeSA+PSBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGkgPSAod2lkdGggKiB5ICsgeCkgKiA0O1xuICAgICAgICAgICAgICAgICAgICByZWQgKz0gZGF0YVtpICsgMF07XG4gICAgICAgICAgICAgICAgICAgIGdyZWVuICs9IGRhdGFbaSArIDFdO1xuICAgICAgICAgICAgICAgICAgICBibHVlICs9IGRhdGFbaSArIDJdO1xuICAgICAgICAgICAgICAgICAgICBhbHBoYSArPSBkYXRhW2kgKyAzXTtcbiAgICAgICAgICAgICAgICAgICAgcGl4ZWxzSW5CaW4gKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWQgPSByZWQgLyBwaXhlbHNJbkJpbjtcbiAgICAgICAgICAgIGdyZWVuID0gZ3JlZW4gLyBwaXhlbHNJbkJpbjtcbiAgICAgICAgICAgIGJsdWUgPSBibHVlIC8gcGl4ZWxzSW5CaW47XG4gICAgICAgICAgICBhbHBoYSA9IGFscGhhIC8gcGl4ZWxzSW5CaW47XG4gICAgICAgICAgICBmb3IgKHggPSB4QmluU3RhcnQ7IHggPCB4QmluRW5kOyB4ICs9IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoeCA+PSB3aWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh5ID0geUJpblN0YXJ0OyB5IDwgeUJpbkVuZDsgeSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh5ID49IGhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaSA9ICh3aWR0aCAqIHkgKyB4KSAqIDQ7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbaSArIDBdID0gcmVkO1xuICAgICAgICAgICAgICAgICAgICBkYXRhW2kgKyAxXSA9IGdyZWVuO1xuICAgICAgICAgICAgICAgICAgICBkYXRhW2kgKyAyXSA9IGJsdWU7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbaSArIDNdID0gYWxwaGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcbmV4cG9ydHMuUGl4ZWxhdGUgPSBQaXhlbGF0ZTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihOb2RlXzEuTm9kZSwgJ3BpeGVsU2l6ZScsIDgsICgwLCBWYWxpZGF0b3JzXzEuZ2V0TnVtYmVyVmFsaWRhdG9yKSgpLCBGYWN0b3J5XzEuRmFjdG9yeS5hZnRlclNldEZpbHRlcik7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvc3Rlcml6ZSA9IHZvaWQgMDtcbmNvbnN0IEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9GYWN0b3J5XCIpO1xuY29uc3QgTm9kZV8xID0gcmVxdWlyZShcIi4uL05vZGVcIik7XG5jb25zdCBWYWxpZGF0b3JzXzEgPSByZXF1aXJlKFwiLi4vVmFsaWRhdG9yc1wiKTtcbmNvbnN0IFBvc3Rlcml6ZSA9IGZ1bmN0aW9uIChpbWFnZURhdGEpIHtcbiAgICB2YXIgbGV2ZWxzID0gTWF0aC5yb3VuZCh0aGlzLmxldmVscygpICogMjU0KSArIDEsIGRhdGEgPSBpbWFnZURhdGEuZGF0YSwgbGVuID0gZGF0YS5sZW5ndGgsIHNjYWxlID0gMjU1IC8gbGV2ZWxzLCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICBkYXRhW2ldID0gTWF0aC5mbG9vcihkYXRhW2ldIC8gc2NhbGUpICogc2NhbGU7XG4gICAgfVxufTtcbmV4cG9ydHMuUG9zdGVyaXplID0gUG9zdGVyaXplO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKE5vZGVfMS5Ob2RlLCAnbGV2ZWxzJywgMC41LCAoMCwgVmFsaWRhdG9yc18xLmdldE51bWJlclZhbGlkYXRvcikoKSwgRmFjdG9yeV8xLkZhY3RvcnkuYWZ0ZXJTZXRGaWx0ZXIpO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SR0IgPSB2b2lkIDA7XG5jb25zdCBGYWN0b3J5XzEgPSByZXF1aXJlKFwiLi4vRmFjdG9yeVwiKTtcbmNvbnN0IE5vZGVfMSA9IHJlcXVpcmUoXCIuLi9Ob2RlXCIpO1xuY29uc3QgVmFsaWRhdG9yc18xID0gcmVxdWlyZShcIi4uL1ZhbGlkYXRvcnNcIik7XG5jb25zdCBSR0IgPSBmdW5jdGlvbiAoaW1hZ2VEYXRhKSB7XG4gICAgdmFyIGRhdGEgPSBpbWFnZURhdGEuZGF0YSwgblBpeGVscyA9IGRhdGEubGVuZ3RoLCByZWQgPSB0aGlzLnJlZCgpLCBncmVlbiA9IHRoaXMuZ3JlZW4oKSwgYmx1ZSA9IHRoaXMuYmx1ZSgpLCBpLCBicmlnaHRuZXNzO1xuICAgIGZvciAoaSA9IDA7IGkgPCBuUGl4ZWxzOyBpICs9IDQpIHtcbiAgICAgICAgYnJpZ2h0bmVzcyA9XG4gICAgICAgICAgICAoMC4zNCAqIGRhdGFbaV0gKyAwLjUgKiBkYXRhW2kgKyAxXSArIDAuMTYgKiBkYXRhW2kgKyAyXSkgLyAyNTU7XG4gICAgICAgIGRhdGFbaV0gPSBicmlnaHRuZXNzICogcmVkO1xuICAgICAgICBkYXRhW2kgKyAxXSA9IGJyaWdodG5lc3MgKiBncmVlbjtcbiAgICAgICAgZGF0YVtpICsgMl0gPSBicmlnaHRuZXNzICogYmx1ZTtcbiAgICAgICAgZGF0YVtpICsgM10gPSBkYXRhW2kgKyAzXTtcbiAgICB9XG59O1xuZXhwb3J0cy5SR0IgPSBSR0I7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoTm9kZV8xLk5vZGUsICdyZWQnLCAwLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgdGhpcy5fZmlsdGVyVXBUb0RhdGUgPSBmYWxzZTtcbiAgICBpZiAodmFsID4gMjU1KSB7XG4gICAgICAgIHJldHVybiAyNTU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbCA8IDApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWwpO1xuICAgIH1cbn0pO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKE5vZGVfMS5Ob2RlLCAnZ3JlZW4nLCAwLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgdGhpcy5fZmlsdGVyVXBUb0RhdGUgPSBmYWxzZTtcbiAgICBpZiAodmFsID4gMjU1KSB7XG4gICAgICAgIHJldHVybiAyNTU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbCA8IDApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWwpO1xuICAgIH1cbn0pO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKE5vZGVfMS5Ob2RlLCAnYmx1ZScsIDAsIFZhbGlkYXRvcnNfMS5SR0JDb21wb25lbnQsIEZhY3RvcnlfMS5GYWN0b3J5LmFmdGVyU2V0RmlsdGVyKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUkdCQSA9IHZvaWQgMDtcbmNvbnN0IEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9GYWN0b3J5XCIpO1xuY29uc3QgTm9kZV8xID0gcmVxdWlyZShcIi4uL05vZGVcIik7XG5jb25zdCBWYWxpZGF0b3JzXzEgPSByZXF1aXJlKFwiLi4vVmFsaWRhdG9yc1wiKTtcbmNvbnN0IFJHQkEgPSBmdW5jdGlvbiAoaW1hZ2VEYXRhKSB7XG4gICAgdmFyIGRhdGEgPSBpbWFnZURhdGEuZGF0YSwgblBpeGVscyA9IGRhdGEubGVuZ3RoLCByZWQgPSB0aGlzLnJlZCgpLCBncmVlbiA9IHRoaXMuZ3JlZW4oKSwgYmx1ZSA9IHRoaXMuYmx1ZSgpLCBhbHBoYSA9IHRoaXMuYWxwaGEoKSwgaSwgaWE7XG4gICAgZm9yIChpID0gMDsgaSA8IG5QaXhlbHM7IGkgKz0gNCkge1xuICAgICAgICBpYSA9IDEgLSBhbHBoYTtcbiAgICAgICAgZGF0YVtpXSA9IHJlZCAqIGFscGhhICsgZGF0YVtpXSAqIGlhO1xuICAgICAgICBkYXRhW2kgKyAxXSA9IGdyZWVuICogYWxwaGEgKyBkYXRhW2kgKyAxXSAqIGlhO1xuICAgICAgICBkYXRhW2kgKyAyXSA9IGJsdWUgKiBhbHBoYSArIGRhdGFbaSArIDJdICogaWE7XG4gICAgfVxufTtcbmV4cG9ydHMuUkdCQSA9IFJHQkE7XG5GYWN0b3J5XzEuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoTm9kZV8xLk5vZGUsICdyZWQnLCAwLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgdGhpcy5fZmlsdGVyVXBUb0RhdGUgPSBmYWxzZTtcbiAgICBpZiAodmFsID4gMjU1KSB7XG4gICAgICAgIHJldHVybiAyNTU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbCA8IDApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWwpO1xuICAgIH1cbn0pO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKE5vZGVfMS5Ob2RlLCAnZ3JlZW4nLCAwLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgdGhpcy5fZmlsdGVyVXBUb0RhdGUgPSBmYWxzZTtcbiAgICBpZiAodmFsID4gMjU1KSB7XG4gICAgICAgIHJldHVybiAyNTU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbCA8IDApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWwpO1xuICAgIH1cbn0pO1xuRmFjdG9yeV8xLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKE5vZGVfMS5Ob2RlLCAnYmx1ZScsIDAsIFZhbGlkYXRvcnNfMS5SR0JDb21wb25lbnQsIEZhY3RvcnlfMS5GYWN0b3J5LmFmdGVyU2V0RmlsdGVyKTtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihOb2RlXzEuTm9kZSwgJ2FscGhhJywgMSwgZnVuY3Rpb24gKHZhbCkge1xuICAgIHRoaXMuX2ZpbHRlclVwVG9EYXRlID0gZmFsc2U7XG4gICAgaWYgKHZhbCA+IDEpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbCA8IDApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbn0pO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TZXBpYSA9IHZvaWQgMDtcbmNvbnN0IFNlcGlhID0gZnVuY3Rpb24gKGltYWdlRGF0YSkge1xuICAgIHZhciBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIG5QaXhlbHMgPSBkYXRhLmxlbmd0aCwgaSwgciwgZywgYjtcbiAgICBmb3IgKGkgPSAwOyBpIDwgblBpeGVsczsgaSArPSA0KSB7XG4gICAgICAgIHIgPSBkYXRhW2kgKyAwXTtcbiAgICAgICAgZyA9IGRhdGFbaSArIDFdO1xuICAgICAgICBiID0gZGF0YVtpICsgMl07XG4gICAgICAgIGRhdGFbaSArIDBdID0gTWF0aC5taW4oMjU1LCByICogMC4zOTMgKyBnICogMC43NjkgKyBiICogMC4xODkpO1xuICAgICAgICBkYXRhW2kgKyAxXSA9IE1hdGgubWluKDI1NSwgciAqIDAuMzQ5ICsgZyAqIDAuNjg2ICsgYiAqIDAuMTY4KTtcbiAgICAgICAgZGF0YVtpICsgMl0gPSBNYXRoLm1pbigyNTUsIHIgKiAwLjI3MiArIGcgKiAwLjUzNCArIGIgKiAwLjEzMSk7XG4gICAgfVxufTtcbmV4cG9ydHMuU2VwaWEgPSBTZXBpYTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU29sYXJpemUgPSB2b2lkIDA7XG5jb25zdCBTb2xhcml6ZSA9IGZ1bmN0aW9uIChpbWFnZURhdGEpIHtcbiAgICB2YXIgZGF0YSA9IGltYWdlRGF0YS5kYXRhLCB3ID0gaW1hZ2VEYXRhLndpZHRoLCBoID0gaW1hZ2VEYXRhLmhlaWdodCwgdzQgPSB3ICogNCwgeSA9IGg7XG4gICAgZG8ge1xuICAgICAgICB2YXIgb2Zmc2V0WSA9ICh5IC0gMSkgKiB3NDtcbiAgICAgICAgdmFyIHggPSB3O1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gb2Zmc2V0WSArICh4IC0gMSkgKiA0O1xuICAgICAgICAgICAgdmFyIHIgPSBkYXRhW29mZnNldF07XG4gICAgICAgICAgICB2YXIgZyA9IGRhdGFbb2Zmc2V0ICsgMV07XG4gICAgICAgICAgICB2YXIgYiA9IGRhdGFbb2Zmc2V0ICsgMl07XG4gICAgICAgICAgICBpZiAociA+IDEyNykge1xuICAgICAgICAgICAgICAgIHIgPSAyNTUgLSByO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGcgPiAxMjcpIHtcbiAgICAgICAgICAgICAgICBnID0gMjU1IC0gZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiID4gMTI3KSB7XG4gICAgICAgICAgICAgICAgYiA9IDI1NSAtIGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhW29mZnNldF0gPSByO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IGc7XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDJdID0gYjtcbiAgICAgICAgfSB3aGlsZSAoLS14KTtcbiAgICB9IHdoaWxlICgtLXkpO1xufTtcbmV4cG9ydHMuU29sYXJpemUgPSBTb2xhcml6ZTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVGhyZXNob2xkID0gdm9pZCAwO1xuY29uc3QgRmFjdG9yeV8xID0gcmVxdWlyZShcIi4uL0ZhY3RvcnlcIik7XG5jb25zdCBOb2RlXzEgPSByZXF1aXJlKFwiLi4vTm9kZVwiKTtcbmNvbnN0IFZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoXCIuLi9WYWxpZGF0b3JzXCIpO1xuY29uc3QgVGhyZXNob2xkID0gZnVuY3Rpb24gKGltYWdlRGF0YSkge1xuICAgIHZhciBsZXZlbCA9IHRoaXMudGhyZXNob2xkKCkgKiAyNTUsIGRhdGEgPSBpbWFnZURhdGEuZGF0YSwgbGVuID0gZGF0YS5sZW5ndGgsIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgIGRhdGFbaV0gPSBkYXRhW2ldIDwgbGV2ZWwgPyAwIDogMjU1O1xuICAgIH1cbn07XG5leHBvcnRzLlRocmVzaG9sZCA9IFRocmVzaG9sZDtcbkZhY3RvcnlfMS5GYWN0b3J5LmFkZEdldHRlclNldHRlcihOb2RlXzEuTm9kZSwgJ3RocmVzaG9sZCcsIDAuNSwgKDAsIFZhbGlkYXRvcnNfMS5nZXROdW1iZXJWYWxpZGF0b3IpKCksIEZhY3RvcnlfMS5GYWN0b3J5LmFmdGVyU2V0RmlsdGVyKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuS29udmEgPSB2b2lkIDA7XG5jb25zdCBfQ29yZUludGVybmFsc18xID0gcmVxdWlyZShcIi4vX0NvcmVJbnRlcm5hbHNcIik7XG5jb25zdCBBcmNfMSA9IHJlcXVpcmUoXCIuL3NoYXBlcy9BcmNcIik7XG5jb25zdCBBcnJvd18xID0gcmVxdWlyZShcIi4vc2hhcGVzL0Fycm93XCIpO1xuY29uc3QgQ2lyY2xlXzEgPSByZXF1aXJlKFwiLi9zaGFwZXMvQ2lyY2xlXCIpO1xuY29uc3QgRWxsaXBzZV8xID0gcmVxdWlyZShcIi4vc2hhcGVzL0VsbGlwc2VcIik7XG5jb25zdCBJbWFnZV8xID0gcmVxdWlyZShcIi4vc2hhcGVzL0ltYWdlXCIpO1xuY29uc3QgTGFiZWxfMSA9IHJlcXVpcmUoXCIuL3NoYXBlcy9MYWJlbFwiKTtcbmNvbnN0IExpbmVfMSA9IHJlcXVpcmUoXCIuL3NoYXBlcy9MaW5lXCIpO1xuY29uc3QgUGF0aF8xID0gcmVxdWlyZShcIi4vc2hhcGVzL1BhdGhcIik7XG5jb25zdCBSZWN0XzEgPSByZXF1aXJlKFwiLi9zaGFwZXMvUmVjdFwiKTtcbmNvbnN0IFJlZ3VsYXJQb2x5Z29uXzEgPSByZXF1aXJlKFwiLi9zaGFwZXMvUmVndWxhclBvbHlnb25cIik7XG5jb25zdCBSaW5nXzEgPSByZXF1aXJlKFwiLi9zaGFwZXMvUmluZ1wiKTtcbmNvbnN0IFNwcml0ZV8xID0gcmVxdWlyZShcIi4vc2hhcGVzL1Nwcml0ZVwiKTtcbmNvbnN0IFN0YXJfMSA9IHJlcXVpcmUoXCIuL3NoYXBlcy9TdGFyXCIpO1xuY29uc3QgVGV4dF8xID0gcmVxdWlyZShcIi4vc2hhcGVzL1RleHRcIik7XG5jb25zdCBUZXh0UGF0aF8xID0gcmVxdWlyZShcIi4vc2hhcGVzL1RleHRQYXRoXCIpO1xuY29uc3QgVHJhbnNmb3JtZXJfMSA9IHJlcXVpcmUoXCIuL3NoYXBlcy9UcmFuc2Zvcm1lclwiKTtcbmNvbnN0IFdlZGdlXzEgPSByZXF1aXJlKFwiLi9zaGFwZXMvV2VkZ2VcIik7XG5jb25zdCBCbHVyXzEgPSByZXF1aXJlKFwiLi9maWx0ZXJzL0JsdXJcIik7XG5jb25zdCBCcmlnaHRlbl8xID0gcmVxdWlyZShcIi4vZmlsdGVycy9CcmlnaHRlblwiKTtcbmNvbnN0IENvbnRyYXN0XzEgPSByZXF1aXJlKFwiLi9maWx0ZXJzL0NvbnRyYXN0XCIpO1xuY29uc3QgRW1ib3NzXzEgPSByZXF1aXJlKFwiLi9maWx0ZXJzL0VtYm9zc1wiKTtcbmNvbnN0IEVuaGFuY2VfMSA9IHJlcXVpcmUoXCIuL2ZpbHRlcnMvRW5oYW5jZVwiKTtcbmNvbnN0IEdyYXlzY2FsZV8xID0gcmVxdWlyZShcIi4vZmlsdGVycy9HcmF5c2NhbGVcIik7XG5jb25zdCBIU0xfMSA9IHJlcXVpcmUoXCIuL2ZpbHRlcnMvSFNMXCIpO1xuY29uc3QgSFNWXzEgPSByZXF1aXJlKFwiLi9maWx0ZXJzL0hTVlwiKTtcbmNvbnN0IEludmVydF8xID0gcmVxdWlyZShcIi4vZmlsdGVycy9JbnZlcnRcIik7XG5jb25zdCBLYWxlaWRvc2NvcGVfMSA9IHJlcXVpcmUoXCIuL2ZpbHRlcnMvS2FsZWlkb3Njb3BlXCIpO1xuY29uc3QgTWFza18xID0gcmVxdWlyZShcIi4vZmlsdGVycy9NYXNrXCIpO1xuY29uc3QgTm9pc2VfMSA9IHJlcXVpcmUoXCIuL2ZpbHRlcnMvTm9pc2VcIik7XG5jb25zdCBQaXhlbGF0ZV8xID0gcmVxdWlyZShcIi4vZmlsdGVycy9QaXhlbGF0ZVwiKTtcbmNvbnN0IFBvc3Rlcml6ZV8xID0gcmVxdWlyZShcIi4vZmlsdGVycy9Qb3N0ZXJpemVcIik7XG5jb25zdCBSR0JfMSA9IHJlcXVpcmUoXCIuL2ZpbHRlcnMvUkdCXCIpO1xuY29uc3QgUkdCQV8xID0gcmVxdWlyZShcIi4vZmlsdGVycy9SR0JBXCIpO1xuY29uc3QgU2VwaWFfMSA9IHJlcXVpcmUoXCIuL2ZpbHRlcnMvU2VwaWFcIik7XG5jb25zdCBTb2xhcml6ZV8xID0gcmVxdWlyZShcIi4vZmlsdGVycy9Tb2xhcml6ZVwiKTtcbmNvbnN0IFRocmVzaG9sZF8xID0gcmVxdWlyZShcIi4vZmlsdGVycy9UaHJlc2hvbGRcIik7XG5leHBvcnRzLktvbnZhID0gX0NvcmVJbnRlcm5hbHNfMS5Lb252YS5VdGlsLl9hc3NpZ24oX0NvcmVJbnRlcm5hbHNfMS5Lb252YSwge1xuICAgIEFyYzogQXJjXzEuQXJjLFxuICAgIEFycm93OiBBcnJvd18xLkFycm93LFxuICAgIENpcmNsZTogQ2lyY2xlXzEuQ2lyY2xlLFxuICAgIEVsbGlwc2U6IEVsbGlwc2VfMS5FbGxpcHNlLFxuICAgIEltYWdlOiBJbWFnZV8xLkltYWdlLFxuICAgIExhYmVsOiBMYWJlbF8xLkxhYmVsLFxuICAgIFRhZzogTGFiZWxfMS5UYWcsXG4gICAgTGluZTogTGluZV8xLkxpbmUsXG4gICAgUGF0aDogUGF0aF8xLlBhdGgsXG4gICAgUmVjdDogUmVjdF8xLlJlY3QsXG4gICAgUmVndWxhclBvbHlnb246IFJlZ3VsYXJQb2x5Z29uXzEuUmVndWxhclBvbHlnb24sXG4gICAgUmluZzogUmluZ18xLlJpbmcsXG4gICAgU3ByaXRlOiBTcHJpdGVfMS5TcHJpdGUsXG4gICAgU3RhcjogU3Rhcl8xLlN0YXIsXG4gICAgVGV4dDogVGV4dF8xLlRleHQsXG4gICAgVGV4dFBhdGg6IFRleHRQYXRoXzEuVGV4dFBhdGgsXG4gICAgVHJhbnNmb3JtZXI6IFRyYW5zZm9ybWVyXzEuVHJhbnNmb3JtZXIsXG4gICAgV2VkZ2U6IFdlZGdlXzEuV2VkZ2UsXG4gICAgRmlsdGVyczoge1xuICAgICAgICBCbHVyOiBCbHVyXzEuQmx1cixcbiAgICAgICAgQnJpZ2h0ZW46IEJyaWdodGVuXzEuQnJpZ2h0ZW4sXG4gICAgICAgIENvbnRyYXN0OiBDb250cmFzdF8xLkNvbnRyYXN0LFxuICAgICAgICBFbWJvc3M6IEVtYm9zc18xLkVtYm9zcyxcbiAgICAgICAgRW5oYW5jZTogRW5oYW5jZV8xLkVuaGFuY2UsXG4gICAgICAgIEdyYXlzY2FsZTogR3JheXNjYWxlXzEuR3JheXNjYWxlLFxuICAgICAgICBIU0w6IEhTTF8xLkhTTCxcbiAgICAgICAgSFNWOiBIU1ZfMS5IU1YsXG4gICAgICAgIEludmVydDogSW52ZXJ0XzEuSW52ZXJ0LFxuICAgICAgICBLYWxlaWRvc2NvcGU6IEthbGVpZG9zY29wZV8xLkthbGVpZG9zY29wZSxcbiAgICAgICAgTWFzazogTWFza18xLk1hc2ssXG4gICAgICAgIE5vaXNlOiBOb2lzZV8xLk5vaXNlLFxuICAgICAgICBQaXhlbGF0ZTogUGl4ZWxhdGVfMS5QaXhlbGF0ZSxcbiAgICAgICAgUG9zdGVyaXplOiBQb3N0ZXJpemVfMS5Qb3N0ZXJpemUsXG4gICAgICAgIFJHQjogUkdCXzEuUkdCLFxuICAgICAgICBSR0JBOiBSR0JBXzEuUkdCQSxcbiAgICAgICAgU2VwaWE6IFNlcGlhXzEuU2VwaWEsXG4gICAgICAgIFNvbGFyaXplOiBTb2xhcml6ZV8xLlNvbGFyaXplLFxuICAgICAgICBUaHJlc2hvbGQ6IFRocmVzaG9sZF8xLlRocmVzaG9sZCxcbiAgICB9LFxufSk7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfRnVsbEludGVybmFsc18xID0gcmVxdWlyZShcIi4vX0Z1bGxJbnRlcm5hbHNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IF9GdWxsSW50ZXJuYWxzXzEuS29udmE7XG4iLCAiaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBTa2V0Y2hNRE1vZGFsIH0gZnJvbSBcInNyYy9tb2RhbC9tYWluTW9kYWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2tldGNoTUQgZXh0ZW5kcyBQbHVnaW4ge1xuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0Y29uc3QgcmliYm9uSWNvbkVsID0gdGhpcy5hZGRSaWJib25JY29uKFxuXHRcdFx0XCJmaWxlLXNpZ25hdHVyZVwiLFxuXHRcdFx0XCJza2V0Y2gtbWRcIixcblx0XHRcdChldnQ6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdFx0bmV3IFNrZXRjaE1ETW9kYWwodGhpcy5hcHApLm9wZW4oKTtcblx0XHRcdH1cblx0XHQpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBTdmVsdGVDb21wb25lbnQgfSBmcm9tIFwic3ZlbHRlXCI7XG5cbmltcG9ydCB7IEFwcCwgTW9kYWwgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuaW1wb3J0IFNrZXRjaE1EIGZyb20gXCIuLi9wYWdlL1NrZXRjaE1ELnN2ZWx0ZVwiO1xuaW1wb3J0IHsgaXNEb2N1bWVudEFjdGl2ZSB9IGZyb20gXCJzcmMvdXRpbC9mZWF0dXJlc1wiO1xuXG5leHBvcnQgY2xhc3MgU2tldGNoTURNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0Y2FudmFzQ29tcG9uZW50ITogU3ZlbHRlQ29tcG9uZW50O1xuXHRtb2RhbE5hbWU6IHN0cmluZyA9IFwic2tldGNoLW1kLW1vZGFsXCI7XG5cdHdpZHRoOiBudW1iZXIgPSA1MDA7XG5cdGhlaWdodDogbnVtYmVyID0gNDAwO1xuXHRpc1ZhbGlkT3BlbjogYm9vbGVhbiA9IGZhbHNlO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0fVxuXG5cdG9uT3BlbigpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCwgdGl0bGVFbCB9ID0gdGhpcztcblx0XHR0aGlzLmlzVmFsaWRPcGVuID0gaXNEb2N1bWVudEFjdGl2ZSh0aGlzLmFwcCk7XG5cdFx0dGl0bGVFbC5zZXRUZXh0KHRoaXMubW9kYWxOYW1lKTtcblxuXHRcdGlmICghdGhpcy5pc1ZhbGlkT3Blbikge1xuXHRcdFx0Y29uc3QgdGV4dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcblx0XHRcdHRleHRFbGVtZW50LnRleHRDb250ZW50ID1cblx0XHRcdFx0XCJQbGVhc2UgY3JlYXRlIGFuZCBvcGVuIHRoZSBlZGl0IGRvY3VtZW50IGZpcnN0LlwiO1xuXG5cdFx0XHRjb250ZW50RWwuYXBwZW5kQ2hpbGQodGV4dEVsZW1lbnQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0dGhpcy53aWR0aCA9IGNvbnRlbnRFbC5vZmZzZXRXaWR0aDtcblx0XHRcdFx0dGhpcy5oZWlnaHQgPSBjb250ZW50RWwub2Zmc2V0SGVpZ2h0O1xuXHRcdFx0fSwgMCk7XG5cblx0XHRcdHRoaXMuY2FudmFzQ29tcG9uZW50ID0gbmV3IFNrZXRjaE1EKHtcblx0XHRcdFx0dGFyZ2V0OiBjb250ZW50RWwsXG5cdFx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdFx0YXBwOiB0aGlzLmFwcCxcblx0XHRcdFx0XHR3aWR0aDogdGhpcy53aWR0aCxcblx0XHRcdFx0XHRoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0b25DbG9zZSgpIHtcblx0XHR0aGlzLmNhbnZhc0NvbXBvbmVudC4kZGVzdHJveSgpO1xuXHR9XG59XG4iLCAiLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5leHBvcnQgY29uc3QgaWRlbnRpdHkgPSAoeCkgPT4geDtcblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHRlbXBsYXRlIFNcbiAqIEBwYXJhbSB7VH0gdGFyXG4gKiBAcGFyYW0ge1N9IHNyY1xuICogQHJldHVybnMge1QgJiBTfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKHRhciwgc3JjKSB7XG5cdC8vIEB0cy1pZ25vcmVcblx0Zm9yIChjb25zdCBrIGluIHNyYykgdGFyW2tdID0gc3JjW2tdO1xuXHRyZXR1cm4gLyoqIEB0eXBlIHtUICYgU30gKi8gKHRhcik7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vdGhlbi9pcy1wcm9taXNlL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBNSVQgTGljZW5zZSBodHRwczovL2dpdGh1Yi5jb20vdGhlbi9pcy1wcm9taXNlL2Jsb2IvbWFzdGVyL0xJQ0VOU0Vcbi8qKlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcmV0dXJucyB7dmFsdWUgaXMgUHJvbWlzZUxpa2U8YW55Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3Byb21pc2UodmFsdWUpIHtcblx0cmV0dXJuIChcblx0XHQhIXZhbHVlICYmXG5cdFx0KHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSAmJlxuXHRcdHR5cGVvZiAoLyoqIEB0eXBlIHthbnl9ICovICh2YWx1ZSkudGhlbikgPT09ICdmdW5jdGlvbidcblx0KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF9sb2NhdGlvbihlbGVtZW50LCBmaWxlLCBsaW5lLCBjb2x1bW4sIGNoYXIpIHtcblx0ZWxlbWVudC5fX3N2ZWx0ZV9tZXRhID0ge1xuXHRcdGxvYzogeyBmaWxlLCBsaW5lLCBjb2x1bW4sIGNoYXIgfVxuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcnVuKGZuKSB7XG5cdHJldHVybiBmbigpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmxhbmtfb2JqZWN0KCkge1xuXHRyZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0Z1bmN0aW9uW119IGZuc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydW5fYWxsKGZucykge1xuXHRmbnMuZm9yRWFjaChydW4pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSB0aGluZ1xuICogQHJldHVybnMge3RoaW5nIGlzIEZ1bmN0aW9ufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfZnVuY3Rpb24odGhpbmcpIHtcblx0cmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhZmVfbm90X2VxdWFsKGEsIGIpIHtcblx0cmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGIgfHwgKGEgJiYgdHlwZW9mIGEgPT09ICdvYmplY3QnKSB8fCB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxubGV0IHNyY191cmxfZXF1YWxfYW5jaG9yO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50X3NyY1xuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcmNfdXJsX2VxdWFsKGVsZW1lbnRfc3JjLCB1cmwpIHtcblx0aWYgKGVsZW1lbnRfc3JjID09PSB1cmwpIHJldHVybiB0cnVlO1xuXHRpZiAoIXNyY191cmxfZXF1YWxfYW5jaG9yKSB7XG5cdFx0c3JjX3VybF9lcXVhbF9hbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdH1cblx0Ly8gVGhpcyBpcyBhY3R1YWxseSBmYXN0ZXIgdGhhbiBkb2luZyBVUkwoLi4pLmhyZWZcblx0c3JjX3VybF9lcXVhbF9hbmNob3IuaHJlZiA9IHVybDtcblx0cmV0dXJuIGVsZW1lbnRfc3JjID09PSBzcmNfdXJsX2VxdWFsX2FuY2hvci5ocmVmO1xufVxuXG4vKiogQHBhcmFtIHtzdHJpbmd9IHNyY3NldCAqL1xuZnVuY3Rpb24gc3BsaXRfc3Jjc2V0KHNyY3NldCkge1xuXHRyZXR1cm4gc3Jjc2V0LnNwbGl0KCcsJykubWFwKChzcmMpID0+IHNyYy50cmltKCkuc3BsaXQoJyAnKS5maWx0ZXIoQm9vbGVhbikpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTFNvdXJjZUVsZW1lbnQgfCBIVE1MSW1hZ2VFbGVtZW50fSBlbGVtZW50X3NyY3NldFxuICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWQgfCBudWxsfSBzcmNzZXRcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3Jjc2V0X3VybF9lcXVhbChlbGVtZW50X3NyY3NldCwgc3Jjc2V0KSB7XG5cdGNvbnN0IGVsZW1lbnRfdXJscyA9IHNwbGl0X3NyY3NldChlbGVtZW50X3NyY3NldC5zcmNzZXQpO1xuXHRjb25zdCB1cmxzID0gc3BsaXRfc3Jjc2V0KHNyY3NldCB8fCAnJyk7XG5cblx0cmV0dXJuIChcblx0XHR1cmxzLmxlbmd0aCA9PT0gZWxlbWVudF91cmxzLmxlbmd0aCAmJlxuXHRcdHVybHMuZXZlcnkoXG5cdFx0XHQoW3VybCwgd2lkdGhdLCBpKSA9PlxuXHRcdFx0XHR3aWR0aCA9PT0gZWxlbWVudF91cmxzW2ldWzFdICYmXG5cdFx0XHRcdC8vIFdlIG5lZWQgdG8gdGVzdCBib3RoIHdheXMgYmVjYXVzZSBWaXRlIHdpbGwgY3JlYXRlIGFuIGEgZnVsbCBVUkwgd2l0aFxuXHRcdFx0XHQvLyBgbmV3IFVSTChhc3NldCwgaW1wb3J0Lm1ldGEudXJsKS5ocmVmYCBmb3IgdGhlIGNsaWVudCB3aGVuIGBiYXNlOiAnLi8nYCwgYW5kIHRoZVxuXHRcdFx0XHQvLyByZWxhdGl2ZSBVUkxzIGluc2lkZSBzcmNzZXQgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IHJlc29sdmVkIHRvIGFic29sdXRlIFVSTHMgYnlcblx0XHRcdFx0Ly8gYnJvd3NlcnMgKGluIGNvbnRyYXN0IHRvIGltZy5zcmMpLiBUaGlzIG1lYW5zIGJvdGggU1NSIGFuZCBET00gY29kZSBjb3VsZFxuXHRcdFx0XHQvLyBjb250YWluIHJlbGF0aXZlIG9yIGFic29sdXRlIFVSTHMuXG5cdFx0XHRcdChzcmNfdXJsX2VxdWFsKGVsZW1lbnRfdXJsc1tpXVswXSwgdXJsKSB8fCBzcmNfdXJsX2VxdWFsKHVybCwgZWxlbWVudF91cmxzW2ldWzBdKSlcblx0XHQpXG5cdCk7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3RfZXF1YWwoYSwgYikge1xuXHRyZXR1cm4gYSAhPSBhID8gYiA9PSBiIDogYSAhPT0gYjtcbn1cblxuLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2VtcHR5KG9iaikge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZV9zdG9yZShzdG9yZSwgbmFtZSkge1xuXHRpZiAoc3RvcmUgIT0gbnVsbCAmJiB0eXBlb2Ygc3RvcmUuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGAnJHtuYW1lfScgaXMgbm90IGEgc3RvcmUgd2l0aCBhICdzdWJzY3JpYmUnIG1ldGhvZGApO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJzY3JpYmUoc3RvcmUsIC4uLmNhbGxiYWNrcykge1xuXHRpZiAoc3RvcmUgPT0gbnVsbCkge1xuXHRcdGZvciAoY29uc3QgY2FsbGJhY2sgb2YgY2FsbGJhY2tzKSB7XG5cdFx0XHRjYWxsYmFjayh1bmRlZmluZWQpO1xuXHRcdH1cblx0XHRyZXR1cm4gbm9vcDtcblx0fVxuXHRjb25zdCB1bnN1YiA9IHN0b3JlLnN1YnNjcmliZSguLi5jYWxsYmFja3MpO1xuXHRyZXR1cm4gdW5zdWIudW5zdWJzY3JpYmUgPyAoKSA9PiB1bnN1Yi51bnN1YnNjcmliZSgpIDogdW5zdWI7XG59XG5cbi8qKlxuICogR2V0IHRoZSBjdXJyZW50IHZhbHVlIGZyb20gYSBzdG9yZSBieSBzdWJzY3JpYmluZyBhbmQgaW1tZWRpYXRlbHkgdW5zdWJzY3JpYmluZy5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjZ2V0XG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL3N0b3JlL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fSBzdG9yZVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfc3RvcmVfdmFsdWUoc3RvcmUpIHtcblx0bGV0IHZhbHVlO1xuXHRzdWJzY3JpYmUoc3RvcmUsIChfKSA9PiAodmFsdWUgPSBfKSkoKTtcblx0cmV0dXJuIHZhbHVlO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50X3N1YnNjcmliZShjb21wb25lbnQsIHN0b3JlLCBjYWxsYmFjaykge1xuXHRjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKHN1YnNjcmliZShzdG9yZSwgY2FsbGJhY2spKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9zbG90KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcblx0aWYgKGRlZmluaXRpb24pIHtcblx0XHRjb25zdCBzbG90X2N0eCA9IGdldF9zbG90X2NvbnRleHQoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbik7XG5cdFx0cmV0dXJuIGRlZmluaXRpb25bMF0oc2xvdF9jdHgpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGdldF9zbG90X2NvbnRleHQoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbikge1xuXHRyZXR1cm4gZGVmaW5pdGlvblsxXSAmJiBmbiA/IGFzc2lnbigkJHNjb3BlLmN0eC5zbGljZSgpLCBkZWZpbml0aW9uWzFdKGZuKGN0eCkpKSA6ICQkc2NvcGUuY3R4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3Nsb3RfY2hhbmdlcyhkZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZm4pIHtcblx0aWYgKGRlZmluaXRpb25bMl0gJiYgZm4pIHtcblx0XHRjb25zdCBsZXRzID0gZGVmaW5pdGlvblsyXShmbihkaXJ0eSkpO1xuXHRcdGlmICgkJHNjb3BlLmRpcnR5ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBsZXRzO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIGxldHMgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRjb25zdCBtZXJnZWQgPSBbXTtcblx0XHRcdGNvbnN0IGxlbiA9IE1hdGgubWF4KCQkc2NvcGUuZGlydHkubGVuZ3RoLCBsZXRzLmxlbmd0aCk7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG5cdFx0XHRcdG1lcmdlZFtpXSA9ICQkc2NvcGUuZGlydHlbaV0gfCBsZXRzW2ldO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1lcmdlZDtcblx0XHR9XG5cdFx0cmV0dXJuICQkc2NvcGUuZGlydHkgfCBsZXRzO1xuXHR9XG5cdHJldHVybiAkJHNjb3BlLmRpcnR5O1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX3Nsb3RfYmFzZShcblx0c2xvdCxcblx0c2xvdF9kZWZpbml0aW9uLFxuXHRjdHgsXG5cdCQkc2NvcGUsXG5cdHNsb3RfY2hhbmdlcyxcblx0Z2V0X3Nsb3RfY29udGV4dF9mblxuKSB7XG5cdGlmIChzbG90X2NoYW5nZXMpIHtcblx0XHRjb25zdCBzbG90X2NvbnRleHQgPSBnZXRfc2xvdF9jb250ZXh0KHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBnZXRfc2xvdF9jb250ZXh0X2ZuKTtcblx0XHRzbG90LnAoc2xvdF9jb250ZXh0LCBzbG90X2NoYW5nZXMpO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfc2xvdChcblx0c2xvdCxcblx0c2xvdF9kZWZpbml0aW9uLFxuXHRjdHgsXG5cdCQkc2NvcGUsXG5cdGRpcnR5LFxuXHRnZXRfc2xvdF9jaGFuZ2VzX2ZuLFxuXHRnZXRfc2xvdF9jb250ZXh0X2ZuXG4pIHtcblx0Y29uc3Qgc2xvdF9jaGFuZ2VzID0gZ2V0X3Nsb3RfY2hhbmdlcyhzbG90X2RlZmluaXRpb24sICQkc2NvcGUsIGRpcnR5LCBnZXRfc2xvdF9jaGFuZ2VzX2ZuKTtcblx0dXBkYXRlX3Nsb3RfYmFzZShzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgc2xvdF9jaGFuZ2VzLCBnZXRfc2xvdF9jb250ZXh0X2ZuKTtcbn1cblxuLyoqIEByZXR1cm5zIHthbnlbXSB8IC0xfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9hbGxfZGlydHlfZnJvbV9zY29wZSgkJHNjb3BlKSB7XG5cdGlmICgkJHNjb3BlLmN0eC5sZW5ndGggPiAzMikge1xuXHRcdGNvbnN0IGRpcnR5ID0gW107XG5cdFx0Y29uc3QgbGVuZ3RoID0gJCRzY29wZS5jdHgubGVuZ3RoIC8gMzI7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0ZGlydHlbaV0gPSAtMTtcblx0XHR9XG5cdFx0cmV0dXJuIGRpcnR5O1xuXHR9XG5cdHJldHVybiAtMTtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGNsdWRlX2ludGVybmFsX3Byb3BzKHByb3BzKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRmb3IgKGNvbnN0IGsgaW4gcHJvcHMpIGlmIChrWzBdICE9PSAnJCcpIHJlc3VsdFtrXSA9IHByb3BzW2tdO1xuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogQHJldHVybnMge3t9fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVfcmVzdF9wcm9wcyhwcm9wcywga2V5cykge1xuXHRjb25zdCByZXN0ID0ge307XG5cdGtleXMgPSBuZXcgU2V0KGtleXMpO1xuXHRmb3IgKGNvbnN0IGsgaW4gcHJvcHMpIGlmICgha2V5cy5oYXMoaykgJiYga1swXSAhPT0gJyQnKSByZXN0W2tdID0gcHJvcHNba107XG5cdHJldHVybiByZXN0O1xufVxuXG4vKiogQHJldHVybnMge3t9fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVfc2xvdHMoc2xvdHMpIHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGZvciAoY29uc3Qga2V5IGluIHNsb3RzKSB7XG5cdFx0cmVzdWx0W2tleV0gPSB0cnVlO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBAcmV0dXJucyB7KHRoaXM6IGFueSwgLi4uYXJnczogYW55W10pID0+IHZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gb25jZShmbikge1xuXHRsZXQgcmFuID0gZmFsc2U7XG5cdHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuXHRcdGlmIChyYW4pIHJldHVybjtcblx0XHRyYW4gPSB0cnVlO1xuXHRcdGZuLmNhbGwodGhpcywgLi4uYXJncyk7XG5cdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBudWxsX3RvX2VtcHR5KHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldF9zdG9yZV92YWx1ZShzdG9yZSwgcmV0LCB2YWx1ZSkge1xuXHRzdG9yZS5zZXQodmFsdWUpO1xuXHRyZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgY29uc3QgaGFzX3Byb3AgPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFjdGlvbl9kZXN0cm95ZXIoYWN0aW9uX3Jlc3VsdCkge1xuXHRyZXR1cm4gYWN0aW9uX3Jlc3VsdCAmJiBpc19mdW5jdGlvbihhY3Rpb25fcmVzdWx0LmRlc3Ryb3kpID8gYWN0aW9uX3Jlc3VsdC5kZXN0cm95IDogbm9vcDtcbn1cblxuLyoqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHJldHVybnMge1tudW1iZXIsIHN0cmluZ119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdF9jc3NfdW5pdCh2YWx1ZSkge1xuXHRjb25zdCBzcGxpdCA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUubWF0Y2goL15cXHMqKC0/W1xcZC5dKykoW15cXHNdKilcXHMqJC8pO1xuXHRyZXR1cm4gc3BsaXQgPyBbcGFyc2VGbG9hdChzcGxpdFsxXSksIHNwbGl0WzJdIHx8ICdweCddIDogWy8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodmFsdWUpLCAncHgnXTtcbn1cblxuZXhwb3J0IGNvbnN0IGNvbnRlbnRlZGl0YWJsZV90cnV0aHlfdmFsdWVzID0gWycnLCB0cnVlLCAxLCAndHJ1ZScsICdjb250ZW50ZWRpdGFibGUnXTtcbiIsICIvKiogQHR5cGUge3R5cGVvZiBnbG9iYWxUaGlzfSAqL1xuZXhwb3J0IGNvbnN0IGdsb2JhbHMgPVxuXHR0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xuXHRcdD8gd2luZG93XG5cdFx0OiB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCdcblx0XHQ/IGdsb2JhbFRoaXNcblx0XHQ6IC8vIEB0cy1pZ25vcmUgTm9kZSB0eXBpbmdzIGhhdmUgdGhpc1xuXHRcdCAgZ2xvYmFsO1xuIiwgImltcG9ydCB7IGdsb2JhbHMgfSBmcm9tICcuL2dsb2JhbHMuanMnO1xuXG4vKipcbiAqIFJlc2l6ZSBvYnNlcnZlciBzaW5nbGV0b24uXG4gKiBPbmUgbGlzdGVuZXIgcGVyIGVsZW1lbnQgb25seSFcbiAqIGh0dHBzOi8vZ3JvdXBzLmdvb2dsZS5jb20vYS9jaHJvbWl1bS5vcmcvZy9ibGluay1kZXYvYy96Nmllbk9OVWI1QS9tL0Y1LVZjVVp0QkFBSlxuICovXG5leHBvcnQgY2xhc3MgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24ge1xuXHQvKipcblx0ICogQHByaXZhdGVcblx0ICogQHJlYWRvbmx5XG5cdCAqIEB0eXBlIHtXZWFrTWFwPEVsZW1lbnQsIGltcG9ydCgnLi9wcml2YXRlLmpzJykuTGlzdGVuZXI+fVxuXHQgKi9cblx0X2xpc3RlbmVycyA9ICdXZWFrTWFwJyBpbiBnbG9iYWxzID8gbmV3IFdlYWtNYXAoKSA6IHVuZGVmaW5lZDtcblxuXHQvKipcblx0ICogQHByaXZhdGVcblx0ICogQHR5cGUge1Jlc2l6ZU9ic2VydmVyfVxuXHQgKi9cblx0X29ic2VydmVyID0gdW5kZWZpbmVkO1xuXG5cdC8qKiBAdHlwZSB7UmVzaXplT2JzZXJ2ZXJPcHRpb25zfSAqL1xuXHRvcHRpb25zO1xuXG5cdC8qKiBAcGFyYW0ge1Jlc2l6ZU9ic2VydmVyT3B0aW9uc30gb3B0aW9ucyAqL1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcblx0ICogQHBhcmFtIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLkxpc3RlbmVyfSBsaXN0ZW5lclxuXHQgKiBAcmV0dXJucyB7KCkgPT4gdm9pZH1cblx0ICovXG5cdG9ic2VydmUoZWxlbWVudCwgbGlzdGVuZXIpIHtcblx0XHR0aGlzLl9saXN0ZW5lcnMuc2V0KGVsZW1lbnQsIGxpc3RlbmVyKTtcblx0XHR0aGlzLl9nZXRPYnNlcnZlcigpLm9ic2VydmUoZWxlbWVudCwgdGhpcy5vcHRpb25zKTtcblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0dGhpcy5fbGlzdGVuZXJzLmRlbGV0ZShlbGVtZW50KTtcblx0XHRcdHRoaXMuX29ic2VydmVyLnVub2JzZXJ2ZShlbGVtZW50KTsgLy8gdGhpcyBsaW5lIGNhbiBwcm9iYWJseSBiZSByZW1vdmVkXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0X2dldE9ic2VydmVyKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHR0aGlzLl9vYnNlcnZlciA/P1xuXHRcdFx0KHRoaXMuX29ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKChlbnRyaWVzKSA9PiB7XG5cdFx0XHRcdGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuXHRcdFx0XHRcdFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uLmVudHJpZXMuc2V0KGVudHJ5LnRhcmdldCwgZW50cnkpO1xuXHRcdFx0XHRcdHRoaXMuX2xpc3RlbmVycy5nZXQoZW50cnkudGFyZ2V0KT8uKGVudHJ5KTtcblx0XHRcdFx0fVxuXHRcdFx0fSkpXG5cdFx0KTtcblx0fVxufVxuXG4vLyBOZWVkcyB0byBiZSB3cml0dGVuIGxpa2UgdGhpcyB0byBwYXNzIHRoZSB0cmVlLXNoYWtlLXRlc3RcblJlc2l6ZU9ic2VydmVyU2luZ2xldG9uLmVudHJpZXMgPSAnV2Vha01hcCcgaW4gZ2xvYmFscyA/IG5ldyBXZWFrTWFwKCkgOiB1bmRlZmluZWQ7XG4iLCAiaW1wb3J0IHsgY29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMsIGhhc19wcm9wIH0gZnJvbSAnLi91dGlscy5qcyc7XG5cbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlclNpbmdsZXRvbi5qcyc7XG5cbi8vIFRyYWNrIHdoaWNoIG5vZGVzIGFyZSBjbGFpbWVkIGR1cmluZyBoeWRyYXRpb24uIFVuY2xhaW1lZCBub2RlcyBjYW4gdGhlbiBiZSByZW1vdmVkIGZyb20gdGhlIERPTVxuLy8gYXQgdGhlIGVuZCBvZiBoeWRyYXRpb24gd2l0aG91dCB0b3VjaGluZyB0aGUgcmVtYWluaW5nIG5vZGVzLlxubGV0IGlzX2h5ZHJhdGluZyA9IGZhbHNlO1xuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRfaHlkcmF0aW5nKCkge1xuXHRpc19oeWRyYXRpbmcgPSB0cnVlO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5kX2h5ZHJhdGluZygpIHtcblx0aXNfaHlkcmF0aW5nID0gZmFsc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGxvd1xuICogQHBhcmFtIHtudW1iZXJ9IGhpZ2hcbiAqIEBwYXJhbSB7KGluZGV4OiBudW1iZXIpID0+IG51bWJlcn0ga2V5XG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIHVwcGVyX2JvdW5kKGxvdywgaGlnaCwga2V5LCB2YWx1ZSkge1xuXHQvLyBSZXR1cm4gZmlyc3QgaW5kZXggb2YgdmFsdWUgbGFyZ2VyIHRoYW4gaW5wdXQgdmFsdWUgaW4gdGhlIHJhbmdlIFtsb3csIGhpZ2gpXG5cdHdoaWxlIChsb3cgPCBoaWdoKSB7XG5cdFx0Y29uc3QgbWlkID0gbG93ICsgKChoaWdoIC0gbG93KSA+PiAxKTtcblx0XHRpZiAoa2V5KG1pZCkgPD0gdmFsdWUpIHtcblx0XHRcdGxvdyA9IG1pZCArIDE7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGhpZ2ggPSBtaWQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBsb3c7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlRXh9IHRhcmdldFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGluaXRfaHlkcmF0ZSh0YXJnZXQpIHtcblx0aWYgKHRhcmdldC5oeWRyYXRlX2luaXQpIHJldHVybjtcblx0dGFyZ2V0Lmh5ZHJhdGVfaW5pdCA9IHRydWU7XG5cdC8vIFdlIGtub3cgdGhhdCBhbGwgY2hpbGRyZW4gaGF2ZSBjbGFpbV9vcmRlciB2YWx1ZXMgc2luY2UgdGhlIHVuY2xhaW1lZCBoYXZlIGJlZW4gZGV0YWNoZWQgaWYgdGFyZ2V0IGlzIG5vdCA8aGVhZD5cblxuXHRsZXQgY2hpbGRyZW4gPSAvKiogQHR5cGUge0FycmF5TGlrZTxOb2RlRXgyPn0gKi8gKHRhcmdldC5jaGlsZE5vZGVzKTtcblx0Ly8gSWYgdGFyZ2V0IGlzIDxoZWFkPiwgdGhlcmUgbWF5IGJlIGNoaWxkcmVuIHdpdGhvdXQgY2xhaW1fb3JkZXJcblx0aWYgKHRhcmdldC5ub2RlTmFtZSA9PT0gJ0hFQUQnKSB7XG5cdFx0Y29uc3QgbXlfY2hpbGRyZW4gPSBbXTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBub2RlID0gY2hpbGRyZW5baV07XG5cdFx0XHRpZiAobm9kZS5jbGFpbV9vcmRlciAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG15X2NoaWxkcmVuLnB1c2gobm9kZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNoaWxkcmVuID0gbXlfY2hpbGRyZW47XG5cdH1cblx0Lypcblx0ICogUmVvcmRlciBjbGFpbWVkIGNoaWxkcmVuIG9wdGltYWxseS5cblx0ICogV2UgY2FuIHJlb3JkZXIgY2xhaW1lZCBjaGlsZHJlbiBvcHRpbWFsbHkgYnkgZmluZGluZyB0aGUgbG9uZ2VzdCBzdWJzZXF1ZW5jZSBvZlxuXHQgKiBub2RlcyB0aGF0IGFyZSBhbHJlYWR5IGNsYWltZWQgaW4gb3JkZXIgYW5kIG9ubHkgbW92aW5nIHRoZSByZXN0LiBUaGUgbG9uZ2VzdFxuXHQgKiBzdWJzZXF1ZW5jZSBvZiBub2RlcyB0aGF0IGFyZSBjbGFpbWVkIGluIG9yZGVyIGNhbiBiZSBmb3VuZCBieVxuXHQgKiBjb21wdXRpbmcgdGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiAuY2xhaW1fb3JkZXIgdmFsdWVzLlxuXHQgKlxuXHQgKiBUaGlzIGFsZ29yaXRobSBpcyBvcHRpbWFsIGluIGdlbmVyYXRpbmcgdGhlIGxlYXN0IGFtb3VudCBvZiByZW9yZGVyIG9wZXJhdGlvbnNcblx0ICogcG9zc2libGUuXG5cdCAqXG5cdCAqIFByb29mOlxuXHQgKiBXZSBrbm93IHRoYXQsIGdpdmVuIGEgc2V0IG9mIHJlb3JkZXJpbmcgb3BlcmF0aW9ucywgdGhlIG5vZGVzIHRoYXQgZG8gbm90IG1vdmVcblx0ICogYWx3YXlzIGZvcm0gYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSwgc2luY2UgdGhleSBkbyBub3QgbW92ZSBhbW9uZyBlYWNoIG90aGVyXG5cdCAqIG1lYW5pbmcgdGhhdCB0aGV5IG11c3QgYmUgYWxyZWFkeSBvcmRlcmVkIGFtb25nIGVhY2ggb3RoZXIuIFRodXMsIHRoZSBtYXhpbWFsXG5cdCAqIHNldCBvZiBub2RlcyB0aGF0IGRvIG5vdCBtb3ZlIGZvcm0gYSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2UuXG5cdCAqL1xuXHQvLyBDb21wdXRlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZVxuXHQvLyBtOiBzdWJzZXF1ZW5jZSBsZW5ndGggaiA9PiBpbmRleCBrIG9mIHNtYWxsZXN0IHZhbHVlIHRoYXQgZW5kcyBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIGxlbmd0aCBqXG5cdGNvbnN0IG0gPSBuZXcgSW50MzJBcnJheShjaGlsZHJlbi5sZW5ndGggKyAxKTtcblx0Ly8gUHJlZGVjZXNzb3IgaW5kaWNlcyArIDFcblx0Y29uc3QgcCA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCk7XG5cdG1bMF0gPSAtMTtcblx0bGV0IGxvbmdlc3QgPSAwO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGNoaWxkcmVuW2ldLmNsYWltX29yZGVyO1xuXHRcdC8vIEZpbmQgdGhlIGxhcmdlc3Qgc3Vic2VxdWVuY2UgbGVuZ3RoIHN1Y2ggdGhhdCBpdCBlbmRzIGluIGEgdmFsdWUgbGVzcyB0aGFuIG91ciBjdXJyZW50IHZhbHVlXG5cdFx0Ly8gdXBwZXJfYm91bmQgcmV0dXJucyBmaXJzdCBncmVhdGVyIHZhbHVlLCBzbyB3ZSBzdWJ0cmFjdCBvbmVcblx0XHQvLyB3aXRoIGZhc3QgcGF0aCBmb3Igd2hlbiB3ZSBhcmUgb24gdGhlIGN1cnJlbnQgbG9uZ2VzdCBzdWJzZXF1ZW5jZVxuXHRcdGNvbnN0IHNlcV9sZW4gPVxuXHRcdFx0KGxvbmdlc3QgPiAwICYmIGNoaWxkcmVuW21bbG9uZ2VzdF1dLmNsYWltX29yZGVyIDw9IGN1cnJlbnRcblx0XHRcdFx0PyBsb25nZXN0ICsgMVxuXHRcdFx0XHQ6IHVwcGVyX2JvdW5kKDEsIGxvbmdlc3QsIChpZHgpID0+IGNoaWxkcmVuW21baWR4XV0uY2xhaW1fb3JkZXIsIGN1cnJlbnQpKSAtIDE7XG5cdFx0cFtpXSA9IG1bc2VxX2xlbl0gKyAxO1xuXHRcdGNvbnN0IG5ld19sZW4gPSBzZXFfbGVuICsgMTtcblx0XHQvLyBXZSBjYW4gZ3VhcmFudGVlIHRoYXQgY3VycmVudCBpcyB0aGUgc21hbGxlc3QgdmFsdWUuIE90aGVyd2lzZSwgd2Ugd291bGQgaGF2ZSBnZW5lcmF0ZWQgYSBsb25nZXIgc2VxdWVuY2UuXG5cdFx0bVtuZXdfbGVuXSA9IGk7XG5cdFx0bG9uZ2VzdCA9IE1hdGgubWF4KG5ld19sZW4sIGxvbmdlc3QpO1xuXHR9XG5cdC8vIFRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2Ygbm9kZXMgKGluaXRpYWxseSByZXZlcnNlZClcblxuXHQvKipcblx0ICogQHR5cGUge05vZGVFeDJbXX1cblx0ICovXG5cdGNvbnN0IGxpcyA9IFtdO1xuXHQvLyBUaGUgcmVzdCBvZiB0aGUgbm9kZXMsIG5vZGVzIHRoYXQgd2lsbCBiZSBtb3ZlZFxuXG5cdC8qKlxuXHQgKiBAdHlwZSB7Tm9kZUV4MltdfVxuXHQgKi9cblx0Y29uc3QgdG9fbW92ZSA9IFtdO1xuXHRsZXQgbGFzdCA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7XG5cdGZvciAobGV0IGN1ciA9IG1bbG9uZ2VzdF0gKyAxOyBjdXIgIT0gMDsgY3VyID0gcFtjdXIgLSAxXSkge1xuXHRcdGxpcy5wdXNoKGNoaWxkcmVuW2N1ciAtIDFdKTtcblx0XHRmb3IgKDsgbGFzdCA+PSBjdXI7IGxhc3QtLSkge1xuXHRcdFx0dG9fbW92ZS5wdXNoKGNoaWxkcmVuW2xhc3RdKTtcblx0XHR9XG5cdFx0bGFzdC0tO1xuXHR9XG5cdGZvciAoOyBsYXN0ID49IDA7IGxhc3QtLSkge1xuXHRcdHRvX21vdmUucHVzaChjaGlsZHJlbltsYXN0XSk7XG5cdH1cblx0bGlzLnJldmVyc2UoKTtcblx0Ly8gV2Ugc29ydCB0aGUgbm9kZXMgYmVpbmcgbW92ZWQgdG8gZ3VhcmFudGVlIHRoYXQgdGhlaXIgaW5zZXJ0aW9uIG9yZGVyIG1hdGNoZXMgdGhlIGNsYWltIG9yZGVyXG5cdHRvX21vdmUuc29ydCgoYSwgYikgPT4gYS5jbGFpbV9vcmRlciAtIGIuY2xhaW1fb3JkZXIpO1xuXHQvLyBGaW5hbGx5LCB3ZSBtb3ZlIHRoZSBub2Rlc1xuXHRmb3IgKGxldCBpID0gMCwgaiA9IDA7IGkgPCB0b19tb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0d2hpbGUgKGogPCBsaXMubGVuZ3RoICYmIHRvX21vdmVbaV0uY2xhaW1fb3JkZXIgPj0gbGlzW2pdLmNsYWltX29yZGVyKSB7XG5cdFx0XHRqKys7XG5cdFx0fVxuXHRcdGNvbnN0IGFuY2hvciA9IGogPCBsaXMubGVuZ3RoID8gbGlzW2pdIDogbnVsbDtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHRvX21vdmVbaV0sIGFuY2hvcik7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZCh0YXJnZXQsIG5vZGUpIHtcblx0dGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gdGFyZ2V0XG4gKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVfc2hlZXRfaWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kX3N0eWxlcyh0YXJnZXQsIHN0eWxlX3NoZWV0X2lkLCBzdHlsZXMpIHtcblx0Y29uc3QgYXBwZW5kX3N0eWxlc190byA9IGdldF9yb290X2Zvcl9zdHlsZSh0YXJnZXQpO1xuXHRpZiAoIWFwcGVuZF9zdHlsZXNfdG8uZ2V0RWxlbWVudEJ5SWQoc3R5bGVfc2hlZXRfaWQpKSB7XG5cdFx0Y29uc3Qgc3R5bGUgPSBlbGVtZW50KCdzdHlsZScpO1xuXHRcdHN0eWxlLmlkID0gc3R5bGVfc2hlZXRfaWQ7XG5cdFx0c3R5bGUudGV4dENvbnRlbnQgPSBzdHlsZXM7XG5cdFx0YXBwZW5kX3N0eWxlc2hlZXQoYXBwZW5kX3N0eWxlc190bywgc3R5bGUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcmV0dXJucyB7U2hhZG93Um9vdCB8IERvY3VtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3Jvb3RfZm9yX3N0eWxlKG5vZGUpIHtcblx0aWYgKCFub2RlKSByZXR1cm4gZG9jdW1lbnQ7XG5cdGNvbnN0IHJvb3QgPSBub2RlLmdldFJvb3ROb2RlID8gbm9kZS5nZXRSb290Tm9kZSgpIDogbm9kZS5vd25lckRvY3VtZW50O1xuXHRpZiAocm9vdCAmJiAvKiogQHR5cGUge1NoYWRvd1Jvb3R9ICovIChyb290KS5ob3N0KSB7XG5cdFx0cmV0dXJuIC8qKiBAdHlwZSB7U2hhZG93Um9vdH0gKi8gKHJvb3QpO1xuXHR9XG5cdHJldHVybiBub2RlLm93bmVyRG9jdW1lbnQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcmV0dXJucyB7Q1NTU3R5bGVTaGVldH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZF9lbXB0eV9zdHlsZXNoZWV0KG5vZGUpIHtcblx0Y29uc3Qgc3R5bGVfZWxlbWVudCA9IGVsZW1lbnQoJ3N0eWxlJyk7XG5cdC8vIEZvciB0cmFuc2l0aW9ucyB0byB3b3JrIHdpdGhvdXQgJ3N0eWxlLXNyYzogdW5zYWZlLWlubGluZScgQ29udGVudCBTZWN1cml0eSBQb2xpY3ksXG5cdC8vIHRoZXNlIGVtcHR5IHRhZ3MgbmVlZCB0byBiZSBhbGxvd2VkIHdpdGggYSBoYXNoIGFzIGEgd29ya2Fyb3VuZCB1bnRpbCB3ZSBtb3ZlIHRvIHRoZSBXZWIgQW5pbWF0aW9ucyBBUEkuXG5cdC8vIFVzaW5nIHRoZSBoYXNoIGZvciB0aGUgZW1wdHkgc3RyaW5nIChmb3IgYW4gZW1wdHkgdGFnKSB3b3JrcyBpbiBhbGwgYnJvd3NlcnMgZXhjZXB0IFNhZmFyaS5cblx0Ly8gU28gYXMgYSB3b3JrYXJvdW5kIGZvciB0aGUgd29ya2Fyb3VuZCwgd2hlbiB3ZSBhcHBlbmQgZW1wdHkgc3R5bGUgdGFncyB3ZSBzZXQgdGhlaXIgY29udGVudCB0byAvKiBlbXB0eSAqLy5cblx0Ly8gVGhlIGhhc2ggJ3NoYTI1Ni05T2xOTzBETkVlYVZ6SEw0Ulp3Q0xzQkhBOFdCUTh0b0JwLzRGNVhWMm5jPScgd2lsbCB0aGVuIHdvcmsgZXZlbiBpbiBTYWZhcmkuXG5cdHN0eWxlX2VsZW1lbnQudGV4dENvbnRlbnQgPSAnLyogZW1wdHkgKi8nO1xuXHRhcHBlbmRfc3R5bGVzaGVldChnZXRfcm9vdF9mb3Jfc3R5bGUobm9kZSksIHN0eWxlX2VsZW1lbnQpO1xuXHRyZXR1cm4gc3R5bGVfZWxlbWVudC5zaGVldDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1NoYWRvd1Jvb3QgfCBEb2N1bWVudH0gbm9kZVxuICogQHBhcmFtIHtIVE1MU3R5bGVFbGVtZW50fSBzdHlsZVxuICogQHJldHVybnMge0NTU1N0eWxlU2hlZXR9XG4gKi9cbmZ1bmN0aW9uIGFwcGVuZF9zdHlsZXNoZWV0KG5vZGUsIHN0eWxlKSB7XG5cdGFwcGVuZCgvKiogQHR5cGUge0RvY3VtZW50fSAqLyAobm9kZSkuaGVhZCB8fCBub2RlLCBzdHlsZSk7XG5cdHJldHVybiBzdHlsZS5zaGVldDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGVFeH0gdGFyZ2V0XG4gKiBAcGFyYW0ge05vZGVFeH0gbm9kZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSkge1xuXHRpZiAoaXNfaHlkcmF0aW5nKSB7XG5cdFx0aW5pdF9oeWRyYXRlKHRhcmdldCk7XG5cdFx0aWYgKFxuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPT09IHVuZGVmaW5lZCB8fFxuXHRcdFx0KHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkICE9PSBudWxsICYmIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkLnBhcmVudE5vZGUgIT09IHRhcmdldClcblx0XHQpIHtcblx0XHRcdHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gdGFyZ2V0LmZpcnN0Q2hpbGQ7XG5cdFx0fVxuXHRcdC8vIFNraXAgbm9kZXMgb2YgdW5kZWZpbmVkIG9yZGVyaW5nXG5cdFx0d2hpbGUgKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkICE9PSBudWxsICYmIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkLmNsYWltX29yZGVyID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQubmV4dFNpYmxpbmc7XG5cdFx0fVxuXHRcdGlmIChub2RlICE9PSB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCkge1xuXHRcdFx0Ly8gV2Ugb25seSBpbnNlcnQgaWYgdGhlIG9yZGVyaW5nIG9mIHRoaXMgbm9kZSBzaG91bGQgYmUgbW9kaWZpZWQgb3IgdGhlIHBhcmVudCBub2RlIGlzIG5vdCB0YXJnZXRcblx0XHRcdGlmIChub2RlLmNsYWltX29yZGVyICE9PSB1bmRlZmluZWQgfHwgbm9kZS5wYXJlbnROb2RlICE9PSB0YXJnZXQpIHtcblx0XHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gbm9kZS5uZXh0U2libGluZztcblx0XHR9XG5cdH0gZWxzZSBpZiAobm9kZS5wYXJlbnROb2RlICE9PSB0YXJnZXQgfHwgbm9kZS5uZXh0U2libGluZyAhPT0gbnVsbCkge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChub2RlKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gdGFyZ2V0XG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEBwYXJhbSB7Tm9kZX0gW2FuY2hvcl1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG5cdHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZUV4fSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZUV4fSBub2RlXG4gKiBAcGFyYW0ge05vZGVFeH0gW2FuY2hvcl1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0X2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuXHRpZiAoaXNfaHlkcmF0aW5nICYmICFhbmNob3IpIHtcblx0XHRhcHBlbmRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSk7XG5cdH0gZWxzZSBpZiAobm9kZS5wYXJlbnROb2RlICE9PSB0YXJnZXQgfHwgbm9kZS5uZXh0U2libGluZyAhPSBhbmNob3IpIHtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIGFuY2hvciB8fCBudWxsKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRhY2gobm9kZSkge1xuXHRpZiAobm9kZS5wYXJlbnROb2RlKSB7XG5cdFx0bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveV9lYWNoKGl0ZXJhdGlvbnMsIGRldGFjaGluZykge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRpZiAoaXRlcmF0aW9uc1tpXSkgaXRlcmF0aW9uc1tpXS5kKGRldGFjaGluZyk7XG5cdH1cbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge2tleW9mIEhUTUxFbGVtZW50VGFnTmFtZU1hcH0gS1xuICogQHBhcmFtIHtLfSBuYW1lXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnRUYWdOYW1lTWFwW0tdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudChuYW1lKSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwfSBLXG4gKiBAcGFyYW0ge0t9IG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBpc1xuICogQHJldHVybnMge0hUTUxFbGVtZW50VGFnTmFtZU1hcFtLXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRfaXMobmFtZSwgaXMpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSwgeyBpcyB9KTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHRlbXBsYXRlIHtrZXlvZiBUfSBLXG4gKiBAcGFyYW0ge1R9IG9ialxuICogQHBhcmFtIHtLW119IGV4Y2x1ZGVcbiAqIEByZXR1cm5zIHtQaWNrPFQsIEV4Y2x1ZGU8a2V5b2YgVCwgSz4+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gb2JqZWN0X3dpdGhvdXRfcHJvcGVydGllcyhvYmosIGV4Y2x1ZGUpIHtcblx0Y29uc3QgdGFyZ2V0ID0gLyoqIEB0eXBlIHtQaWNrPFQsIEV4Y2x1ZGU8a2V5b2YgVCwgSz4+fSAqLyAoe30pO1xuXHRmb3IgKGNvbnN0IGsgaW4gb2JqKSB7XG5cdFx0aWYgKFxuXHRcdFx0aGFzX3Byb3Aob2JqLCBrKSAmJlxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0ZXhjbHVkZS5pbmRleE9mKGspID09PSAtMVxuXHRcdCkge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0dGFyZ2V0W2tdID0gb2JqW2tdO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gdGFyZ2V0O1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgU1ZHRWxlbWVudFRhZ05hbWVNYXB9IEtcbiAqIEBwYXJhbSB7S30gbmFtZVxuICogQHJldHVybnMge1NWR0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdmdfZWxlbWVudChuYW1lKSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgbmFtZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGFcbiAqIEByZXR1cm5zIHtUZXh0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gdGV4dChkYXRhKSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkYXRhKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7VGV4dH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcGFjZSgpIHtcblx0cmV0dXJuIHRleHQoJyAnKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7VGV4dH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eSgpIHtcblx0cmV0dXJuIHRleHQoJycpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50XG4gKiBAcmV0dXJucyB7Q29tbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbW1lbnQoY29udGVudCkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlQ29tbWVudChjb250ZW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdH0gaGFuZGxlclxuICogQHBhcmFtIHtib29sZWFuIHwgQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMgfCBFdmVudExpc3RlbmVyT3B0aW9uc30gW29wdGlvbnNdXG4gKiBAcmV0dXJucyB7KCkgPT4gdm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3Rlbihub2RlLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuXHRub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuXHRyZXR1cm4gKCkgPT4gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IGFueX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmV2ZW50X2RlZmF1bHQoZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IGFueX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdG9wX3Byb3BhZ2F0aW9uKGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gYW55fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3BfaW1tZWRpYXRlX3Byb3BhZ2F0aW9uKGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gdm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxmKGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0aWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcykgZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiB2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRydXN0ZWQoZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRpZiAoZXZlbnQuaXNUcnVzdGVkKSBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdmFsdWVdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuXHRpZiAodmFsdWUgPT0gbnVsbCkgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcblx0ZWxzZSBpZiAobm9kZS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKSAhPT0gdmFsdWUpIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xufVxuLyoqXG4gKiBMaXN0IG9mIGF0dHJpYnV0ZXMgdGhhdCBzaG91bGQgYWx3YXlzIGJlIHNldCB0aHJvdWdoIHRoZSBhdHRyIG1ldGhvZCxcbiAqIGJlY2F1c2UgdXBkYXRpbmcgdGhlbSB0aHJvdWdoIHRoZSBwcm9wZXJ0eSBzZXR0ZXIgZG9lc24ndCB3b3JrIHJlbGlhYmx5LlxuICogSW4gdGhlIGV4YW1wbGUgb2YgYHdpZHRoYC9gaGVpZ2h0YCwgdGhlIHByb2JsZW0gaXMgdGhhdCB0aGUgc2V0dGVyIG9ubHlcbiAqIGFjY2VwdHMgbnVtZXJpYyB2YWx1ZXMsIGJ1dCB0aGUgYXR0cmlidXRlIGNhbiBhbHNvIGJlIHNldCB0byBhIHN0cmluZyBsaWtlIGA1MCVgLlxuICogSWYgdGhpcyBsaXN0IGJlY29tZXMgdG9vIGJpZywgcmV0aGluayB0aGlzIGFwcHJvYWNoLlxuICovXG5jb25zdCBhbHdheXNfc2V0X3Rocm91Z2hfc2V0X2F0dHJpYnV0ZSA9IFsnd2lkdGgnLCAnaGVpZ2h0J107XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge3sgW3g6IHN0cmluZ106IHN0cmluZyB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9hdHRyaWJ1dGVzKG5vZGUsIGF0dHJpYnV0ZXMpIHtcblx0Ly8gQHRzLWlnbm9yZVxuXHRjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG5vZGUuX19wcm90b19fKTtcblx0Zm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuXHRcdGlmIChhdHRyaWJ1dGVzW2tleV0gPT0gbnVsbCkge1xuXHRcdFx0bm9kZS5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcblx0XHR9IGVsc2UgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuXHRcdFx0bm9kZS5zdHlsZS5jc3NUZXh0ID0gYXR0cmlidXRlc1trZXldO1xuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnX192YWx1ZScpIHtcblx0XHRcdC8qKiBAdHlwZSB7YW55fSAqLyAobm9kZSkudmFsdWUgPSBub2RlW2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdGRlc2NyaXB0b3JzW2tleV0gJiZcblx0XHRcdGRlc2NyaXB0b3JzW2tleV0uc2V0ICYmXG5cdFx0XHRhbHdheXNfc2V0X3Rocm91Z2hfc2V0X2F0dHJpYnV0ZS5pbmRleE9mKGtleSkgPT09IC0xXG5cdFx0KSB7XG5cdFx0XHRub2RlW2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHt7IFt4OiBzdHJpbmddOiBzdHJpbmcgfX0gYXR0cmlidXRlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfc3ZnX2F0dHJpYnV0ZXMobm9kZSwgYXR0cmlidXRlcykge1xuXHRmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0YXR0cihub2RlLCBrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIHVua25vd24+fSBkYXRhX21hcFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YV9tYXAobm9kZSwgZGF0YV9tYXApIHtcblx0T2JqZWN0LmtleXMoZGF0YV9tYXApLmZvckVhY2goKGtleSkgPT4ge1xuXHRcdHNldF9jdXN0b21fZWxlbWVudF9kYXRhKG5vZGUsIGtleSwgZGF0YV9tYXBba2V5XSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhKG5vZGUsIHByb3AsIHZhbHVlKSB7XG5cdGNvbnN0IGxvd2VyID0gcHJvcC50b0xvd2VyQ2FzZSgpOyAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBleGlzdGluZyBiZWhhdmlvciB3ZSBkbyBsb3dlcmNhc2UgZmlyc3Rcblx0aWYgKGxvd2VyIGluIG5vZGUpIHtcblx0XHRub2RlW2xvd2VyXSA9IHR5cGVvZiBub2RlW2xvd2VyXSA9PT0gJ2Jvb2xlYW4nICYmIHZhbHVlID09PSAnJyA/IHRydWUgOiB2YWx1ZTtcblx0fSBlbHNlIGlmIChwcm9wIGluIG5vZGUpIHtcblx0XHRub2RlW3Byb3BdID0gdHlwZW9mIG5vZGVbcHJvcF0gPT09ICdib29sZWFuJyAmJiB2YWx1ZSA9PT0gJycgPyB0cnVlIDogdmFsdWU7XG5cdH0gZWxzZSB7XG5cdFx0YXR0cihub2RlLCBwcm9wLCB2YWx1ZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZHluYW1pY19lbGVtZW50X2RhdGEodGFnKSB7XG5cdHJldHVybiAvLS8udGVzdCh0YWcpID8gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGFfbWFwIDogc2V0X2F0dHJpYnV0ZXM7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB4bGlua19hdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcblx0bm9kZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIGF0dHJpYnV0ZSwgdmFsdWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfc3ZlbHRlX2RhdGFzZXQobm9kZSkge1xuXHRyZXR1cm4gbm9kZS5kYXRhc2V0LnN2ZWx0ZUg7XG59XG5cbi8qKlxuICogQHJldHVybnMge3Vua25vd25bXX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfYmluZGluZ19ncm91cF92YWx1ZShncm91cCwgX192YWx1ZSwgY2hlY2tlZCkge1xuXHRjb25zdCB2YWx1ZSA9IG5ldyBTZXQoKTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBncm91cC5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGlmIChncm91cFtpXS5jaGVja2VkKSB2YWx1ZS5hZGQoZ3JvdXBbaV0uX192YWx1ZSk7XG5cdH1cblx0aWYgKCFjaGVja2VkKSB7XG5cdFx0dmFsdWUuZGVsZXRlKF9fdmFsdWUpO1xuXHR9XG5cdHJldHVybiBBcnJheS5mcm9tKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnRbXX0gZ3JvdXBcbiAqIEByZXR1cm5zIHt7IHAoLi4uaW5wdXRzOiBIVE1MSW5wdXRFbGVtZW50W10pOiB2b2lkOyByKCk6IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApIHtcblx0LyoqXG5cdCAqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50W119ICovXG5cdGxldCBfaW5wdXRzO1xuXHRyZXR1cm4ge1xuXHRcdC8qIHB1c2ggKi8gcCguLi5pbnB1dHMpIHtcblx0XHRcdF9pbnB1dHMgPSBpbnB1dHM7XG5cdFx0XHRfaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBncm91cC5wdXNoKGlucHV0KSk7XG5cdFx0fSxcblx0XHQvKiByZW1vdmUgKi8gcigpIHtcblx0XHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IGdyb3VwLnNwbGljZShncm91cC5pbmRleE9mKGlucHV0KSwgMSkpO1xuXHRcdH1cblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcltdfSBpbmRleGVzXG4gKiBAcmV0dXJucyB7eyB1KG5ld19pbmRleGVzOiBudW1iZXJbXSk6IHZvaWQ7IHAoLi4uaW5wdXRzOiBIVE1MSW5wdXRFbGVtZW50W10pOiB2b2lkOyByOiAoKSA9PiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdF9iaW5kaW5nX2dyb3VwX2R5bmFtaWMoZ3JvdXAsIGluZGV4ZXMpIHtcblx0LyoqXG5cdCAqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50W119ICovXG5cdGxldCBfZ3JvdXAgPSBnZXRfYmluZGluZ19ncm91cChncm91cCk7XG5cblx0LyoqXG5cdCAqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50W119ICovXG5cdGxldCBfaW5wdXRzO1xuXG5cdGZ1bmN0aW9uIGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRncm91cCA9IGdyb3VwW2luZGV4ZXNbaV1dID0gZ3JvdXBbaW5kZXhlc1tpXV0gfHwgW107XG5cdFx0fVxuXHRcdHJldHVybiBncm91cDtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gcHVzaCgpIHtcblx0XHRfaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBfZ3JvdXAucHVzaChpbnB1dCkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiByZW1vdmUoKSB7XG5cdFx0X2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gX2dyb3VwLnNwbGljZShfZ3JvdXAuaW5kZXhPZihpbnB1dCksIDEpKTtcblx0fVxuXHRyZXR1cm4ge1xuXHRcdC8qIHVwZGF0ZSAqLyB1KG5ld19pbmRleGVzKSB7XG5cdFx0XHRpbmRleGVzID0gbmV3X2luZGV4ZXM7XG5cdFx0XHRjb25zdCBuZXdfZ3JvdXAgPSBnZXRfYmluZGluZ19ncm91cChncm91cCk7XG5cdFx0XHRpZiAobmV3X2dyb3VwICE9PSBfZ3JvdXApIHtcblx0XHRcdFx0cmVtb3ZlKCk7XG5cdFx0XHRcdF9ncm91cCA9IG5ld19ncm91cDtcblx0XHRcdFx0cHVzaCgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0LyogcHVzaCAqLyBwKC4uLmlucHV0cykge1xuXHRcdFx0X2lucHV0cyA9IGlucHV0cztcblx0XHRcdHB1c2goKTtcblx0XHR9LFxuXHRcdC8qIHJlbW92ZSAqLyByOiByZW1vdmVcblx0fTtcbn1cblxuLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXG5leHBvcnQgZnVuY3Rpb24gdG9fbnVtYmVyKHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZSA9PT0gJycgPyBudWxsIDogK3ZhbHVlO1xufVxuXG4vKiogQHJldHVybnMge2FueVtdfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVfcmFuZ2VzX3RvX2FycmF5KHJhbmdlcykge1xuXHRjb25zdCBhcnJheSA9IFtdO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGFycmF5LnB1c2goeyBzdGFydDogcmFuZ2VzLnN0YXJ0KGkpLCBlbmQ6IHJhbmdlcy5lbmQoaSkgfSk7XG5cdH1cblx0cmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0NoaWxkTm9kZVtdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hpbGRyZW4oZWxlbWVudCkge1xuXHRyZXR1cm4gQXJyYXkuZnJvbShlbGVtZW50LmNoaWxkTm9kZXMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gaW5pdF9jbGFpbV9pbmZvKG5vZGVzKSB7XG5cdGlmIChub2Rlcy5jbGFpbV9pbmZvID09PSB1bmRlZmluZWQpIHtcblx0XHRub2Rlcy5jbGFpbV9pbmZvID0geyBsYXN0X2luZGV4OiAwLCB0b3RhbF9jbGFpbWVkOiAwIH07XG5cdH1cbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge0NoaWxkTm9kZUV4fSBSXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHsobm9kZTogQ2hpbGROb2RlRXgpID0+IG5vZGUgaXMgUn0gcHJlZGljYXRlXG4gKiBAcGFyYW0geyhub2RlOiBDaGlsZE5vZGVFeCkgPT4gQ2hpbGROb2RlRXggfCB1bmRlZmluZWR9IHByb2Nlc3Nfbm9kZVxuICogQHBhcmFtIHsoKSA9PiBSfSBjcmVhdGVfbm9kZVxuICogQHBhcmFtIHtib29sZWFufSBkb250X3VwZGF0ZV9sYXN0X2luZGV4XG4gKiBAcmV0dXJucyB7Un1cbiAqL1xuZnVuY3Rpb24gY2xhaW1fbm9kZShub2RlcywgcHJlZGljYXRlLCBwcm9jZXNzX25vZGUsIGNyZWF0ZV9ub2RlLCBkb250X3VwZGF0ZV9sYXN0X2luZGV4ID0gZmFsc2UpIHtcblx0Ly8gVHJ5IHRvIGZpbmQgbm9kZXMgaW4gYW4gb3JkZXIgc3VjaCB0aGF0IHdlIGxlbmd0aGVuIHRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Vcblx0aW5pdF9jbGFpbV9pbmZvKG5vZGVzKTtcblx0Y29uc3QgcmVzdWx0X25vZGUgPSAoKCkgPT4ge1xuXHRcdC8vIFdlIGZpcnN0IHRyeSB0byBmaW5kIGFuIGVsZW1lbnQgYWZ0ZXIgdGhlIHByZXZpb3VzIG9uZVxuXHRcdGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXg7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuXHRcdFx0aWYgKHByZWRpY2F0ZShub2RlKSkge1xuXHRcdFx0XHRjb25zdCByZXBsYWNlbWVudCA9IHByb2Nlc3Nfbm9kZShub2RlKTtcblx0XHRcdFx0aWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRub2Rlcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bm9kZXNbaV0gPSByZXBsYWNlbWVudDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIWRvbnRfdXBkYXRlX2xhc3RfaW5kZXgpIHtcblx0XHRcdFx0XHRub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggPSBpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBub2RlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBPdGhlcndpc2UsIHdlIHRyeSB0byBmaW5kIG9uZSBiZWZvcmVcblx0XHQvLyBXZSBpdGVyYXRlIGluIHJldmVyc2Ugc28gdGhhdCB3ZSBkb24ndCBnbyB0b28gZmFyIGJhY2tcblx0XHRmb3IgKGxldCBpID0gbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcblx0XHRcdGlmIChwcmVkaWNhdGUobm9kZSkpIHtcblx0XHRcdFx0Y29uc3QgcmVwbGFjZW1lbnQgPSBwcm9jZXNzX25vZGUobm9kZSk7XG5cdFx0XHRcdGlmIChyZXBsYWNlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0bm9kZXMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5vZGVzW2ldID0gcmVwbGFjZW1lbnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCFkb250X3VwZGF0ZV9sYXN0X2luZGV4KSB7XG5cdFx0XHRcdFx0bm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4ID0gaTtcblx0XHRcdFx0fSBlbHNlIGlmIChyZXBsYWNlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Ly8gU2luY2Ugd2Ugc3BsaWNlZCBiZWZvcmUgdGhlIGxhc3RfaW5kZXgsIHdlIGRlY3JlYXNlIGl0XG5cdFx0XHRcdFx0bm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4LS07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG5vZGU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIElmIHdlIGNhbid0IGZpbmQgYW55IG1hdGNoaW5nIG5vZGUsIHdlIGNyZWF0ZSBhIG5ldyBvbmVcblx0XHRyZXR1cm4gY3JlYXRlX25vZGUoKTtcblx0fSkoKTtcblx0cmVzdWx0X25vZGUuY2xhaW1fb3JkZXIgPSBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQ7XG5cdG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZCArPSAxO1xuXHRyZXR1cm4gcmVzdWx0X25vZGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3sgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9fSBhdHRyaWJ1dGVzXG4gKiBAcGFyYW0geyhuYW1lOiBzdHJpbmcpID0+IEVsZW1lbnQgfCBTVkdFbGVtZW50fSBjcmVhdGVfZWxlbWVudFxuICogQHJldHVybnMge0VsZW1lbnQgfCBTVkdFbGVtZW50fVxuICovXG5mdW5jdGlvbiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIGNyZWF0ZV9lbGVtZW50KSB7XG5cdHJldHVybiBjbGFpbV9ub2RlKFxuXHRcdG5vZGVzLFxuXHRcdC8qKiBAcmV0dXJucyB7bm9kZSBpcyBFbGVtZW50IHwgU1ZHRWxlbWVudH0gKi9cblx0XHQobm9kZSkgPT4gbm9kZS5ub2RlTmFtZSA9PT0gbmFtZSxcblx0XHQvKiogQHBhcmFtIHtFbGVtZW50fSBub2RlICovXG5cdFx0KG5vZGUpID0+IHtcblx0XHRcdGNvbnN0IHJlbW92ZSA9IFtdO1xuXHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBub2RlLmF0dHJpYnV0ZXMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0Y29uc3QgYXR0cmlidXRlID0gbm9kZS5hdHRyaWJ1dGVzW2pdO1xuXHRcdFx0XHRpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdKSB7XG5cdFx0XHRcdFx0cmVtb3ZlLnB1c2goYXR0cmlidXRlLm5hbWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZW1vdmUuZm9yRWFjaCgodikgPT4gbm9kZS5yZW1vdmVBdHRyaWJ1dGUodikpO1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9LFxuXHRcdCgpID0+IGNyZWF0ZV9lbGVtZW50KG5hbWUpXG5cdCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3sgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7RWxlbWVudCB8IFNWR0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9lbGVtZW50KG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzKSB7XG5cdHJldHVybiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIGVsZW1lbnQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHt7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfX0gYXR0cmlidXRlc1xuICogQHJldHVybnMge0VsZW1lbnQgfCBTVkdFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fc3ZnX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMpIHtcblx0cmV0dXJuIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgc3ZnX2VsZW1lbnQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcmV0dXJucyB7VGV4dH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX3RleHQobm9kZXMsIGRhdGEpIHtcblx0cmV0dXJuIGNsYWltX25vZGUoXG5cdFx0bm9kZXMsXG5cdFx0LyoqIEByZXR1cm5zIHtub2RlIGlzIFRleHR9ICovXG5cdFx0KG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDMsXG5cdFx0LyoqIEBwYXJhbSB7VGV4dH0gbm9kZSAqL1xuXHRcdChub2RlKSA9PiB7XG5cdFx0XHRjb25zdCBkYXRhX3N0ciA9ICcnICsgZGF0YTtcblx0XHRcdGlmIChub2RlLmRhdGEuc3RhcnRzV2l0aChkYXRhX3N0cikpIHtcblx0XHRcdFx0aWYgKG5vZGUuZGF0YS5sZW5ndGggIT09IGRhdGFfc3RyLmxlbmd0aCkge1xuXHRcdFx0XHRcdHJldHVybiBub2RlLnNwbGl0VGV4dChkYXRhX3N0ci5sZW5ndGgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRub2RlLmRhdGEgPSBkYXRhX3N0cjtcblx0XHRcdH1cblx0XHR9LFxuXHRcdCgpID0+IHRleHQoZGF0YSksXG5cdFx0dHJ1ZSAvLyBUZXh0IG5vZGVzIHNob3VsZCBub3QgdXBkYXRlIGxhc3QgaW5kZXggc2luY2UgaXQgaXMgbGlrZWx5IG5vdCB3b3J0aCBpdCB0byBlbGltaW5hdGUgYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBhY3R1YWwgZWxlbWVudHNcblx0KTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7VGV4dH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9zcGFjZShub2Rlcykge1xuXHRyZXR1cm4gY2xhaW1fdGV4dChub2RlcywgJyAnKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHJldHVybnMge0NvbW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9jb21tZW50KG5vZGVzLCBkYXRhKSB7XG5cdHJldHVybiBjbGFpbV9ub2RlKFxuXHRcdG5vZGVzLFxuXHRcdC8qKiBAcmV0dXJucyB7bm9kZSBpcyBDb21tZW50fSAqL1xuXHRcdChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSA4LFxuXHRcdC8qKiBAcGFyYW0ge0NvbW1lbnR9IG5vZGUgKi9cblx0XHQobm9kZSkgPT4ge1xuXHRcdFx0bm9kZS5kYXRhID0gJycgKyBkYXRhO1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9LFxuXHRcdCgpID0+IGNvbW1lbnQoZGF0YSksXG5cdFx0dHJ1ZVxuXHQpO1xufVxuXG5mdW5jdGlvbiBnZXRfY29tbWVudF9pZHgobm9kZXMsIHRleHQsIHN0YXJ0KSB7XG5cdGZvciAobGV0IGkgPSBzdGFydDsgaSA8IG5vZGVzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0Y29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuXHRcdGlmIChub2RlLm5vZGVUeXBlID09PSA4IC8qIGNvbW1lbnQgbm9kZSAqLyAmJiBub2RlLnRleHRDb250ZW50LnRyaW0oKSA9PT0gdGV4dCkge1xuXHRcdFx0cmV0dXJuIGk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzX3N2Z1xuICogQHJldHVybnMge0h0bWxUYWdIeWRyYXRpb259XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9odG1sX3RhZyhub2RlcywgaXNfc3ZnKSB7XG5cdC8vIGZpbmQgaHRtbCBvcGVuaW5nIHRhZ1xuXHRjb25zdCBzdGFydF9pbmRleCA9IGdldF9jb21tZW50X2lkeChub2RlcywgJ0hUTUxfVEFHX1NUQVJUJywgMCk7XG5cdGNvbnN0IGVuZF9pbmRleCA9IGdldF9jb21tZW50X2lkeChub2RlcywgJ0hUTUxfVEFHX0VORCcsIHN0YXJ0X2luZGV4ICsgMSk7XG5cdGlmIChzdGFydF9pbmRleCA9PT0gLTEgfHwgZW5kX2luZGV4ID09PSAtMSkge1xuXHRcdHJldHVybiBuZXcgSHRtbFRhZ0h5ZHJhdGlvbihpc19zdmcpO1xuXHR9XG5cblx0aW5pdF9jbGFpbV9pbmZvKG5vZGVzKTtcblx0Y29uc3QgaHRtbF90YWdfbm9kZXMgPSBub2Rlcy5zcGxpY2Uoc3RhcnRfaW5kZXgsIGVuZF9pbmRleCAtIHN0YXJ0X2luZGV4ICsgMSk7XG5cdGRldGFjaChodG1sX3RhZ19ub2Rlc1swXSk7XG5cdGRldGFjaChodG1sX3RhZ19ub2Rlc1todG1sX3RhZ19ub2Rlcy5sZW5ndGggLSAxXSk7XG5cdGNvbnN0IGNsYWltZWRfbm9kZXMgPSBodG1sX3RhZ19ub2Rlcy5zbGljZSgxLCBodG1sX3RhZ19ub2Rlcy5sZW5ndGggLSAxKTtcblx0aWYgKGNsYWltZWRfbm9kZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0cmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGlzX3N2Zyk7XG5cdH1cblx0Zm9yIChjb25zdCBuIG9mIGNsYWltZWRfbm9kZXMpIHtcblx0XHRuLmNsYWltX29yZGVyID0gbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkO1xuXHRcdG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZCArPSAxO1xuXHR9XG5cdHJldHVybiBuZXcgSHRtbFRhZ0h5ZHJhdGlvbihpc19zdmcsIGNsYWltZWRfbm9kZXMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VGV4dH0gdGV4dFxuICogQHBhcmFtIHt1bmtub3dufSBkYXRhXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kYXRhKHRleHQsIGRhdGEpIHtcblx0ZGF0YSA9ICcnICsgZGF0YTtcblx0aWYgKHRleHQuZGF0YSA9PT0gZGF0YSkgcmV0dXJuO1xuXHR0ZXh0LmRhdGEgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGRhdGEpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VGV4dH0gdGV4dFxuICogQHBhcmFtIHt1bmtub3dufSBkYXRhXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhKSB7XG5cdGRhdGEgPSAnJyArIGRhdGE7XG5cdGlmICh0ZXh0Lndob2xlVGV4dCA9PT0gZGF0YSkgcmV0dXJuO1xuXHR0ZXh0LmRhdGEgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGRhdGEpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VGV4dH0gdGV4dFxuICogQHBhcmFtIHt1bmtub3dufSBkYXRhXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cl92YWx1ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZGF0YV9tYXliZV9jb250ZW50ZWRpdGFibGUodGV4dCwgZGF0YSwgYXR0cl92YWx1ZSkge1xuXHRpZiAofmNvbnRlbnRlZGl0YWJsZV90cnV0aHlfdmFsdWVzLmluZGV4T2YoYXR0cl92YWx1ZSkpIHtcblx0XHRzZXRfZGF0YV9jb250ZW50ZWRpdGFibGUodGV4dCwgZGF0YSk7XG5cdH0gZWxzZSB7XG5cdFx0c2V0X2RhdGEodGV4dCwgZGF0YSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfaW5wdXRfdmFsdWUoaW5wdXQsIHZhbHVlKSB7XG5cdGlucHV0LnZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2lucHV0X3R5cGUoaW5wdXQsIHR5cGUpIHtcblx0dHJ5IHtcblx0XHRpbnB1dC50eXBlID0gdHlwZTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdC8vIGRvIG5vdGhpbmdcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9zdHlsZShub2RlLCBrZXksIHZhbHVlLCBpbXBvcnRhbnQpIHtcblx0aWYgKHZhbHVlID09IG51bGwpIHtcblx0XHRub2RlLnN0eWxlLnJlbW92ZVByb3BlcnR5KGtleSk7XG5cdH0gZWxzZSB7XG5cdFx0bm9kZS5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIHZhbHVlLCBpbXBvcnRhbnQgPyAnaW1wb3J0YW50JyA6ICcnKTtcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdF9vcHRpb24oc2VsZWN0LCB2YWx1ZSwgbW91bnRpbmcpIHtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGNvbnN0IG9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW2ldO1xuXHRcdGlmIChvcHRpb24uX192YWx1ZSA9PT0gdmFsdWUpIHtcblx0XHRcdG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG5cdGlmICghbW91bnRpbmcgfHwgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHNlbGVjdC5zZWxlY3RlZEluZGV4ID0gLTE7IC8vIG5vIG9wdGlvbiBzaG91bGQgYmUgc2VsZWN0ZWRcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdF9vcHRpb25zKHNlbGVjdCwgdmFsdWUpIHtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGNvbnN0IG9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW2ldO1xuXHRcdG9wdGlvbi5zZWxlY3RlZCA9IH52YWx1ZS5pbmRleE9mKG9wdGlvbi5fX3ZhbHVlKTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X3ZhbHVlKHNlbGVjdCkge1xuXHRjb25zdCBzZWxlY3RlZF9vcHRpb24gPSBzZWxlY3QucXVlcnlTZWxlY3RvcignOmNoZWNrZWQnKTtcblx0cmV0dXJuIHNlbGVjdGVkX29wdGlvbiAmJiBzZWxlY3RlZF9vcHRpb24uX192YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdF9tdWx0aXBsZV92YWx1ZShzZWxlY3QpIHtcblx0cmV0dXJuIFtdLm1hcC5jYWxsKHNlbGVjdC5xdWVyeVNlbGVjdG9yQWxsKCc6Y2hlY2tlZCcpLCAob3B0aW9uKSA9PiBvcHRpb24uX192YWx1ZSk7XG59XG4vLyB1bmZvcnR1bmF0ZWx5IHRoaXMgY2FuJ3QgYmUgYSBjb25zdGFudCBhcyB0aGF0IHdvdWxkbid0IGJlIHRyZWUtc2hha2VhYmxlXG4vLyBzbyB3ZSBjYWNoZSB0aGUgcmVzdWx0IGluc3RlYWRcblxuLyoqXG4gKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbmxldCBjcm9zc29yaWdpbjtcblxuLyoqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19jcm9zc29yaWdpbigpIHtcblx0aWYgKGNyb3Nzb3JpZ2luID09PSB1bmRlZmluZWQpIHtcblx0XHRjcm9zc29yaWdpbiA9IGZhbHNlO1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBhcmVudCkge1xuXHRcdFx0XHR2b2lkIHdpbmRvdy5wYXJlbnQuZG9jdW1lbnQ7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNyb3Nzb3JpZ2luID0gdHJ1ZTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGNyb3Nzb3JpZ2luO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gZm5cbiAqIEByZXR1cm5zIHsoKSA9PiB2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX2lmcmFtZV9yZXNpemVfbGlzdGVuZXIobm9kZSwgZm4pIHtcblx0Y29uc3QgY29tcHV0ZWRfc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuXHRpZiAoY29tcHV0ZWRfc3R5bGUucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG5cdFx0bm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG5cdH1cblx0Y29uc3QgaWZyYW1lID0gZWxlbWVudCgnaWZyYW1lJyk7XG5cdGlmcmFtZS5zZXRBdHRyaWJ1dGUoXG5cdFx0J3N0eWxlJyxcblx0XHQnZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyAnICtcblx0XHRcdCdvdmVyZmxvdzogaGlkZGVuOyBib3JkZXI6IDA7IG9wYWNpdHk6IDA7IHBvaW50ZXItZXZlbnRzOiBub25lOyB6LWluZGV4OiAtMTsnXG5cdCk7XG5cdGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblx0aWZyYW1lLnRhYkluZGV4ID0gLTE7XG5cdGNvbnN0IGNyb3Nzb3JpZ2luID0gaXNfY3Jvc3NvcmlnaW4oKTtcblxuXHQvKipcblx0ICogQHR5cGUgeygpID0+IHZvaWR9XG5cdCAqL1xuXHRsZXQgdW5zdWJzY3JpYmU7XG5cdGlmIChjcm9zc29yaWdpbikge1xuXHRcdGlmcmFtZS5zcmMgPSBcImRhdGE6dGV4dC9odG1sLDxzY3JpcHQ+b25yZXNpemU9ZnVuY3Rpb24oKXtwYXJlbnQucG9zdE1lc3NhZ2UoMCwnKicpfTwvc2NyaXB0PlwiO1xuXHRcdHVuc3Vic2NyaWJlID0gbGlzdGVuKFxuXHRcdFx0d2luZG93LFxuXHRcdFx0J21lc3NhZ2UnLFxuXHRcdFx0LyoqIEBwYXJhbSB7TWVzc2FnZUV2ZW50fSBldmVudCAqLyAoZXZlbnQpID0+IHtcblx0XHRcdFx0aWYgKGV2ZW50LnNvdXJjZSA9PT0gaWZyYW1lLmNvbnRlbnRXaW5kb3cpIGZuKCk7XG5cdFx0XHR9XG5cdFx0KTtcblx0fSBlbHNlIHtcblx0XHRpZnJhbWUuc3JjID0gJ2Fib3V0OmJsYW5rJztcblx0XHRpZnJhbWUub25sb2FkID0gKCkgPT4ge1xuXHRcdFx0dW5zdWJzY3JpYmUgPSBsaXN0ZW4oaWZyYW1lLmNvbnRlbnRXaW5kb3csICdyZXNpemUnLCBmbik7XG5cdFx0XHQvLyBtYWtlIHN1cmUgYW4gaW5pdGlhbCByZXNpemUgZXZlbnQgaXMgZmlyZWQgX2FmdGVyXyB0aGUgaWZyYW1lIGlzIGxvYWRlZCAod2hpY2ggaXMgYXN5bmNocm9ub3VzKVxuXHRcdFx0Ly8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9zdmVsdGUvaXNzdWVzLzQyMzNcblx0XHRcdGZuKCk7XG5cdFx0fTtcblx0fVxuXHRhcHBlbmQobm9kZSwgaWZyYW1lKTtcblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoY3Jvc3NvcmlnaW4pIHtcblx0XHRcdHVuc3Vic2NyaWJlKCk7XG5cdFx0fSBlbHNlIGlmICh1bnN1YnNjcmliZSAmJiBpZnJhbWUuY29udGVudFdpbmRvdykge1xuXHRcdFx0dW5zdWJzY3JpYmUoKTtcblx0XHR9XG5cdFx0ZGV0YWNoKGlmcmFtZSk7XG5cdH07XG59XG5leHBvcnQgY29uc3QgcmVzaXplX29ic2VydmVyX2NvbnRlbnRfYm94ID0gLyogQF9fUFVSRV9fICovIG5ldyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbih7XG5cdGJveDogJ2NvbnRlbnQtYm94J1xufSk7XG5leHBvcnQgY29uc3QgcmVzaXplX29ic2VydmVyX2JvcmRlcl9ib3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uKHtcblx0Ym94OiAnYm9yZGVyLWJveCdcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc2l6ZV9vYnNlcnZlcl9kZXZpY2VfcGl4ZWxfY29udGVudF9ib3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uKFxuXHR7IGJveDogJ2RldmljZS1waXhlbC1jb250ZW50LWJveCcgfVxuKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uIH07XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlX2NsYXNzKGVsZW1lbnQsIG5hbWUsIHRvZ2dsZSkge1xuXHQvLyBUaGUgYCEhYCBpcyByZXF1aXJlZCBiZWNhdXNlIGFuIGB1bmRlZmluZWRgIGZsYWcgbWVhbnMgZmxpcHBpbmcgdGhlIGN1cnJlbnQgc3RhdGUuXG5cdGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShuYW1lLCAhIXRvZ2dsZSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge1R9IFtkZXRhaWxdXG4gKiBAcGFyYW0ge3sgYnViYmxlcz86IGJvb2xlYW4sIGNhbmNlbGFibGU/OiBib29sZWFuIH19IFtvcHRpb25zXVxuICogQHJldHVybnMge0N1c3RvbUV2ZW50PFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3VzdG9tX2V2ZW50KHR5cGUsIGRldGFpbCwgeyBidWJibGVzID0gZmFsc2UsIGNhbmNlbGFibGUgPSBmYWxzZSB9ID0ge30pIHtcblx0cmV0dXJuIG5ldyBDdXN0b21FdmVudCh0eXBlLCB7IGRldGFpbCwgYnViYmxlcywgY2FuY2VsYWJsZSB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudFxuICogQHJldHVybnMge0NoaWxkTm9kZUFycmF5fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlfc2VsZWN0b3JfYWxsKHNlbGVjdG9yLCBwYXJlbnQgPSBkb2N1bWVudC5ib2R5KSB7XG5cdHJldHVybiBBcnJheS5mcm9tKHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5vZGVJZFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gaGVhZFxuICogQHJldHVybnMge2FueVtdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGVhZF9zZWxlY3Rvcihub2RlSWQsIGhlYWQpIHtcblx0Y29uc3QgcmVzdWx0ID0gW107XG5cdGxldCBzdGFydGVkID0gMDtcblx0Zm9yIChjb25zdCBub2RlIG9mIGhlYWQuY2hpbGROb2Rlcykge1xuXHRcdGlmIChub2RlLm5vZGVUeXBlID09PSA4IC8qIGNvbW1lbnQgbm9kZSAqLykge1xuXHRcdFx0Y29uc3QgY29tbWVudCA9IG5vZGUudGV4dENvbnRlbnQudHJpbSgpO1xuXHRcdFx0aWYgKGNvbW1lbnQgPT09IGBIRUFEXyR7bm9kZUlkfV9FTkRgKSB7XG5cdFx0XHRcdHN0YXJ0ZWQgLT0gMTtcblx0XHRcdFx0cmVzdWx0LnB1c2gobm9kZSk7XG5cdFx0XHR9IGVsc2UgaWYgKGNvbW1lbnQgPT09IGBIRUFEXyR7bm9kZUlkfV9TVEFSVGApIHtcblx0XHRcdFx0c3RhcnRlZCArPSAxO1xuXHRcdFx0XHRyZXN1bHQucHVzaChub2RlKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKHN0YXJ0ZWQgPiAwKSB7XG5cdFx0XHRyZXN1bHQucHVzaChub2RlKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cbi8qKiAqL1xuZXhwb3J0IGNsYXNzIEh0bWxUYWcge1xuXHQvKipcblx0ICogQHByaXZhdGVcblx0ICogQGRlZmF1bHQgZmFsc2Vcblx0ICovXG5cdGlzX3N2ZyA9IGZhbHNlO1xuXHQvKiogcGFyZW50IGZvciBjcmVhdGluZyBub2RlICovXG5cdGUgPSB1bmRlZmluZWQ7XG5cdC8qKiBodG1sIHRhZyBub2RlcyAqL1xuXHRuID0gdW5kZWZpbmVkO1xuXHQvKiogdGFyZ2V0ICovXG5cdHQgPSB1bmRlZmluZWQ7XG5cdC8qKiBhbmNob3IgKi9cblx0YSA9IHVuZGVmaW5lZDtcblx0Y29uc3RydWN0b3IoaXNfc3ZnID0gZmFsc2UpIHtcblx0XHR0aGlzLmlzX3N2ZyA9IGlzX3N2Zztcblx0XHR0aGlzLmUgPSB0aGlzLm4gPSBudWxsO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0YyhodG1sKSB7XG5cdFx0dGhpcy5oKGh0bWwpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnQgfCBTVkdFbGVtZW50fSB0YXJnZXRcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnR9IGFuY2hvclxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdG0oaHRtbCwgdGFyZ2V0LCBhbmNob3IgPSBudWxsKSB7XG5cdFx0aWYgKCF0aGlzLmUpIHtcblx0XHRcdGlmICh0aGlzLmlzX3N2Zylcblx0XHRcdFx0dGhpcy5lID0gc3ZnX2VsZW1lbnQoLyoqIEB0eXBlIHtrZXlvZiBTVkdFbGVtZW50VGFnTmFtZU1hcH0gKi8gKHRhcmdldC5ub2RlTmFtZSkpO1xuXHRcdFx0LyoqICM3MzY0ICB0YXJnZXQgZm9yIDx0ZW1wbGF0ZT4gbWF5IGJlIHByb3ZpZGVkIGFzICNkb2N1bWVudC1mcmFnbWVudCgxMSkgKi8gZWxzZVxuXHRcdFx0XHR0aGlzLmUgPSBlbGVtZW50KFxuXHRcdFx0XHRcdC8qKiBAdHlwZSB7a2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwfSAqLyAoXG5cdFx0XHRcdFx0XHR0YXJnZXQubm9kZVR5cGUgPT09IDExID8gJ1RFTVBMQVRFJyA6IHRhcmdldC5ub2RlTmFtZVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KTtcblx0XHRcdHRoaXMudCA9XG5cdFx0XHRcdHRhcmdldC50YWdOYW1lICE9PSAnVEVNUExBVEUnXG5cdFx0XHRcdFx0PyB0YXJnZXRcblx0XHRcdFx0XHQ6IC8qKiBAdHlwZSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gKi8gKHRhcmdldCkuY29udGVudDtcblx0XHRcdHRoaXMuYyhodG1sKTtcblx0XHR9XG5cdFx0dGhpcy5pKGFuY2hvcik7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRoKGh0bWwpIHtcblx0XHR0aGlzLmUuaW5uZXJIVE1MID0gaHRtbDtcblx0XHR0aGlzLm4gPSBBcnJheS5mcm9tKFxuXHRcdFx0dGhpcy5lLm5vZGVOYW1lID09PSAnVEVNUExBVEUnID8gdGhpcy5lLmNvbnRlbnQuY2hpbGROb2RlcyA6IHRoaXMuZS5jaGlsZE5vZGVzXG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0aShhbmNob3IpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubi5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0aW5zZXJ0KHRoaXMudCwgdGhpcy5uW2ldLCBhbmNob3IpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdHAoaHRtbCkge1xuXHRcdHRoaXMuZCgpO1xuXHRcdHRoaXMuaChodG1sKTtcblx0XHR0aGlzLmkodGhpcy5hKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZCgpIHtcblx0XHR0aGlzLm4uZm9yRWFjaChkZXRhY2gpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBIdG1sVGFnSHlkcmF0aW9uIGV4dGVuZHMgSHRtbFRhZyB7XG5cdC8qKiBAdHlwZSB7RWxlbWVudFtdfSBoeWRyYXRpb24gY2xhaW1lZCBub2RlcyAqL1xuXHRsID0gdW5kZWZpbmVkO1xuXG5cdGNvbnN0cnVjdG9yKGlzX3N2ZyA9IGZhbHNlLCBjbGFpbWVkX25vZGVzKSB7XG5cdFx0c3VwZXIoaXNfc3ZnKTtcblx0XHR0aGlzLmUgPSB0aGlzLm4gPSBudWxsO1xuXHRcdHRoaXMubCA9IGNsYWltZWRfbm9kZXM7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRjKGh0bWwpIHtcblx0XHRpZiAodGhpcy5sKSB7XG5cdFx0XHR0aGlzLm4gPSB0aGlzLmw7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN1cGVyLmMoaHRtbCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRpKGFuY2hvcikge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRpbnNlcnRfaHlkcmF0aW9uKHRoaXMudCwgdGhpcy5uW2ldLCBhbmNob3IpO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7TmFtZWROb2RlTWFwfSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7e319XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdHRyaWJ1dGVfdG9fb2JqZWN0KGF0dHJpYnV0ZXMpIHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGZvciAoY29uc3QgYXR0cmlidXRlIG9mIGF0dHJpYnV0ZXMpIHtcblx0XHRyZXN1bHRbYXR0cmlidXRlLm5hbWVdID0gYXR0cmlidXRlLnZhbHVlO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbmNvbnN0IGVzY2FwZWQgPSB7XG5cdCdcIic6ICcmcXVvdDsnLFxuXHQnJic6ICcmYW1wOycsXG5cdCc8JzogJyZsdDsnXG59O1xuXG5jb25zdCByZWdleF9hdHRyaWJ1dGVfY2hhcmFjdGVyc190b19lc2NhcGUgPSAvW1wiJjxdL2c7XG5cbi8qKlxuICogTm90ZSB0aGF0IHRoZSBhdHRyaWJ1dGUgaXRzZWxmIHNob3VsZCBiZSBzdXJyb3VuZGVkIGluIGRvdWJsZSBxdW90ZXNcbiAqIEBwYXJhbSB7YW55fSBhdHRyaWJ1dGVcbiAqL1xuZnVuY3Rpb24gZXNjYXBlX2F0dHJpYnV0ZShhdHRyaWJ1dGUpIHtcblx0cmV0dXJuIFN0cmluZyhhdHRyaWJ1dGUpLnJlcGxhY2UocmVnZXhfYXR0cmlidXRlX2NoYXJhY3RlcnNfdG9fZXNjYXBlLCAobWF0Y2gpID0+IGVzY2FwZWRbbWF0Y2hdKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIHN0cmluZz59IGF0dHJpYnV0ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeV9zcHJlYWQoYXR0cmlidXRlcykge1xuXHRsZXQgc3RyID0gJyAnO1xuXHRmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0aWYgKGF0dHJpYnV0ZXNba2V5XSAhPSBudWxsKSB7XG5cdFx0XHRzdHIgKz0gYCR7a2V5fT1cIiR7ZXNjYXBlX2F0dHJpYnV0ZShhdHRyaWJ1dGVzW2tleV0pfVwiIGA7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHN0cjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7e319XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKGVsZW1lbnQpIHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKFxuXHRcdC8qKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgKi8gKG5vZGUpID0+IHtcblx0XHRcdHJlc3VsdFtub2RlLnNsb3QgfHwgJ2RlZmF1bHQnXSA9IHRydWU7XG5cdFx0fVxuXHQpO1xuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uc3RydWN0X3N2ZWx0ZV9jb21wb25lbnQoY29tcG9uZW50LCBwcm9wcykge1xuXHRyZXR1cm4gbmV3IGNvbXBvbmVudChwcm9wcyk7XG59XG5cbi8qKlxuICogQHR5cGVkZWYge05vZGUgJiB7XG4gKiBcdGNsYWltX29yZGVyPzogbnVtYmVyO1xuICogXHRoeWRyYXRlX2luaXQ/OiB0cnVlO1xuICogXHRhY3R1YWxfZW5kX2NoaWxkPzogTm9kZUV4O1xuICogXHRjaGlsZE5vZGVzOiBOb2RlTGlzdE9mPE5vZGVFeD47XG4gKiB9fSBOb2RlRXhcbiAqL1xuXG4vKiogQHR5cGVkZWYge0NoaWxkTm9kZSAmIE5vZGVFeH0gQ2hpbGROb2RlRXggKi9cblxuLyoqIEB0eXBlZGVmIHtOb2RlRXggJiB7IGNsYWltX29yZGVyOiBudW1iZXIgfX0gTm9kZUV4MiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtDaGlsZE5vZGVFeFtdICYge1xuICogXHRjbGFpbV9pbmZvPzoge1xuICogXHRcdGxhc3RfaW5kZXg6IG51bWJlcjtcbiAqIFx0XHR0b3RhbF9jbGFpbWVkOiBudW1iZXI7XG4gKiBcdH07XG4gKiB9fSBDaGlsZE5vZGVBcnJheVxuICovXG4iLCAiaW1wb3J0IHsgY3VzdG9tX2V2ZW50IH0gZnJvbSAnLi9kb20uanMnO1xuXG5leHBvcnQgbGV0IGN1cnJlbnRfY29tcG9uZW50O1xuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCkge1xuXHRjdXJyZW50X2NvbXBvbmVudCA9IGNvbXBvbmVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldF9jdXJyZW50X2NvbXBvbmVudCgpIHtcblx0aWYgKCFjdXJyZW50X2NvbXBvbmVudCkgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiBjYWxsZWQgb3V0c2lkZSBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24nKTtcblx0cmV0dXJuIGN1cnJlbnRfY29tcG9uZW50O1xufVxuXG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyB1cGRhdGVkIGFmdGVyIGFueSBzdGF0ZSBjaGFuZ2UuXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIHJ1bnMgd2lsbCBiZSBiZWZvcmUgdGhlIGluaXRpYWwgYG9uTW91bnRgXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2JlZm9yZXVwZGF0ZVxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJlZm9yZVVwZGF0ZShmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5iZWZvcmVfdXBkYXRlLnB1c2goZm4pO1xufVxuXG4vKipcbiAqIFRoZSBgb25Nb3VudGAgZnVuY3Rpb24gc2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGFzIHNvb24gYXMgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiBtb3VudGVkIHRvIHRoZSBET00uXG4gKiBJdCBtdXN0IGJlIGNhbGxlZCBkdXJpbmcgdGhlIGNvbXBvbmVudCdzIGluaXRpYWxpc2F0aW9uIChidXQgZG9lc24ndCBuZWVkIHRvIGxpdmUgKmluc2lkZSogdGhlIGNvbXBvbmVudDtcbiAqIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSBhbiBleHRlcm5hbCBtb2R1bGUpLlxuICpcbiAqIElmIGEgZnVuY3Rpb24gaXMgcmV0dXJuZWQgX3N5bmNocm9ub3VzbHlfIGZyb20gYG9uTW91bnRgLCBpdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgdW5tb3VudGVkLlxuICpcbiAqIGBvbk1vdW50YCBkb2VzIG5vdCBydW4gaW5zaWRlIGEgW3NlcnZlci1zaWRlIGNvbXBvbmVudF0oL2RvY3MjcnVuLXRpbWUtc2VydmVyLXNpZGUtY29tcG9uZW50LWFwaSkuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI29ubW91bnRcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0geygpID0+IGltcG9ydCgnLi9wcml2YXRlLmpzJykuTm90RnVuY3Rpb248VD4gfCBQcm9taXNlPGltcG9ydCgnLi9wcml2YXRlLmpzJykuTm90RnVuY3Rpb248VD4+IHwgKCgpID0+IGFueSl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uTW91bnQoZm4pIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQub25fbW91bnQucHVzaChmbik7XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gdXBkYXRlZC5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgcnVucyB3aWxsIGJlIGFmdGVyIHRoZSBpbml0aWFsIGBvbk1vdW50YFxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNhZnRlcnVwZGF0ZVxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFmdGVyVXBkYXRlKGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmFmdGVyX3VwZGF0ZS5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgdW5tb3VudGVkLlxuICpcbiAqIE91dCBvZiBgb25Nb3VudGAsIGBiZWZvcmVVcGRhdGVgLCBgYWZ0ZXJVcGRhdGVgIGFuZCBgb25EZXN0cm95YCwgdGhpcyBpcyB0aGVcbiAqIG9ubHkgb25lIHRoYXQgcnVucyBpbnNpZGUgYSBzZXJ2ZXItc2lkZSBjb21wb25lbnQuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI29uZGVzdHJveVxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uRGVzdHJveShmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9kZXN0cm95LnB1c2goZm4pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gZXZlbnQgZGlzcGF0Y2hlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGRpc3BhdGNoIFtjb21wb25lbnQgZXZlbnRzXSgvZG9jcyN0ZW1wbGF0ZS1zeW50YXgtY29tcG9uZW50LWRpcmVjdGl2ZXMtb24tZXZlbnRuYW1lKS5cbiAqIEV2ZW50IGRpc3BhdGNoZXJzIGFyZSBmdW5jdGlvbnMgdGhhdCBjYW4gdGFrZSB0d28gYXJndW1lbnRzOiBgbmFtZWAgYW5kIGBkZXRhaWxgLlxuICpcbiAqIENvbXBvbmVudCBldmVudHMgY3JlYXRlZCB3aXRoIGBjcmVhdGVFdmVudERpc3BhdGNoZXJgIGNyZWF0ZSBhXG4gKiBbQ3VzdG9tRXZlbnRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudCkuXG4gKiBUaGVzZSBldmVudHMgZG8gbm90IFtidWJibGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvTGVhcm4vSmF2YVNjcmlwdC9CdWlsZGluZ19ibG9ja3MvRXZlbnRzI0V2ZW50X2J1YmJsaW5nX2FuZF9jYXB0dXJlKS5cbiAqIFRoZSBgZGV0YWlsYCBhcmd1bWVudCBjb3JyZXNwb25kcyB0byB0aGUgW0N1c3RvbUV2ZW50LmRldGFpbF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50L2RldGFpbClcbiAqIHByb3BlcnR5IGFuZCBjYW4gY29udGFpbiBhbnkgdHlwZSBvZiBkYXRhLlxuICpcbiAqIFRoZSBldmVudCBkaXNwYXRjaGVyIGNhbiBiZSB0eXBlZCB0byBuYXJyb3cgdGhlIGFsbG93ZWQgZXZlbnQgbmFtZXMgYW5kIHRoZSB0eXBlIG9mIHRoZSBgZGV0YWlsYCBhcmd1bWVudDpcbiAqIGBgYHRzXG4gKiBjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcjx7XG4gKiAgbG9hZGVkOiBuZXZlcjsgLy8gZG9lcyBub3QgdGFrZSBhIGRldGFpbCBhcmd1bWVudFxuICogIGNoYW5nZTogc3RyaW5nOyAvLyB0YWtlcyBhIGRldGFpbCBhcmd1bWVudCBvZiB0eXBlIHN0cmluZywgd2hpY2ggaXMgcmVxdWlyZWRcbiAqICBvcHRpb25hbDogbnVtYmVyIHwgbnVsbDsgLy8gdGFrZXMgYW4gb3B0aW9uYWwgZGV0YWlsIGFyZ3VtZW50IG9mIHR5cGUgbnVtYmVyXG4gKiB9PigpO1xuICogYGBgXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2NyZWF0ZWV2ZW50ZGlzcGF0Y2hlclxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBbRXZlbnRNYXA9YW55XVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5FdmVudERpc3BhdGNoZXI8RXZlbnRNYXA+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCkge1xuXHRjb25zdCBjb21wb25lbnQgPSBnZXRfY3VycmVudF9jb21wb25lbnQoKTtcblx0cmV0dXJuICh0eXBlLCBkZXRhaWwsIHsgY2FuY2VsYWJsZSA9IGZhbHNlIH0gPSB7fSkgPT4ge1xuXHRcdGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbdHlwZV07XG5cdFx0aWYgKGNhbGxiYWNrcykge1xuXHRcdFx0Ly8gVE9ETyBhcmUgdGhlcmUgc2l0dWF0aW9ucyB3aGVyZSBldmVudHMgY291bGQgYmUgZGlzcGF0Y2hlZFxuXHRcdFx0Ly8gaW4gYSBzZXJ2ZXIgKG5vbi1ET00pIGVudmlyb25tZW50P1xuXHRcdFx0Y29uc3QgZXZlbnQgPSBjdXN0b21fZXZlbnQoLyoqIEB0eXBlIHtzdHJpbmd9ICovICh0eXBlKSwgZGV0YWlsLCB7IGNhbmNlbGFibGUgfSk7XG5cdFx0XHRjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKChmbikgPT4ge1xuXHRcdFx0XHRmbi5jYWxsKGNvbXBvbmVudCwgZXZlbnQpO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xufVxuXG4vKipcbiAqIEFzc29jaWF0ZXMgYW4gYXJiaXRyYXJ5IGBjb250ZXh0YCBvYmplY3Qgd2l0aCB0aGUgY3VycmVudCBjb21wb25lbnQgYW5kIHRoZSBzcGVjaWZpZWQgYGtleWBcbiAqIGFuZCByZXR1cm5zIHRoYXQgb2JqZWN0LiBUaGUgY29udGV4dCBpcyB0aGVuIGF2YWlsYWJsZSB0byBjaGlsZHJlbiBvZiB0aGUgY29tcG9uZW50XG4gKiAoaW5jbHVkaW5nIHNsb3R0ZWQgY29udGVudCkgd2l0aCBgZ2V0Q29udGV4dGAuXG4gKlxuICogTGlrZSBsaWZlY3ljbGUgZnVuY3Rpb25zLCB0aGlzIG11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI3NldGNvbnRleHRcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcGFyYW0ge1R9IGNvbnRleHRcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29udGV4dChrZXksIGNvbnRleHQpIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5zZXQoa2V5LCBjb250ZXh0KTtcblx0cmV0dXJuIGNvbnRleHQ7XG59XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSBjb250ZXh0IHRoYXQgYmVsb25ncyB0byB0aGUgY2xvc2VzdCBwYXJlbnQgY29tcG9uZW50IHdpdGggdGhlIHNwZWNpZmllZCBga2V5YC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2dldGNvbnRleHRcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRleHQoa2V5KSB7XG5cdHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmdldChrZXkpO1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgd2hvbGUgY29udGV4dCBtYXAgdGhhdCBiZWxvbmdzIHRvIHRoZSBjbG9zZXN0IHBhcmVudCBjb21wb25lbnQuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLiBVc2VmdWwsIGZvciBleGFtcGxlLCBpZiB5b3VcbiAqIHByb2dyYW1tYXRpY2FsbHkgY3JlYXRlIGEgY29tcG9uZW50IGFuZCB3YW50IHRvIHBhc3MgdGhlIGV4aXN0aW5nIGNvbnRleHQgdG8gaXQuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2dldGFsbGNvbnRleHRzXG4gKiBAdGVtcGxhdGUge01hcDxhbnksIGFueT59IFtUPU1hcDxhbnksIGFueT5dXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbENvbnRleHRzKCkge1xuXHRyZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dDtcbn1cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIGdpdmVuIGBrZXlgIGhhcyBiZWVuIHNldCBpbiB0aGUgY29udGV4dCBvZiBhIHBhcmVudCBjb21wb25lbnQuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNoYXNjb250ZXh0XG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0NvbnRleHQoa2V5KSB7XG5cdHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmhhcyhrZXkpO1xufVxuXG4vLyBUT0RPIGZpZ3VyZSBvdXQgaWYgd2Ugc3RpbGwgd2FudCB0byBzdXBwb3J0XG4vLyBzaG9ydGhhbmQgZXZlbnRzLCBvciBpZiB3ZSB3YW50IHRvIGltcGxlbWVudFxuLy8gYSByZWFsIGJ1YmJsaW5nIG1lY2hhbmlzbVxuLyoqXG4gKiBAcGFyYW0gY29tcG9uZW50XG4gKiBAcGFyYW0gZXZlbnRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYnViYmxlKGNvbXBvbmVudCwgZXZlbnQpIHtcblx0Y29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1tldmVudC50eXBlXTtcblx0aWYgKGNhbGxiYWNrcykge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKChmbikgPT4gZm4uY2FsbCh0aGlzLCBldmVudCkpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgcnVuX2FsbCB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgY3VycmVudF9jb21wb25lbnQsIHNldF9jdXJyZW50X2NvbXBvbmVudCB9IGZyb20gJy4vbGlmZWN5Y2xlLmpzJztcblxuZXhwb3J0IGNvbnN0IGRpcnR5X2NvbXBvbmVudHMgPSBbXTtcbmV4cG9ydCBjb25zdCBpbnRyb3MgPSB7IGVuYWJsZWQ6IGZhbHNlIH07XG5leHBvcnQgY29uc3QgYmluZGluZ19jYWxsYmFja3MgPSBbXTtcblxubGV0IHJlbmRlcl9jYWxsYmFja3MgPSBbXTtcblxuY29uc3QgZmx1c2hfY2FsbGJhY2tzID0gW107XG5cbmNvbnN0IHJlc29sdmVkX3Byb21pc2UgPSAvKiBAX19QVVJFX18gKi8gUHJvbWlzZS5yZXNvbHZlKCk7XG5cbmxldCB1cGRhdGVfc2NoZWR1bGVkID0gZmFsc2U7XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZV91cGRhdGUoKSB7XG5cdGlmICghdXBkYXRlX3NjaGVkdWxlZCkge1xuXHRcdHVwZGF0ZV9zY2hlZHVsZWQgPSB0cnVlO1xuXHRcdHJlc29sdmVkX3Byb21pc2UudGhlbihmbHVzaCk7XG5cdH1cbn1cblxuLyoqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpY2soKSB7XG5cdHNjaGVkdWxlX3VwZGF0ZSgpO1xuXHRyZXR1cm4gcmVzb2x2ZWRfcHJvbWlzZTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF9yZW5kZXJfY2FsbGJhY2soZm4pIHtcblx0cmVuZGVyX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF9mbHVzaF9jYWxsYmFjayhmbikge1xuXHRmbHVzaF9jYWxsYmFja3MucHVzaChmbik7XG59XG5cbi8vIGZsdXNoKCkgY2FsbHMgY2FsbGJhY2tzIGluIHRoaXMgb3JkZXI6XG4vLyAxLiBBbGwgYmVmb3JlVXBkYXRlIGNhbGxiYWNrcywgaW4gb3JkZXI6IHBhcmVudHMgYmVmb3JlIGNoaWxkcmVuXG4vLyAyLiBBbGwgYmluZDp0aGlzIGNhbGxiYWNrcywgaW4gcmV2ZXJzZSBvcmRlcjogY2hpbGRyZW4gYmVmb3JlIHBhcmVudHMuXG4vLyAzLiBBbGwgYWZ0ZXJVcGRhdGUgY2FsbGJhY2tzLCBpbiBvcmRlcjogcGFyZW50cyBiZWZvcmUgY2hpbGRyZW4uIEVYQ0VQVFxuLy8gICAgZm9yIGFmdGVyVXBkYXRlcyBjYWxsZWQgZHVyaW5nIHRoZSBpbml0aWFsIG9uTW91bnQsIHdoaWNoIGFyZSBjYWxsZWQgaW5cbi8vICAgIHJldmVyc2Ugb3JkZXI6IGNoaWxkcmVuIGJlZm9yZSBwYXJlbnRzLlxuLy8gU2luY2UgY2FsbGJhY2tzIG1pZ2h0IHVwZGF0ZSBjb21wb25lbnQgdmFsdWVzLCB3aGljaCBjb3VsZCB0cmlnZ2VyIGFub3RoZXJcbi8vIGNhbGwgdG8gZmx1c2goKSwgdGhlIGZvbGxvd2luZyBzdGVwcyBndWFyZCBhZ2FpbnN0IHRoaXM6XG4vLyAxLiBEdXJpbmcgYmVmb3JlVXBkYXRlLCBhbnkgdXBkYXRlZCBjb21wb25lbnRzIHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4vLyAgICBkaXJ0eV9jb21wb25lbnRzIGFycmF5IGFuZCB3aWxsIGNhdXNlIGEgcmVlbnRyYW50IGNhbGwgdG8gZmx1c2goKS4gQmVjYXVzZVxuLy8gICAgdGhlIGZsdXNoIGluZGV4IGlzIGtlcHQgb3V0c2lkZSB0aGUgZnVuY3Rpb24sIHRoZSByZWVudHJhbnQgY2FsbCB3aWxsIHBpY2tcbi8vICAgIHVwIHdoZXJlIHRoZSBlYXJsaWVyIGNhbGwgbGVmdCBvZmYgYW5kIGdvIHRocm91Z2ggYWxsIGRpcnR5IGNvbXBvbmVudHMuIFRoZVxuLy8gICAgY3VycmVudF9jb21wb25lbnQgdmFsdWUgaXMgc2F2ZWQgYW5kIHJlc3RvcmVkIHNvIHRoYXQgdGhlIHJlZW50cmFudCBjYWxsIHdpbGxcbi8vICAgIG5vdCBpbnRlcmZlcmUgd2l0aCB0aGUgXCJwYXJlbnRcIiBmbHVzaCgpIGNhbGwuXG4vLyAyLiBiaW5kOnRoaXMgY2FsbGJhY2tzIGNhbm5vdCB0cmlnZ2VyIG5ldyBmbHVzaCgpIGNhbGxzLlxuLy8gMy4gRHVyaW5nIGFmdGVyVXBkYXRlLCBhbnkgdXBkYXRlZCBjb21wb25lbnRzIHdpbGwgTk9UIGhhdmUgdGhlaXIgYWZ0ZXJVcGRhdGVcbi8vICAgIGNhbGxiYWNrIGNhbGxlZCBhIHNlY29uZCB0aW1lOyB0aGUgc2Vlbl9jYWxsYmFja3Mgc2V0LCBvdXRzaWRlIHRoZSBmbHVzaCgpXG4vLyAgICBmdW5jdGlvbiwgZ3VhcmFudGVlcyB0aGlzIGJlaGF2aW9yLlxuY29uc3Qgc2Vlbl9jYWxsYmFja3MgPSBuZXcgU2V0KCk7XG5cbmxldCBmbHVzaGlkeCA9IDA7IC8vIERvICpub3QqIG1vdmUgdGhpcyBpbnNpZGUgdGhlIGZsdXNoKCkgZnVuY3Rpb25cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoKCkge1xuXHQvLyBEbyBub3QgcmVlbnRlciBmbHVzaCB3aGlsZSBkaXJ0eSBjb21wb25lbnRzIGFyZSB1cGRhdGVkLCBhcyB0aGlzIGNhblxuXHQvLyByZXN1bHQgaW4gYW4gaW5maW5pdGUgbG9vcC4gSW5zdGVhZCwgbGV0IHRoZSBpbm5lciBmbHVzaCBoYW5kbGUgaXQuXG5cdC8vIFJlZW50cmFuY3kgaXMgb2sgYWZ0ZXJ3YXJkcyBmb3IgYmluZGluZ3MgZXRjLlxuXHRpZiAoZmx1c2hpZHggIT09IDApIHtcblx0XHRyZXR1cm47XG5cdH1cblx0Y29uc3Qgc2F2ZWRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG5cdGRvIHtcblx0XHQvLyBmaXJzdCwgY2FsbCBiZWZvcmVVcGRhdGUgZnVuY3Rpb25zXG5cdFx0Ly8gYW5kIHVwZGF0ZSBjb21wb25lbnRzXG5cdFx0dHJ5IHtcblx0XHRcdHdoaWxlIChmbHVzaGlkeCA8IGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoKSB7XG5cdFx0XHRcdGNvbnN0IGNvbXBvbmVudCA9IGRpcnR5X2NvbXBvbmVudHNbZmx1c2hpZHhdO1xuXHRcdFx0XHRmbHVzaGlkeCsrO1xuXHRcdFx0XHRzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcblx0XHRcdFx0dXBkYXRlKGNvbXBvbmVudC4kJCk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Ly8gcmVzZXQgZGlydHkgc3RhdGUgdG8gbm90IGVuZCB1cCBpbiBhIGRlYWRsb2NrZWQgc3RhdGUgYW5kIHRoZW4gcmV0aHJvd1xuXHRcdFx0ZGlydHlfY29tcG9uZW50cy5sZW5ndGggPSAwO1xuXHRcdFx0Zmx1c2hpZHggPSAwO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdFx0c2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuXHRcdGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoID0gMDtcblx0XHRmbHVzaGlkeCA9IDA7XG5cdFx0d2hpbGUgKGJpbmRpbmdfY2FsbGJhY2tzLmxlbmd0aCkgYmluZGluZ19jYWxsYmFja3MucG9wKCkoKTtcblx0XHQvLyB0aGVuLCBvbmNlIGNvbXBvbmVudHMgYXJlIHVwZGF0ZWQsIGNhbGxcblx0XHQvLyBhZnRlclVwZGF0ZSBmdW5jdGlvbnMuIFRoaXMgbWF5IGNhdXNlXG5cdFx0Ly8gc3Vic2VxdWVudCB1cGRhdGVzLi4uXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJfY2FsbGJhY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRjb25zdCBjYWxsYmFjayA9IHJlbmRlcl9jYWxsYmFja3NbaV07XG5cdFx0XHRpZiAoIXNlZW5fY2FsbGJhY2tzLmhhcyhjYWxsYmFjaykpIHtcblx0XHRcdFx0Ly8gLi4uc28gZ3VhcmQgYWdhaW5zdCBpbmZpbml0ZSBsb29wc1xuXHRcdFx0XHRzZWVuX2NhbGxiYWNrcy5hZGQoY2FsbGJhY2spO1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZW5kZXJfY2FsbGJhY2tzLmxlbmd0aCA9IDA7XG5cdH0gd2hpbGUgKGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoKTtcblx0d2hpbGUgKGZsdXNoX2NhbGxiYWNrcy5sZW5ndGgpIHtcblx0XHRmbHVzaF9jYWxsYmFja3MucG9wKCkoKTtcblx0fVxuXHR1cGRhdGVfc2NoZWR1bGVkID0gZmFsc2U7XG5cdHNlZW5fY2FsbGJhY2tzLmNsZWFyKCk7XG5cdHNldF9jdXJyZW50X2NvbXBvbmVudChzYXZlZF9jb21wb25lbnQpO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5mdW5jdGlvbiB1cGRhdGUoJCQpIHtcblx0aWYgKCQkLmZyYWdtZW50ICE9PSBudWxsKSB7XG5cdFx0JCQudXBkYXRlKCk7XG5cdFx0cnVuX2FsbCgkJC5iZWZvcmVfdXBkYXRlKTtcblx0XHRjb25zdCBkaXJ0eSA9ICQkLmRpcnR5O1xuXHRcdCQkLmRpcnR5ID0gWy0xXTtcblx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5wKCQkLmN0eCwgZGlydHkpO1xuXHRcdCQkLmFmdGVyX3VwZGF0ZS5mb3JFYWNoKGFkZF9yZW5kZXJfY2FsbGJhY2spO1xuXHR9XG59XG5cbi8qKlxuICogVXNlZnVsIGZvciBleGFtcGxlIHRvIGV4ZWN1dGUgcmVtYWluaW5nIGBhZnRlclVwZGF0ZWAgY2FsbGJhY2tzIGJlZm9yZSBleGVjdXRpbmcgYGRlc3Ryb3lgLlxuICogQHBhcmFtIHtGdW5jdGlvbltdfSBmbnNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmx1c2hfcmVuZGVyX2NhbGxiYWNrcyhmbnMpIHtcblx0Y29uc3QgZmlsdGVyZWQgPSBbXTtcblx0Y29uc3QgdGFyZ2V0cyA9IFtdO1xuXHRyZW5kZXJfY2FsbGJhY2tzLmZvckVhY2goKGMpID0+IChmbnMuaW5kZXhPZihjKSA9PT0gLTEgPyBmaWx0ZXJlZC5wdXNoKGMpIDogdGFyZ2V0cy5wdXNoKGMpKSk7XG5cdHRhcmdldHMuZm9yRWFjaCgoYykgPT4gYygpKTtcblx0cmVuZGVyX2NhbGxiYWNrcyA9IGZpbHRlcmVkO1xufVxuIiwgImltcG9ydCB7IGlkZW50aXR5IGFzIGxpbmVhciwgaXNfZnVuY3Rpb24sIG5vb3AsIHJ1bl9hbGwgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IG5vdyB9IGZyb20gJy4vZW52aXJvbm1lbnQuanMnO1xuaW1wb3J0IHsgbG9vcCB9IGZyb20gJy4vbG9vcC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVfcnVsZSwgZGVsZXRlX3J1bGUgfSBmcm9tICcuL3N0eWxlX21hbmFnZXIuanMnO1xuaW1wb3J0IHsgY3VzdG9tX2V2ZW50IH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgYWRkX3JlbmRlcl9jYWxsYmFjayB9IGZyb20gJy4vc2NoZWR1bGVyLmpzJztcblxuLyoqXG4gKiBAdHlwZSB7UHJvbWlzZTx2b2lkPiB8IG51bGx9XG4gKi9cbmxldCBwcm9taXNlO1xuXG4vKipcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICovXG5mdW5jdGlvbiB3YWl0KCkge1xuXHRpZiAoIXByb21pc2UpIHtcblx0XHRwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0cHJvbWlzZS50aGVuKCgpID0+IHtcblx0XHRcdHByb21pc2UgPSBudWxsO1xuXHRcdH0pO1xuXHR9XG5cdHJldHVybiBwcm9taXNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtJTlRSTyB8IE9VVFJPIHwgYm9vbGVhbn0gZGlyZWN0aW9uXG4gKiBAcGFyYW0geydzdGFydCcgfCAnZW5kJ30ga2luZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGRpc3BhdGNoKG5vZGUsIGRpcmVjdGlvbiwga2luZCkge1xuXHRub2RlLmRpc3BhdGNoRXZlbnQoY3VzdG9tX2V2ZW50KGAke2RpcmVjdGlvbiA/ICdpbnRybycgOiAnb3V0cm8nfSR7a2luZH1gKSk7XG59XG5cbmNvbnN0IG91dHJvaW5nID0gbmV3IFNldCgpO1xuXG4vKipcbiAqIEB0eXBlIHtPdXRyb31cbiAqL1xubGV0IG91dHJvcztcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBncm91cF9vdXRyb3MoKSB7XG5cdG91dHJvcyA9IHtcblx0XHRyOiAwLFxuXHRcdGM6IFtdLFxuXHRcdHA6IG91dHJvcyAvLyBwYXJlbnQgZ3JvdXBcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja19vdXRyb3MoKSB7XG5cdGlmICghb3V0cm9zLnIpIHtcblx0XHRydW5fYWxsKG91dHJvcy5jKTtcblx0fVxuXHRvdXRyb3MgPSBvdXRyb3MucDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuRnJhZ21lbnR9IGJsb2NrXG4gKiBAcGFyYW0gezAgfCAxfSBbbG9jYWxdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zaXRpb25faW4oYmxvY2ssIGxvY2FsKSB7XG5cdGlmIChibG9jayAmJiBibG9jay5pKSB7XG5cdFx0b3V0cm9pbmcuZGVsZXRlKGJsb2NrKTtcblx0XHRibG9jay5pKGxvY2FsKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5GcmFnbWVudH0gYmxvY2tcbiAqIEBwYXJhbSB7MCB8IDF9IGxvY2FsXG4gKiBAcGFyYW0gezAgfCAxfSBbZGV0YWNoXVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zaXRpb25fb3V0KGJsb2NrLCBsb2NhbCwgZGV0YWNoLCBjYWxsYmFjaykge1xuXHRpZiAoYmxvY2sgJiYgYmxvY2subykge1xuXHRcdGlmIChvdXRyb2luZy5oYXMoYmxvY2spKSByZXR1cm47XG5cdFx0b3V0cm9pbmcuYWRkKGJsb2NrKTtcblx0XHRvdXRyb3MuYy5wdXNoKCgpID0+IHtcblx0XHRcdG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG5cdFx0XHRpZiAoY2FsbGJhY2spIHtcblx0XHRcdFx0aWYgKGRldGFjaCkgYmxvY2suZCgxKTtcblx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRibG9jay5vKGxvY2FsKTtcblx0fSBlbHNlIGlmIChjYWxsYmFjaykge1xuXHRcdGNhbGxiYWNrKCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAdHlwZSB7aW1wb3J0KCcuLi90cmFuc2l0aW9uL3B1YmxpYy5qcycpLlRyYW5zaXRpb25Db25maWd9XG4gKi9cbmNvbnN0IG51bGxfdHJhbnNpdGlvbiA9IHsgZHVyYXRpb246IDAgfTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7VHJhbnNpdGlvbkZufSBmblxuICogQHBhcmFtIHthbnl9IHBhcmFtc1xuICogQHJldHVybnMge3sgc3RhcnQoKTogdm9pZDsgaW52YWxpZGF0ZSgpOiB2b2lkOyBlbmQoKTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9pbl90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMpIHtcblx0LyoqXG5cdCAqIEB0eXBlIHtUcmFuc2l0aW9uT3B0aW9uc30gKi9cblx0Y29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uOiAnaW4nIH07XG5cdGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuXHRsZXQgcnVubmluZyA9IGZhbHNlO1xuXHRsZXQgYW5pbWF0aW9uX25hbWU7XG5cdGxldCB0YXNrO1xuXHRsZXQgdWlkID0gMDtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGNsZWFudXAoKSB7XG5cdFx0aWYgKGFuaW1hdGlvbl9uYW1lKSBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGdvKCkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblx0XHRpZiAoY3NzKSBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDAsIDEsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MsIHVpZCsrKTtcblx0XHR0aWNrKDAsIDEpO1xuXHRcdGNvbnN0IHN0YXJ0X3RpbWUgPSBub3coKSArIGRlbGF5O1xuXHRcdGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuXHRcdGlmICh0YXNrKSB0YXNrLmFib3J0KCk7XG5cdFx0cnVubmluZyA9IHRydWU7XG5cdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCB0cnVlLCAnc3RhcnQnKSk7XG5cdFx0dGFzayA9IGxvb3AoKG5vdykgPT4ge1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKG5vdyA+PSBlbmRfdGltZSkge1xuXHRcdFx0XHRcdHRpY2soMSwgMCk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ2VuZCcpO1xuXHRcdFx0XHRcdGNsZWFudXAoKTtcblx0XHRcdFx0XHRyZXR1cm4gKHJ1bm5pbmcgPSBmYWxzZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG5cdFx0XHRcdFx0Y29uc3QgdCA9IGVhc2luZygobm93IC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbik7XG5cdFx0XHRcdFx0dGljayh0LCAxIC0gdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBydW5uaW5nO1xuXHRcdH0pO1xuXHR9XG5cdGxldCBzdGFydGVkID0gZmFsc2U7XG5cdHJldHVybiB7XG5cdFx0c3RhcnQoKSB7XG5cdFx0XHRpZiAoc3RhcnRlZCkgcmV0dXJuO1xuXHRcdFx0c3RhcnRlZCA9IHRydWU7XG5cdFx0XHRkZWxldGVfcnVsZShub2RlKTtcblx0XHRcdGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG5cdFx0XHRcdGNvbmZpZyA9IGNvbmZpZyhvcHRpb25zKTtcblx0XHRcdFx0d2FpdCgpLnRoZW4oZ28pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Z28oKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGludmFsaWRhdGUoKSB7XG5cdFx0XHRzdGFydGVkID0gZmFsc2U7XG5cdFx0fSxcblx0XHRlbmQoKSB7XG5cdFx0XHRpZiAocnVubmluZykge1xuXHRcdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHRcdHJ1bm5pbmcgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25Gbn0gZm5cbiAqIEBwYXJhbSB7YW55fSBwYXJhbXNcbiAqIEByZXR1cm5zIHt7IGVuZChyZXNldDogYW55KTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9vdXRfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG5cdC8qKiBAdHlwZSB7VHJhbnNpdGlvbk9wdGlvbnN9ICovXG5cdGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ291dCcgfTtcblx0bGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG5cdGxldCBydW5uaW5nID0gdHJ1ZTtcblx0bGV0IGFuaW1hdGlvbl9uYW1lO1xuXHRjb25zdCBncm91cCA9IG91dHJvcztcblx0Z3JvdXAuciArPSAxO1xuXHQvKiogQHR5cGUge2Jvb2xlYW59ICovXG5cdGxldCBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGdvKCkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblxuXHRcdGlmIChjc3MpIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMSwgMCwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG5cblx0XHRjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcblx0XHRjb25zdCBlbmRfdGltZSA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbjtcblx0XHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnc3RhcnQnKSk7XG5cblx0XHRpZiAoJ2luZXJ0JyBpbiBub2RlKSB7XG5cdFx0XHRvcmlnaW5hbF9pbmVydF92YWx1ZSA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovIChub2RlKS5pbmVydDtcblx0XHRcdG5vZGUuaW5lcnQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGxvb3AoKG5vdykgPT4ge1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKG5vdyA+PSBlbmRfdGltZSkge1xuXHRcdFx0XHRcdHRpY2soMCwgMSk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdlbmQnKTtcblx0XHRcdFx0XHRpZiAoIS0tZ3JvdXAucikge1xuXHRcdFx0XHRcdFx0Ly8gdGhpcyB3aWxsIHJlc3VsdCBpbiBgZW5kKClgIGJlaW5nIGNhbGxlZCxcblx0XHRcdFx0XHRcdC8vIHNvIHdlIGRvbid0IG5lZWQgdG8gY2xlYW4gdXAgaGVyZVxuXHRcdFx0XHRcdFx0cnVuX2FsbChncm91cC5jKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuXHRcdFx0XHRcdGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuXHRcdFx0XHRcdHRpY2soMSAtIHQsIHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcnVubmluZztcblx0XHR9KTtcblx0fVxuXG5cdGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG5cdFx0d2FpdCgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y29uZmlnID0gY29uZmlnKG9wdGlvbnMpO1xuXHRcdFx0Z28oKTtcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRnbygpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRlbmQocmVzZXQpIHtcblx0XHRcdGlmIChyZXNldCAmJiAnaW5lcnQnIGluIG5vZGUpIHtcblx0XHRcdFx0bm9kZS5pbmVydCA9IG9yaWdpbmFsX2luZXJ0X3ZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHJlc2V0ICYmIGNvbmZpZy50aWNrKSB7XG5cdFx0XHRcdGNvbmZpZy50aWNrKDEsIDApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKGFuaW1hdGlvbl9uYW1lKSBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG5cdFx0XHRcdHJ1bm5pbmcgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25Gbn0gZm5cbiAqIEBwYXJhbSB7YW55fSBwYXJhbXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW50cm9cbiAqIEByZXR1cm5zIHt7IHJ1bihiOiAwIHwgMSk6IHZvaWQ7IGVuZCgpOiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zLCBpbnRybykge1xuXHQvKipcblx0ICogQHR5cGUge1RyYW5zaXRpb25PcHRpb25zfSAqL1xuXHRjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdib3RoJyB9O1xuXHRsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zLCBvcHRpb25zKTtcblx0bGV0IHQgPSBpbnRybyA/IDAgOiAxO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7UHJvZ3JhbSB8IG51bGx9ICovXG5cdGxldCBydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7UGVuZGluZ1Byb2dyYW0gfCBudWxsfSAqL1xuXHRsZXQgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcblx0bGV0IGFuaW1hdGlvbl9uYW1lID0gbnVsbDtcblxuXHQvKiogQHR5cGUge2Jvb2xlYW59ICovXG5cdGxldCBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGNsZWFyX2FuaW1hdGlvbigpIHtcblx0XHRpZiAoYW5pbWF0aW9uX25hbWUpIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1BlbmRpbmdQcm9ncmFtfSBwcm9ncmFtXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvblxuXHQgKiBAcmV0dXJucyB7UHJvZ3JhbX1cblx0ICovXG5cdGZ1bmN0aW9uIGluaXQocHJvZ3JhbSwgZHVyYXRpb24pIHtcblx0XHRjb25zdCBkID0gLyoqIEB0eXBlIHtQcm9ncmFtWydkJ119ICovIChwcm9ncmFtLmIgLSB0KTtcblx0XHRkdXJhdGlvbiAqPSBNYXRoLmFicyhkKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0YTogdCxcblx0XHRcdGI6IHByb2dyYW0uYixcblx0XHRcdGQsXG5cdFx0XHRkdXJhdGlvbixcblx0XHRcdHN0YXJ0OiBwcm9ncmFtLnN0YXJ0LFxuXHRcdFx0ZW5kOiBwcm9ncmFtLnN0YXJ0ICsgZHVyYXRpb24sXG5cdFx0XHRncm91cDogcHJvZ3JhbS5ncm91cFxuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtJTlRSTyB8IE9VVFJPfSBiXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gZ28oYikge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblxuXHRcdC8qKlxuXHRcdCAqIEB0eXBlIHtQZW5kaW5nUHJvZ3JhbX0gKi9cblx0XHRjb25zdCBwcm9ncmFtID0ge1xuXHRcdFx0c3RhcnQ6IG5vdygpICsgZGVsYXksXG5cdFx0XHRiXG5cdFx0fTtcblxuXHRcdGlmICghYikge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3Ncblx0XHRcdHByb2dyYW0uZ3JvdXAgPSBvdXRyb3M7XG5cdFx0XHRvdXRyb3MuciArPSAxO1xuXHRcdH1cblxuXHRcdGlmICgnaW5lcnQnIGluIG5vZGUpIHtcblx0XHRcdGlmIChiKSB7XG5cdFx0XHRcdGlmIChvcmlnaW5hbF9pbmVydF92YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Ly8gYWJvcnRlZC9yZXZlcnNlZCBvdXRybyBcdTIwMTQgcmVzdG9yZSBwcmV2aW91cyBpbmVydCB2YWx1ZVxuXHRcdFx0XHRcdG5vZGUuaW5lcnQgPSBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3JpZ2luYWxfaW5lcnRfdmFsdWUgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyAobm9kZSkuaW5lcnQ7XG5cdFx0XHRcdG5vZGUuaW5lcnQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKSB7XG5cdFx0XHRwZW5kaW5nX3Byb2dyYW0gPSBwcm9ncmFtO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpZiB0aGlzIGlzIGFuIGludHJvLCBhbmQgdGhlcmUncyBhIGRlbGF5LCB3ZSBuZWVkIHRvIGRvXG5cdFx0XHQvLyBhbiBpbml0aWFsIHRpY2sgYW5kL29yIGFwcGx5IENTUyBhbmltYXRpb24gaW1tZWRpYXRlbHlcblx0XHRcdGlmIChjc3MpIHtcblx0XHRcdFx0Y2xlYXJfYW5pbWF0aW9uKCk7XG5cdFx0XHRcdGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgdCwgYiwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoYikgdGljaygwLCAxKTtcblx0XHRcdHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocHJvZ3JhbSwgZHVyYXRpb24pO1xuXHRcdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBiLCAnc3RhcnQnKSk7XG5cdFx0XHRsb29wKChub3cpID0+IHtcblx0XHRcdFx0aWYgKHBlbmRpbmdfcHJvZ3JhbSAmJiBub3cgPiBwZW5kaW5nX3Byb2dyYW0uc3RhcnQpIHtcblx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBpbml0KHBlbmRpbmdfcHJvZ3JhbSwgZHVyYXRpb24pO1xuXHRcdFx0XHRcdHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdzdGFydCcpO1xuXHRcdFx0XHRcdGlmIChjc3MpIHtcblx0XHRcdFx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0XHRcdFx0YW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShcblx0XHRcdFx0XHRcdFx0bm9kZSxcblx0XHRcdFx0XHRcdFx0dCxcblx0XHRcdFx0XHRcdFx0cnVubmluZ19wcm9ncmFtLmIsXG5cdFx0XHRcdFx0XHRcdHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbixcblx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0ZWFzaW5nLFxuXHRcdFx0XHRcdFx0XHRjb25maWcuY3NzXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocnVubmluZ19wcm9ncmFtKSB7XG5cdFx0XHRcdFx0aWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uZW5kKSB7XG5cdFx0XHRcdFx0XHR0aWNrKCh0ID0gcnVubmluZ19wcm9ncmFtLmIpLCAxIC0gdCk7XG5cdFx0XHRcdFx0XHRkaXNwYXRjaChub2RlLCBydW5uaW5nX3Byb2dyYW0uYiwgJ2VuZCcpO1xuXHRcdFx0XHRcdFx0aWYgKCFwZW5kaW5nX3Byb2dyYW0pIHtcblx0XHRcdFx0XHRcdFx0Ly8gd2UncmUgZG9uZVxuXHRcdFx0XHRcdFx0XHRpZiAocnVubmluZ19wcm9ncmFtLmIpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBpbnRybyBcdTIwMTQgd2UgY2FuIHRpZHkgdXAgaW1tZWRpYXRlbHlcblx0XHRcdFx0XHRcdFx0XHRjbGVhcl9hbmltYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBvdXRybyBcdTIwMTQgbmVlZHMgdG8gYmUgY29vcmRpbmF0ZWRcblx0XHRcdFx0XHRcdFx0XHRpZiAoIS0tcnVubmluZ19wcm9ncmFtLmdyb3VwLnIpIHJ1bl9hbGwocnVubmluZ19wcm9ncmFtLmdyb3VwLmMpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5zdGFydCkge1xuXHRcdFx0XHRcdFx0Y29uc3QgcCA9IG5vdyAtIHJ1bm5pbmdfcHJvZ3JhbS5zdGFydDtcblx0XHRcdFx0XHRcdHQgPSBydW5uaW5nX3Byb2dyYW0uYSArIHJ1bm5pbmdfcHJvZ3JhbS5kICogZWFzaW5nKHAgLyBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24pO1xuXHRcdFx0XHRcdFx0dGljayh0LCAxIC0gdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiAhIShydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdHJ1bihiKSB7XG5cdFx0XHRpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuXHRcdFx0XHR3YWl0KCkudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3Qgb3B0cyA9IHsgZGlyZWN0aW9uOiBiID8gJ2luJyA6ICdvdXQnIH07XG5cdFx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdGNvbmZpZyA9IGNvbmZpZyhvcHRzKTtcblx0XHRcdFx0XHRnbyhiKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRnbyhiKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGVuZCgpIHtcblx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0cnVubmluZ19wcm9ncmFtID0gcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcblx0XHR9XG5cdH07XG59XG5cbi8qKiBAdHlwZWRlZiB7MX0gSU5UUk8gKi9cbi8qKiBAdHlwZWRlZiB7MH0gT1VUUk8gKi9cbi8qKiBAdHlwZWRlZiB7eyBkaXJlY3Rpb246ICdpbicgfCAnb3V0JyB8ICdib3RoJyB9fSBUcmFuc2l0aW9uT3B0aW9ucyAqL1xuLyoqIEB0eXBlZGVmIHsobm9kZTogRWxlbWVudCwgcGFyYW1zOiBhbnksIG9wdGlvbnM6IFRyYW5zaXRpb25PcHRpb25zKSA9PiBpbXBvcnQoJy4uL3RyYW5zaXRpb24vcHVibGljLmpzJykuVHJhbnNpdGlvbkNvbmZpZ30gVHJhbnNpdGlvbkZuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3V0cm9cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uW119IGNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBwXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQZW5kaW5nUHJvZ3JhbVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0XG4gKiBAcHJvcGVydHkge0lOVFJPfE9VVFJPfSBiXG4gKiBAcHJvcGVydHkge091dHJvfSBbZ3JvdXBdXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQcm9ncmFtXG4gKiBAcHJvcGVydHkge251bWJlcn0gYVxuICogQHByb3BlcnR5IHtJTlRST3xPVVRST30gYlxuICogQHByb3BlcnR5IHsxfC0xfSBkXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHVyYXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGVuZFxuICogQHByb3BlcnR5IHtPdXRyb30gW2dyb3VwXVxuICovXG4iLCAiaW1wb3J0IHsgdHJhbnNpdGlvbl9pbiwgdHJhbnNpdGlvbl9vdXQgfSBmcm9tICcuL3RyYW5zaXRpb25zLmpzJztcbmltcG9ydCB7IHJ1bl9hbGwgfSBmcm9tICcuL3V0aWxzLmpzJztcblxuLy8gZ2VuZXJhbCBlYWNoIGZ1bmN0aW9uczpcblxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZV9hcnJheV9saWtlKGFycmF5X2xpa2Vfb3JfaXRlcmF0b3IpIHtcblx0cmV0dXJuIGFycmF5X2xpa2Vfb3JfaXRlcmF0b3I/Lmxlbmd0aCAhPT0gdW5kZWZpbmVkXG5cdFx0PyBhcnJheV9saWtlX29yX2l0ZXJhdG9yXG5cdFx0OiBBcnJheS5mcm9tKGFycmF5X2xpa2Vfb3JfaXRlcmF0b3IpO1xufVxuXG4vLyBrZXllZCBlYWNoIGZ1bmN0aW9uczpcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuXHRibG9jay5kKDEpO1xuXHRsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBvdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdHRyYW5zaXRpb25fb3V0KGJsb2NrLCAxLCAxLCAoKSA9PiB7XG5cdFx0bG9va3VwLmRlbGV0ZShibG9jay5rZXkpO1xuXHR9KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpeF9hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdGJsb2NrLmYoKTtcblx0ZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpeF9hbmRfb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuXHRibG9jay5mKCk7XG5cdG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuXG4vKiogQHJldHVybnMge2FueVtdfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9rZXllZF9lYWNoKFxuXHRvbGRfYmxvY2tzLFxuXHRkaXJ0eSxcblx0Z2V0X2tleSxcblx0ZHluYW1pYyxcblx0Y3R4LFxuXHRsaXN0LFxuXHRsb29rdXAsXG5cdG5vZGUsXG5cdGRlc3Ryb3ksXG5cdGNyZWF0ZV9lYWNoX2Jsb2NrLFxuXHRuZXh0LFxuXHRnZXRfY29udGV4dFxuKSB7XG5cdGxldCBvID0gb2xkX2Jsb2Nrcy5sZW5ndGg7XG5cdGxldCBuID0gbGlzdC5sZW5ndGg7XG5cdGxldCBpID0gbztcblx0Y29uc3Qgb2xkX2luZGV4ZXMgPSB7fTtcblx0d2hpbGUgKGktLSkgb2xkX2luZGV4ZXNbb2xkX2Jsb2Nrc1tpXS5rZXldID0gaTtcblx0Y29uc3QgbmV3X2Jsb2NrcyA9IFtdO1xuXHRjb25zdCBuZXdfbG9va3VwID0gbmV3IE1hcCgpO1xuXHRjb25zdCBkZWx0YXMgPSBuZXcgTWFwKCk7XG5cdGNvbnN0IHVwZGF0ZXMgPSBbXTtcblx0aSA9IG47XG5cdHdoaWxlIChpLS0pIHtcblx0XHRjb25zdCBjaGlsZF9jdHggPSBnZXRfY29udGV4dChjdHgsIGxpc3QsIGkpO1xuXHRcdGNvbnN0IGtleSA9IGdldF9rZXkoY2hpbGRfY3R4KTtcblx0XHRsZXQgYmxvY2sgPSBsb29rdXAuZ2V0KGtleSk7XG5cdFx0aWYgKCFibG9jaykge1xuXHRcdFx0YmxvY2sgPSBjcmVhdGVfZWFjaF9ibG9jayhrZXksIGNoaWxkX2N0eCk7XG5cdFx0XHRibG9jay5jKCk7XG5cdFx0fSBlbHNlIGlmIChkeW5hbWljKSB7XG5cdFx0XHQvLyBkZWZlciB1cGRhdGVzIHVudGlsIGFsbCB0aGUgRE9NIHNodWZmbGluZyBpcyBkb25lXG5cdFx0XHR1cGRhdGVzLnB1c2goKCkgPT4gYmxvY2sucChjaGlsZF9jdHgsIGRpcnR5KSk7XG5cdFx0fVxuXHRcdG5ld19sb29rdXAuc2V0KGtleSwgKG5ld19ibG9ja3NbaV0gPSBibG9jaykpO1xuXHRcdGlmIChrZXkgaW4gb2xkX2luZGV4ZXMpIGRlbHRhcy5zZXQoa2V5LCBNYXRoLmFicyhpIC0gb2xkX2luZGV4ZXNba2V5XSkpO1xuXHR9XG5cdGNvbnN0IHdpbGxfbW92ZSA9IG5ldyBTZXQoKTtcblx0Y29uc3QgZGlkX21vdmUgPSBuZXcgU2V0KCk7XG5cdC8qKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gaW5zZXJ0KGJsb2NrKSB7XG5cdFx0dHJhbnNpdGlvbl9pbihibG9jaywgMSk7XG5cdFx0YmxvY2subShub2RlLCBuZXh0KTtcblx0XHRsb29rdXAuc2V0KGJsb2NrLmtleSwgYmxvY2spO1xuXHRcdG5leHQgPSBibG9jay5maXJzdDtcblx0XHRuLS07XG5cdH1cblx0d2hpbGUgKG8gJiYgbikge1xuXHRcdGNvbnN0IG5ld19ibG9jayA9IG5ld19ibG9ja3NbbiAtIDFdO1xuXHRcdGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3NbbyAtIDFdO1xuXHRcdGNvbnN0IG5ld19rZXkgPSBuZXdfYmxvY2sua2V5O1xuXHRcdGNvbnN0IG9sZF9rZXkgPSBvbGRfYmxvY2sua2V5O1xuXHRcdGlmIChuZXdfYmxvY2sgPT09IG9sZF9ibG9jaykge1xuXHRcdFx0Ly8gZG8gbm90aGluZ1xuXHRcdFx0bmV4dCA9IG5ld19ibG9jay5maXJzdDtcblx0XHRcdG8tLTtcblx0XHRcdG4tLTtcblx0XHR9IGVsc2UgaWYgKCFuZXdfbG9va3VwLmhhcyhvbGRfa2V5KSkge1xuXHRcdFx0Ly8gcmVtb3ZlIG9sZCBibG9ja1xuXHRcdFx0ZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG5cdFx0XHRvLS07XG5cdFx0fSBlbHNlIGlmICghbG9va3VwLmhhcyhuZXdfa2V5KSB8fCB3aWxsX21vdmUuaGFzKG5ld19rZXkpKSB7XG5cdFx0XHRpbnNlcnQobmV3X2Jsb2NrKTtcblx0XHR9IGVsc2UgaWYgKGRpZF9tb3ZlLmhhcyhvbGRfa2V5KSkge1xuXHRcdFx0by0tO1xuXHRcdH0gZWxzZSBpZiAoZGVsdGFzLmdldChuZXdfa2V5KSA+IGRlbHRhcy5nZXQob2xkX2tleSkpIHtcblx0XHRcdGRpZF9tb3ZlLmFkZChuZXdfa2V5KTtcblx0XHRcdGluc2VydChuZXdfYmxvY2spO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3aWxsX21vdmUuYWRkKG9sZF9rZXkpO1xuXHRcdFx0by0tO1xuXHRcdH1cblx0fVxuXHR3aGlsZSAoby0tKSB7XG5cdFx0Y29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvXTtcblx0XHRpZiAoIW5ld19sb29rdXAuaGFzKG9sZF9ibG9jay5rZXkpKSBkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcblx0fVxuXHR3aGlsZSAobikgaW5zZXJ0KG5ld19ibG9ja3NbbiAtIDFdKTtcblx0cnVuX2FsbCh1cGRhdGVzKTtcblx0cmV0dXJuIG5ld19ibG9ja3M7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZV9lYWNoX2tleXMoY3R4LCBsaXN0LCBnZXRfY29udGV4dCwgZ2V0X2tleSkge1xuXHRjb25zdCBrZXlzID0gbmV3IE1hcCgpO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCBrZXkgPSBnZXRfa2V5KGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSkpO1xuXHRcdGlmIChrZXlzLmhhcyhrZXkpKSB7XG5cdFx0XHRsZXQgdmFsdWUgPSAnJztcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHZhbHVlID0gYHdpdGggdmFsdWUgJyR7U3RyaW5nKGtleSl9JyBgO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHQvLyBjYW4ndCBzdHJpbmdpZnlcblx0XHRcdH1cblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YENhbm5vdCBoYXZlIGR1cGxpY2F0ZSBrZXlzIGluIGEga2V5ZWQgZWFjaDogS2V5cyBhdCBpbmRleCAke2tleXMuZ2V0KFxuXHRcdFx0XHRcdGtleVxuXHRcdFx0XHQpfSBhbmQgJHtpfSAke3ZhbHVlfWFyZSBkdXBsaWNhdGVzYFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0a2V5cy5zZXQoa2V5LCBpKTtcblx0fVxufVxuIiwgIi8qKiBAcmV0dXJucyB7e319ICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3NwcmVhZF91cGRhdGUobGV2ZWxzLCB1cGRhdGVzKSB7XG5cdGNvbnN0IHVwZGF0ZSA9IHt9O1xuXHRjb25zdCB0b19udWxsX291dCA9IHt9O1xuXHRjb25zdCBhY2NvdW50ZWRfZm9yID0geyAkJHNjb3BlOiAxIH07XG5cdGxldCBpID0gbGV2ZWxzLmxlbmd0aDtcblx0d2hpbGUgKGktLSkge1xuXHRcdGNvbnN0IG8gPSBsZXZlbHNbaV07XG5cdFx0Y29uc3QgbiA9IHVwZGF0ZXNbaV07XG5cdFx0aWYgKG4pIHtcblx0XHRcdGZvciAoY29uc3Qga2V5IGluIG8pIHtcblx0XHRcdFx0aWYgKCEoa2V5IGluIG4pKSB0b19udWxsX291dFtrZXldID0gMTtcblx0XHRcdH1cblx0XHRcdGZvciAoY29uc3Qga2V5IGluIG4pIHtcblx0XHRcdFx0aWYgKCFhY2NvdW50ZWRfZm9yW2tleV0pIHtcblx0XHRcdFx0XHR1cGRhdGVba2V5XSA9IG5ba2V5XTtcblx0XHRcdFx0XHRhY2NvdW50ZWRfZm9yW2tleV0gPSAxO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRsZXZlbHNbaV0gPSBuO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiBvKSB7XG5cdFx0XHRcdGFjY291bnRlZF9mb3Jba2V5XSA9IDE7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGZvciAoY29uc3Qga2V5IGluIHRvX251bGxfb3V0KSB7XG5cdFx0aWYgKCEoa2V5IGluIHVwZGF0ZSkpIHVwZGF0ZVtrZXldID0gdW5kZWZpbmVkO1xuXHR9XG5cdHJldHVybiB1cGRhdGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRfc3ByZWFkX29iamVjdChzcHJlYWRfcHJvcHMpIHtcblx0cmV0dXJuIHR5cGVvZiBzcHJlYWRfcHJvcHMgPT09ICdvYmplY3QnICYmIHNwcmVhZF9wcm9wcyAhPT0gbnVsbCA/IHNwcmVhZF9wcm9wcyA6IHt9O1xufVxuIiwgImNvbnN0IF9ib29sZWFuX2F0dHJpYnV0ZXMgPSAvKiogQHR5cGUge2NvbnN0fSAqLyAoW1xuXHQnYWxsb3dmdWxsc2NyZWVuJyxcblx0J2FsbG93cGF5bWVudHJlcXVlc3QnLFxuXHQnYXN5bmMnLFxuXHQnYXV0b2ZvY3VzJyxcblx0J2F1dG9wbGF5Jyxcblx0J2NoZWNrZWQnLFxuXHQnY29udHJvbHMnLFxuXHQnZGVmYXVsdCcsXG5cdCdkZWZlcicsXG5cdCdkaXNhYmxlZCcsXG5cdCdmb3Jtbm92YWxpZGF0ZScsXG5cdCdoaWRkZW4nLFxuXHQnaW5lcnQnLFxuXHQnaXNtYXAnLFxuXHQnbG9vcCcsXG5cdCdtdWx0aXBsZScsXG5cdCdtdXRlZCcsXG5cdCdub21vZHVsZScsXG5cdCdub3ZhbGlkYXRlJyxcblx0J29wZW4nLFxuXHQncGxheXNpbmxpbmUnLFxuXHQncmVhZG9ubHknLFxuXHQncmVxdWlyZWQnLFxuXHQncmV2ZXJzZWQnLFxuXHQnc2VsZWN0ZWQnXG5dKTtcblxuLyoqXG4gKiBMaXN0IG9mIEhUTUwgYm9vbGVhbiBhdHRyaWJ1dGVzIChlLmcuIGA8aW5wdXQgZGlzYWJsZWQ+YCkuXG4gKiBTb3VyY2U6IGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2luZGljZXMuaHRtbFxuICpcbiAqIEB0eXBlIHtTZXQ8c3RyaW5nPn1cbiAqL1xuZXhwb3J0IGNvbnN0IGJvb2xlYW5fYXR0cmlidXRlcyA9IG5ldyBTZXQoWy4uLl9ib29sZWFuX2F0dHJpYnV0ZXNdKTtcblxuLyoqIEB0eXBlZGVmIHt0eXBlb2YgX2Jvb2xlYW5fYXR0cmlidXRlc1tudW1iZXJdfSBCb29sZWFuQXR0cmlidXRlcyAqL1xuIiwgImltcG9ydCB7XG5cdGFkZF9yZW5kZXJfY2FsbGJhY2ssXG5cdGZsdXNoLFxuXHRmbHVzaF9yZW5kZXJfY2FsbGJhY2tzLFxuXHRzY2hlZHVsZV91cGRhdGUsXG5cdGRpcnR5X2NvbXBvbmVudHNcbn0gZnJvbSAnLi9zY2hlZHVsZXIuanMnO1xuaW1wb3J0IHsgY3VycmVudF9jb21wb25lbnQsIHNldF9jdXJyZW50X2NvbXBvbmVudCB9IGZyb20gJy4vbGlmZWN5Y2xlLmpzJztcbmltcG9ydCB7IGJsYW5rX29iamVjdCwgaXNfZW1wdHksIGlzX2Z1bmN0aW9uLCBydW4sIHJ1bl9hbGwsIG5vb3AgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7XG5cdGNoaWxkcmVuLFxuXHRkZXRhY2gsXG5cdHN0YXJ0X2h5ZHJhdGluZyxcblx0ZW5kX2h5ZHJhdGluZyxcblx0Z2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyxcblx0aW5zZXJ0LFxuXHRlbGVtZW50LFxuXHRhdHRyXG59IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IHRyYW5zaXRpb25faW4gfSBmcm9tICcuL3RyYW5zaXRpb25zLmpzJztcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmQoY29tcG9uZW50LCBuYW1lLCBjYWxsYmFjaykge1xuXHRjb25zdCBpbmRleCA9IGNvbXBvbmVudC4kJC5wcm9wc1tuYW1lXTtcblx0aWYgKGluZGV4ICE9PSB1bmRlZmluZWQpIHtcblx0XHRjb21wb25lbnQuJCQuYm91bmRbaW5kZXhdID0gY2FsbGJhY2s7XG5cdFx0Y2FsbGJhY2soY29tcG9uZW50LiQkLmN0eFtpbmRleF0pO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfY29tcG9uZW50KGJsb2NrKSB7XG5cdGJsb2NrICYmIGJsb2NrLmMoKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2NvbXBvbmVudChibG9jaywgcGFyZW50X25vZGVzKSB7XG5cdGJsb2NrICYmIGJsb2NrLmwocGFyZW50X25vZGVzKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIHRhcmdldCwgYW5jaG9yKSB7XG5cdGNvbnN0IHsgZnJhZ21lbnQsIGFmdGVyX3VwZGF0ZSB9ID0gY29tcG9uZW50LiQkO1xuXHRmcmFnbWVudCAmJiBmcmFnbWVudC5tKHRhcmdldCwgYW5jaG9yKTtcblx0Ly8gb25Nb3VudCBoYXBwZW5zIGJlZm9yZSB0aGUgaW5pdGlhbCBhZnRlclVwZGF0ZVxuXHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IHtcblx0XHRjb25zdCBuZXdfb25fZGVzdHJveSA9IGNvbXBvbmVudC4kJC5vbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuXHRcdC8vIGlmIHRoZSBjb21wb25lbnQgd2FzIGRlc3Ryb3llZCBpbW1lZGlhdGVseVxuXHRcdC8vIGl0IHdpbGwgdXBkYXRlIHRoZSBgJCQub25fZGVzdHJveWAgcmVmZXJlbmNlIHRvIGBudWxsYC5cblx0XHQvLyB0aGUgZGVzdHJ1Y3R1cmVkIG9uX2Rlc3Ryb3kgbWF5IHN0aWxsIHJlZmVyZW5jZSB0byB0aGUgb2xkIGFycmF5XG5cdFx0aWYgKGNvbXBvbmVudC4kJC5vbl9kZXN0cm95KSB7XG5cdFx0XHRjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKC4uLm5ld19vbl9kZXN0cm95KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gRWRnZSBjYXNlIC0gY29tcG9uZW50IHdhcyBkZXN0cm95ZWQgaW1tZWRpYXRlbHksXG5cdFx0XHQvLyBtb3N0IGxpa2VseSBhcyBhIHJlc3VsdCBvZiBhIGJpbmRpbmcgaW5pdGlhbGlzaW5nXG5cdFx0XHRydW5fYWxsKG5ld19vbl9kZXN0cm95KTtcblx0XHR9XG5cdFx0Y29tcG9uZW50LiQkLm9uX21vdW50ID0gW107XG5cdH0pO1xuXHRhZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfY29tcG9uZW50KGNvbXBvbmVudCwgZGV0YWNoaW5nKSB7XG5cdGNvbnN0ICQkID0gY29tcG9uZW50LiQkO1xuXHRpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcblx0XHRmbHVzaF9yZW5kZXJfY2FsbGJhY2tzKCQkLmFmdGVyX3VwZGF0ZSk7XG5cdFx0cnVuX2FsbCgkJC5vbl9kZXN0cm95KTtcblx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5kKGRldGFjaGluZyk7XG5cdFx0Ly8gVE9ETyBudWxsIG91dCBvdGhlciByZWZzLCBpbmNsdWRpbmcgY29tcG9uZW50LiQkIChidXQgbmVlZCB0b1xuXHRcdC8vIHByZXNlcnZlIGZpbmFsIHN0YXRlPylcblx0XHQkJC5vbl9kZXN0cm95ID0gJCQuZnJhZ21lbnQgPSBudWxsO1xuXHRcdCQkLmN0eCA9IFtdO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmZ1bmN0aW9uIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKSB7XG5cdGlmIChjb21wb25lbnQuJCQuZGlydHlbMF0gPT09IC0xKSB7XG5cdFx0ZGlydHlfY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG5cdFx0c2NoZWR1bGVfdXBkYXRlKCk7XG5cdFx0Y29tcG9uZW50LiQkLmRpcnR5LmZpbGwoMCk7XG5cdH1cblx0Y29tcG9uZW50LiQkLmRpcnR5WyhpIC8gMzEpIHwgMF0gfD0gMSA8PCBpICUgMzE7XG59XG5cbi8vIFRPRE86IERvY3VtZW50IHRoZSBvdGhlciBwYXJhbXNcbi8qKlxuICogQHBhcmFtIHtTdmVsdGVDb21wb25lbnR9IGNvbXBvbmVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuQ29tcG9uZW50Q29uc3RydWN0b3JPcHRpb25zfSBvcHRpb25zXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vdXRpbHMuanMnKVsnbm90X2VxdWFsJ119IG5vdF9lcXVhbCBVc2VkIHRvIGNvbXBhcmUgcHJvcHMgYW5kIHN0YXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7KHRhcmdldDogRWxlbWVudCB8IFNoYWRvd1Jvb3QpID0+IHZvaWR9IFthcHBlbmRfc3R5bGVzXSBGdW5jdGlvbiB0aGF0IGFwcGVuZHMgc3R5bGVzIHRvIHRoZSBET00gd2hlbiB0aGUgY29tcG9uZW50IGlzIGZpcnN0IGluaXRpYWxpc2VkLlxuICogVGhpcyB3aWxsIGJlIHRoZSBgYWRkX2Nzc2AgZnVuY3Rpb24gZnJvbSB0aGUgY29tcGlsZWQgY29tcG9uZW50LlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdChcblx0Y29tcG9uZW50LFxuXHRvcHRpb25zLFxuXHRpbnN0YW5jZSxcblx0Y3JlYXRlX2ZyYWdtZW50LFxuXHRub3RfZXF1YWwsXG5cdHByb3BzLFxuXHRhcHBlbmRfc3R5bGVzID0gbnVsbCxcblx0ZGlydHkgPSBbLTFdXG4pIHtcblx0Y29uc3QgcGFyZW50X2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuXHRzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlQkJH0gKi9cblx0Y29uc3QgJCQgPSAoY29tcG9uZW50LiQkID0ge1xuXHRcdGZyYWdtZW50OiBudWxsLFxuXHRcdGN0eDogW10sXG5cdFx0Ly8gc3RhdGVcblx0XHRwcm9wcyxcblx0XHR1cGRhdGU6IG5vb3AsXG5cdFx0bm90X2VxdWFsLFxuXHRcdGJvdW5kOiBibGFua19vYmplY3QoKSxcblx0XHQvLyBsaWZlY3ljbGVcblx0XHRvbl9tb3VudDogW10sXG5cdFx0b25fZGVzdHJveTogW10sXG5cdFx0b25fZGlzY29ubmVjdDogW10sXG5cdFx0YmVmb3JlX3VwZGF0ZTogW10sXG5cdFx0YWZ0ZXJfdXBkYXRlOiBbXSxcblx0XHRjb250ZXh0OiBuZXcgTWFwKG9wdGlvbnMuY29udGV4dCB8fCAocGFyZW50X2NvbXBvbmVudCA/IHBhcmVudF9jb21wb25lbnQuJCQuY29udGV4dCA6IFtdKSksXG5cdFx0Ly8gZXZlcnl0aGluZyBlbHNlXG5cdFx0Y2FsbGJhY2tzOiBibGFua19vYmplY3QoKSxcblx0XHRkaXJ0eSxcblx0XHRza2lwX2JvdW5kOiBmYWxzZSxcblx0XHRyb290OiBvcHRpb25zLnRhcmdldCB8fCBwYXJlbnRfY29tcG9uZW50LiQkLnJvb3Rcblx0fSk7XG5cdGFwcGVuZF9zdHlsZXMgJiYgYXBwZW5kX3N0eWxlcygkJC5yb290KTtcblx0bGV0IHJlYWR5ID0gZmFsc2U7XG5cdCQkLmN0eCA9IGluc3RhbmNlXG5cdFx0PyBpbnN0YW5jZShjb21wb25lbnQsIG9wdGlvbnMucHJvcHMgfHwge30sIChpLCByZXQsIC4uLnJlc3QpID0+IHtcblx0XHRcdFx0Y29uc3QgdmFsdWUgPSByZXN0Lmxlbmd0aCA/IHJlc3RbMF0gOiByZXQ7XG5cdFx0XHRcdGlmICgkJC5jdHggJiYgbm90X2VxdWFsKCQkLmN0eFtpXSwgKCQkLmN0eFtpXSA9IHZhbHVlKSkpIHtcblx0XHRcdFx0XHRpZiAoISQkLnNraXBfYm91bmQgJiYgJCQuYm91bmRbaV0pICQkLmJvdW5kW2ldKHZhbHVlKTtcblx0XHRcdFx0XHRpZiAocmVhZHkpIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdCAgfSlcblx0XHQ6IFtdO1xuXHQkJC51cGRhdGUoKTtcblx0cmVhZHkgPSB0cnVlO1xuXHRydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuXHQvLyBgZmFsc2VgIGFzIGEgc3BlY2lhbCBjYXNlIG9mIG5vIERPTSBjb21wb25lbnRcblx0JCQuZnJhZ21lbnQgPSBjcmVhdGVfZnJhZ21lbnQgPyBjcmVhdGVfZnJhZ21lbnQoJCQuY3R4KSA6IGZhbHNlO1xuXHRpZiAob3B0aW9ucy50YXJnZXQpIHtcblx0XHRpZiAob3B0aW9ucy5oeWRyYXRlKSB7XG5cdFx0XHRzdGFydF9oeWRyYXRpbmcoKTtcblx0XHRcdC8vIFRPRE86IHdoYXQgaXMgdGhlIGNvcnJlY3QgdHlwZSBoZXJlP1xuXHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0Y29uc3Qgbm9kZXMgPSBjaGlsZHJlbihvcHRpb25zLnRhcmdldCk7XG5cdFx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5sKG5vZGVzKTtcblx0XHRcdG5vZGVzLmZvckVhY2goZGV0YWNoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cblx0XHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmMoKTtcblx0XHR9XG5cdFx0aWYgKG9wdGlvbnMuaW50cm8pIHRyYW5zaXRpb25faW4oY29tcG9uZW50LiQkLmZyYWdtZW50KTtcblx0XHRtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCBvcHRpb25zLnRhcmdldCwgb3B0aW9ucy5hbmNob3IpO1xuXHRcdGVuZF9oeWRyYXRpbmcoKTtcblx0XHRmbHVzaCgpO1xuXHR9XG5cdHNldF9jdXJyZW50X2NvbXBvbmVudChwYXJlbnRfY29tcG9uZW50KTtcbn1cblxuZXhwb3J0IGxldCBTdmVsdGVFbGVtZW50O1xuXG5pZiAodHlwZW9mIEhUTUxFbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XG5cdFN2ZWx0ZUVsZW1lbnQgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcblx0XHQvKiogVGhlIFN2ZWx0ZSBjb21wb25lbnQgY29uc3RydWN0b3IgKi9cblx0XHQkJGN0b3I7XG5cdFx0LyoqIFNsb3RzICovXG5cdFx0JCRzO1xuXHRcdC8qKiBUaGUgU3ZlbHRlIGNvbXBvbmVudCBpbnN0YW5jZSAqL1xuXHRcdCQkYztcblx0XHQvKiogV2hldGhlciBvciBub3QgdGhlIGN1c3RvbSBlbGVtZW50IGlzIGNvbm5lY3RlZCAqL1xuXHRcdCQkY24gPSBmYWxzZTtcblx0XHQvKiogQ29tcG9uZW50IHByb3BzIGRhdGEgKi9cblx0XHQkJGQgPSB7fTtcblx0XHQvKiogYHRydWVgIGlmIGN1cnJlbnRseSBpbiB0aGUgcHJvY2VzcyBvZiByZWZsZWN0aW5nIGNvbXBvbmVudCBwcm9wcyBiYWNrIHRvIGF0dHJpYnV0ZXMgKi9cblx0XHQkJHIgPSBmYWxzZTtcblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvbj59IFByb3BzIGRlZmluaXRpb24gKG5hbWUsIHJlZmxlY3RlZCwgdHlwZSBldGMpICovXG5cdFx0JCRwX2QgPSB7fTtcblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEZ1bmN0aW9uW10+fSBFdmVudCBsaXN0ZW5lcnMgKi9cblx0XHQkJGwgPSB7fTtcblx0XHQvKiogQHR5cGUge01hcDxGdW5jdGlvbiwgRnVuY3Rpb24+fSBFdmVudCBsaXN0ZW5lciB1bnN1YnNjcmliZSBmdW5jdGlvbnMgKi9cblx0XHQkJGxfdSA9IG5ldyBNYXAoKTtcblxuXHRcdGNvbnN0cnVjdG9yKCQkY29tcG9uZW50Q3RvciwgJCRzbG90cywgdXNlX3NoYWRvd19kb20pIHtcblx0XHRcdHN1cGVyKCk7XG5cdFx0XHR0aGlzLiQkY3RvciA9ICQkY29tcG9uZW50Q3Rvcjtcblx0XHRcdHRoaXMuJCRzID0gJCRzbG90cztcblx0XHRcdGlmICh1c2Vfc2hhZG93X2RvbSkge1xuXHRcdFx0XHR0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG5cdFx0XHQvLyBXZSBjYW4ndCBkZXRlcm1pbmUgdXBmcm9udCBpZiB0aGUgZXZlbnQgaXMgYSBjdXN0b20gZXZlbnQgb3Igbm90LCBzbyB3ZSBoYXZlIHRvXG5cdFx0XHQvLyBsaXN0ZW4gdG8gYm90aC4gSWYgc29tZW9uZSB1c2VzIGEgY3VzdG9tIGV2ZW50IHdpdGggdGhlIHNhbWUgbmFtZSBhcyBhIHJlZ3VsYXJcblx0XHRcdC8vIGJyb3dzZXIgZXZlbnQsIHRoaXMgZmlyZXMgdHdpY2UgLSB3ZSBjYW4ndCBhdm9pZCB0aGF0LlxuXHRcdFx0dGhpcy4kJGxbdHlwZV0gPSB0aGlzLiQkbFt0eXBlXSB8fCBbXTtcblx0XHRcdHRoaXMuJCRsW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuXHRcdFx0aWYgKHRoaXMuJCRjKSB7XG5cdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGMuJG9uKHR5cGUsIGxpc3RlbmVyKTtcblx0XHRcdFx0dGhpcy4kJGxfdS5zZXQobGlzdGVuZXIsIHVuc3ViKTtcblx0XHRcdH1cblx0XHRcdHN1cGVyLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcblx0XHRcdHN1cGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuXHRcdFx0aWYgKHRoaXMuJCRjKSB7XG5cdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGxfdS5nZXQobGlzdGVuZXIpO1xuXHRcdFx0XHRpZiAodW5zdWIpIHtcblx0XHRcdFx0XHR1bnN1YigpO1xuXHRcdFx0XHRcdHRoaXMuJCRsX3UuZGVsZXRlKGxpc3RlbmVyKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuXHRcdFx0dGhpcy4kJGNuID0gdHJ1ZTtcblx0XHRcdGlmICghdGhpcy4kJGMpIHtcblx0XHRcdFx0Ly8gV2Ugd2FpdCBvbmUgdGljayB0byBsZXQgcG9zc2libGUgY2hpbGQgc2xvdCBlbGVtZW50cyBiZSBjcmVhdGVkL21vdW50ZWRcblx0XHRcdFx0YXdhaXQgUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0XHRcdGlmICghdGhpcy4kJGNuKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZ1bmN0aW9uIGNyZWF0ZV9zbG90KG5hbWUpIHtcblx0XHRcdFx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0XHRcdFx0bGV0IG5vZGU7XG5cdFx0XHRcdFx0XHRjb25zdCBvYmogPSB7XG5cdFx0XHRcdFx0XHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbWVudCgnc2xvdCcpO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChuYW1lICE9PSAnZGVmYXVsdCcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGF0dHIobm9kZSwgJ25hbWUnLCBuYW1lKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdFx0XHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXRcblx0XHRcdFx0XHRcdFx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW2FuY2hvcl1cblx0XHRcdFx0XHRcdFx0ICovXG5cdFx0XHRcdFx0XHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0aW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKTtcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRkZXRhY2gobm9kZSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0cmV0dXJuIG9iajtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0ICQkc2xvdHMgPSB7fTtcblx0XHRcdFx0Y29uc3QgZXhpc3Rpbmdfc2xvdHMgPSBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKHRoaXMpO1xuXHRcdFx0XHRmb3IgKGNvbnN0IG5hbWUgb2YgdGhpcy4kJHMpIHtcblx0XHRcdFx0XHRpZiAobmFtZSBpbiBleGlzdGluZ19zbG90cykge1xuXHRcdFx0XHRcdFx0JCRzbG90c1tuYW1lXSA9IFtjcmVhdGVfc2xvdChuYW1lKV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMuYXR0cmlidXRlcykge1xuXHRcdFx0XHRcdC8vIHRoaXMuJCRkYXRhIHRha2VzIHByZWNlZGVuY2Ugb3ZlciB0aGlzLmF0dHJpYnV0ZXNcblx0XHRcdFx0XHRjb25zdCBuYW1lID0gdGhpcy4kJGdfcChhdHRyaWJ1dGUubmFtZSk7XG5cdFx0XHRcdFx0aWYgKCEobmFtZSBpbiB0aGlzLiQkZCkpIHtcblx0XHRcdFx0XHRcdHRoaXMuJCRkW25hbWVdID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKG5hbWUsIGF0dHJpYnV0ZS52YWx1ZSwgdGhpcy4kJHBfZCwgJ3RvUHJvcCcpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBQb3J0IG92ZXIgcHJvcHMgdGhhdCB3ZXJlIHNldCBwcm9ncmFtbWF0aWNhbGx5IGJlZm9yZSBjZSB3YXMgaW5pdGlhbGl6ZWRcblx0XHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy4kJHBfZCkge1xuXHRcdFx0XHRcdGlmICghKGtleSBpbiB0aGlzLiQkZCkgJiYgdGhpc1trZXldICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdHRoaXMuJCRkW2tleV0gPSB0aGlzW2tleV07IC8vIGRvbid0IHRyYW5zZm9ybSwgdGhlc2Ugd2VyZSBzZXQgdGhyb3VnaCBKYXZhU2NyaXB0XG5cdFx0XHRcdFx0XHRkZWxldGUgdGhpc1trZXldOyAvLyByZW1vdmUgdGhlIHByb3BlcnR5IHRoYXQgc2hhZG93cyB0aGUgZ2V0dGVyL3NldHRlclxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLiQkYyA9IG5ldyB0aGlzLiQkY3Rvcih7XG5cdFx0XHRcdFx0dGFyZ2V0OiB0aGlzLnNoYWRvd1Jvb3QgfHwgdGhpcyxcblx0XHRcdFx0XHRwcm9wczoge1xuXHRcdFx0XHRcdFx0Li4udGhpcy4kJGQsXG5cdFx0XHRcdFx0XHQkJHNsb3RzLFxuXHRcdFx0XHRcdFx0JCRzY29wZToge1xuXHRcdFx0XHRcdFx0XHRjdHg6IFtdXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBSZWZsZWN0IGNvbXBvbmVudCBwcm9wcyBhcyBhdHRyaWJ1dGVzXG5cdFx0XHRcdGNvbnN0IHJlZmxlY3RfYXR0cmlidXRlcyA9ICgpID0+IHtcblx0XHRcdFx0XHR0aGlzLiQkciA9IHRydWU7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy4kJHBfZCkge1xuXHRcdFx0XHRcdFx0dGhpcy4kJGRba2V5XSA9IHRoaXMuJCRjLiQkLmN0eFt0aGlzLiQkYy4kJC5wcm9wc1trZXldXTtcblx0XHRcdFx0XHRcdGlmICh0aGlzLiQkcF9kW2tleV0ucmVmbGVjdCkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBhdHRyaWJ1dGVfdmFsdWUgPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUoXG5cdFx0XHRcdFx0XHRcdFx0a2V5LFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuJCRkW2tleV0sXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy4kJHBfZCxcblx0XHRcdFx0XHRcdFx0XHQndG9BdHRyaWJ1dGUnXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdGlmIChhdHRyaWJ1dGVfdmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlQXR0cmlidXRlKHRoaXMuJCRwX2Rba2V5XS5hdHRyaWJ1dGUgfHwga2V5KTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSh0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlIHx8IGtleSwgYXR0cmlidXRlX3ZhbHVlKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLiQkciA9IGZhbHNlO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHR0aGlzLiQkYy4kJC5hZnRlcl91cGRhdGUucHVzaChyZWZsZWN0X2F0dHJpYnV0ZXMpO1xuXHRcdFx0XHRyZWZsZWN0X2F0dHJpYnV0ZXMoKTsgLy8gb25jZSBpbml0aWFsbHkgYmVjYXVzZSBhZnRlcl91cGRhdGUgaXMgYWRkZWQgdG9vIGxhdGUgZm9yIGZpcnN0IHJlbmRlclxuXG5cdFx0XHRcdGZvciAoY29uc3QgdHlwZSBpbiB0aGlzLiQkbCkge1xuXHRcdFx0XHRcdGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy4kJGxbdHlwZV0pIHtcblx0XHRcdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGMuJG9uKHR5cGUsIGxpc3RlbmVyKTtcblx0XHRcdFx0XHRcdHRoaXMuJCRsX3Uuc2V0KGxpc3RlbmVyLCB1bnN1Yik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuJCRsID0ge307XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gV2UgZG9uJ3QgbmVlZCB0aGlzIHdoZW4gd29ya2luZyB3aXRoaW4gU3ZlbHRlIGNvZGUsIGJ1dCBmb3IgY29tcGF0aWJpbGl0eSBvZiBwZW9wbGUgdXNpbmcgdGhpcyBvdXRzaWRlIG9mIFN2ZWx0ZVxuXHRcdC8vIGFuZCBzZXR0aW5nIGF0dHJpYnV0ZXMgdGhyb3VnaCBzZXRBdHRyaWJ1dGUgZXRjLCB0aGlzIGlzIGhlbHBmdWxcblx0XHRhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYXR0ciwgX29sZFZhbHVlLCBuZXdWYWx1ZSkge1xuXHRcdFx0aWYgKHRoaXMuJCRyKSByZXR1cm47XG5cdFx0XHRhdHRyID0gdGhpcy4kJGdfcChhdHRyKTtcblx0XHRcdHRoaXMuJCRkW2F0dHJdID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKGF0dHIsIG5ld1ZhbHVlLCB0aGlzLiQkcF9kLCAndG9Qcm9wJyk7XG5cdFx0XHR0aGlzLiQkYz8uJHNldCh7IFthdHRyXTogdGhpcy4kJGRbYXR0cl0gfSk7XG5cdFx0fVxuXG5cdFx0ZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG5cdFx0XHR0aGlzLiQkY24gPSBmYWxzZTtcblx0XHRcdC8vIEluIGEgbWljcm90YXNrLCBiZWNhdXNlIHRoaXMgY291bGQgYmUgYSBtb3ZlIHdpdGhpbiB0aGUgRE9NXG5cdFx0XHRQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcblx0XHRcdFx0aWYgKCF0aGlzLiQkY24pIHtcblx0XHRcdFx0XHR0aGlzLiQkYy4kZGVzdHJveSgpO1xuXHRcdFx0XHRcdHRoaXMuJCRjID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQkJGdfcChhdHRyaWJ1dGVfbmFtZSkge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0T2JqZWN0LmtleXModGhpcy4kJHBfZCkuZmluZChcblx0XHRcdFx0XHQoa2V5KSA9PlxuXHRcdFx0XHRcdFx0dGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSA9PT0gYXR0cmlidXRlX25hbWUgfHxcblx0XHRcdFx0XHRcdCghdGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gYXR0cmlidXRlX25hbWUpXG5cdFx0XHRcdCkgfHwgYXR0cmlidXRlX25hbWVcblx0XHRcdCk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gcHJvcHNfZGVmaW5pdGlvblxuICogQHBhcmFtIHsndG9BdHRyaWJ1dGUnIHwgJ3RvUHJvcCd9IFt0cmFuc2Zvcm1dXG4gKi9cbmZ1bmN0aW9uIGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShwcm9wLCB2YWx1ZSwgcHJvcHNfZGVmaW5pdGlvbiwgdHJhbnNmb3JtKSB7XG5cdGNvbnN0IHR5cGUgPSBwcm9wc19kZWZpbml0aW9uW3Byb3BdPy50eXBlO1xuXHR2YWx1ZSA9IHR5cGUgPT09ICdCb29sZWFuJyAmJiB0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJyA/IHZhbHVlICE9IG51bGwgOiB2YWx1ZTtcblx0aWYgKCF0cmFuc2Zvcm0gfHwgIXByb3BzX2RlZmluaXRpb25bcHJvcF0pIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0gZWxzZSBpZiAodHJhbnNmb3JtID09PSAndG9BdHRyaWJ1dGUnKSB7XG5cdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRjYXNlICdPYmplY3QnOlxuXHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IG51bGwgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cdFx0XHRjYXNlICdCb29sZWFuJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlID8gJycgOiBudWxsO1xuXHRcdFx0Y2FzZSAnTnVtYmVyJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09IG51bGwgPyBudWxsIDogdmFsdWU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0Y2FzZSAnT2JqZWN0Jzpcblx0XHRcdGNhc2UgJ0FycmF5Jzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlICYmIEpTT04ucGFyc2UodmFsdWUpO1xuXHRcdFx0Y2FzZSAnQm9vbGVhbic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTsgLy8gY29udmVyc2lvbiBhbHJlYWR5IGhhbmRsZWQgYWJvdmVcblx0XHRcdGNhc2UgJ051bWJlcic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSAhPSBudWxsID8gK3ZhbHVlIDogdmFsdWU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKlxuICogVHVybiBhIFN2ZWx0ZSBjb21wb25lbnQgaW50byBhIGN1c3RvbSBlbGVtZW50LlxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuQ29tcG9uZW50VHlwZX0gQ29tcG9uZW50ICBBIFN2ZWx0ZSBjb21wb25lbnQgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gcHJvcHNfZGVmaW5pdGlvbiAgVGhlIHByb3BzIHRvIG9ic2VydmVcbiAqIEBwYXJhbSB7c3RyaW5nW119IHNsb3RzICBUaGUgc2xvdHMgdG8gY3JlYXRlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhY2Nlc3NvcnMgIE90aGVyIGFjY2Vzc29ycyBiZXNpZGVzIHRoZSBvbmVzIGZvciBwcm9wcyB0aGUgY29tcG9uZW50IGhhc1xuICogQHBhcmFtIHtib29sZWFufSB1c2Vfc2hhZG93X2RvbSAgV2hldGhlciB0byB1c2Ugc2hhZG93IERPTVxuICogQHBhcmFtIHsoY2U6IG5ldyAoKSA9PiBIVE1MRWxlbWVudCkgPT4gbmV3ICgpID0+IEhUTUxFbGVtZW50fSBbZXh0ZW5kXVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2N1c3RvbV9lbGVtZW50KFxuXHRDb21wb25lbnQsXG5cdHByb3BzX2RlZmluaXRpb24sXG5cdHNsb3RzLFxuXHRhY2Nlc3NvcnMsXG5cdHVzZV9zaGFkb3dfZG9tLFxuXHRleHRlbmRcbikge1xuXHRsZXQgQ2xhc3MgPSBjbGFzcyBleHRlbmRzIFN2ZWx0ZUVsZW1lbnQge1xuXHRcdGNvbnN0cnVjdG9yKCkge1xuXHRcdFx0c3VwZXIoQ29tcG9uZW50LCBzbG90cywgdXNlX3NoYWRvd19kb20pO1xuXHRcdFx0dGhpcy4kJHBfZCA9IHByb3BzX2RlZmluaXRpb247XG5cdFx0fVxuXHRcdHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuXHRcdFx0cmV0dXJuIE9iamVjdC5rZXlzKHByb3BzX2RlZmluaXRpb24pLm1hcCgoa2V5KSA9PlxuXHRcdFx0XHQocHJvcHNfZGVmaW5pdGlvbltrZXldLmF0dHJpYnV0ZSB8fCBrZXkpLnRvTG93ZXJDYXNlKClcblx0XHRcdCk7XG5cdFx0fVxuXHR9O1xuXHRPYmplY3Qua2V5cyhwcm9wc19kZWZpbml0aW9uKS5mb3JFYWNoKChwcm9wKSA9PiB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KENsYXNzLnByb3RvdHlwZSwgcHJvcCwge1xuXHRcdFx0Z2V0KCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy4kJGMgJiYgcHJvcCBpbiB0aGlzLiQkYyA/IHRoaXMuJCRjW3Byb3BdIDogdGhpcy4kJGRbcHJvcF07XG5cdFx0XHR9LFxuXHRcdFx0c2V0KHZhbHVlKSB7XG5cdFx0XHRcdHZhbHVlID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKHByb3AsIHZhbHVlLCBwcm9wc19kZWZpbml0aW9uKTtcblx0XHRcdFx0dGhpcy4kJGRbcHJvcF0gPSB2YWx1ZTtcblx0XHRcdFx0dGhpcy4kJGM/LiRzZXQoeyBbcHJvcF06IHZhbHVlIH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblx0YWNjZXNzb3JzLmZvckVhY2goKGFjY2Vzc29yKSA9PiB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KENsYXNzLnByb3RvdHlwZSwgYWNjZXNzb3IsIHtcblx0XHRcdGdldCgpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuJCRjPy5bYWNjZXNzb3JdO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblx0aWYgKGV4dGVuZCkge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgLSBhc3NpZ25pbmcgaGVyZSBpcyBmaW5lXG5cdFx0Q2xhc3MgPSBleHRlbmQoQ2xhc3MpO1xuXHR9XG5cdENvbXBvbmVudC5lbGVtZW50ID0gLyoqIEB0eXBlIHthbnl9ICovIChDbGFzcyk7XG5cdHJldHVybiBDbGFzcztcbn1cblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBTdmVsdGUgY29tcG9uZW50cy4gVXNlZCB3aGVuIGRldj1mYWxzZS5cbiAqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtQcm9wcz1hbnldXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtFdmVudHM9YW55XVxuICovXG5leHBvcnQgY2xhc3MgU3ZlbHRlQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqICMjIyBQUklWQVRFIEFQSVxuXHQgKlxuXHQgKiBEbyBub3QgdXNlLCBtYXkgY2hhbmdlIGF0IGFueSB0aW1lXG5cdCAqXG5cdCAqIEB0eXBlIHthbnl9XG5cdCAqL1xuXHQkJCA9IHVuZGVmaW5lZDtcblx0LyoqXG5cdCAqICMjIyBQUklWQVRFIEFQSVxuXHQgKlxuXHQgKiBEbyBub3QgdXNlLCBtYXkgY2hhbmdlIGF0IGFueSB0aW1lXG5cdCAqXG5cdCAqIEB0eXBlIHthbnl9XG5cdCAqL1xuXHQkJHNldCA9IHVuZGVmaW5lZDtcblxuXHQvKiogQHJldHVybnMge3ZvaWR9ICovXG5cdCRkZXN0cm95KCkge1xuXHRcdGRlc3Ryb3lfY29tcG9uZW50KHRoaXMsIDEpO1xuXHRcdHRoaXMuJGRlc3Ryb3kgPSBub29wO1xuXHR9XG5cblx0LyoqXG5cdCAqIEB0ZW1wbGF0ZSB7RXh0cmFjdDxrZXlvZiBFdmVudHMsIHN0cmluZz59IEtcblx0ICogQHBhcmFtIHtLfSB0eXBlXG5cdCAqIEBwYXJhbSB7KChlOiBFdmVudHNbS10pID0+IHZvaWQpIHwgbnVsbCB8IHVuZGVmaW5lZH0gY2FsbGJhY2tcblx0ICogQHJldHVybnMgeygpID0+IHZvaWR9XG5cdCAqL1xuXHQkb24odHlwZSwgY2FsbGJhY2spIHtcblx0XHRpZiAoIWlzX2Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuXHRcdFx0cmV0dXJuIG5vb3A7XG5cdFx0fVxuXHRcdGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKTtcblx0XHRjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuXHRcdFx0aWYgKGluZGV4ICE9PSAtMSkgY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1BhcnRpYWw8UHJvcHM+fSBwcm9wc1xuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdCRzZXQocHJvcHMpIHtcblx0XHRpZiAodGhpcy4kJHNldCAmJiAhaXNfZW1wdHkocHJvcHMpKSB7XG5cdFx0XHR0aGlzLiQkLnNraXBfYm91bmQgPSB0cnVlO1xuXHRcdFx0dGhpcy4kJHNldChwcm9wcyk7XG5cdFx0XHR0aGlzLiQkLnNraXBfYm91bmQgPSBmYWxzZTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYXR0cmlidXRlXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbcmVmbGVjdF1cbiAqIEBwcm9wZXJ0eSB7J1N0cmluZyd8J0Jvb2xlYW4nfCdOdW1iZXInfCdBcnJheSd8J09iamVjdCd9IFt0eXBlXVxuICovXG4iLCAiLy8gZ2VuZXJhdGVkIGR1cmluZyByZWxlYXNlLCBkbyBub3QgbW9kaWZ5XG5cbi8qKlxuICogVGhlIGN1cnJlbnQgdmVyc2lvbiwgYXMgc2V0IGluIHBhY2thZ2UuanNvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtY29tcGlsZXIjc3ZlbHRlLXZlcnNpb25cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gJzQuMi44JztcbmV4cG9ydCBjb25zdCBQVUJMSUNfVkVSU0lPTiA9ICc0JztcbiIsICJpbXBvcnQgeyBQVUJMSUNfVkVSU0lPTiB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC92ZXJzaW9uLmpzJztcblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKVxuXHQvLyBAdHMtaWdub3JlXG5cdCh3aW5kb3cuX19zdmVsdGUgfHwgKHdpbmRvdy5fX3N2ZWx0ZSA9IHsgdjogbmV3IFNldCgpIH0pKS52LmFkZChQVUJMSUNfVkVSU0lPTik7XG4iLCAiaW1wb3J0IHR5cGUgeyBBdHRycyB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmNvbnN0IGRlZmF1bHRBdHRyaWJ1dGVzOiBBdHRycyA9IHtcbiAgeG1sbnM6ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsXG4gIHdpZHRoOiAyNCxcbiAgaGVpZ2h0OiAyNCxcbiAgdmlld0JveDogJzAgMCAyNCAyNCcsXG4gIGZpbGw6ICdub25lJyxcbiAgc3Ryb2tlOiAnY3VycmVudENvbG9yJyxcbiAgJ3N0cm9rZS13aWR0aCc6IDIsXG4gICdzdHJva2UtbGluZWNhcCc6ICdyb3VuZCcsXG4gICdzdHJva2UtbGluZWpvaW4nOiAncm91bmQnLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZGVmYXVsdEF0dHJpYnV0ZXM7XG4iLCAiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgaW1wb3J0IGRlZmF1bHRBdHRyaWJ1dGVzIGZyb20gJy4vZGVmYXVsdEF0dHJpYnV0ZXMnXG4gIGltcG9ydCB0eXBlIHsgSWNvbk5vZGUgfSBmcm9tICcuL3R5cGVzJztcblxuICBleHBvcnQgbGV0IG5hbWU6IHN0cmluZ1xuICBleHBvcnQgbGV0IGNvbG9yID0gJ2N1cnJlbnRDb2xvcidcbiAgZXhwb3J0IGxldCBzaXplOiBudW1iZXIgfCBzdHJpbmcgPSAyNFxuICBleHBvcnQgbGV0IHN0cm9rZVdpZHRoOiBudW1iZXIgfCBzdHJpbmcgPSAyXG4gIGV4cG9ydCBsZXQgYWJzb2x1dGVTdHJva2VXaWR0aDogYm9vbGVhbiA9IGZhbHNlXG4gIGV4cG9ydCBsZXQgaWNvbk5vZGU6IEljb25Ob2RlXG48L3NjcmlwdD5cblxuPHN2Z1xuICB7Li4uZGVmYXVsdEF0dHJpYnV0ZXN9XG4gIHsuLi4kJHJlc3RQcm9wc31cbiAgd2lkdGg9e3NpemV9XG4gIGhlaWdodD17c2l6ZX1cbiAgc3Ryb2tlPXtjb2xvcn1cbiAgc3Ryb2tlLXdpZHRoPXtcbiAgICBhYnNvbHV0ZVN0cm9rZVdpZHRoXG4gICAgICA/IE51bWJlcihzdHJva2VXaWR0aCkgKiAyNCAvIE51bWJlcihzaXplKVxuICAgICAgOiBzdHJva2VXaWR0aFxuICB9XG4gIGNsYXNzPXtgbHVjaWRlLWljb24gbHVjaWRlIGx1Y2lkZS0ke25hbWV9ICR7JCRwcm9wcy5jbGFzcyA/PyAnJ31gfVxuPlxuICB7I2VhY2ggaWNvbk5vZGUgYXMgW3RhZywgYXR0cnNdfVxuICAgIDxzdmVsdGU6ZWxlbWVudCB0aGlzPXt0YWd9IHsuLi5hdHRyc30vPlxuICB7L2VhY2h9XG4gIDxzbG90IC8+XG48L3N2Zz5cbiIsICI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuaW1wb3J0IEljb24gZnJvbSAnLi4vSWNvbi5zdmVsdGUnO1xuaW1wb3J0IHR5cGUgeyBJY29uTm9kZSB9IGZyb20gJy4uL3R5cGVzJztcblxuY29uc3QgaWNvbk5vZGU6IEljb25Ob2RlID0gW1tcInBhdGhcIix7XCJkXCI6XCJtNyAyMS00LjMtNC4zYy0xLTEtMS0yLjUgMC0zLjRsOS42LTkuNmMxLTEgMi41LTEgMy40IDBsNS42IDUuNmMxIDEgMSAyLjUgMCAzLjRMMTMgMjFcIn1dLFtcInBhdGhcIix7XCJkXCI6XCJNMjIgMjFIN1wifV0sW1wicGF0aFwiLHtcImRcIjpcIm01IDExIDkgOVwifV1dO1xuPC9zY3JpcHQ+XG5cbjxJY29uIG5hbWU9XCJlcmFzZXJcIiB7Li4uJCRwcm9wc30gaWNvbk5vZGU9e2ljb25Ob2RlfT5cbiAgPHNsb3QvPlxuPC9JY29uPlxuIiwgIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5pbXBvcnQgSWNvbiBmcm9tICcuLi9JY29uLnN2ZWx0ZSc7XG5pbXBvcnQgdHlwZSB7IEljb25Ob2RlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5jb25zdCBpY29uTm9kZTogSWNvbk5vZGUgPSBbW1wicGF0aFwiLHtcImRcIjpcIk0xNC41IDJINmEyIDIgMCAwIDAtMiAydjE2YTIgMiAwIDAgMCAyIDJoMTJhMiAyIDAgMCAwIDItMlY3LjVMMTQuNSAyelwifV0sW1wicG9seWxpbmVcIix7XCJwb2ludHNcIjpcIjE0IDIgMTQgOCAyMCA4XCJ9XV07XG48L3NjcmlwdD5cblxuPEljb24gbmFtZT1cImZpbGVcIiB7Li4uJCRwcm9wc30gaWNvbk5vZGU9e2ljb25Ob2RlfT5cbiAgPHNsb3QvPlxuPC9JY29uPlxuIiwgIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5pbXBvcnQgSWNvbiBmcm9tICcuLi9JY29uLnN2ZWx0ZSc7XG5pbXBvcnQgdHlwZSB7IEljb25Ob2RlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5jb25zdCBpY29uTm9kZTogSWNvbk5vZGUgPSBbW1wicGF0aFwiLHtcImRcIjpcIk0xMiAzdjEyXCJ9XSxbXCJwYXRoXCIse1wiZFwiOlwibTggMTEgNCA0IDQtNFwifV0sW1wicGF0aFwiLHtcImRcIjpcIk04IDVINGEyIDIgMCAwIDAtMiAydjEwYTIgMiAwIDAgMCAyIDJoMTZhMiAyIDAgMCAwIDItMlY3YTIgMiAwIDAgMC0yLTJoLTRcIn1dXTtcbjwvc2NyaXB0PlxuXG48SWNvbiBuYW1lPVwiaW1wb3J0XCIgey4uLiQkcHJvcHN9IGljb25Ob2RlPXtpY29uTm9kZX0+XG4gIDxzbG90Lz5cbjwvSWNvbj5cbiIsICI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuaW1wb3J0IEljb24gZnJvbSAnLi4vSWNvbi5zdmVsdGUnO1xuaW1wb3J0IHR5cGUgeyBJY29uTm9kZSB9IGZyb20gJy4uL3R5cGVzJztcblxuY29uc3QgaWNvbk5vZGU6IEljb25Ob2RlID0gW1tcInBvbHlsaW5lXCIse1wicG9pbnRzXCI6XCI4IDE4IDEyIDIyIDE2IDE4XCJ9XSxbXCJwb2x5bGluZVwiLHtcInBvaW50c1wiOlwiOCA2IDEyIDIgMTYgNlwifV0sW1wibGluZVwiLHtcIngxXCI6XCIxMlwiLFwieDJcIjpcIjEyXCIsXCJ5MVwiOlwiMlwiLFwieTJcIjpcIjIyXCJ9XV07XG48L3NjcmlwdD5cblxuPEljb24gbmFtZT1cIm1vdmUtdmVydGljYWxcIiB7Li4uJCRwcm9wc30gaWNvbk5vZGU9e2ljb25Ob2RlfT5cbiAgPHNsb3QvPlxuPC9JY29uPlxuIiwgIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5pbXBvcnQgSWNvbiBmcm9tICcuLi9JY29uLnN2ZWx0ZSc7XG5pbXBvcnQgdHlwZSB7IEljb25Ob2RlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5jb25zdCBpY29uTm9kZTogSWNvbk5vZGUgPSBbW1wicGF0aFwiLHtcImRcIjpcIk0xMiAyMGg5XCJ9XSxbXCJwYXRoXCIse1wiZFwiOlwiTTE2LjUgMy41YTIuMTIgMi4xMiAwIDAgMSAzIDNMNyAxOWwtNCAxIDEtNFpcIn1dXTtcbjwvc2NyaXB0PlxuXG48SWNvbiBuYW1lPVwicGVuLWxpbmVcIiB7Li4uJCRwcm9wc30gaWNvbk5vZGU9e2ljb25Ob2RlfT5cbiAgPHNsb3QvPlxuPC9JY29uPlxuIiwgIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5pbXBvcnQgSWNvbiBmcm9tICcuLi9JY29uLnN2ZWx0ZSc7XG5pbXBvcnQgdHlwZSB7IEljb25Ob2RlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5jb25zdCBpY29uTm9kZTogSWNvbk5vZGUgPSBbW1wicGF0aFwiLHtcImRcIjpcIm0yIDIyIDEtMWgzbDktOVwifV0sW1wicGF0aFwiLHtcImRcIjpcIk0zIDIxdi0zbDktOVwifV0sW1wicGF0aFwiLHtcImRcIjpcIm0xNSA2IDMuNC0zLjRhMi4xIDIuMSAwIDEgMSAzIDNMMTggOWwuNC40YTIuMSAyLjEgMCAxIDEtMyAzbC0zLjgtMy44YTIuMSAyLjEgMCAxIDEgMy0zbC40LjRaXCJ9XV07XG48L3NjcmlwdD5cblxuPEljb24gbmFtZT1cInBpcGV0dGVcIiB7Li4uJCRwcm9wc30gaWNvbk5vZGU9e2ljb25Ob2RlfT5cbiAgPHNsb3QvPlxuPC9JY29uPlxuIiwgIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5pbXBvcnQgSWNvbiBmcm9tICcuLi9JY29uLnN2ZWx0ZSc7XG5pbXBvcnQgdHlwZSB7IEljb25Ob2RlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5jb25zdCBpY29uTm9kZTogSWNvbk5vZGUgPSBbW1wicGF0aFwiLHtcImRcIjpcIk0yMiAyIDIgMjJcIn1dXTtcbjwvc2NyaXB0PlxuXG48SWNvbiBuYW1lPVwic2xhc2hcIiB7Li4uJCRwcm9wc30gaWNvbk5vZGU9e2ljb25Ob2RlfT5cbiAgPHNsb3QvPlxuPC9JY29uPlxuIiwgImltcG9ydCB7XG5cdHJ1bl9hbGwsXG5cdHN1YnNjcmliZSxcblx0bm9vcCxcblx0c2FmZV9ub3RfZXF1YWwsXG5cdGlzX2Z1bmN0aW9uLFxuXHRnZXRfc3RvcmVfdmFsdWVcbn0gZnJvbSAnLi4vaW50ZXJuYWwvaW5kZXguanMnO1xuXG5jb25zdCBzdWJzY3JpYmVyX3F1ZXVlID0gW107XG5cbi8qKlxuICogQ3JlYXRlcyBhIGBSZWFkYWJsZWAgc3RvcmUgdGhhdCBhbGxvd3MgcmVhZGluZyBieSBzdWJzY3JpcHRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI3JlYWRhYmxlXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtUfSBbdmFsdWVdIGluaXRpYWwgdmFsdWVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlN0YXJ0U3RvcE5vdGlmaWVyPFQ+fSBbc3RhcnRdXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZGFibGUodmFsdWUsIHN0YXJ0KSB7XG5cdHJldHVybiB7XG5cdFx0c3Vic2NyaWJlOiB3cml0YWJsZSh2YWx1ZSwgc3RhcnQpLnN1YnNjcmliZVxuXHR9O1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIGBXcml0YWJsZWAgc3RvcmUgdGhhdCBhbGxvd3MgYm90aCB1cGRhdGluZyBhbmQgcmVhZGluZyBieSBzdWJzY3JpcHRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI3dyaXRhYmxlXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtUfSBbdmFsdWVdIGluaXRpYWwgdmFsdWVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlN0YXJ0U3RvcE5vdGlmaWVyPFQ+fSBbc3RhcnRdXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLldyaXRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JpdGFibGUodmFsdWUsIHN0YXJ0ID0gbm9vcCkge1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5VbnN1YnNjcmliZXJ9ICovXG5cdGxldCBzdG9wO1xuXHQvKiogQHR5cGUge1NldDxpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN1YnNjcmliZUludmFsaWRhdGVUdXBsZTxUPj59ICovXG5cdGNvbnN0IHN1YnNjcmliZXJzID0gbmV3IFNldCgpO1xuXHQvKiogQHBhcmFtIHtUfSBuZXdfdmFsdWVcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRmdW5jdGlvbiBzZXQobmV3X3ZhbHVlKSB7XG5cdFx0aWYgKHNhZmVfbm90X2VxdWFsKHZhbHVlLCBuZXdfdmFsdWUpKSB7XG5cdFx0XHR2YWx1ZSA9IG5ld192YWx1ZTtcblx0XHRcdGlmIChzdG9wKSB7XG5cdFx0XHRcdC8vIHN0b3JlIGlzIHJlYWR5XG5cdFx0XHRcdGNvbnN0IHJ1bl9xdWV1ZSA9ICFzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aDtcblx0XHRcdFx0Zm9yIChjb25zdCBzdWJzY3JpYmVyIG9mIHN1YnNjcmliZXJzKSB7XG5cdFx0XHRcdFx0c3Vic2NyaWJlclsxXSgpO1xuXHRcdFx0XHRcdHN1YnNjcmliZXJfcXVldWUucHVzaChzdWJzY3JpYmVyLCB2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHJ1bl9xdWV1ZSkge1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGg7IGkgKz0gMikge1xuXHRcdFx0XHRcdFx0c3Vic2NyaWJlcl9xdWV1ZVtpXVswXShzdWJzY3JpYmVyX3F1ZXVlW2kgKyAxXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHN1YnNjcmliZXJfcXVldWUubGVuZ3RoID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5VcGRhdGVyPFQ+fSBmblxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIHVwZGF0ZShmbikge1xuXHRcdHNldChmbih2YWx1ZSkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlN1YnNjcmliZXI8VD59IHJ1blxuXHQgKiBAcGFyYW0ge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuSW52YWxpZGF0b3I8VD59IFtpbnZhbGlkYXRlXVxuXHQgKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlVuc3Vic2NyaWJlcn1cblx0ICovXG5cdGZ1bmN0aW9uIHN1YnNjcmliZShydW4sIGludmFsaWRhdGUgPSBub29wKSB7XG5cdFx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN1YnNjcmliZUludmFsaWRhdGVUdXBsZTxUPn0gKi9cblx0XHRjb25zdCBzdWJzY3JpYmVyID0gW3J1biwgaW52YWxpZGF0ZV07XG5cdFx0c3Vic2NyaWJlcnMuYWRkKHN1YnNjcmliZXIpO1xuXHRcdGlmIChzdWJzY3JpYmVycy5zaXplID09PSAxKSB7XG5cdFx0XHRzdG9wID0gc3RhcnQoc2V0LCB1cGRhdGUpIHx8IG5vb3A7XG5cdFx0fVxuXHRcdHJ1bih2YWx1ZSk7XG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdHN1YnNjcmliZXJzLmRlbGV0ZShzdWJzY3JpYmVyKTtcblx0XHRcdGlmIChzdWJzY3JpYmVycy5zaXplID09PSAwICYmIHN0b3ApIHtcblx0XHRcdFx0c3RvcCgpO1xuXHRcdFx0XHRzdG9wID0gbnVsbDtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cdHJldHVybiB7IHNldCwgdXBkYXRlLCBzdWJzY3JpYmUgfTtcbn1cblxuLyoqXG4gKiBEZXJpdmVkIHZhbHVlIHN0b3JlIGJ5IHN5bmNocm9uaXppbmcgb25lIG9yIG1vcmUgcmVhZGFibGUgc3RvcmVzIGFuZFxuICogYXBwbHlpbmcgYW4gYWdncmVnYXRpb24gZnVuY3Rpb24gb3ZlciBpdHMgaW5wdXQgdmFsdWVzLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1zdG9yZSNkZXJpdmVkXG4gKiBAdGVtcGxhdGUge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuU3RvcmVzfSBTXG4gKiBAdGVtcGxhdGUgVFxuICogQG92ZXJsb2FkXG4gKiBAcGFyYW0ge1N9IHN0b3JlcyAtIGlucHV0IHN0b3Jlc1xuICogQHBhcmFtIHsodmFsdWVzOiBpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN0b3Jlc1ZhbHVlczxTPiwgc2V0OiAodmFsdWU6IFQpID0+IHZvaWQsIHVwZGF0ZTogKGZuOiBpbXBvcnQoJy4vcHVibGljLmpzJykuVXBkYXRlcjxUPikgPT4gdm9pZCkgPT4gaW1wb3J0KCcuL3B1YmxpYy5qcycpLlVuc3Vic2NyaWJlciB8IHZvaWR9IGZuIC0gZnVuY3Rpb24gY2FsbGJhY2sgdGhhdCBhZ2dyZWdhdGVzIHRoZSB2YWx1ZXNcbiAqIEBwYXJhbSB7VH0gW2luaXRpYWxfdmFsdWVdIC0gaW5pdGlhbCB2YWx1ZVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn1cbiAqL1xuXG4vKipcbiAqIERlcml2ZWQgdmFsdWUgc3RvcmUgYnkgc3luY2hyb25pemluZyBvbmUgb3IgbW9yZSByZWFkYWJsZSBzdG9yZXMgYW5kXG4gKiBhcHBseWluZyBhbiBhZ2dyZWdhdGlvbiBmdW5jdGlvbiBvdmVyIGl0cyBpbnB1dCB2YWx1ZXMuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI2Rlcml2ZWRcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXN9IFNcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSB7U30gc3RvcmVzIC0gaW5wdXQgc3RvcmVzXG4gKiBAcGFyYW0geyh2YWx1ZXM6IGltcG9ydCgnLi9wcml2YXRlLmpzJykuU3RvcmVzVmFsdWVzPFM+KSA9PiBUfSBmbiAtIGZ1bmN0aW9uIGNhbGxiYWNrIHRoYXQgYWdncmVnYXRlcyB0aGUgdmFsdWVzXG4gKiBAcGFyYW0ge1R9IFtpbml0aWFsX3ZhbHVlXSAtIGluaXRpYWwgdmFsdWVcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8VD59XG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuU3RvcmVzfSBTXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtTfSBzdG9yZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge1R9IFtpbml0aWFsX3ZhbHVlXVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlcml2ZWQoc3RvcmVzLCBmbiwgaW5pdGlhbF92YWx1ZSkge1xuXHRjb25zdCBzaW5nbGUgPSAhQXJyYXkuaXNBcnJheShzdG9yZXMpO1xuXHQvKiogQHR5cGUge0FycmF5PGltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxhbnk+Pn0gKi9cblx0Y29uc3Qgc3RvcmVzX2FycmF5ID0gc2luZ2xlID8gW3N0b3Jlc10gOiBzdG9yZXM7XG5cdGlmICghc3RvcmVzX2FycmF5LmV2ZXJ5KEJvb2xlYW4pKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdkZXJpdmVkKCkgZXhwZWN0cyBzdG9yZXMgYXMgaW5wdXQsIGdvdCBhIGZhbHN5IHZhbHVlJyk7XG5cdH1cblx0Y29uc3QgYXV0byA9IGZuLmxlbmd0aCA8IDI7XG5cdHJldHVybiByZWFkYWJsZShpbml0aWFsX3ZhbHVlLCAoc2V0LCB1cGRhdGUpID0+IHtcblx0XHRsZXQgc3RhcnRlZCA9IGZhbHNlO1xuXHRcdGNvbnN0IHZhbHVlcyA9IFtdO1xuXHRcdGxldCBwZW5kaW5nID0gMDtcblx0XHRsZXQgY2xlYW51cCA9IG5vb3A7XG5cdFx0Y29uc3Qgc3luYyA9ICgpID0+IHtcblx0XHRcdGlmIChwZW5kaW5nKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGNsZWFudXAoKTtcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGZuKHNpbmdsZSA/IHZhbHVlc1swXSA6IHZhbHVlcywgc2V0LCB1cGRhdGUpO1xuXHRcdFx0aWYgKGF1dG8pIHtcblx0XHRcdFx0c2V0KHJlc3VsdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjbGVhbnVwID0gaXNfZnVuY3Rpb24ocmVzdWx0KSA/IHJlc3VsdCA6IG5vb3A7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRjb25zdCB1bnN1YnNjcmliZXJzID0gc3RvcmVzX2FycmF5Lm1hcCgoc3RvcmUsIGkpID0+XG5cdFx0XHRzdWJzY3JpYmUoXG5cdFx0XHRcdHN0b3JlLFxuXHRcdFx0XHQodmFsdWUpID0+IHtcblx0XHRcdFx0XHR2YWx1ZXNbaV0gPSB2YWx1ZTtcblx0XHRcdFx0XHRwZW5kaW5nICY9IH4oMSA8PCBpKTtcblx0XHRcdFx0XHRpZiAoc3RhcnRlZCkge1xuXHRcdFx0XHRcdFx0c3luYygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0KCkgPT4ge1xuXHRcdFx0XHRcdHBlbmRpbmcgfD0gMSA8PCBpO1xuXHRcdFx0XHR9XG5cdFx0XHQpXG5cdFx0KTtcblx0XHRzdGFydGVkID0gdHJ1ZTtcblx0XHRzeW5jKCk7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uIHN0b3AoKSB7XG5cdFx0XHRydW5fYWxsKHVuc3Vic2NyaWJlcnMpO1xuXHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0Ly8gV2UgbmVlZCB0byBzZXQgdGhpcyB0byBmYWxzZSBiZWNhdXNlIGNhbGxiYWNrcyBjYW4gc3RpbGwgaGFwcGVuIGRlc3BpdGUgaGF2aW5nIHVuc3Vic2NyaWJlZDpcblx0XHRcdC8vIENhbGxiYWNrcyBtaWdodCBhbHJlYWR5IGJlIHBsYWNlZCBpbiB0aGUgcXVldWUgd2hpY2ggZG9lc24ndCBrbm93IGl0IHNob3VsZCBubyBsb25nZXJcblx0XHRcdC8vIGludm9rZSB0aGlzIGRlcml2ZWQgc3RvcmUuXG5cdFx0XHRzdGFydGVkID0gZmFsc2U7XG5cdFx0fTtcblx0fSk7XG59XG5cbi8qKlxuICogVGFrZXMgYSBzdG9yZSBhbmQgcmV0dXJucyBhIG5ldyBvbmUgZGVyaXZlZCBmcm9tIHRoZSBvbGQgb25lIHRoYXQgaXMgcmVhZGFibGUuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI3JlYWRvbmx5XG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8VD59IHN0b3JlICAtIHN0b3JlIHRvIG1ha2UgcmVhZG9ubHlcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkb25seShzdG9yZSkge1xuXHRyZXR1cm4ge1xuXHRcdHN1YnNjcmliZTogc3RvcmUuc3Vic2NyaWJlLmJpbmQoc3RvcmUpXG5cdH07XG59XG5cbmV4cG9ydCB7IGdldF9zdG9yZV92YWx1ZSBhcyBnZXQgfTtcbiIsICJpbXBvcnQgeyBnZXQsIHdyaXRhYmxlIH0gZnJvbSBcInN2ZWx0ZS9zdG9yZVwiO1xuXG5pbXBvcnQgdHlwZSB7IENvbmZpZ1N0YXRlIH0gZnJvbSBcInNyYy90eXBlcy9zdG9yZVR5cGVzXCI7XG5cbmNvbnN0IGluaXRpYWxTdGF0ZTogQ29uZmlnU3RhdGUgPSB7XG5cdHN0YWdlOiB7XG5cdFx0d2lkdGg6IDUzMCxcblx0XHRoZWlnaHQ6IDEwMCxcblx0fSxcblx0ZXJhc2VyUG9pbnRlcjogeyB4OiAtMTAsIHk6IC0xMCB9LFxuXHRmaWxlTmFtZTogXCJza2V0Y2gtbWRcIixcbn07XG5cbmV4cG9ydCBjb25zdCBjb25maWdTdG9yZSA9IHdyaXRhYmxlPENvbmZpZ1N0YXRlPihpbml0aWFsU3RhdGUpO1xuXG5leHBvcnQgY29uc3QgdXNlQ29uZmlnID0ge1xuXHRzdWJzY3JpYmU6IGNvbmZpZ1N0b3JlLnN1YnNjcmliZSxcblx0Z2V0OiAoKSA9PiBnZXQoY29uZmlnU3RvcmUpLFxuXHRzZXQ6IChkYXRhOiBDb25maWdTdGF0ZSkgPT4gY29uZmlnU3RvcmUuc2V0KGRhdGEpLFxuXHR1cGRhdGU6IGNvbmZpZ1N0b3JlLnVwZGF0ZSxcblx0aW5pdDogKCkgPT4gY29uZmlnU3RvcmUuc2V0KGluaXRpYWxTdGF0ZSksXG5cdHVwZGF0ZVN0YWdlU2l6ZTogKHR5cGU6IFwid2lkdGhcIiB8IFwiaGVpZ2h0XCIsIHZhbHVlOiBudW1iZXIpID0+IHtcblx0XHRjb25maWdTdG9yZS51cGRhdGUoKHN0YXRlKSA9PiB7XG5cdFx0XHRjb25zdCBuZXdTdGFnZSA9IHsgLi4uc3RhdGUuc3RhZ2UsIFt0eXBlXTogdmFsdWUgfTtcblx0XHRcdHJldHVybiB7IC4uLnN0YXRlLCBzdGFnZTogbmV3U3RhZ2UgfTtcblx0XHR9KTtcblx0fSxcblx0dXBkYXRlRXJhc2VyUG9pbnRlcjogKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiB7XG5cdFx0Y29uZmlnU3RvcmUudXBkYXRlKChzdGF0ZSkgPT4ge1xuXHRcdFx0cmV0dXJuIHsgLi4uc3RhdGUsIGVyYXNlclBvaW50ZXI6IHsgeCwgeSB9IH07XG5cdFx0fSk7XG5cdH0sXG5cblx0dXBkYXRlRmlsZU5hbWU6IChmaWxlTmFtZTogc3RyaW5nKSA9PiB7XG5cdFx0Y29uZmlnU3RvcmUudXBkYXRlKChzdGF0ZSkgPT4ge1xuXHRcdFx0cmV0dXJuIHsgLi4uc3RhdGUsIGZpbGVOYW1lIH07XG5cdFx0fSk7XG5cdH0sXG59O1xuIiwgImltcG9ydCB7IGdldCwgd3JpdGFibGUgfSBmcm9tIFwic3ZlbHRlL3N0b3JlXCI7XG5cbmltcG9ydCB7IERyYXdNb2RlIH0gZnJvbSBcInNyYy90eXBlcy9zdG9yZVR5cGVzXCI7XG5pbXBvcnQgdHlwZSB7IERyYXdpbmdTdGF0ZSB9IGZyb20gXCJzcmMvdHlwZXMvc3RvcmVUeXBlc1wiO1xuaW1wb3J0IHsgQ29sb3JzIH0gZnJvbSBcInNyYy9zdHlsZXMvY29sb3JzXCI7XG5cbmNvbnN0IGluaXRpYWxTdGF0ZTogRHJhd2luZ1N0YXRlID0ge1xuXHRpc1BhaW50OiBmYWxzZSxcblx0bW9kZTogRHJhd01vZGUuQnJ1c2gsXG5cdGNvbG9yOiBDb2xvcnMuUFJJTUFSWSxcblx0c3Ryb2tlV2lkdGg6IDMsXG5cdGxpbmVzOiBbXG5cdFx0e1xuXHRcdFx0bW9kZTogRHJhd01vZGUuQnJ1c2gsXG5cdFx0XHRjb2xvcjogQ29sb3JzLlBSSU1BUlksXG5cdFx0XHRzdHJva2VXaWR0aDogMyxcblx0XHRcdHBvaW50czogW10sXG5cdFx0fSxcblx0XSxcbn07XG5cbmV4cG9ydCBjb25zdCBkcmF3aW5nU3RvcmUgPSB3cml0YWJsZTxEcmF3aW5nU3RhdGU+KGluaXRpYWxTdGF0ZSk7XG5cbmV4cG9ydCBjb25zdCB1c2VEcmF3aW5nID0ge1xuXHRzdWJzY3JpYmU6IGRyYXdpbmdTdG9yZS5zdWJzY3JpYmUsXG5cdGdldDogKCkgPT4gZ2V0KGRyYXdpbmdTdG9yZSksXG5cdHNldDogKGRhdGE6IERyYXdpbmdTdGF0ZSkgPT4gZHJhd2luZ1N0b3JlLnNldChkYXRhKSxcblx0dXBkYXRlOiBkcmF3aW5nU3RvcmUudXBkYXRlLFxuXHRpbml0OiAoKSA9PiBkcmF3aW5nU3RvcmUuc2V0KGluaXRpYWxTdGF0ZSksXG5cdHNldE1vZGU6IChtb2RlOiBEcmF3TW9kZSkgPT4ge1xuXHRcdGRyYXdpbmdTdG9yZS51cGRhdGUoKHN0YXRlKSA9PiAoeyAuLi5zdGF0ZSwgbW9kZSB9KSk7XG5cdH0sXG5cdHNldENvbG9yOiAoY29sb3I6IHN0cmluZykgPT4ge1xuXHRcdGRyYXdpbmdTdG9yZS51cGRhdGUoKHN0YXRlKSA9PiAoeyAuLi5zdGF0ZSwgY29sb3IgfSkpO1xuXHR9LFxuXHRzZXRTdHJva2VXaWR0aDogKHN0cm9rZVdpZHRoOiBudW1iZXIpID0+IHtcblx0XHRkcmF3aW5nU3RvcmUudXBkYXRlKChzdGF0ZSkgPT4gKHsgLi4uc3RhdGUsIHN0cm9rZVdpZHRoIH0pKTtcblx0fSxcbn07XG4iLCAiaW1wb3J0IHsgQ29sb3JzIH0gZnJvbSBcInNyYy9zdHlsZXMvY29sb3JzXCI7XG5cbmV4cG9ydCBjb25zdCBsaW5lQ29sb3JzID0gW1xuXHR7XG5cdFx0aXNBY3RpdmU6IGZhbHNlLFxuXHRcdGNvbG9yOiBDb2xvcnMuUkVELFxuXHR9LFxuXHR7XG5cdFx0aXNBY3RpdmU6IGZhbHNlLFxuXHRcdGNvbG9yOiBDb2xvcnMuQkxVRSxcblx0fSxcblx0e1xuXHRcdGlzQWN0aXZlOiBmYWxzZSxcblx0XHRjb2xvcjogQ29sb3JzLkdSRUVOLFxuXHR9LFxuXHR7XG5cdFx0aXNBY3RpdmU6IGZhbHNlLFxuXHRcdGNvbG9yOiBDb2xvcnMuWUVMTE9XLFxuXHR9LFxuXHR7XG5cdFx0aXNBY3RpdmU6IHRydWUsXG5cdFx0Y29sb3I6IENvbG9ycy5QVVJQTEUsXG5cdH0sXG5cdHtcblx0XHRpc0FjdGl2ZTogZmFsc2UsXG5cdFx0Y29sb3I6IENvbG9ycy5HUkFZLFxuXHR9LFxuXHR7XG5cdFx0aXNBY3RpdmU6IGZhbHNlLFxuXHRcdGNvbG9yOiBDb2xvcnMuQkxBQ0ssXG5cdH0sXG5dO1xuXG5leHBvcnQgY29uc3QgbGluZVdlaWdodHMgPSBbXG5cdHtcblx0XHRpc0FjdGl2ZTogdHJ1ZSxcblx0XHR3ZWlnaHQ6IDEsXG5cdH0sXG5cdHtcblx0XHRpc0FjdGl2ZTogZmFsc2UsXG5cdFx0d2VpZ2h0OiAyLFxuXHR9LFxuXHR7XG5cdFx0aXNBY3RpdmU6IGZhbHNlLFxuXHRcdHdlaWdodDogMyxcblx0fSxcbl07XG5cbmV4cG9ydCBjb25zdCByZWFsTGluZVdlaWdodHMgPSB7XG5cdDE6IDMsXG5cdDI6IDUsXG5cdDM6IDEwLFxufTtcbiIsICJpbXBvcnQgeyBNYXJrZG93blZpZXcsIHR5cGUgQXBwIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RvY3VtZW50QWN0aXZlKGFwcDogQXBwKSB7XG5cdC8vIFx1RDYwNFx1QzdBQyBcdUQ2NUNcdUMxMzFcdUQ2NTRcdUI0MUMgXHVCREYwXHVCOTdDIFx1QUMwMFx1QzgzOFx1QzYzNVx1QjJDOFx1QjJFNC5cblx0Y29uc3QgYWN0aXZlVmlldyA9IGFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xuXG5cdHJldHVybiBhY3RpdmVWaWV3ICE9PSBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0SW1hZ2VUb01hcmtkb3duKFxuXHRhcHA6IEFwcCxcblx0ZGF0YVVybDogc3RyaW5nLFxuXHRuYW1lPzogc3RyaW5nXG4pIHtcblx0Ly8gXHVENjA0XHVDN0FDIFx1RDY1Q1x1QzEzMVx1RDY1NFx1QjQxQyBcdUI5QzhcdUQwNkNcdUIyRTRcdUM2QjQgXHVCREYwXHVCOTdDIFx1QUMwMFx1QzgzOFx1QzYzNVx1QjJDOFx1QjJFNC5cblx0Y29uc3QgbWFya2Rvd25WaWV3ID0gYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XG5cblx0aWYgKCFtYXJrZG93blZpZXcpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBcdUQ2MDRcdUM3QUMgXHVEM0I4XHVDOUQxXHVBRTMwXHVDNzU4IFx1Qzc3OFx1QzJBNFx1RDEzNFx1QzJBNFx1Qjk3QyBcdUFDMDBcdUM4MzhcdUM2MzVcdUIyQzhcdUIyRTQuXG5cdGNvbnN0IGVkaXRvciA9IG1hcmtkb3duVmlldy5lZGl0b3I7XG5cdGlmICghZWRpdG9yKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0c2F2ZUltYWdlVG9GaWxlKGFwcCwgZGF0YVVybCwgZWRpdG9yLCBuYW1lKTtcbn1cblxuZnVuY3Rpb24gZGF0YVVybFRvQmxvYihkYXRhVXJsOiBzdHJpbmcpIHtcblx0cmV0dXJuIGZldGNoKGRhdGFVcmwpLnRoZW4oKHJlcykgPT4gcmVzLmJsb2IoKSk7XG59XG5cbmZ1bmN0aW9uIGdldFVuaXF1ZUZpbGVOYW1lKGZpbGVOYW1lPzogc3RyaW5nKSB7XG5cdGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuXHRjb25zdCB0aW1lc3RhbXAgPSBkYXRlLmdldFRpbWUoKTtcblx0cmV0dXJuIGAke2ZpbGVOYW1lIHx8IFwic2tldGNoLW1kXCJ9LSR7dGltZXN0YW1wfS5wbmdgO1xufVxuXG5mdW5jdGlvbiBibG9iVG9BcnJheUJ1ZmZlcihibG9iOiBCbG9iKTogUHJvbWlzZTxBcnJheUJ1ZmZlcj4ge1xuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cdFx0cmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdCBhcyBBcnJheUJ1ZmZlcik7XG5cdFx0cmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XG5cdFx0cmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpO1xuXHR9KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc2F2ZUltYWdlVG9GaWxlKFxuXHRhcHA6IEFwcCxcblx0ZGF0YVVybDogc3RyaW5nLFxuXHRlZGl0b3I6IGFueSxcblx0bmFtZT86IHN0cmluZ1xuKSB7XG5cdGNvbnN0IGZpbGVOYW1lID0gZ2V0VW5pcXVlRmlsZU5hbWUobmFtZSk7XG5cdGNvbnN0IGZpbGVQYXRoID0gYC4vJHtmaWxlTmFtZX1gO1xuXHRjb25zdCBibG9iID0gYXdhaXQgZGF0YVVybFRvQmxvYihkYXRhVXJsKTtcblx0Y29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iVG9BcnJheUJ1ZmZlcihibG9iKTtcblxuXHQvLyBTYXZlIHRoZSBpbWFnZSBmaWxlIHRvIHRoZSBmaWxlIHN5c3RlbVxuXHRhd2FpdCBhcHAudmF1bHQuY3JlYXRlQmluYXJ5KGZpbGVQYXRoLCBhcnJheUJ1ZmZlcik7XG5cblx0Ly8gSW5zZXJ0IGltYWdlIGxpbmsgaW50byB0aGUgbWFya2Rvd24gZmlsZVxuXHRjb25zdCBtYXJrZG93bkltYWdlVGV4dCA9IGAhW0RyYXdpbmddKCR7ZmlsZVBhdGh9KWA7XG5cdGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKG1hcmtkb3duSW1hZ2VUZXh0KTtcbn1cbiIsICI8c2NyaXB0PlxuXHRpbXBvcnQge1xuXHRcdFBlbkxpbmUsXG5cdFx0RXJhc2VyLFxuXHRcdFBpcGV0dGUsXG5cdFx0U2xhc2gsXG5cdFx0TW92ZVZlcnRpY2FsLFxuXHRcdEltcG9ydCxcblx0XHRGaWxlLFxuXHR9IGZyb20gXCJsdWNpZGUtc3ZlbHRlXCI7XG5cdGltcG9ydCB7IGNvbmZpZ1N0b3JlLCB1c2VDb25maWcgfSBmcm9tIFwic3JjL1xcYnN0b3JlL2NvbmZpZ1wiO1xuXHRpbXBvcnQgeyB1c2VEcmF3aW5nLCBkcmF3aW5nU3RvcmUgfSBmcm9tIFwic3JjL1xcYnN0b3JlL21haW5cIjtcblx0aW1wb3J0IHtcblx0XHRsaW5lQ29sb3JzLFxuXHRcdGxpbmVXZWlnaHRzLFxuXHRcdHJlYWxMaW5lV2VpZ2h0cyxcblx0fSBmcm9tIFwic3JjL2NvbnN0YW50L2NvbnN0XCI7XG5cdGltcG9ydCB7IGluc2VydEltYWdlVG9NYXJrZG93biB9IGZyb20gXCJzcmMvdXRpbC9mZWF0dXJlc1wiO1xuXHRpbXBvcnQgeyBDb2xvcnMgfSBmcm9tIFwic3JjL3N0eWxlcy9jb2xvcnNcIjtcblx0aW1wb3J0IHsgRHJhd01vZGUgfSBmcm9tIFwic3JjL3R5cGVzL3N0b3JlVHlwZXNcIjtcblxuXHRleHBvcnQgbGV0IGFwcDtcblxuXHQkOiAoeyBjb2xvciB9ID0gJGRyYXdpbmdTdG9yZSk7XG5cdCQ6ICh7IHN0YWdlLCBmaWxlTmFtZSB9ID0gJGNvbmZpZ1N0b3JlKTtcblxuXHRsZXQgcGVuTGluZUFjdGl2ZSA9IHRydWU7XG5cdGxldCBlcmFzZXJBY3RpdmUgPSBmYWxzZTtcblx0bGV0IHNlbGVjdGVkQ29sb3IgPSBDb2xvcnMuUFJJTUFSWTtcblx0bGV0IHNlbGVjdGVkTGluZVdpZHRoID0gMTtcblx0bGV0IGlzQ29sb3JQaWNrZXJBY3RpdmUgPSB0cnVlO1xuXG5cdGNvbnN0IGNoYW5nZU1vZGUgPSAobmV3TW9kZSkgPT4ge1xuXHRcdHBlbkxpbmVBY3RpdmUgPSBuZXdNb2RlID09PSBEcmF3TW9kZS5CcnVzaDtcblx0XHRlcmFzZXJBY3RpdmUgPSBuZXdNb2RlID09PSBEcmF3TW9kZS5FcmFzZXI7XG5cdFx0dXNlRHJhd2luZy5zZXRNb2RlKG5ld01vZGUpO1xuXHR9O1xuXG5cdGNvbnN0IGNoYW5nZUNvbG9yID0gKG5ld0NvbG9yLCBpZHgpID0+IHtcblx0XHRpc0NvbG9yUGlja2VyQWN0aXZlID0gaWR4ID09PSAtMTtcblx0XHRzZWxlY3RlZENvbG9yID0gbmV3Q29sb3I7XG5cdFx0dXNlRHJhd2luZy5zZXRDb2xvcihuZXdDb2xvcik7XG5cdFx0dXBkYXRlQ29sb3JQaWNrZXJTdGF0ZShpZHgpO1xuXHR9O1xuXG5cdGNvbnN0IGNoYW5nZVdlaWdodCA9IChuZXdXZWlnaHQpID0+IHtcblx0XHRzZWxlY3RlZExpbmVXaWR0aCA9IG5ld1dlaWdodDtcblx0XHR1c2VEcmF3aW5nLnNldFN0cm9rZVdpZHRoKHJlYWxMaW5lV2VpZ2h0c1tuZXdXZWlnaHRdKTtcblx0XHR1cGRhdGVXZWlnaHRQaWNrZXJTdGF0ZShuZXdXZWlnaHQpO1xuXHR9O1xuXG5cdGNvbnN0IHVwZGF0ZUNvbG9yUGlja2VyU3RhdGUgPSAoYWN0aXZlSWR4KSA9PiB7XG5cdFx0bGluZUNvbG9ycy5mb3JFYWNoKChwYywgaSkgPT4gKHBjLmlzQWN0aXZlID0gaSA9PT0gYWN0aXZlSWR4KSk7XG5cdH07XG5cblx0Y29uc3QgdXBkYXRlV2VpZ2h0UGlja2VyU3RhdGUgPSAoYWN0aXZlV2VpZ2h0KSA9PiB7XG5cdFx0bGluZVdlaWdodHMuZm9yRWFjaCgobHcpID0+IChsdy5pc0FjdGl2ZSA9IGx3LndlaWdodCA9PT0gYWN0aXZlV2VpZ2h0KSk7XG5cdH07XG5cblx0Y29uc3QgaGFuZGxlQ2FudmFzRXhwb3J0ID0gKCkgPT4ge1xuXHRcdGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIua29udmFqcy1jb250ZW50IGNhbnZhc1wiKTtcblx0XHRjb25zdCBkYXRhVXJsID0gY2FudmFzLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKTtcblx0XHRpbnNlcnRJbWFnZVRvTWFya2Rvd24oYXBwLCBkYXRhVXJsLCBmaWxlTmFtZSk7XG5cdH07XG5cblx0Y29uc3QgdXBkYXRlU3RhZ2VTaXplID0gKHR5cGUsIHZhbHVlKSA9PiB7XG5cdFx0dXNlQ29uZmlnLnVwZGF0ZVN0YWdlU2l6ZSh0eXBlLCBwYXJzZUludCh2YWx1ZSkpO1xuXHR9O1xuXG5cdGNvbnN0IGZpbGVOYW1lQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG5cdFx0bGV0IHVwZGF0ZWRGaWxlTmFtZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcblxuXHRcdC8vIOqzteuwsSDsoJzqsbBcblx0XHR1cGRhdGVkRmlsZU5hbWUgPSB1cGRhdGVkRmlsZU5hbWUucmVwbGFjZSgvXFxzL2csIFwiXCIpO1xuXG5cdFx0Ly8g6ri47J20IOygnO2VnCAoMjDsnpApXG5cdFx0aWYgKHVwZGF0ZWRGaWxlTmFtZS5sZW5ndGggPiAyMCkge1xuXHRcdFx0dXBkYXRlZEZpbGVOYW1lID0gdXBkYXRlZEZpbGVOYW1lLnN1YnN0cmluZygwLCAyMCk7XG5cdFx0fVxuXG5cdFx0Ly8g7Iqk7YGs66a97Yq4IOuwjyDsnqDsnqzsoIEg7JyE7ZeY7ZWcIOusuOyekCDsnoXroKUg67Cp7KeAXG5cdFx0Ly8g7ZeI7Jqp65CY64qUIOusuOyekDog7JWM7YyM67KzLCDsiKvsnpAsIOuMgOyLnCgtKSwg67CR7KSEKF8pLCDsoJAoLilcblx0XHR1cGRhdGVkRmlsZU5hbWUgPSB1cGRhdGVkRmlsZU5hbWUucmVwbGFjZSgvW15hLXpBLVowLTlfLi1dL2csIFwiXCIpO1xuXG5cdFx0dXNlQ29uZmlnLnVwZGF0ZUZpbGVOYW1lKHVwZGF0ZWRGaWxlTmFtZSk7XG5cdH07XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxuXHQ8ZGl2IGNsYXNzPVwiYm94XCI+XG5cdFx0PGJ1dHRvbiBvbjpjbGljaz17KCkgPT4gY2hhbmdlTW9kZShEcmF3TW9kZS5CcnVzaCl9PlxuXHRcdFx0PFBlbkxpbmVcblx0XHRcdFx0Y29sb3I9e3BlbkxpbmVBY3RpdmUgPyBDb2xvcnMuQUNUSVZFIDogQ29sb3JzLlBSSU1BUll9XG5cdFx0XHQvPjwvYnV0dG9uXG5cdFx0PlxuXHRcdHsja2V5IHNlbGVjdGVkQ29sb3J9XG5cdFx0XHQ8YnV0dG9uIGNsYXNzPVwiY29sb3ItcGlja2VyLWJveFwiPlxuXHRcdFx0XHQ8UGlwZXR0ZVxuXHRcdFx0XHRcdHNpemU9ezE4fVxuXHRcdFx0XHRcdGNvbG9yPXtpc0NvbG9yUGlja2VyQWN0aXZlID8gQ29sb3JzLkFDVElWRSA6IENvbG9ycy5QUklNQVJZfVxuXHRcdFx0XHQvPlxuXHRcdFx0XHQ8aW5wdXRcblx0XHRcdFx0XHR0eXBlPVwiY29sb3JcIlxuXHRcdFx0XHRcdGNsYXNzPVwiY29sb3ItcGlja2VyXCJcblx0XHRcdFx0XHR2YWx1ZT17Y29sb3J9XG5cdFx0XHRcdFx0b246Y2hhbmdlPXsoZSkgPT4gY2hhbmdlQ29sb3IoZS50YXJnZXQudmFsdWUsIC0xKX1cblx0XHRcdFx0Lz5cblx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0eyNlYWNoIGxpbmVDb2xvcnMgYXMgcGMsIGlkeH1cblx0XHRcdFx0PGRpdiBjbGFzcz17cGMuaXNBY3RpdmUgPyBcImJ0bi1hY3RpdmVcIiA6IFwiXCJ9PlxuXHRcdFx0XHRcdDxkaXZcblx0XHRcdFx0XHRcdHJvbGU9XCJidXR0b25cIlxuXHRcdFx0XHRcdFx0Y2xhc3M9XCJjb2xvci1ib3hcIlxuXHRcdFx0XHRcdFx0c3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiB7cGMuY29sb3J9XCJcblx0XHRcdFx0XHRcdG9uOm1vdXNlZG93bj17KCkgPT4gY2hhbmdlQ29sb3IocGMuY29sb3IsIGlkeCl9XG5cdFx0XHRcdFx0XHRvbjp0b3VjaHN0YXJ0PXsoKSA9PiBjaGFuZ2VDb2xvcihwYy5jb2xvciwgaWR4KX1cblx0XHRcdFx0XHRcdHRhYmluZGV4PXtpZHh9XG5cdFx0XHRcdFx0PjwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdHsvZWFjaH1cblx0XHR7L2tleX1cblx0XHQ8ZGl2IGNsYXNzPVwiYWxpYXMtcmlnaHRcIj5cblx0XHRcdHsja2V5IHNlbGVjdGVkTGluZVdpZHRofVxuXHRcdFx0XHR7I2VhY2ggbGluZVdlaWdodHMgYXMgbHd9XG5cdFx0XHRcdFx0PGJ1dHRvbiBvbjpjbGljaz17KCkgPT4gY2hhbmdlV2VpZ2h0KGx3LndlaWdodCl9PlxuXHRcdFx0XHRcdFx0PFNsYXNoXG5cdFx0XHRcdFx0XHRcdHNpemU9ezE1fVxuXHRcdFx0XHRcdFx0XHRzdHJva2VXaWR0aD17bHcud2VpZ2h0fVxuXHRcdFx0XHRcdFx0XHRhYnNvbHV0ZVN0cm9rZVdpZHRoPXt0cnVlfVxuXHRcdFx0XHRcdFx0XHRjb2xvcj17bHcuaXNBY3RpdmUgPyBDb2xvcnMuQUNUSVZFIDogQ29sb3JzLlBSSU1BUll9XG5cdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHR7L2VhY2h9XG5cdFx0XHR7L2tleX1cblx0XHQ8L2Rpdj5cblx0PC9kaXY+XG5cdDxkaXYgY2xhc3M9XCJib3hcIj5cblx0XHQ8YnV0dG9uIG9uOmNsaWNrPXsoKSA9PiBjaGFuZ2VNb2RlKERyYXdNb2RlLkVyYXNlcil9PlxuXHRcdFx0PEVyYXNlciBjb2xvcj17ZXJhc2VyQWN0aXZlID8gQ29sb3JzLkFDVElWRSA6IENvbG9ycy5QUklNQVJZfSAvPlxuXHRcdDwvYnV0dG9uPlxuXHQ8L2Rpdj5cblx0PGRpdiBjbGFzcz1cImJveFwiPlxuXHRcdDxidXR0b24+IDxNb3ZlVmVydGljYWwgY29sb3I9e0NvbG9ycy5QUklNQVJZfSAvPjwvYnV0dG9uPlxuXHRcdDxpbnB1dFxuXHRcdFx0dHlwZT1cInJhbmdlXCJcblx0XHRcdG1pbj1cIjEwMFwiXG5cdFx0XHRtYXg9XCI1MDBcIlxuXHRcdFx0dmFsdWU9e3N0YWdlLmhlaWdodH1cblx0XHRcdG9uOmNoYW5nZT17KCkgPT4gdXBkYXRlU3RhZ2VTaXplKFwiaGVpZ2h0XCIsIGV2ZW50LnRhcmdldC52YWx1ZSl9XG5cdFx0Lz5cblx0PC9kaXY+XG5cdDxkaXYgY2xhc3M9XCJib3hcIj5cblx0XHQ8YnV0dG9uPiA8RmlsZSBjb2xvcj17Q29sb3JzLlBSSU1BUll9IC8+PC9idXR0b24+XG5cdFx0PGlucHV0XG5cdFx0XHR0eXBlPVwidGV4dFwiXG5cdFx0XHRwbGFjZWhvbGRlcj1cImZpbGUgbmFtZVwiXG5cdFx0XHR2YWx1ZT17ZmlsZU5hbWV9XG5cdFx0XHRvbjpjaGFuZ2U9e2ZpbGVOYW1lQ2hhbmdlfVxuXHRcdFx0bWF4bGVuZ3RoPVwiMjBcIlxuXHRcdC8+XG5cblx0XHQ8ZGl2IGNsYXNzPVwiYWxpYXMtcmlnaHRcIj5cblx0XHRcdDxidXR0b24gb246Y2xpY2s9e2hhbmRsZUNhbnZhc0V4cG9ydH0+XG5cdFx0XHRcdDxJbXBvcnQgY29sb3I9e0NvbG9ycy5BQ1RJVkV9IC8+XG5cdFx0XHQ8L2J1dHRvbj5cblx0XHQ8L2Rpdj5cblx0PC9kaXY+XG5cdDxwIGNsYXNzPVwiZmlsZW5hbWUtaW5zdHJ1Y3Rpb25zXCI+XG5cdFx0RmlsZW5hbWUgc2hvdWxkIGJlIGxlc3MgdGhhbiAyMCBjaGFyYWN0ZXJzLCBubyBzcGFjZXMsIGFuZCBvbmx5IGluY2x1ZGVzXG5cdFx0bGV0dGVycywgbnVtYmVycywgZGFzaGVzICgtKSwgYW5kIHVuZGVyc2NvcmVzIChfKS5cblx0PC9wPlxuXHQ8cCBjbGFzcz1cImZpbGVuYW1lLWluc3RydWN0aW9uc1wiPlxuXHRcdFRoZSBmaWxlIHdpbGwgYmUgc2F2ZWQgaW4gdGhlIGN1cnJlbnQgcm9vdCBmb2xkZXIuXG5cdDwvcD5cbjwvZGl2PlxuXG48c3R5bGU+XG5cdC5jb250YWluZXIge1xuXHRcdGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHRcdGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuXHRcdGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcblx0XHRnYXA6IDVweDtcblx0fVxuXG5cdC5jb250YWluZXIgPiBkaXYge1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0ZmxleC1kaXJlY3Rpb246IHJvdztcblx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHRcdGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcblx0XHRnYXA6IDNweDtcblx0fVxuXG5cdC5jb2xvci1ib3gge1xuXHRcdHdpZHRoOiAyMHB4O1xuXHRcdGhlaWdodDogMjBweDtcblx0XHRjdXJzb3I6IHBvaW50ZXI7XG5cdH1cblxuXHQuY29sb3ItcGlja2VyLWJveCB7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xuXHRcdGdhcDogM3B4O1xuXHR9XG5cblx0LmNvbG9yLXBpY2tlciB7XG5cdFx0LXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuXHRcdC1tb3otYXBwZWFyYW5jZTogbm9uZTtcblx0XHRhcHBlYXJhbmNlOiBub25lO1xuXHRcdHdpZHRoOiAyM3B4O1xuXHRcdGhlaWdodDogMjBweDtcblx0XHRib3JkZXItcmFkaXVzOiA1MCU7XG5cdFx0YmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG5cdFx0Ym9yZGVyOiBub25lO1xuXHRcdGN1cnNvcjogcG9pbnRlcjtcblx0fVxuXG5cdC5jb2xvci1waWNrZXI6Oi13ZWJraXQtY29sb3Itc3dhdGNoIHtcblx0XHRib3JkZXItcmFkaXVzOiA1MCU7XG5cdFx0Ym9yZGVyOiBub25lO1xuXHRcdHdpZHRoOiAyM3B4O1xuXHRcdGhlaWdodDogMjBweDtcblx0fVxuXG5cdC5jb2xvci1waWNrZXI6Oi1tb3otY29sb3Itc3dhdGNoIHtcblx0XHRib3JkZXItcmFkaXVzOiA1MCU7XG5cdFx0Ym9yZGVyOiBub25lO1xuXHRcdHdpZHRoOiAyM3B4O1xuXHRcdGhlaWdodDogMjBweDtcblx0fVxuXG5cdC5idG4tYWN0aXZlIHtcblx0XHRib3JkZXI6IDFweCBzb2xpZCAjNjc0MTg4O1xuXHRcdGJvcmRlci1yYWRpdXM6IDEwJTtcblx0XHRwYWRkaW5nOiAycHg7XG5cdH1cblxuXHQuYm94IHtcblx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdFx0d2lkdGg6IDEwMCU7XG5cdH1cblxuXHQuYWxpYXMtcmlnaHQge1xuXHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0XHRyaWdodDogMHB4O1xuXHRcdHRvcDogMHB4O1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0ZmxleC1kaXJlY3Rpb246IHJvdztcblx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHR9XG5cblx0LmZpbGVuYW1lLWluc3RydWN0aW9ucyB7XG5cdFx0bWFyZ2luLXRvcDogMXB4O1xuXHRcdGZvbnQtc2l6ZTogOHB4O1xuXHRcdGNvbG9yOiAjNjY2O1xuXHRcdGxpbmUtaGVpZ2h0OiAwLjg7XG5cdH1cblxuXHRpbnB1dFt0eXBlPVwidGV4dFwiXSB7XG5cdFx0d2lkdGg6IDIzMHB4O1xuXHR9XG5cblx0aW5wdXRbdHlwZT1cInJhbmdlXCJdIHtcblx0XHR3aWR0aDogMjMwcHg7XG5cdH1cbjwvc3R5bGU+XG4iLCAiPCEtLVxuQGNvbXBvbmVudFxuVGhlIEFyYyBjb21wb25lbnQgbmVlZHMgdG8gYmUgcGxhY2VkIGVpdGhlciBpbnNpZGUgYSBzdmVsdGUta29udmEgTGF5ZXIgb3IgR3JvdXAgY29tcG9uZW50LiBcblxuIyMjIFVzYWdlOlxuYGBgdHN4XG48QXJjIGNvbmZpZz17eyB4OiAxMDAsIHk6IDEwMCwgaW5uZXJSYWRpdXM6IDI1LCBvdXRlclJhZGl1czogNTAsIGFuZ2xlOiAxMjAsIGZpbGw6IFwiYmx1ZVwiIH19IC8+XG5gYGBcblxuIyMjIFN0YXRpYyBjb25maWc6XG5CeSBkZWZhdWx0IHN2ZWx0ZS1rb252YSB3aWxsIGF1dG9tYXRpY2FsbHkgdXBkYXRlIHlvdXIgY29uZmlnIHByb3Agb24gYGRyYWdlbmRgIGFuZCBgdHJhbnNmb3JtZW5kYCBldmVudHMgdG8gbWF0Y2ggdGhlIGNvbmZpZyBzdGF0ZSAocG9zaXRpb24sIHJvdGF0aW9uLCBzY2FsZSwgLi4uKSB3aXRoIHRoZSBpbnRlcm5hbCBLb252YSBzdGF0ZS4gXG5JZiB5b3UgYWRkaXRpb25hbGx5IGJpbmQgdGhlIGNvbmZpZyBwcm9wIHlvdXIgcmVhY3RpdmUgYmxvY2tzIHdpbGwgYWxzbyBiZSB0cmlnZ2VyZWQgb25jZSB0aGlzIGhhcHBlbnMuIFxuVGhlcmUgbWlnaHQgYmUgY2FzZXMgd2hlcmUgdGhpcyBiZWhhdmlvciBpcyBub3QgYmVuZWZpY2lhbCBpbiB0aGlzIGNhc2UgeW91IGNhbiBkaXNhYmxlIGl0IGJ5IHBhc3NpbmcgdGhlIGBzdGF0aWNDb25maWcgPSB0cnVlYCBwcm9wIHRvIHRoZSBjb21wb25lbnQuXG5cbkZ1cnRoZXIgaW5mb3JtYXRpb246IFtLb252YSBBUEkgZG9jc10oaHR0cHM6Ly9rb252YWpzLm9yZy9hcGkvS29udmEuQXJjLmh0bWwpLCBbc3ZlbHRlLWtvbnZhIGRvY3NdKGh0dHBzOi8va29udmFqcy5vcmcvZG9jcy9zdmVsdGUpXG4tLT5cbjxzY3JpcHQ+LyoqXG4gKiBXQVJOSU5HOiBUaGlzIGNvbXBvbmVudCBpcyBhdXRvZ2VuZXJhdGVkIHVzaW5nIHRoZSBzdmVsdGVLb252YUNvbXBvbmVudC5oYnMgdGVtcGxhdGUuIERvIG5vdCBlZGl0IHRoaXMgZmlsZSBtYW51YWxseSFcbiAqL1xuaW1wb3J0IEtvbnZhIGZyb20gJ2tvbnZhJztcbmltcG9ydCB7IG9uTW91bnQsIG9uRGVzdHJveSwgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnc3ZlbHRlJztcbmltcG9ydCB7IHJlZ2lzdGVyRXZlbnRzIH0gZnJvbSAnLi91dGlsL2V2ZW50cyc7XG5pbXBvcnQgeyBnZXRQYXJlbnRDb250YWluZXIgfSBmcm9tICcuL3V0aWwvbWFuYWdlQ29udGV4dCc7XG5pbXBvcnQgeyBjb3B5RXhpc3RpbmdLZXlzIH0gZnJvbSAnLi91dGlsL29iamVjdCc7XG5leHBvcnQgbGV0IGNvbmZpZztcbmV4cG9ydCBsZXQgaGFuZGxlID0gbmV3IEtvbnZhLkFyYyhjb25maWcpO1xuZXhwb3J0IGxldCBzdGF0aWNDb25maWcgPSBmYWxzZTtcbmxldCBwYXJlbnQgPSBnZXRQYXJlbnRDb250YWluZXIoKTtcbmxldCBkaXNwYXRjaGVyID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XG4kOiBoYW5kbGUuc2V0QXR0cnMoY29uZmlnKTtcbm9uTW91bnQoKCkgPT4ge1xuICAgICRwYXJlbnQuYWRkKGhhbmRsZSk7XG4gICAgaWYgKCFzdGF0aWNDb25maWcpIHtcbiAgICAgICAgaGFuZGxlLm9uKCd0cmFuc2Zvcm1lbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb3B5RXhpc3RpbmdLZXlzKGNvbmZpZywgaGFuZGxlLmdldEF0dHJzKCkpO1xuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnO1xuICAgICAgICB9KTtcbiAgICAgICAgaGFuZGxlLm9uKCdkcmFnZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29weUV4aXN0aW5nS2V5cyhjb25maWcsIGhhbmRsZS5nZXRBdHRycygpKTtcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyRXZlbnRzKGRpc3BhdGNoZXIsIGhhbmRsZSk7XG59KTtcbm9uRGVzdHJveSgoKSA9PiB7XG4gICAgaGFuZGxlLmRlc3Ryb3koKTtcbn0pO1xuPC9zY3JpcHQ+XG4iLCAiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuY29uc3QgS09OVkFfRVZFTlRTID0gW1xuICAgICdtb3VzZW92ZXInLFxuICAgICdtb3VzZW91dCcsXG4gICAgJ21vdXNlZW50ZXInLFxuICAgICdtb3VzZWxlYXZlJyxcbiAgICAnbW91c2Vtb3ZlJyxcbiAgICAnbW91c2Vkb3duJyxcbiAgICAnbW91c2V1cCcsXG4gICAgJ3doZWVsJyxcbiAgICAnY2xpY2snLFxuICAgICdkYmxjbGljaycsXG4gICAgJ3RvdWNoc3RhcnQnLFxuICAgICd0b3VjaG1vdmUnLFxuICAgICd0b3VjaGVuZCcsXG4gICAgJ3RhcCcsXG4gICAgJ2RibHRhcCcsXG4gICAgJ3BvaW50ZXJkb3duJyxcbiAgICAncG9pbnRlcm1vdmUnLFxuICAgICdwb2ludGVydXAnLFxuICAgICdwb2ludGVyY2FuY2VsJyxcbiAgICAncG9pbnRlcm92ZXInLFxuICAgICdwb2ludGVyZW50ZXInLFxuICAgICdwb2ludGVyb3V0JyxcbiAgICAncG9pbnRlcmxlYXZlJyxcbiAgICAncG9pbnRlcmNsaWNrJyxcbiAgICAncG9pbnRlcmRibGNsaWNrJyxcbiAgICAnZHJhZ3N0YXJ0JyxcbiAgICAnZHJhZ21vdmUnLFxuICAgICdkcmFnZW5kJyxcbiAgICAndHJhbnNmb3Jtc3RhcnQnLFxuICAgICd0cmFuc2Zvcm0nLFxuICAgICd0cmFuc2Zvcm1lbmQnXG5dO1xuLyoqXG4gKiBSZWdpc3RlcnMgYWxsIHBvc3NpYmxlIEtvbnZhIG5vZGUgZXZlbnRzIHdpdGggdGhlIHByb3ZpZGVkIFN2ZWx0ZSBkaXNwYXRjaGVyXG4gKlxuICogQHBhcmFtIGRpc3BhdGNoXG4gKiBAcGFyYW0gbm9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJFdmVudHMoZGlzcGF0Y2gsIG5vZGUpIHtcbiAgICBLT05WQV9FVkVOVFMuZm9yRWFjaCgoZXZlbnQpID0+IHtcbiAgICAgICAgbm9kZS5vbihldmVudCwgKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGlmICghZGlzcGF0Y2goZXZlbnQsIHBheWxvYWQsIHsgY2FuY2VsYWJsZTogdHJ1ZSB9KSkge1xuICAgICAgICAgICAgICAgIHBheWxvYWQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4iLCAiLyoqXG4gKiBJbiBvcmRlciB0byBiZSBhYmxlIHRvIGRldGVjdCB0aGUgcGFyZW50IGNvbXBvbmVudCBvZiBhIHN2ZWx0ZS1rb252YSBjb21wb25lbnQgdGhlIHN2ZWx0ZSBjb250ZXh0IGlzIHVzZWQuXG4gKiBUaGlzIGZ1bmN0aW9uYWxpdHkgaXMgcmVxdWlyZWQgdG8gYXV0b21hdGljYWxseSBhZGQgdGhlIGNoaWxkIGNvbXBvbmVudHMgdG8gYSBMYXllci9TdGFnZSBldGMuXG4gKlxuICogQXMgdGhlIHN2ZWx0ZSBjb250ZXh0IGFjY2VzcyBpcyBub3QgbGltaXRlZCB0byB0aGUgZmlyc3QgY2hpbGQgb2YgYSBjb21wb25lbnQncyBjb250ZXh0IGJ1dCBhbGwgb2YgaXRzIGNoaWxkcyByZWdhcmRsZXNzIG9mIG5lc3RpbmcgbGV2ZWxcbiAqIGEgdHJpY2sgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCBlYWNoIHN2ZWx0ZS1rb252YSBjaGlsZCBjb21wb25lbnQgb25seSBoYXMgYWNjZXNzIHRvIGl0cyBwYXJlbnQgYW5kIG5vdCBhbnkgZ3JhbmRwYXJlbnQgY29tcG9uZW50cy5cbiAqIEVhY2ggdGltZSB0aGUgc2V0Q29udGFpbmVyQ29udGV4dCgpIGZ1bmN0aW9uIGlzIGNhbGxlZCB0aGUgY29udGV4dCBvZiB0aGUgcGFyZW50IGNvbnRhaW5lciBpcyBudWxsZWQsIHRodXMgZW5zdXJpbmcgdGhhdCB0aGUgY2hpbGQgY29tcG9uZW50c1xuICogZG8gbm90IGhhdmUgYWNjZXNzIHRvIGFueSBncmFuZHBhcmVudCBjb250ZXh0LlxuICovXG5pbXBvcnQgeyBnZXRDb250ZXh0LCBzZXRDb250ZXh0IH0gZnJvbSAnc3ZlbHRlJztcbi8qKiBLZXlzIHVzZWQgZm9yIGVhY2gga29udmEgY29udGFpbmVyIGVsZW1lbnQgaW4gdGhlIHN2ZWx0ZSBjb250ZXh0ICovXG5leHBvcnQgY29uc3QgQ09OVEFJTkVSX0NPTVBPTkVOVF9LRVlTID0gW1xuICAgICdzdmVsdGUta29udmEtc3RhZ2UnLFxuICAgICdzdmVsdGUta29udmEtbGF5ZXInLFxuICAgICdzdmVsdGUta29udmEtZ3JvdXAnLFxuICAgICdzdmVsdGUta29udmEtbGFiZWwnXG5dO1xuLyoqIEtvbnZhIGNvbnRhaW5lciBraW5kICovXG5leHBvcnQgdmFyIENvbnRhaW5lcjtcbihmdW5jdGlvbiAoQ29udGFpbmVyKSB7XG4gICAgQ29udGFpbmVyW0NvbnRhaW5lcltcIlN0YWdlXCJdID0gMF0gPSBcIlN0YWdlXCI7XG4gICAgQ29udGFpbmVyW0NvbnRhaW5lcltcIkxheWVyXCJdID0gMV0gPSBcIkxheWVyXCI7XG4gICAgQ29udGFpbmVyW0NvbnRhaW5lcltcIkdyb3VwXCJdID0gMl0gPSBcIkdyb3VwXCI7XG4gICAgQ29udGFpbmVyW0NvbnRhaW5lcltcIkxhYmVsXCJdID0gM10gPSBcIkxhYmVsXCI7XG59KShDb250YWluZXIgfHwgKENvbnRhaW5lciA9IHt9KSk7XG5leHBvcnQgY29uc3QgQ09OVEFJTkVSX0VSUk9SID0gJ3N2ZWx0ZS1rb252YTogQ29tcG9uZW50IGRvZXMgbm90IGhhdmUgYW55IHBhcmVudCBjb250YWluZXIuIFBsZWFzZSBtYWtlIHN1cmUgdGhhdCB0aGUgY29tcG9uZW50IGlzIHdyYXBwZWQgaW5zaWRlIGEgTGF5ZXIgb3IgR3JvdXAuJztcbmV4cG9ydCBjb25zdCBMQVlFUl9FUlJPUiA9ICdzdmVsdGUta29udmE6IEEgTGF5ZXIgbmVlZHMgdG8gaGF2ZSBhIFN0YWdlIGFzIHBhcmVudC4nO1xuLyoqXG4gKiBTZXRzIHRoZSBzdmVsdGUgY29udGV4dCBvZiB0aGUgY2FsbGluZyBtb2R1bGUgdG8gdGhlIHByb3ZpZGVkIGtvbnZhIGNvbnRhaW5lciB0eXBlXG4gKlxuICogKipDYXV0aW9uOioqIFRoaXMgZnVuY3Rpb24gY2FuIG9ubHkgYmUgc3VjY2Vzc2Z1bGx5IGNhbGxlZCBpbiB0aGUgaW5pdGlhbGl6YXRpb24gcGFydCBvZiBhIHN2ZWx0ZSBjb21wb25lbnRcbiAqXG4gKiBAcGFyYW0ga2luZCBUaGUgY3VycmVudCBrb252YSBjb250YWluZXIga2luZFxuICogQHBhcmFtIHZhbHVlIFRoZSB3cml0YWJsZSBzdG9yZSBhc3NvY2lhdGVkIHdpdGggdGhlIGNvbnRhaW5lclxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29udGFpbmVyQ29udGV4dChraW5kLCB2YWx1ZSkge1xuICAgIC8vIFNldCBhbGwgcGFyZW50IGNvbnRleHQgdG8gbnVsbFxuICAgIENPTlRBSU5FUl9DT01QT05FTlRfS0VZUy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgc2V0Q29udGV4dChrZXksIG51bGwpO1xuICAgIH0pO1xuICAgIHNldENvbnRleHQoQ09OVEFJTkVSX0NPTVBPTkVOVF9LRVlTW2tpbmRdLCB2YWx1ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyZW50Q29udGFpbmVyKCkge1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGdldENvbnRleHQoQ09OVEFJTkVSX0NPTVBPTkVOVF9LRVlTW2ldKTtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoQ09OVEFJTkVSX0VSUk9SKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJlbnRTdGFnZSgpIHtcbiAgICBjb25zdCBwYXJlbnQgPSBnZXRDb250ZXh0KENPTlRBSU5FUl9DT01QT05FTlRfS0VZU1tDb250YWluZXIuU3RhZ2VdKTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihMQVlFUl9FUlJPUik7XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuLyoqXG4gKiBPbmx5IGNvcGllcyBmaWVsZHMgZnJvbSB0aGUgc291cmNlIG9iamVjdCB0aGF0IGFscmVhZHkgZXhpc3Qgb24gdGhlIHRhcmdldCBvYmplY3QsIHNraXBwaW5nIGV2ZXJ5dGhpbmcgZWxzZVxuICogQHBhcmFtIHRhcmdldFxuICogQHBhcmFtIHNvdXJjZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29weUV4aXN0aW5nS2V5cyh0YXJnZXQsIHNvdXJjZSkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHRhcmdldCkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsICI8IS0tXG5AY29tcG9uZW50XG5UaGUgQXJyb3cgY29tcG9uZW50IG5lZWRzIHRvIGJlIHBsYWNlZCBlaXRoZXIgaW5zaWRlIGEgc3ZlbHRlLWtvbnZhIExheWVyIG9yIEdyb3VwIGNvbXBvbmVudC4gXG5cbiMjIyBVc2FnZTpcbmBgYHRzeFxuPEFycm93IGNvbmZpZz17eyB4OiAxMDAsIHk6IDEwMCwgcG9pbnRzOiBbMCwgMCwgNDAsIDQwXSwgcG9pbnRlckxlbmd0aDogMjAsIHBvaW50ZXJXaWR0aDogMjAsIGZpbGw6IFwiYmx1ZVwiLCBzdHJva2U6IFwiYmx1ZVwiLCBzdHJva2VXaWR0aDogNiB9fSAvPlxuYGBgXG5cbiMjIyBTdGF0aWMgY29uZmlnOlxuQnkgZGVmYXVsdCBzdmVsdGUta29udmEgd2lsbCBhdXRvbWF0aWNhbGx5IHVwZGF0ZSB5b3VyIGNvbmZpZyBwcm9wIG9uIGBkcmFnZW5kYCBhbmQgYHRyYW5zZm9ybWVuZGAgZXZlbnRzIHRvIG1hdGNoIHRoZSBjb25maWcgc3RhdGUgKHBvc2l0aW9uLCByb3RhdGlvbiwgc2NhbGUsIC4uLikgd2l0aCB0aGUgaW50ZXJuYWwgS29udmEgc3RhdGUuIFxuSWYgeW91IGFkZGl0aW9uYWxseSBiaW5kIHRoZSBjb25maWcgcHJvcCB5b3VyIHJlYWN0aXZlIGJsb2NrcyB3aWxsIGFsc28gYmUgdHJpZ2dlcmVkIG9uY2UgdGhpcyBoYXBwZW5zLiBcblRoZXJlIG1pZ2h0IGJlIGNhc2VzIHdoZXJlIHRoaXMgYmVoYXZpb3IgaXMgbm90IGJlbmVmaWNpYWwgaW4gdGhpcyBjYXNlIHlvdSBjYW4gZGlzYWJsZSBpdCBieSBwYXNzaW5nIHRoZSBgc3RhdGljQ29uZmlnID0gdHJ1ZWAgcHJvcCB0byB0aGUgY29tcG9uZW50LlxuXG5GdXJ0aGVyIGluZm9ybWF0aW9uOiBbS29udmEgQVBJIGRvY3NdKGh0dHBzOi8va29udmFqcy5vcmcvYXBpL0tvbnZhLkFycm93Lmh0bWwpLCBbc3ZlbHRlLWtvbnZhIGRvY3NdKGh0dHBzOi8va29udmFqcy5vcmcvZG9jcy9zdmVsdGUpXG4tLT5cbjxzY3JpcHQ+LyoqXG4gKiBXQVJOSU5HOiBUaGlzIGNvbXBvbmVudCBpcyBhdXRvZ2VuZXJhdGVkIHVzaW5nIHRoZSBzdmVsdGVLb252YUNvbXBvbmVudC5oYnMgdGVtcGxhdGUuIERvIG5vdCBlZGl0IHRoaXMgZmlsZSBtYW51YWxseSFcbiAqL1xuaW1wb3J0IEtvbnZhIGZyb20gJ2tvbnZhJztcbmltcG9ydCB7IG9uTW91bnQsIG9uRGVzdHJveSwgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnc3ZlbHRlJztcbmltcG9ydCB7IHJlZ2lzdGVyRXZlbnRzIH0gZnJvbSAnLi91dGlsL2V2ZW50cyc7XG5pbXBvcnQgeyBnZXRQYXJlbnRDb250YWluZXIgfSBmcm9tICcuL3V0aWwvbWFuYWdlQ29udGV4dCc7XG5pbXBvcnQgeyBjb3B5RXhpc3RpbmdLZXlzIH0gZnJvbSAnLi91dGlsL29iamVjdCc7XG5leHBvcnQgbGV0IGNvbmZpZztcbmV4cG9ydCBsZXQgaGFuZGxlID0gbmV3IEtvbnZhLkFycm93KGNvbmZpZyk7XG5leHBvcnQgbGV0IHN0YXRpY0NvbmZpZyA9IGZhbHNlO1xubGV0IHBhcmVudCA9IGdldFBhcmVudENvbnRhaW5lcigpO1xubGV0IGRpc3BhdGNoZXIgPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcbiQ6IGhhbmRsZS5zZXRBdHRycyhjb25maWcpO1xub25Nb3VudCgoKSA9PiB7XG4gICAgJHBhcmVudC5hZGQoaGFuZGxlKTtcbiAgICBpZiAoIXN0YXRpY0NvbmZpZykge1xuICAgICAgICBoYW5kbGUub24oJ3RyYW5zZm9ybWVuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvcHlFeGlzdGluZ0tleXMoY29uZmlnLCBoYW5kbGUuZ2V0QXR0cnMoKSk7XG4gICAgICAgICAgICBjb25maWcgPSBjb25maWc7XG4gICAgICAgIH0pO1xuICAgICAgICBoYW5kbGUub24oJ2RyYWdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb3B5RXhpc3RpbmdLZXlzKGNvbmZpZywgaGFuZGxlLmdldEF0dHJzKCkpO1xuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVnaXN0ZXJFdmVudHMoZGlzcGF0Y2hlciwgaGFuZGxlKTtcbn0pO1xub25EZXN0cm95KCgpID0+IHtcbiAgICBoYW5kbGUuZGVzdHJveSgpO1xufSk7XG48L3NjcmlwdD5cbiIsICI8IS0tXG5AY29tcG9uZW50XG5UaGUgQ2lyY2xlIGNvbXBvbmVudCBuZWVkcyB0byBiZSBwbGFjZWQgZWl0aGVyIGluc2lkZSBhIHN2ZWx0ZS1rb252YSBMYXllciBvciBHcm91cCBjb21wb25lbnQuIFxuXG4jIyMgVXNhZ2U6XG5gYGB0c3hcbjxDaXJjbGUgY29uZmlnPXt7IHg6IDEwMCwgeTogMTAwLCByYWRpdXM6IDUwLCBmaWxsOiBcImJsdWVcIiB9fSAvPlxuYGBgXG5cbiMjIyBTdGF0aWMgY29uZmlnOlxuQnkgZGVmYXVsdCBzdmVsdGUta29udmEgd2lsbCBhdXRvbWF0aWNhbGx5IHVwZGF0ZSB5b3VyIGNvbmZpZyBwcm9wIG9uIGBkcmFnZW5kYCBhbmQgYHRyYW5zZm9ybWVuZGAgZXZlbnRzIHRvIG1hdGNoIHRoZSBjb25maWcgc3RhdGUgKHBvc2l0aW9uLCByb3RhdGlvbiwgc2NhbGUsIC4uLikgd2l0aCB0aGUgaW50ZXJuYWwgS29udmEgc3RhdGUuIFxuSWYgeW91IGFkZGl0aW9uYWxseSBiaW5kIHRoZSBjb25maWcgcHJvcCB5b3VyIHJlYWN0aXZlIGJsb2NrcyB3aWxsIGFsc28gYmUgdHJpZ2dlcmVkIG9uY2UgdGhpcyBoYXBwZW5zLiBcblRoZXJlIG1pZ2h0IGJlIGNhc2VzIHdoZXJlIHRoaXMgYmVoYXZpb3IgaXMgbm90IGJlbmVmaWNpYWwgaW4gdGhpcyBjYXNlIHlvdSBjYW4gZGlzYWJsZSBpdCBieSBwYXNzaW5nIHRoZSBgc3RhdGljQ29uZmlnID0gdHJ1ZWAgcHJvcCB0byB0aGUgY29tcG9uZW50LlxuXG5GdXJ0aGVyIGluZm9ybWF0aW9uOiBbS29udmEgQVBJIGRvY3NdKGh0dHBzOi8va29udmFqcy5vcmcvYXBpL0tvbnZhLkNpcmNsZS5odG1sKSwgW3N2ZWx0ZS1rb252YSBkb2NzXShodHRwczovL2tvbnZhanMub3JnL2RvY3Mvc3ZlbHRlKVxuLS0+XG48c2NyaXB0Pi8qKlxuICogV0FSTklORzogVGhpcyBjb21wb25lbnQgaXMgYXV0b2dlbmVyYXRlZCB1c2luZyB0aGUgc3ZlbHRlS29udmFDb21wb25lbnQuaGJzIHRlbXBsYXRlLiBEbyBub3QgZWRpdCB0aGlzIGZpbGUgbWFudWFsbHkhXG4gKi9cbmltcG9ydCBLb252YSBmcm9tICdrb252YSc7XG5pbXBvcnQgeyBvbk1vdW50LCBvbkRlc3Ryb3ksIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciB9IGZyb20gJ3N2ZWx0ZSc7XG5pbXBvcnQgeyByZWdpc3RlckV2ZW50cyB9IGZyb20gJy4vdXRpbC9ldmVudHMnO1xuaW1wb3J0IHsgZ2V0UGFyZW50Q29udGFpbmVyIH0gZnJvbSAnLi91dGlsL21hbmFnZUNvbnRleHQnO1xuaW1wb3J0IHsgY29weUV4aXN0aW5nS2V5cyB9IGZyb20gJy4vdXRpbC9vYmplY3QnO1xuZXhwb3J0IGxldCBjb25maWc7XG5leHBvcnQgbGV0IGhhbmRsZSA9IG5ldyBLb252YS5DaXJjbGUoY29uZmlnKTtcbmV4cG9ydCBsZXQgc3RhdGljQ29uZmlnID0gZmFsc2U7XG5sZXQgcGFyZW50ID0gZ2V0UGFyZW50Q29udGFpbmVyKCk7XG5sZXQgZGlzcGF0Y2hlciA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpO1xuJDogaGFuZGxlLnNldEF0dHJzKGNvbmZpZyk7XG5vbk1vdW50KCgpID0+IHtcbiAgICAkcGFyZW50LmFkZChoYW5kbGUpO1xuICAgIGlmICghc3RhdGljQ29uZmlnKSB7XG4gICAgICAgIGhhbmRsZS5vbigndHJhbnNmb3JtZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29weUV4aXN0aW5nS2V5cyhjb25maWcsIGhhbmRsZS5nZXRBdHRycygpKTtcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgfSk7XG4gICAgICAgIGhhbmRsZS5vbignZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvcHlFeGlzdGluZ0tleXMoY29uZmlnLCBoYW5kbGUuZ2V0QXR0cnMoKSk7XG4gICAgICAgICAgICBjb25maWcgPSBjb25maWc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWdpc3RlckV2ZW50cyhkaXNwYXRjaGVyLCBoYW5kbGUpO1xufSk7XG5vbkRlc3Ryb3koKCkgPT4ge1xuICAgIGhhbmRsZS5kZXN0cm95KCk7XG59KTtcbjwvc2NyaXB0PlxuIiwgIjwhLS1cbkBjb21wb25lbnRcblRoZSBFbGxpcHNlIGNvbXBvbmVudCBuZWVkcyB0byBiZSBwbGFjZWQgZWl0aGVyIGluc2lkZSBhIHN2ZWx0ZS1rb252YSBMYXllciBvciBHcm91cCBjb21wb25lbnQuIFxuXG4jIyMgVXNhZ2U6XG5gYGB0c3hcbjxFbGxpcHNlIGNvbmZpZz17eyB4OiAxMDAsIHk6IDEwMCwgcmFkaXVzWDogNTAsIHJhZGl1c1k6IDI1LCBmaWxsOiBcImJsdWVcIiB9fSAvPlxuYGBgXG5cbiMjIyBTdGF0aWMgY29uZmlnOlxuQnkgZGVmYXVsdCBzdmVsdGUta29udmEgd2lsbCBhdXRvbWF0aWNhbGx5IHVwZGF0ZSB5b3VyIGNvbmZpZyBwcm9wIG9uIGBkcmFnZW5kYCBhbmQgYHRyYW5zZm9ybWVuZGAgZXZlbnRzIHRvIG1hdGNoIHRoZSBjb25maWcgc3RhdGUgKHBvc2l0aW9uLCByb3RhdGlvbiwgc2NhbGUsIC4uLikgd2l0aCB0aGUgaW50ZXJuYWwgS29udmEgc3RhdGUuIFxuSWYgeW91IGFkZGl0aW9uYWxseSBiaW5kIHRoZSBjb25maWcgcHJvcCB5b3VyIHJlYWN0aXZlIGJsb2NrcyB3aWxsIGFsc28gYmUgdHJpZ2dlcmVkIG9uY2UgdGhpcyBoYXBwZW5zLiBcblRoZXJlIG1pZ2h0IGJlIGNhc2VzIHdoZXJlIHRoaXMgYmVoYXZpb3IgaXMgbm90IGJlbmVmaWNpYWwgaW4gdGhpcyBjYXNlIHlvdSBjYW4gZGlzYWJsZSBpdCBieSBwYXNzaW5nIHRoZSBgc3RhdGljQ29uZmlnID0gdHJ1ZWAgcHJvcCB0byB0aGUgY29tcG9uZW50LlxuXG5GdXJ0aGVyIGluZm9ybWF0aW9uOiBbS29udmEgQVBJIGRvY3NdKGh0dHBzOi8va29udmFqcy5vcmcvYXBpL0tvbnZhLkVsbGlwc2UuaHRtbCksIFtzdmVsdGUta29udmEgZG9jc10oaHR0cHM6Ly9rb252YWpzLm9yZy9kb2NzL3N2ZWx0ZSlcbi0tPlxuPHNjcmlwdD4vKipcbiAqIFdBUk5JTkc6IFRoaXMgY29tcG9uZW50IGlzIGF1dG9nZW5lcmF0ZWQgdXNpbmcgdGhlIHN2ZWx0ZUtvbnZhQ29tcG9uZW50LmhicyB0ZW1wbGF0ZS4gRG8gbm90IGVkaXQgdGhpcyBmaWxlIG1hbnVhbGx5IVxuICovXG5pbXBvcnQgS29udmEgZnJvbSAna29udmEnO1xuaW1wb3J0IHsgb25Nb3VudCwgb25EZXN0cm95LCBjcmVhdGVFdmVudERpc3BhdGNoZXIgfSBmcm9tICdzdmVsdGUnO1xuaW1wb3J0IHsgcmVnaXN0ZXJFdmVudHMgfSBmcm9tICcuL3V0aWwvZXZlbnRzJztcbmltcG9ydCB7IGdldFBhcmVudENvbnRhaW5lciB9IGZyb20gJy4vdXRpbC9tYW5hZ2VDb250ZXh0JztcbmltcG9ydCB7IGNvcHlFeGlzdGluZ0tleXMgfSBmcm9tICcuL3V0aWwvb2JqZWN0JztcbmV4cG9ydCBsZXQgY29uZmlnO1xuZXhwb3J0IGxldCBoYW5kbGUgPSBuZXcgS29udmEuRWxsaXBzZShjb25maWcpO1xuZXhwb3J0IGxldCBzdGF0aWNDb25maWcgPSBmYWxzZTtcbmxldCBwYXJlbnQgPSBnZXRQYXJlbnRDb250YWluZXIoKTtcbmxldCBkaXNwYXRjaGVyID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XG4kOiBoYW5kbGUuc2V0QXR0cnMoY29uZmlnKTtcbm9uTW91bnQoKCkgPT4ge1xuICAgICRwYXJlbnQuYWRkKGhhbmRsZSk7XG4gICAgaWYgKCFzdGF0aWNDb25maWcpIHtcbiAgICAgICAgaGFuZGxlLm9uKCd0cmFuc2Zvcm1lbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb3B5RXhpc3RpbmdLZXlzKGNvbmZpZywgaGFuZGxlLmdldEF0dHJzKCkpO1xuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnO1xuICAgICAgICB9KTtcbiAgICAgICAgaGFuZGxlLm9uKCdkcmFnZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29weUV4aXN0aW5nS2V5cyhjb25maWcsIGhhbmRsZS5nZXRBdHRycygpKTtcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyRXZlbnRzKGRpc3BhdGNoZXIsIGhhbmRsZSk7XG59KTtcbm9uRGVzdHJveSgoKSA9PiB7XG4gICAgaGFuZGxlLmRlc3Ryb3koKTtcbn0pO1xuPC9zY3JpcHQ+XG4iLCAiPCEtLVxuQGNvbXBvbmVudFxuVGhlIEdyb3VwIGNvbXBvbmVudCBuZWVkcyB0byBiZSBwbGFjZWQgaW5zaWRlIGEgc3ZlbHRlLWtvbnZhIExheWVyIG9yIEdyb3VwIGNvbXBvbmVudC4gXG5cblRoZSBHcm91cCBjb21wb25lbnQgYXV0b21hdGljYWxseSBncm91cHMgYWxsIGNvbXBvbmVudHMgdGhhdCBhcmUgcGxhY2VkIGluc2lkZSBpdC5cblxuIyMjIFVzYWdlOlxuYGBgdHN4XG48R3JvdXA+XG5cdFBsYWNlIGNvbXBvbmVudHMgdGhhdCBzaG91bGQgYmUgZ3JvdXBlZCBoZXJlXG48L0dyb3VwPlxuYGBgXG5cbiMjIyBTdGF0aWMgY29uZmlnOlxuQnkgZGVmYXVsdCBzdmVsdGUta29udmEgd2lsbCBhdXRvbWF0aWNhbGx5IHVwZGF0ZSB5b3VyIGNvbmZpZyBwcm9wIG9uIGBkcmFnZW5kYCBhbmQgYHRyYW5zZm9ybWVuZGAgZXZlbnRzIHRvIG1hdGNoIHRoZSBjb25maWcgc3RhdGUgKHBvc2l0aW9uLCByb3RhdGlvbiwgc2NhbGUsIC4uLikgd2l0aCB0aGUgaW50ZXJuYWwgS29udmEgc3RhdGUuIFxuSWYgeW91IGFkZGl0aW9uYWxseSBiaW5kIHRoZSBjb25maWcgcHJvcCB5b3VyIHJlYWN0aXZlIGJsb2NrcyB3aWxsIGFsc28gYmUgdHJpZ2dlcmVkIG9uY2UgdGhpcyBoYXBwZW5zLiBcblRoZXJlIG1pZ2h0IGJlIGNhc2VzIHdoZXJlIHRoaXMgYmVoYXZpb3IgaXMgbm90IGJlbmVmaWNpYWwgaW4gdGhpcyBjYXNlIHlvdSBjYW4gZGlzYWJsZSBpdCBieSBwYXNzaW5nIHRoZSBgc3RhdGljQ29uZmlnID0gdHJ1ZWAgcHJvcCB0byB0aGUgY29tcG9uZW50LlxuXG5GdXJ0aGVyIGluZm9ybWF0aW9uOiBbS29udmEgQVBJIGRvY3NdKGh0dHBzOi8va29udmFqcy5vcmcvYXBpL0tvbnZhLkdyb3VwLmh0bWwpLCBbc3ZlbHRlLWtvbnZhIGRvY3NdKGh0dHBzOi8va29udmFqcy5vcmcvZG9jcy9zdmVsdGUpXG4tLT5cbjxzY3JpcHQ+aW1wb3J0IEtvbnZhIGZyb20gJ2tvbnZhJztcbmltcG9ydCB7IG9uTW91bnQsIG9uRGVzdHJveSwgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnc3ZlbHRlJztcbmltcG9ydCB7IHdyaXRhYmxlIH0gZnJvbSAnc3ZlbHRlL3N0b3JlJztcbmltcG9ydCB7IENvbnRhaW5lciwgZ2V0UGFyZW50Q29udGFpbmVyLCBzZXRDb250YWluZXJDb250ZXh0IH0gZnJvbSAnLi91dGlsL21hbmFnZUNvbnRleHQnO1xuaW1wb3J0IHsgcmVnaXN0ZXJFdmVudHMgfSBmcm9tICcuL3V0aWwvZXZlbnRzJztcbmltcG9ydCB7IGNvcHlFeGlzdGluZ0tleXMgfSBmcm9tICcuL3V0aWwvb2JqZWN0JztcbmV4cG9ydCBsZXQgY29uZmlnID0ge307XG5leHBvcnQgbGV0IGhhbmRsZSA9IG5ldyBLb252YS5Hcm91cChjb25maWcpO1xuZXhwb3J0IGxldCBzdGF0aWNDb25maWcgPSBmYWxzZTtcbmxldCBpbm5lciA9IHdyaXRhYmxlKG51bGwpO1xubGV0IGRpc3BhdGNoZXIgPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcbmxldCBpc1JlYWR5ID0gZmFsc2U7XG4kOiBpZiAoaGFuZGxlKSB7XG4gICAgaGFuZGxlLnNldEF0dHJzKGNvbmZpZyk7XG59XG5sZXQgcGFyZW50ID0gZ2V0UGFyZW50Q29udGFpbmVyKCk7XG5vbk1vdW50KCgpID0+IHtcbiAgICAkcGFyZW50LmFkZChoYW5kbGUpO1xuICAgIGlmICghc3RhdGljQ29uZmlnKSB7XG4gICAgICAgIGhhbmRsZS5vbigndHJhbnNmb3JtZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29weUV4aXN0aW5nS2V5cyhjb25maWcsIGhhbmRsZS5nZXRBdHRycygpKTtcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgfSk7XG4gICAgICAgIGhhbmRsZS5vbignZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvcHlFeGlzdGluZ0tleXMoY29uZmlnLCBoYW5kbGUuZ2V0QXR0cnMoKSk7XG4gICAgICAgICAgICBjb25maWcgPSBjb25maWc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWdpc3RlckV2ZW50cyhkaXNwYXRjaGVyLCBoYW5kbGUpO1xuICAgIGlubmVyLnNldChoYW5kbGUpO1xuICAgIGlzUmVhZHkgPSB0cnVlO1xufSk7XG5vbkRlc3Ryb3koKCkgPT4ge1xuICAgIGlmIChoYW5kbGUpIHtcbiAgICAgICAgaGFuZGxlLmRlc3Ryb3koKTtcbiAgICB9XG59KTtcbnNldENvbnRhaW5lckNvbnRleHQoQ29udGFpbmVyLkdyb3VwLCBpbm5lcik7XG48L3NjcmlwdD5cblxueyNpZiBpc1JlYWR5fVxuXHQ8c2xvdCAvPlxuey9pZn1cbiIsICI8IS0tXG5AY29tcG9uZW50XG5UaGUgSW1hZ2UgY29tcG9uZW50IG5lZWRzIHRvIGJlIHBsYWNlZCBlaXRoZXIgaW5zaWRlIGEgc3ZlbHRlLWtvbnZhIExheWVyIG9yIEdyb3VwIGNvbXBvbmVudC4gXG5cbiMjIyBVc2FnZTpcbmBgYHRzeFxuPEltYWdlIGNvbmZpZz17eyB4OiAxMDAsIHk6IDEwMCwgaW1hZ2U6IGltYWdlT2JqLCB3aWR0aDogMTAwLCBoZWlnaHQ6IDEwMCB9fSAvPlxuYGBgXG5cbiMjIyBTdGF0aWMgY29uZmlnOlxuQnkgZGVmYXVsdCBzdmVsdGUta29udmEgd2lsbCBhdXRvbWF0aWNhbGx5IHVwZGF0ZSB5b3VyIGNvbmZpZyBwcm9wIG9uIGBkcmFnZW5kYCBhbmQgYHRyYW5zZm9ybWVuZGAgZXZlbnRzIHRvIG1hdGNoIHRoZSBjb25maWcgc3RhdGUgKHBvc2l0aW9uLCByb3RhdGlvbiwgc2NhbGUsIC4uLikgd2l0aCB0aGUgaW50ZXJuYWwgS29udmEgc3RhdGUuIFxuSWYgeW91IGFkZGl0aW9uYWxseSBiaW5kIHRoZSBjb25maWcgcHJvcCB5b3VyIHJlYWN0aXZlIGJsb2NrcyB3aWxsIGFsc28gYmUgdHJpZ2dlcmVkIG9uY2UgdGhpcyBoYXBwZW5zLiBcblRoZXJlIG1pZ2h0IGJlIGNhc2VzIHdoZXJlIHRoaXMgYmVoYXZpb3IgaXMgbm90IGJlbmVmaWNpYWwgaW4gdGhpcyBjYXNlIHlvdSBjYW4gZGlzYWJsZSBpdCBieSBwYXNzaW5nIHRoZSBgc3RhdGljQ29uZmlnID0gdHJ1ZWAgcHJvcCB0byB0aGUgY29tcG9uZW50LlxuXG5GdXJ0aGVyIGluZm9ybWF0aW9uOiBbS29udmEgQVBJIGRvY3NdKGh0dHBzOi8va29udmFqcy5vcmcvYXBpL0tvbnZhLkltYWdlLmh0bWwpLCBbc3ZlbHRlLWtvbnZhIGRvY3NdKGh0dHBzOi8va29udmFqcy5vcmcvZG9jcy9zdmVsdGUpXG4tLT5cbjxzY3JpcHQ+LyoqXG4gKiBXQVJOSU5HOiBUaGlzIGNvbXBvbmVudCBpcyBhdXRvZ2VuZXJhdGVkIHVzaW5nIHRoZSBzdmVsdGVLb252YUNvbXBvbmVudC5oYnMgdGVtcGxhdGUuIERvIG5vdCBlZGl0IHRoaXMgZmlsZSBtYW51YWxseSFcbiAqL1xuaW1wb3J0IEtvbnZhIGZyb20gJ2tvbnZhJztcbmltcG9ydCB7IG9uTW91bnQsIG9uRGVzdHJveSwgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnc3ZlbHRlJztcbmltcG9ydCB7IHJlZ2lzdGVyRXZlbnRzIH0gZnJvbSAnLi91dGlsL2V2ZW50cyc7XG5pbXBvcnQgeyBnZXRQYXJlbnRDb250YWluZXIgfSBmcm9tICcuL3V0aWwvbWFuYWdlQ29udGV4dCc7XG5pbXBvcnQgeyBjb3B5RXhpc3RpbmdLZXlzIH0gZnJvbSAnLi91dGlsL29iamVjdCc7XG5leHBvcnQgbGV0IGNvbmZpZztcbmV4cG9ydCBsZXQgaGFuZGxlID0gbmV3IEtvbnZhLkltYWdlKGNvbmZpZyk7XG5leHBvcnQgbGV0IHN0YXRpY0NvbmZpZyA9IGZhbHNlO1xubGV0IHBhcmVudCA9IGdldFBhcmVudENvbnRhaW5lcigpO1xubGV0IGRpc3BhdGNoZXIgPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcbiQ6IGhhbmRsZS5zZXRBdHRycyhjb25maWcpO1xub25Nb3VudCgoKSA9PiB7XG4gICAgJHBhcmVudC5hZGQoaGFuZGxlKTtcbiAgICBpZiAoIXN0YXRpY0NvbmZpZykge1xuICAgICAgICBoYW5kbGUub24oJ3RyYW5zZm9ybWVuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvcHlFeGlzdGluZ0tleXMoY29uZmlnLCBoYW5kbGUuZ2V0QXR0cnMoKSk7XG4gICAgICAgICAgICBjb25maWcgPSBjb25maWc7XG4gICAgICAgIH0pO1xuICAgICAgICBoYW5kbGUub24oJ2RyYWdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb3B5RXhpc3RpbmdLZXlzKGNvbmZpZywgaGFuZGxlLmdldEF0dHJzKCkpO1xuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVnaXN0ZXJFdmVudHMoZGlzcGF0Y2hlciwgaGFuZGxlKTtcbn0pO1xub25EZXN0cm95KCgpID0+IHtcbiAgICBoYW5kbGUuZGVzdHJveSgpO1xufSk7XG48L3NjcmlwdD5cbiIsICI8IS0tXG5AY29tcG9uZW50XG5UaGUgTGFiZWwgY29tcG9uZW50IG5lZWRzIHRvIGJlIHBsYWNlZCBlaXRoZXIgaW5zaWRlIGEgc3ZlbHRlLWtvbnZhIExheWVyIG9yIEdyb3VwIGNvbXBvbmVudC4gXG5cblRvIHdvcmsgYXMgaW50ZW5kZWQgaXQgbmVlZHMgdG8gY29udGFpbiBhIFRhZyBjb21wb25lbnQgYXMgd2VsbCBhcyBhIFRleHQgY29tcG9uZW50IGluIHRoZSBvcmRlciBzaG93biBiZWxvdy5cblxuIyMjIFVzYWdlOlxuYGBgdHN4XG48TGFiZWwgY29uZmlnPXt7eDogMTAwLCB5OiAxMDAsIG9wYWNpdHk6IDAuOH19PlxuXHQ8VGFnIGNvbmZpZz17e2ZpbGw6IFwiYmxhY2tcIiwgcG9pbnRlckRpcmVjdGlvbjogXCJkb3duXCIsIHBvaW50ZXJXaWR0aDogMTAsIHBvaW50ZXJIZWlnaHQ6IDEwLCBsaW5lSm9pbjogXCJyb3VuZFwiIH19IC8+XG5cdDxUZXh0IGNvbmZpZz17eyB0ZXh0OiBcInNvbWUgbGFiZWwgdGV4dFwiLCBmb250U2l6ZTogMTgsIHBhZGRpbmc6IDEwLCBmaWxsOiBcIndoaXRlXCIgfX0gLz5cbjwvTGFiZWw+XG5gYGBcblxuIyMjIFN0YXRpYyBjb25maWc6XG5CeSBkZWZhdWx0IHN2ZWx0ZS1rb252YSB3aWxsIGF1dG9tYXRpY2FsbHkgdXBkYXRlIHlvdXIgY29uZmlnIHByb3Agb24gYGRyYWdlbmRgIGFuZCBgdHJhbnNmb3JtZW5kYCBldmVudHMgdG8gbWF0Y2ggdGhlIGNvbmZpZyBzdGF0ZSAocG9zaXRpb24sIHJvdGF0aW9uLCBzY2FsZSwgLi4uKSB3aXRoIHRoZSBpbnRlcm5hbCBLb252YSBzdGF0ZS4gXG5JZiB5b3UgYWRkaXRpb25hbGx5IGJpbmQgdGhlIGNvbmZpZyBwcm9wIHlvdXIgcmVhY3RpdmUgYmxvY2tzIHdpbGwgYWxzbyBiZSB0cmlnZ2VyZWQgb25jZSB0aGlzIGhhcHBlbnMuIFxuVGhlcmUgbWlnaHQgYmUgY2FzZXMgd2hlcmUgdGhpcyBiZWhhdmlvciBpcyBub3QgYmVuZWZpY2lhbCBpbiB0aGlzIGNhc2UgeW91IGNhbiBkaXNhYmxlIGl0IGJ5IHBhc3NpbmcgdGhlIGBzdGF0aWNDb25maWcgPSB0cnVlYCBwcm9wIHRvIHRoZSBjb21wb25lbnQuXG5cbkZ1cnRoZXIgaW5mb3JtYXRpb246IFtLb252YSBBUEkgZG9jc10oaHR0cHM6Ly9rb252YWpzLm9yZy9hcGkvS29udmEuTGFiZWwuaHRtbCksIFtzdmVsdGUta29udmEgZG9jc10oaHR0cHM6Ly9rb252YWpzLm9yZy9kb2NzL3N2ZWx0ZSlcbi0tPlxuPHNjcmlwdD5pbXBvcnQgS29udmEgZnJvbSAna29udmEnO1xuaW1wb3J0IHsgb25Nb3VudCwgb25EZXN0cm95LCBjcmVhdGVFdmVudERpc3BhdGNoZXIgfSBmcm9tICdzdmVsdGUnO1xuaW1wb3J0IHsgd3JpdGFibGUgfSBmcm9tICdzdmVsdGUvc3RvcmUnO1xuaW1wb3J0IHsgY29weUV4aXN0aW5nS2V5cyB9IGZyb20gJy4vdXRpbC9vYmplY3QnO1xuaW1wb3J0IHsgQ29udGFpbmVyLCBnZXRQYXJlbnRDb250YWluZXIsIHNldENvbnRhaW5lckNvbnRleHQgfSBmcm9tICcuL3V0aWwvbWFuYWdlQ29udGV4dCc7XG5pbXBvcnQgeyByZWdpc3RlckV2ZW50cyB9IGZyb20gJy4vdXRpbC9ldmVudHMnO1xuZXhwb3J0IGxldCBjb25maWc7XG5leHBvcnQgbGV0IGhhbmRsZSA9IG5ldyBLb252YS5MYWJlbChjb25maWcpO1xuZXhwb3J0IGxldCBzdGF0aWNDb25maWcgPSBmYWxzZTtcbmxldCBpbm5lciA9IHdyaXRhYmxlKG51bGwpO1xubGV0IGRpc3BhdGNoZXIgPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcbmxldCBpc1JlYWR5ID0gZmFsc2U7XG4kOiBoYW5kbGUuc2V0QXR0cnMoY29uZmlnKTtcbmxldCBwYXJlbnQgPSBnZXRQYXJlbnRDb250YWluZXIoKTtcbm9uTW91bnQoKCkgPT4ge1xuICAgICRwYXJlbnQuYWRkKGhhbmRsZSk7XG4gICAgaWYgKCFzdGF0aWNDb25maWcpIHtcbiAgICAgICAgaGFuZGxlLm9uKCd0cmFuc2Zvcm1lbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb3B5RXhpc3RpbmdLZXlzKGNvbmZpZywgaGFuZGxlLmdldEF0dHJzKCkpO1xuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnO1xuICAgICAgICB9KTtcbiAgICAgICAgaGFuZGxlLm9uKCdkcmFnZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29weUV4aXN0aW5nS2V5cyhjb25maWcsIGhhbmRsZS5nZXRBdHRycygpKTtcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyRXZlbnRzKGRpc3BhdGNoZXIsIGhhbmRsZSk7XG4gICAgaW5uZXIuc2V0KGhhbmRsZSk7XG4gICAgaXNSZWFkeSA9IHRydWU7XG59KTtcbm9uRGVzdHJveSgoKSA9PiB7XG4gICAgaGFuZGxlLmRlc3Ryb3koKTtcbn0pO1xuc2V0Q29udGFpbmVyQ29udGV4dChDb250YWluZXIuTGFiZWwsIGlubmVyKTtcbjwvc2NyaXB0PlxuXG57I2lmIGlzUmVhZHl9XG5cdDxzbG90IC8+XG57L2lmfVxuIiwgIjwhLS1cbkBjb21wb25lbnRcblRoZSBMYXllciBjb21wb25lbnQgbmVlZHMgdG8gYmUgcGxhY2VkIGluc2lkZSBhIHN2ZWx0ZS1rb252YSBTdGFnZSBjb21wb25lbnQuIFxuXG4jIyMgVXNhZ2U6XG5gYGB0c3hcbjxTdGFnZSBjb25maWc9e3sgd2lkdGg6IDEwMDAsIGhlaWdodDogMTAwMCB9fT5cblx0PExheWVyPlxuXHRcdFBsYWNlIHlvdXIgY29tcG9uZW50cyBoZXJlXG5cdDwvTGF5ZXI+XG5cblx0WW91IGFsc28gY2FuIGFkZCBtdWx0aXBsZSBMYXllcnMgdG8gYSBTdGFnZVxuPC9TdGFnZT5cbmBgYFxuXG4jIyMgU3RhdGljIGNvbmZpZzpcbkJ5IGRlZmF1bHQgc3ZlbHRlLWtvbnZhIHdpbGwgYXV0b21hdGljYWxseSB1cGRhdGUgeW91ciBjb25maWcgcHJvcCBvbiBgZHJhZ2VuZGAgYW5kIGB0cmFuc2Zvcm1lbmRgIGV2ZW50cyB0byBtYXRjaCB0aGUgY29uZmlnIHN0YXRlIChwb3NpdGlvbiwgcm90YXRpb24sIHNjYWxlLCAuLi4pIHdpdGggdGhlIGludGVybmFsIEtvbnZhIHN0YXRlLiBcbklmIHlvdSBhZGRpdGlvbmFsbHkgYmluZCB0aGUgY29uZmlnIHByb3AgeW91ciByZWFjdGl2ZSBibG9ja3Mgd2lsbCBhbHNvIGJlIHRyaWdnZXJlZCBvbmNlIHRoaXMgaGFwcGVucy4gXG5UaGVyZSBtaWdodCBiZSBjYXNlcyB3aGVyZSB0aGlzIGJlaGF2aW9yIGlzIG5vdCBiZW5lZmljaWFsIGluIHRoaXMgY2FzZSB5b3UgY2FuIGRpc2FibGUgaXQgYnkgcGFzc2luZyB0aGUgYHN0YXRpY0NvbmZpZyA9IHRydWVgIHByb3AgdG8gdGhlIGNvbXBvbmVudC5cblxuRnVydGhlciBpbmZvcm1hdGlvbjogW0tvbnZhIEFQSSBkb2NzXShodHRwczovL2tvbnZhanMub3JnL2FwaS9Lb252YS5MYXllci5odG1sKSwgW3N2ZWx0ZS1rb252YSBkb2NzXShodHRwczovL2tvbnZhanMub3JnL2RvY3Mvc3ZlbHRlKVxuLS0+XG48c2NyaXB0PmltcG9ydCBLb252YSBmcm9tICdrb252YSc7XG5pbXBvcnQgeyBvbk1vdW50LCBvbkRlc3Ryb3ksIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciB9IGZyb20gJ3N2ZWx0ZSc7XG5pbXBvcnQgeyB3cml0YWJsZSB9IGZyb20gJ3N2ZWx0ZS9zdG9yZSc7XG5pbXBvcnQgeyBDb250YWluZXIsIGdldFBhcmVudFN0YWdlLCBzZXRDb250YWluZXJDb250ZXh0IH0gZnJvbSAnLi91dGlsL21hbmFnZUNvbnRleHQnO1xuaW1wb3J0IHsgcmVnaXN0ZXJFdmVudHMgfSBmcm9tICcuL3V0aWwvZXZlbnRzJztcbmltcG9ydCB7IGNvcHlFeGlzdGluZ0tleXMgfSBmcm9tICcuL3V0aWwvb2JqZWN0JztcbmV4cG9ydCBsZXQgY29uZmlnID0ge307XG5leHBvcnQgbGV0IGhhbmRsZSA9IG5ldyBLb252YS5MYXllcihjb25maWcpO1xuZXhwb3J0IGxldCBzdGF0aWNDb25maWcgPSBmYWxzZTtcbmxldCBpbm5lciA9IHdyaXRhYmxlKG51bGwpO1xubGV0IGRpc3BhdGNoZXIgPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcbmxldCBpc1JlYWR5ID0gZmFsc2U7XG4kOiBpZiAoaGFuZGxlKSB7XG4gICAgaGFuZGxlLnNldEF0dHJzKGNvbmZpZyk7XG59XG5sZXQgcGFyZW50ID0gZ2V0UGFyZW50U3RhZ2UoKTtcbm9uTW91bnQoKCkgPT4ge1xuICAgICRwYXJlbnQuYWRkKGhhbmRsZSk7XG4gICAgaWYgKCFzdGF0aWNDb25maWcpIHtcbiAgICAgICAgaGFuZGxlLm9uKCd0cmFuc2Zvcm1lbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb3B5RXhpc3RpbmdLZXlzKGNvbmZpZywgaGFuZGxlLmdldEF0dHJzKCkpO1xuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnO1xuICAgICAgICB9KTtcbiAgICAgICAgaGFuZGxlLm9uKCdkcmFnZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29weUV4aXN0aW5nS2V5cyhjb25maWcsIGhhbmRsZS5nZXRBdHRycygpKTtcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyRXZlbnRzKGRpc3BhdGNoZXIsIGhhbmRsZSk7XG4gICAgaW5uZXIuc2V0KGhhbmRsZSk7XG4gICAgaXNSZWFkeSA9IHRydWU7XG59KTtcbm9uRGVzdHJveSgoKSA9PiB7XG4gICAgaWYgKGhhbmRsZSkge1xuICAgICAgICBoYW5kbGUuZGVzdHJveSgpO1xuICAgIH1cbn0pO1xuc2V0Q29udGFpbmVyQ29udGV4dChDb250YWluZXIuTGF5ZXIsIGlubmVyKTtcbjwvc2NyaXB0PlxuXG57I2lmIGlzUmVhZHl9XG5cdDxzbG90IC8+XG57L2lmfVxuIiwgIjwhLS1cbkBjb21wb25lbnRcblRoZSBMaW5lIGNvbXBvbmVudCBuZWVkcyB0byBiZSBwbGFjZWQgZWl0aGVyIGluc2lkZSBhIHN2ZWx0ZS1rb252YSBMYXllciBvciBHcm91cCBjb21wb25lbnQuIFxuXG4jIyMgVXNhZ2U6XG5gYGB0c3hcbjxMaW5lIGNvbmZpZz17eyBwb2ludHM6IFswLCAwLCA2MCwgMzAsIDMwMCwgOTAsIDMwLCAxMDBdLCBzdHJva2U6IFwiYmx1ZVwiLCBzdHJva2VXaWR0aDogMTAgfX0gLz5cbmBgYFxuXG4jIyMgU3RhdGljIGNvbmZpZzpcbkJ5IGRlZmF1bHQgc3ZlbHRlLWtvbnZhIHdpbGwgYXV0b21hdGljYWxseSB1cGRhdGUgeW91ciBjb25maWcgcHJvcCBvbiBgZHJhZ2VuZGAgYW5kIGB0cmFuc2Zvcm1lbmRgIGV2ZW50cyB0byBtYXRjaCB0aGUgY29uZmlnIHN0YXRlIChwb3NpdGlvbiwgcm90YXRpb24sIHNjYWxlLCAuLi4pIHdpdGggdGhlIGludGVybmFsIEtvbnZhIHN0YXRlLiBcbklmIHlvdSBhZGRpdGlvbmFsbHkgYmluZCB0aGUgY29uZmlnIHByb3AgeW91ciByZWFjdGl2ZSBibG9ja3Mgd2lsbCBhbHNvIGJlIHRyaWdnZXJlZCBvbmNlIHRoaXMgaGFwcGVucy4gXG5UaGVyZSBtaWdodCBiZSBjYXNlcyB3aGVyZSB0aGlzIGJlaGF2aW9yIGlzIG5vdCBiZW5lZmljaWFsIGluIHRoaXMgY2FzZSB5b3UgY2FuIGRpc2FibGUgaXQgYnkgcGFzc2luZyB0aGUgYHN0YXRpY0NvbmZpZyA9IHRydWVgIHByb3AgdG8gdGhlIGNvbXBvbmVudC5cblxuRnVydGhlciBpbmZvcm1hdGlvbjogW0tvbnZhIEFQSSBkb2NzXShodHRwczovL2tvbnZhanMub3JnL2FwaS9Lb252YS5MaW5lLmh0bWwpLCBbc3ZlbHRlLWtvbnZhIGRvY3NdKGh0dHBzOi8va29udmFqcy5vcmcvZG9jcy9zdmVsdGUpXG4tLT5cbjxzY3JpcHQ+LyoqXG4gKiBXQVJOSU5HOiBUaGlzIGNvbXBvbmVudCBpcyBhdXRvZ2VuZXJhdGVkIHVzaW5nIHRoZSBzdmVsdGVLb252YUNvbXBvbmVudC5oYnMgdGVtcGxhdGUuIERvIG5vdCBlZGl0IHRoaXMgZmlsZSBtYW51YWxseSFcbiAqL1xuaW1wb3J0IEtvbnZhIGZyb20gJ2tvbnZhJztcbmltcG9ydCB7IG9uTW91bnQsIG9uRGVzdHJveSwgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnc3ZlbHRlJztcbmltcG9ydCB7IHJlZ2lzdGVyRXZlbnRzIH0gZnJvbSAnLi91dGlsL2V2ZW50cyc7XG5pbXBvcnQgeyBnZXRQYXJlbnRDb250YWluZXIgfSBmcm9tICcuL3V0aWwvbWFuYWdlQ29udGV4dCc7XG5pbXBvcnQgeyBjb3B5RXhpc3RpbmdLZXlzIH0gZnJvbSAnLi91dGlsL29iamVjdCc7XG5leHBvcnQgbGV0IGNvbmZpZztcbmV4cG9ydCBsZXQgaGFuZGxlID0gbmV3IEtvbnZhLkxpbmUoY29uZmlnKTtcbmV4cG9ydCBsZXQgc3RhdGljQ29uZmlnID0gZmFsc2U7XG5sZXQgcGFyZW50ID0gZ2V0UGFyZW50Q29udGFpbmVyKCk7XG5sZXQgZGlzcGF0Y2hlciA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpO1xuJDogaGFuZGxlLnNldEF0dHJzKGNvbmZpZyk7XG5vbk1vdW50KCgpID0+IHtcbiAgICAkcGFyZW50LmFkZChoYW5kbGUpO1xuICAgIGlmICghc3RhdGljQ29uZmlnKSB7XG4gICAgICAgIGhhbmRsZS5vbigndHJhbnNmb3JtZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29weUV4aXN0aW5nS2V5cyhjb25maWcsIGhhbmRsZS5nZXRBdHRycygpKTtcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgfSk7XG4gICAgICAgIGhhbmRsZS5vbignZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvcHlFeGlzdGluZ0tleXMoY29uZmlnLCBoYW5kbGUuZ2V0QXR0cnMoKSk7XG4gICAgICAgICAgICBjb25maWcgPSBjb25maWc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWdpc3RlckV2ZW50cyhkaXNwYXRjaGVyLCBoYW5kbGUpO1xufSk7XG5vbkRlc3Ryb3koKCkgPT4ge1xuICAgIGhhbmRsZS5kZXN0cm95KCk7XG59KTtcbjwvc2NyaXB0PlxuIiwgIjwhLS1cbkBjb21wb25lbnRcblRoZSBQYXRoIGNvbXBvbmVudCBuZWVkcyB0byBiZSBwbGFjZWQgZWl0aGVyIGluc2lkZSBhIHN2ZWx0ZS1rb252YSBMYXllciBvciBHcm91cCBjb21wb25lbnQuIFxuXG4jIyMgVXNhZ2U6XG5gYGB0c3hcbjxQYXRoIGNvbmZpZz17eyB4OiAxMDAsIHk6IDEwMCwgd2lkdGg6IDEwMCwgaGVpZ2h0OiAxMDAsIGZpbGw6IFwiYmx1ZVwiLCBkYXRhOiBcIk0yMTMuMSw2LjdjLTMyLjQtMTQuNC03My43LDAtODguMSwzMC42QzExMC42LDQuOSw2Ny41LTkuNSwzNi45LDYuN0MyLjgsMjIuOS0xMy40LDYyLjQsMTMuNSwxMTAuOUMzMy4zLDE0NS4xLDY3LjUsMTcwLjMsMTI1LDIxN2M1OS4zLTQ2LjcsOTMuNS03MS45LDExMS41LTEwNi4xQzI2My40LDY0LjIsMjQ3LjIsMjIuOSwyMTMuMSw2Ljd6XCIgfX0gLz5cbmBgYFxuXG4jIyMgU3RhdGljIGNvbmZpZzpcbkJ5IGRlZmF1bHQgc3ZlbHRlLWtvbnZhIHdpbGwgYXV0b21hdGljYWxseSB1cGRhdGUgeW91ciBjb25maWcgcHJvcCBvbiBgZHJhZ2VuZGAgYW5kIGB0cmFuc2Zvcm1lbmRgIGV2ZW50cyB0byBtYXRjaCB0aGUgY29uZmlnIHN0YXRlIChwb3NpdGlvbiwgcm90YXRpb24sIHNjYWxlLCAuLi4pIHdpdGggdGhlIGludGVybmFsIEtvbnZhIHN0YXRlLiBcbklmIHlvdSBhZGRpdGlvbmFsbHkgYmluZCB0aGUgY29uZmlnIHByb3AgeW91ciByZWFjdGl2ZSBibG9ja3Mgd2lsbCBhbHNvIGJlIHRyaWdnZXJlZCBvbmNlIHRoaXMgaGFwcGVucy4gXG5UaGVyZSBtaWdodCBiZSBjYXNlcyB3aGVyZSB0aGlzIGJlaGF2aW9yIGlzIG5vdCBiZW5lZmljaWFsIGluIHRoaXMgY2FzZSB5b3UgY2FuIGRpc2FibGUgaXQgYnkgcGFzc2luZyB0aGUgYHN0YXRpY0NvbmZpZyA9IHRydWVgIHByb3AgdG8gdGhlIGNvbXBvbmVudC5cblxuRnVydGhlciBpbmZvcm1hdGlvbjogW0tvbnZhIEFQSSBkb2NzXShodHRwczovL2tvbnZhanMub3JnL2FwaS9Lb252YS5QYXRoLmh0bWwpLCBbc3ZlbHRlLWtvbnZhIGRvY3NdKGh0dHBzOi8va29udmFqcy5vcmcvZG9jcy9zdmVsdGUpXG4tLT5cbjxzY3JpcHQ+LyoqXG4gKiBXQVJOSU5HOiBUaGlzIGNvbXBvbmVudCBpcyBhdXRvZ2VuZXJhdGVkIHVzaW5nIHRoZSBzdmVsdGVLb252YUNvbXBvbmVudC5oYnMgdGVtcGxhdGUuIERvIG5vdCBlZGl0IHRoaXMgZmlsZSBtYW51YWxseSFcbiAqL1xuaW1wb3J0IEtvbnZhIGZyb20gJ2tvbnZhJztcbmltcG9ydCB7IG9uTW91bnQsIG9uRGVzdHJveSwgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnc3ZlbHRlJztcbmltcG9ydCB7IHJlZ2lzdGVyRXZlbnRzIH0gZnJvbSAnLi91dGlsL2V2ZW50cyc7XG5pbXBvcnQgeyBnZXRQYXJlbnRDb250YWluZXIgfSBmcm9tICcuL3V0aWwvbWFuYWdlQ29udGV4dCc7XG5pbXBvcnQgeyBjb3B5RXhpc3RpbmdLZXlzIH0gZnJvbSAnLi91dGlsL29iamVjdCc7XG5leHBvcnQgbGV0IGNvbmZpZztcbmV4cG9ydCBsZXQgaGFuZGxlID0gbmV3IEtvbnZhLlBhdGgoY29uZmlnKTtcbmV4cG9ydCBsZXQgc3RhdGljQ29uZmlnID0gZmFsc2U7XG5sZXQgcGFyZW50ID0gZ2V0UGFyZW50Q29udGFpbmVyKCk7XG5sZXQgZGlzcGF0Y2hlciA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpO1xuJDogaGFuZGxlLnNldEF0dHJzKGNvbmZpZyk7XG5vbk1vdW50KCgpID0+IHtcbiAgICAkcGFyZW50LmFkZChoYW5kbGUpO1xuICAgIGlmICghc3RhdGljQ29uZmlnKSB7XG4gICAgICAgIGhhbmRsZS5vbigndHJhbnNmb3JtZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29weUV4aXN0aW5nS2V5cyhjb25maWcsIGhhbmRsZS5nZXRBdHRycygpKTtcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgfSk7XG4gICAgICAgIGhhbmRsZS5vbignZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvcHlFeGlzdGluZ0tleXMoY29uZmlnLCBoYW5kbGUuZ2V0QXR0cnMoKSk7XG4gICAgICAgICAgICBjb25maWcgPSBjb25maWc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWdpc3RlckV2ZW50cyhkaXNwYXRjaGVyLCBoYW5kbGUpO1xufSk7XG5vbkRlc3Ryb3koKCkgPT4ge1xuICAgIGhhbmRsZS5kZXN0cm95KCk7XG59KTtcbjwvc2NyaXB0PlxuIiwgIjwhLS1cbkBjb21wb25lbnRcblRoZSBSZWN0IGNvbXBvbmVudCBuZWVkcyB0byBiZSBwbGFjZWQgZWl0aGVyIGluc2lkZSBhIHN2ZWx0ZS1rb252YSBMYXllciBvciBHcm91cCBjb21wb25lbnQuIFxuXG4jIyMgVXNhZ2U6XG5gYGB0c3hcbjxSZWN0IGNvbmZpZz17eyB4OiAxMDAsIHk6IDEwMCwgd2lkdGg6IDEwMCwgaGVpZ2h0OiA1MCwgZmlsbDogXCJibHVlXCIgfX0gLz5cbmBgYFxuXG4jIyMgU3RhdGljIGNvbmZpZzpcbkJ5IGRlZmF1bHQgc3ZlbHRlLWtvbnZhIHdpbGwgYXV0b21hdGljYWxseSB1cGRhdGUgeW91ciBjb25maWcgcHJvcCBvbiBgZHJhZ2VuZGAgYW5kIGB0cmFuc2Zvcm1lbmRgIGV2ZW50cyB0byBtYXRjaCB0aGUgY29uZmlnIHN0YXRlIChwb3NpdGlvbiwgcm90YXRpb24sIHNjYWxlLCAuLi4pIHdpdGggdGhlIGludGVybmFsIEtvbnZhIHN0YXRlLiBcbklmIHlvdSBhZGRpdGlvbmFsbHkgYmluZCB0aGUgY29uZmlnIHByb3AgeW91ciByZWFjdGl2ZSBibG9ja3Mgd2lsbCBhbHNvIGJlIHRyaWdnZXJlZCBvbmNlIHRoaXMgaGFwcGVucy4gXG5UaGVyZSBtaWdodCBiZSBjYXNlcyB3aGVyZSB0aGlzIGJlaGF2aW9yIGlzIG5vdCBiZW5lZmljaWFsIGluIHRoaXMgY2FzZSB5b3UgY2FuIGRpc2FibGUgaXQgYnkgcGFzc2luZyB0aGUgYHN0YXRpY0NvbmZpZyA9IHRydWVgIHByb3AgdG8gdGhlIGNvbXBvbmVudC5cblxuRnVydGhlciBpbmZvcm1hdGlvbjogW0tvbnZhIEFQSSBkb2NzXShodHRwczovL2tvbnZhanMub3JnL2FwaS9Lb252YS5SZWN0Lmh0bWwpLCBbc3ZlbHRlLWtvbnZhIGRvY3NdKGh0dHBzOi8va29udmFqcy5vcmcvZG9jcy9zdmVsdGUpXG4tLT5cbjxzY3JpcHQ+LyoqXG4gKiBXQVJOSU5HOiBUaGlzIGNvbXBvbmVudCBpcyBhdXRvZ2VuZXJhdGVkIHVzaW5nIHRoZSBzdmVsdGVLb252YUNvbXBvbmVudC5oYnMgdGVtcGxhdGUuIERvIG5vdCBlZGl0IHRoaXMgZmlsZSBtYW51YWxseSFcbiAqL1xuaW1wb3J0IEtvbnZhIGZyb20gJ2tvbnZhJztcbmltcG9ydCB7IG9uTW91bnQsIG9uRGVzdHJveSwgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnc3ZlbHRlJztcbmltcG9ydCB7IHJlZ2lzdGVyRXZlbnRzIH0gZnJvbSAnLi91dGlsL2V2ZW50cyc7XG5pbXBvcnQgeyBnZXRQYXJlbnRDb250YWluZXIgfSBmcm9tICcuL3V0aWwvbWFuYWdlQ29udGV4dCc7XG5pbXBvcnQgeyBjb3B5RXhpc3RpbmdLZXlzIH0gZnJvbSAnLi91dGlsL29iamVjdCc7XG5leHBvcnQgbGV0IGNvbmZpZztcbmV4cG9ydCBsZXQgaGFuZGxlID0gbmV3IEtvbnZhLlJlY3QoY29uZmlnKTtcbmV4cG9ydCBsZXQgc3RhdGljQ29uZmlnID0gZmFsc2U7XG5sZXQgcGFyZW50ID0gZ2V0UGFyZW50Q29udGFpbmVyKCk7XG5sZXQgZGlzcGF0Y2hlciA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpO1xuJDogaGFuZGxlLnNldEF0dHJzKGNvbmZpZyk7XG5vbk1vdW50KCgpID0+IHtcbiAgICAkcGFyZW50LmFkZChoYW5kbGUpO1xuICAgIGlmICghc3RhdGljQ29uZmlnKSB7XG4gICAgICAgIGhhbmRsZS5vbigndHJhbnNmb3JtZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29weUV4aXN0aW5nS2V5cyhjb25maWcsIGhhbmRsZS5nZXRBdHRycygpKTtcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgfSk7XG4gICAgICAgIGhhbmRsZS5vbignZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvcHlFeGlzdGluZ0tleXMoY29uZmlnLCBoYW5kbGUuZ2V0QXR0cnMoKSk7XG4gICAgICAgICAgICBjb25maWcgPSBjb25maWc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWdpc3RlckV2ZW50cyhkaXNwYXRjaGVyLCBoYW5kbGUpO1xufSk7XG5vbkRlc3Ryb3koKCkgPT4ge1xuICAgIGhhbmRsZS5kZXN0cm95KCk7XG59KTtcbjwvc2NyaXB0PlxuIiwgIjwhLS1cbkBjb21wb25lbnRcblRoZSBSZWd1bGFyUG9seWdvbiBjb21wb25lbnQgbmVlZHMgdG8gYmUgcGxhY2VkIGVpdGhlciBpbnNpZGUgYSBzdmVsdGUta29udmEgTGF5ZXIgb3IgR3JvdXAgY29tcG9uZW50LiBcblxuIyMjIFVzYWdlOlxuYGBgdHN4XG48UmVndWxhclBvbHlnb24gY29uZmlnPXt7IHg6IDEwMCwgeTogMTAwLCBzaWRlczogNywgcmFkaXVzOiA3MCwgZmlsbDogXCJibHVlXCIgfX0gLz5cbmBgYFxuXG4jIyMgU3RhdGljIGNvbmZpZzpcbkJ5IGRlZmF1bHQgc3ZlbHRlLWtvbnZhIHdpbGwgYXV0b21hdGljYWxseSB1cGRhdGUgeW91ciBjb25maWcgcHJvcCBvbiBgZHJhZ2VuZGAgYW5kIGB0cmFuc2Zvcm1lbmRgIGV2ZW50cyB0byBtYXRjaCB0aGUgY29uZmlnIHN0YXRlIChwb3NpdGlvbiwgcm90YXRpb24sIHNjYWxlLCAuLi4pIHdpdGggdGhlIGludGVybmFsIEtvbnZhIHN0YXRlLiBcbklmIHlvdSBhZGRpdGlvbmFsbHkgYmluZCB0aGUgY29uZmlnIHByb3AgeW91ciByZWFjdGl2ZSBibG9ja3Mgd2lsbCBhbHNvIGJlIHRyaWdnZXJlZCBvbmNlIHRoaXMgaGFwcGVucy4gXG5UaGVyZSBtaWdodCBiZSBjYXNlcyB3aGVyZSB0aGlzIGJlaGF2aW9yIGlzIG5vdCBiZW5lZmljaWFsIGluIHRoaXMgY2FzZSB5b3UgY2FuIGRpc2FibGUgaXQgYnkgcGFzc2luZyB0aGUgYHN0YXRpY0NvbmZpZyA9IHRydWVgIHByb3AgdG8gdGhlIGNvbXBvbmVudC5cblxuRnVydGhlciBpbmZvcm1hdGlvbjogW0tvbnZhIEFQSSBkb2NzXShodHRwczovL2tvbnZhanMub3JnL2FwaS9Lb252YS5SZWd1bGFyUG9seWdvbi5odG1sKSwgW3N2ZWx0ZS1rb252YSBkb2NzXShodHRwczovL2tvbnZhanMub3JnL2RvY3Mvc3ZlbHRlKVxuLS0+XG48c2NyaXB0Pi8qKlxuICogV0FSTklORzogVGhpcyBjb21wb25lbnQgaXMgYXV0b2dlbmVyYXRlZCB1c2luZyB0aGUgc3ZlbHRlS29udmFDb21wb25lbnQuaGJzIHRlbXBsYXRlLiBEbyBub3QgZWRpdCB0aGlzIGZpbGUgbWFudWFsbHkhXG4gKi9cbmltcG9ydCBLb252YSBmcm9tICdrb252YSc7XG5pbXBvcnQgeyBvbk1vdW50LCBvbkRlc3Ryb3ksIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciB9IGZyb20gJ3N2ZWx0ZSc7XG5pbXBvcnQgeyByZWdpc3RlckV2ZW50cyB9IGZyb20gJy4vdXRpbC9ldmVudHMnO1xuaW1wb3J0IHsgZ2V0UGFyZW50Q29udGFpbmVyIH0gZnJvbSAnLi91dGlsL21hbmFnZUNvbnRleHQnO1xuaW1wb3J0IHsgY29weUV4aXN0aW5nS2V5cyB9IGZyb20gJy4vdXRpbC9vYmplY3QnO1xuZXhwb3J0IGxldCBjb25maWc7XG5leHBvcnQgbGV0IGhhbmRsZSA9IG5ldyBLb252YS5SZWd1bGFyUG9seWdvbihjb25maWcpO1xuZXhwb3J0IGxldCBzdGF0aWNDb25maWcgPSBmYWxzZTtcbmxldCBwYXJlbnQgPSBnZXRQYXJlbnRDb250YWluZXIoKTtcbmxldCBkaXNwYXRjaGVyID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XG4kOiBoYW5kbGUuc2V0QXR0cnMoY29uZmlnKTtcbm9uTW91bnQoKCkgPT4ge1xuICAgICRwYXJlbnQuYWRkKGhhbmRsZSk7XG4gICAgaWYgKCFzdGF0aWNDb25maWcpIHtcbiAgICAgICAgaGFuZGxlLm9uKCd0cmFuc2Zvcm1lbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb3B5RXhpc3RpbmdLZXlzKGNvbmZpZywgaGFuZGxlLmdldEF0dHJzKCkpO1xuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnO1xuICAgICAgICB9KTtcbiAgICAgICAgaGFuZGxlLm9uKCdkcmFnZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29weUV4aXN0aW5nS2V5cyhjb25maWcsIGhhbmRsZS5nZXRBdHRycygpKTtcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyRXZlbnRzKGRpc3BhdGNoZXIsIGhhbmRsZSk7XG59KTtcbm9uRGVzdHJveSgoKSA9PiB7XG4gICAgaGFuZGxlLmRlc3Ryb3koKTtcbn0pO1xuPC9zY3JpcHQ+XG4iLCAiPCEtLVxuQGNvbXBvbmVudFxuVGhlIFJpbmcgY29tcG9uZW50IG5lZWRzIHRvIGJlIHBsYWNlZCBlaXRoZXIgaW5zaWRlIGEgc3ZlbHRlLWtvbnZhIExheWVyIG9yIEdyb3VwIGNvbXBvbmVudC4gXG5cbiMjIyBVc2FnZTpcbmBgYHRzeFxuPFJpbmcgY29uZmlnPXt7IHg6IDEwMCwgeTogMTAwLCBpbm5lclJhZGl1czogMjUsIG91dGVyUmFkaXVzOiA1MCwgZmlsbDogXCJibHVlXCIgfX0gLz5cbmBgYFxuXG4jIyMgU3RhdGljIGNvbmZpZzpcbkJ5IGRlZmF1bHQgc3ZlbHRlLWtvbnZhIHdpbGwgYXV0b21hdGljYWxseSB1cGRhdGUgeW91ciBjb25maWcgcHJvcCBvbiBgZHJhZ2VuZGAgYW5kIGB0cmFuc2Zvcm1lbmRgIGV2ZW50cyB0byBtYXRjaCB0aGUgY29uZmlnIHN0YXRlIChwb3NpdGlvbiwgcm90YXRpb24sIHNjYWxlLCAuLi4pIHdpdGggdGhlIGludGVybmFsIEtvbnZhIHN0YXRlLiBcbklmIHlvdSBhZGRpdGlvbmFsbHkgYmluZCB0aGUgY29uZmlnIHByb3AgeW91ciByZWFjdGl2ZSBibG9ja3Mgd2lsbCBhbHNvIGJlIHRyaWdnZXJlZCBvbmNlIHRoaXMgaGFwcGVucy4gXG5UaGVyZSBtaWdodCBiZSBjYXNlcyB3aGVyZSB0aGlzIGJlaGF2aW9yIGlzIG5vdCBiZW5lZmljaWFsIGluIHRoaXMgY2FzZSB5b3UgY2FuIGRpc2FibGUgaXQgYnkgcGFzc2luZyB0aGUgYHN0YXRpY0NvbmZpZyA9IHRydWVgIHByb3AgdG8gdGhlIGNvbXBvbmVudC5cblxuRnVydGhlciBpbmZvcm1hdGlvbjogW0tvbnZhIEFQSSBkb2NzXShodHRwczovL2tvbnZhanMub3JnL2FwaS9Lb252YS5SaW5nLmh0bWwpLCBbc3ZlbHRlLWtvbnZhIGRvY3NdKGh0dHBzOi8va29udmFqcy5vcmcvZG9jcy9zdmVsdGUpXG4tLT5cbjxzY3JpcHQ+LyoqXG4gKiBXQVJOSU5HOiBUaGlzIGNvbXBvbmVudCBpcyBhdXRvZ2VuZXJhdGVkIHVzaW5nIHRoZSBzdmVsdGVLb252YUNvbXBvbmVudC5oYnMgdGVtcGxhdGUuIERvIG5vdCBlZGl0IHRoaXMgZmlsZSBtYW51YWxseSFcbiAqL1xuaW1wb3J0IEtvbnZhIGZyb20gJ2tvbnZhJztcbmltcG9ydCB7IG9uTW91bnQsIG9uRGVzdHJveSwgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnc3ZlbHRlJztcbmltcG9ydCB7IHJlZ2lzdGVyRXZlbnRzIH0gZnJvbSAnLi91dGlsL2V2ZW50cyc7XG5pbXBvcnQgeyBnZXRQYXJlbnRDb250YWluZXIgfSBmcm9tICcuL3V0aWwvbWFuYWdlQ29udGV4dCc7XG5pbXBvcnQgeyBjb3B5RXhpc3RpbmdLZXlzIH0gZnJvbSAnLi91dGlsL29iamVjdCc7XG5leHBvcnQgbGV0IGNvbmZpZztcbmV4cG9ydCBsZXQgaGFuZGxlID0gbmV3IEtvbnZhLlJpbmcoY29uZmlnKTtcbmV4cG9ydCBsZXQgc3RhdGljQ29uZmlnID0gZmFsc2U7XG5sZXQgcGFyZW50ID0gZ2V0UGFyZW50Q29udGFpbmVyKCk7XG5sZXQgZGlzcGF0Y2hlciA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpO1xuJDogaGFuZGxlLnNldEF0dHJzKGNvbmZpZyk7XG5vbk1vdW50KCgpID0+IHtcbiAgICAkcGFyZW50LmFkZChoYW5kbGUpO1xuICAgIGlmICghc3RhdGljQ29uZmlnKSB7XG4gICAgICAgIGhhbmRsZS5vbigndHJhbnNmb3JtZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29weUV4aXN0aW5nS2V5cyhjb25maWcsIGhhbmRsZS5nZXRBdHRycygpKTtcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgfSk7XG4gICAgICAgIGhhbmRsZS5vbignZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvcHlFeGlzdGluZ0tleXMoY29uZmlnLCBoYW5kbGUuZ2V0QXR0cnMoKSk7XG4gICAgICAgICAgICBjb25maWcgPSBjb25maWc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWdpc3RlckV2ZW50cyhkaXNwYXRjaGVyLCBoYW5kbGUpO1xufSk7XG5vbkRlc3Ryb3koKCkgPT4ge1xuICAgIGhhbmRsZS5kZXN0cm95KCk7XG59KTtcbjwvc2NyaXB0PlxuIiwgIjwhLS1cbkBjb21wb25lbnRcblRoZSBTaGFwZSBjb21wb25lbnQgbmVlZHMgdG8gYmUgcGxhY2VkIGVpdGhlciBpbnNpZGUgYSBzdmVsdGUta29udmEgTGF5ZXIgb3IgR3JvdXAgY29tcG9uZW50LiBcblxuIyMjIFVzYWdlOlxuYGBgdHN4XG48U2hhcGUgY29uZmlnPXt7IHg6IDEwMCwgeTogMTAwLCB3aWR0aDogMTAwLCBoZWlnaHQ6IDUwLCBmaWxsOiBcImJsdWVcIiwgc2NlbmVGdW5jOiAoKSA9PiB7fSB9fSAvPlxuYGBgXG5cbiMjIyBTdGF0aWMgY29uZmlnOlxuQnkgZGVmYXVsdCBzdmVsdGUta29udmEgd2lsbCBhdXRvbWF0aWNhbGx5IHVwZGF0ZSB5b3VyIGNvbmZpZyBwcm9wIG9uIGBkcmFnZW5kYCBhbmQgYHRyYW5zZm9ybWVuZGAgZXZlbnRzIHRvIG1hdGNoIHRoZSBjb25maWcgc3RhdGUgKHBvc2l0aW9uLCByb3RhdGlvbiwgc2NhbGUsIC4uLikgd2l0aCB0aGUgaW50ZXJuYWwgS29udmEgc3RhdGUuIFxuSWYgeW91IGFkZGl0aW9uYWxseSBiaW5kIHRoZSBjb25maWcgcHJvcCB5b3VyIHJlYWN0aXZlIGJsb2NrcyB3aWxsIGFsc28gYmUgdHJpZ2dlcmVkIG9uY2UgdGhpcyBoYXBwZW5zLiBcblRoZXJlIG1pZ2h0IGJlIGNhc2VzIHdoZXJlIHRoaXMgYmVoYXZpb3IgaXMgbm90IGJlbmVmaWNpYWwgaW4gdGhpcyBjYXNlIHlvdSBjYW4gZGlzYWJsZSBpdCBieSBwYXNzaW5nIHRoZSBgc3RhdGljQ29uZmlnID0gdHJ1ZWAgcHJvcCB0byB0aGUgY29tcG9uZW50LlxuXG5GdXJ0aGVyIGluZm9ybWF0aW9uOiBbS29udmEgQVBJIGRvY3NdKGh0dHBzOi8va29udmFqcy5vcmcvYXBpL0tvbnZhLlNoYXBlLmh0bWwpLCBbc3ZlbHRlLWtvbnZhIGRvY3NdKGh0dHBzOi8va29udmFqcy5vcmcvZG9jcy9zdmVsdGUpXG4tLT5cbjxzY3JpcHQ+LyoqXG4gKiBXQVJOSU5HOiBUaGlzIGNvbXBvbmVudCBpcyBhdXRvZ2VuZXJhdGVkIHVzaW5nIHRoZSBzdmVsdGVLb252YUNvbXBvbmVudC5oYnMgdGVtcGxhdGUuIERvIG5vdCBlZGl0IHRoaXMgZmlsZSBtYW51YWxseSFcbiAqL1xuaW1wb3J0IEtvbnZhIGZyb20gJ2tvbnZhJztcbmltcG9ydCB7IG9uTW91bnQsIG9uRGVzdHJveSwgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnc3ZlbHRlJztcbmltcG9ydCB7IHJlZ2lzdGVyRXZlbnRzIH0gZnJvbSAnLi91dGlsL2V2ZW50cyc7XG5pbXBvcnQgeyBnZXRQYXJlbnRDb250YWluZXIgfSBmcm9tICcuL3V0aWwvbWFuYWdlQ29udGV4dCc7XG5pbXBvcnQgeyBjb3B5RXhpc3RpbmdLZXlzIH0gZnJvbSAnLi91dGlsL29iamVjdCc7XG5leHBvcnQgbGV0IGNvbmZpZztcbmV4cG9ydCBsZXQgaGFuZGxlID0gbmV3IEtvbnZhLlNoYXBlKGNvbmZpZyk7XG5leHBvcnQgbGV0IHN0YXRpY0NvbmZpZyA9IGZhbHNlO1xubGV0IHBhcmVudCA9IGdldFBhcmVudENvbnRhaW5lcigpO1xubGV0IGRpc3BhdGNoZXIgPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcbiQ6IGhhbmRsZS5zZXRBdHRycyhjb25maWcpO1xub25Nb3VudCgoKSA9PiB7XG4gICAgJHBhcmVudC5hZGQoaGFuZGxlKTtcbiAgICBpZiAoIXN0YXRpY0NvbmZpZykge1xuICAgICAgICBoYW5kbGUub24oJ3RyYW5zZm9ybWVuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvcHlFeGlzdGluZ0tleXMoY29uZmlnLCBoYW5kbGUuZ2V0QXR0cnMoKSk7XG4gICAgICAgICAgICBjb25maWcgPSBjb25maWc7XG4gICAgICAgIH0pO1xuICAgICAgICBoYW5kbGUub24oJ2RyYWdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb3B5RXhpc3RpbmdLZXlzKGNvbmZpZywgaGFuZGxlLmdldEF0dHJzKCkpO1xuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVnaXN0ZXJFdmVudHMoZGlzcGF0Y2hlciwgaGFuZGxlKTtcbn0pO1xub25EZXN0cm95KCgpID0+IHtcbiAgICBoYW5kbGUuZGVzdHJveSgpO1xufSk7XG48L3NjcmlwdD5cbiIsICI8IS0tXG5AY29tcG9uZW50XG5UaGUgU3ByaXRlIGNvbXBvbmVudCBuZWVkcyB0byBiZSBwbGFjZWQgZWl0aGVyIGluc2lkZSBhIHN2ZWx0ZS1rb252YSBMYXllciBvciBHcm91cCBjb21wb25lbnQuIFxuXG4jIyMgVXNhZ2U6XG5gYGB0c3hcbjxTcHJpdGUgY29uZmlnPXt7IHg6IDEwMCwgeTogMTAwLCBpbWFnZTogaW1hZ2VPYmosIGFuaW1hdGlvbjogXCJpZGxlXCIsIGFuaW1hdGlvbnM6IGFuaW1hdGlvbnMsIGZyYW1lUmF0ZTogNywgZnJhbWVJbmRleDogMCB9fSAvPlxuYGBgXG5cbiMjIyBTdGF0aWMgY29uZmlnOlxuQnkgZGVmYXVsdCBzdmVsdGUta29udmEgd2lsbCBhdXRvbWF0aWNhbGx5IHVwZGF0ZSB5b3VyIGNvbmZpZyBwcm9wIG9uIGBkcmFnZW5kYCBhbmQgYHRyYW5zZm9ybWVuZGAgZXZlbnRzIHRvIG1hdGNoIHRoZSBjb25maWcgc3RhdGUgKHBvc2l0aW9uLCByb3RhdGlvbiwgc2NhbGUsIC4uLikgd2l0aCB0aGUgaW50ZXJuYWwgS29udmEgc3RhdGUuIFxuSWYgeW91IGFkZGl0aW9uYWxseSBiaW5kIHRoZSBjb25maWcgcHJvcCB5b3VyIHJlYWN0aXZlIGJsb2NrcyB3aWxsIGFsc28gYmUgdHJpZ2dlcmVkIG9uY2UgdGhpcyBoYXBwZW5zLiBcblRoZXJlIG1pZ2h0IGJlIGNhc2VzIHdoZXJlIHRoaXMgYmVoYXZpb3IgaXMgbm90IGJlbmVmaWNpYWwgaW4gdGhpcyBjYXNlIHlvdSBjYW4gZGlzYWJsZSBpdCBieSBwYXNzaW5nIHRoZSBgc3RhdGljQ29uZmlnID0gdHJ1ZWAgcHJvcCB0byB0aGUgY29tcG9uZW50LlxuXG5GdXJ0aGVyIGluZm9ybWF0aW9uOiBbS29udmEgQVBJIGRvY3NdKGh0dHBzOi8va29udmFqcy5vcmcvYXBpL0tvbnZhLlNwcml0ZS5odG1sKSwgW3N2ZWx0ZS1rb252YSBkb2NzXShodHRwczovL2tvbnZhanMub3JnL2RvY3Mvc3ZlbHRlKVxuLS0+XG48c2NyaXB0Pi8qKlxuICogV0FSTklORzogVGhpcyBjb21wb25lbnQgaXMgYXV0b2dlbmVyYXRlZCB1c2luZyB0aGUgc3ZlbHRlS29udmFDb21wb25lbnQuaGJzIHRlbXBsYXRlLiBEbyBub3QgZWRpdCB0aGlzIGZpbGUgbWFudWFsbHkhXG4gKi9cbmltcG9ydCBLb252YSBmcm9tICdrb252YSc7XG5pbXBvcnQgeyBvbk1vdW50LCBvbkRlc3Ryb3ksIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciB9IGZyb20gJ3N2ZWx0ZSc7XG5pbXBvcnQgeyByZWdpc3RlckV2ZW50cyB9IGZyb20gJy4vdXRpbC9ldmVudHMnO1xuaW1wb3J0IHsgZ2V0UGFyZW50Q29udGFpbmVyIH0gZnJvbSAnLi91dGlsL21hbmFnZUNvbnRleHQnO1xuaW1wb3J0IHsgY29weUV4aXN0aW5nS2V5cyB9IGZyb20gJy4vdXRpbC9vYmplY3QnO1xuZXhwb3J0IGxldCBjb25maWc7XG5leHBvcnQgbGV0IGhhbmRsZSA9IG5ldyBLb252YS5TcHJpdGUoY29uZmlnKTtcbmV4cG9ydCBsZXQgc3RhdGljQ29uZmlnID0gZmFsc2U7XG5sZXQgcGFyZW50ID0gZ2V0UGFyZW50Q29udGFpbmVyKCk7XG5sZXQgZGlzcGF0Y2hlciA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpO1xuJDogaGFuZGxlLnNldEF0dHJzKGNvbmZpZyk7XG5vbk1vdW50KCgpID0+IHtcbiAgICAkcGFyZW50LmFkZChoYW5kbGUpO1xuICAgIGlmICghc3RhdGljQ29uZmlnKSB7XG4gICAgICAgIGhhbmRsZS5vbigndHJhbnNmb3JtZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29weUV4aXN0aW5nS2V5cyhjb25maWcsIGhhbmRsZS5nZXRBdHRycygpKTtcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgfSk7XG4gICAgICAgIGhhbmRsZS5vbignZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvcHlFeGlzdGluZ0tleXMoY29uZmlnLCBoYW5kbGUuZ2V0QXR0cnMoKSk7XG4gICAgICAgICAgICBjb25maWcgPSBjb25maWc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWdpc3RlckV2ZW50cyhkaXNwYXRjaGVyLCBoYW5kbGUpO1xufSk7XG5vbkRlc3Ryb3koKCkgPT4ge1xuICAgIGhhbmRsZS5kZXN0cm95KCk7XG59KTtcbjwvc2NyaXB0PlxuIiwgIjwhLS1cbkBjb21wb25lbnRcblRoZSBTdGFnZSBjb21wb25lbnQgaXMgdGhlIGVudHJ5IHBvaW50IGFuZCBwYXJlbnQgZm9yIGFsbCBvdGhlciBzdmVsdGUta29udmEgY29tcG9uZW50cy5cblVuZGVyIHRoZSBob29kIGl0IGNyZWF0ZXMgYSBkaXYgZWxlbWVudCB3aGVyZSB0aGUgaHRtbCBjYW52YXMgaXMgYXR0YWNoZWQgdG8uICBcblxuIyMjIFVzYWdlOlxuYGBgdHN4XG48U3RhZ2UgY29uZmlnPXt7IHdpZHRoOiAxMDAwLCBoZWlnaHQ6IDEwMDAgfX0+XG5cdFBsYWNlIHlvdXIgTGF5ZXJzIGhlcmVcbjwvU3RhZ2U+XG5gYGBcblxuIyMjIFN0YXRpYyBjb25maWc6XG5CeSBkZWZhdWx0IHN2ZWx0ZS1rb252YSB3aWxsIGF1dG9tYXRpY2FsbHkgdXBkYXRlIHlvdXIgY29uZmlnIHByb3Agb24gYGRyYWdlbmRgIGFuZCBgdHJhbnNmb3JtZW5kYCBldmVudHMgdG8gbWF0Y2ggdGhlIGNvbmZpZyBzdGF0ZSAocG9zaXRpb24sIHJvdGF0aW9uLCBzY2FsZSwgLi4uKSB3aXRoIHRoZSBpbnRlcm5hbCBLb252YSBzdGF0ZS4gXG5JZiB5b3UgYWRkaXRpb25hbGx5IGJpbmQgdGhlIGNvbmZpZyBwcm9wIHlvdXIgcmVhY3RpdmUgYmxvY2tzIHdpbGwgYWxzbyBiZSB0cmlnZ2VyZWQgb25jZSB0aGlzIGhhcHBlbnMuIFxuVGhlcmUgbWlnaHQgYmUgY2FzZXMgd2hlcmUgdGhpcyBiZWhhdmlvciBpcyBub3QgYmVuZWZpY2lhbCBpbiB0aGlzIGNhc2UgeW91IGNhbiBkaXNhYmxlIGl0IGJ5IHBhc3NpbmcgdGhlIGBzdGF0aWNDb25maWcgPSB0cnVlYCBwcm9wIHRvIHRoZSBjb21wb25lbnQuXG5cbkZ1cnRoZXIgaW5mb3JtYXRpb246IFtLb252YSBBUEkgZG9jc10oaHR0cHM6Ly9rb252YWpzLm9yZy9hcGkvS29udmEuU3RhZ2UuaHRtbCksIFtzdmVsdGUta29udmEgZG9jc10oaHR0cHM6Ly9rb252YWpzLm9yZy9kb2NzL3N2ZWx0ZSlcbi0tPlxuPHNjcmlwdD5pbXBvcnQgS29udmEgZnJvbSAna29udmEnO1xuaW1wb3J0IHsgb25Nb3VudCwgb25EZXN0cm95LCBjcmVhdGVFdmVudERpc3BhdGNoZXIgfSBmcm9tICdzdmVsdGUnO1xuaW1wb3J0IHsgd3JpdGFibGUgfSBmcm9tICdzdmVsdGUvc3RvcmUnO1xuaW1wb3J0IHsgcmVnaXN0ZXJFdmVudHMgfSBmcm9tICcuL3V0aWwvZXZlbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciwgc2V0Q29udGFpbmVyQ29udGV4dCB9IGZyb20gJy4vdXRpbC9tYW5hZ2VDb250ZXh0JztcbmltcG9ydCB7IGNvcHlFeGlzdGluZ0tleXMgfSBmcm9tICcuL3V0aWwvb2JqZWN0JztcbmV4cG9ydCBsZXQgY29uZmlnO1xuZXhwb3J0IGxldCBoYW5kbGUgPSBudWxsO1xuZXhwb3J0IGxldCBzdGF0aWNDb25maWcgPSBmYWxzZTtcbmxldCBpbm5lciA9IHdyaXRhYmxlKG51bGwpO1xubGV0IHN0YWdlO1xubGV0IGRpc3BhdGNoZXIgPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcbmxldCBpc1JlYWR5ID0gZmFsc2U7XG4kOiBpZiAoaGFuZGxlKSB7XG4gICAgaGFuZGxlLnNldEF0dHJzKGNvbmZpZyk7XG59XG5vbk1vdW50KCgpID0+IHtcbiAgICBoYW5kbGUgPSBuZXcgS29udmEuU3RhZ2Uoe1xuICAgICAgICBjb250YWluZXI6IHN0YWdlLFxuICAgICAgICAuLi5jb25maWdcbiAgICB9KTtcbiAgICBpZiAoIXN0YXRpY0NvbmZpZykge1xuICAgICAgICBoYW5kbGUub24oJ2RyYWdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb3B5RXhpc3RpbmdLZXlzKGNvbmZpZywgaGFuZGxlLmdldEF0dHJzKCkpO1xuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVnaXN0ZXJFdmVudHMoZGlzcGF0Y2hlciwgaGFuZGxlKTtcbiAgICBpbm5lci5zZXQoaGFuZGxlKTtcbiAgICBpc1JlYWR5ID0gdHJ1ZTtcbn0pO1xub25EZXN0cm95KCgpID0+IHtcbiAgICBpZiAoaGFuZGxlKSB7XG4gICAgICAgIGhhbmRsZS5kZXN0cm95KCk7XG4gICAgfVxufSk7XG5zZXRDb250YWluZXJDb250ZXh0KENvbnRhaW5lci5TdGFnZSwgaW5uZXIpO1xuPC9zY3JpcHQ+XG5cbjxkaXYgYmluZDp0aGlzPXtzdGFnZX0gey4uLiQkcmVzdFByb3BzfT5cblx0eyNpZiBpc1JlYWR5fVxuXHRcdDxzbG90IC8+XG5cdHsvaWZ9XG48L2Rpdj5cbiIsICI8IS0tXG5AY29tcG9uZW50XG5UaGUgU3RhciBjb21wb25lbnQgbmVlZHMgdG8gYmUgcGxhY2VkIGVpdGhlciBpbnNpZGUgYSBzdmVsdGUta29udmEgTGF5ZXIgb3IgR3JvdXAgY29tcG9uZW50LiBcblxuIyMjIFVzYWdlOlxuYGBgdHN4XG48U3RhciBjb25maWc9e3sgeDogMTAwLCB5OiAxMDAsIGlubmVyUmFkaXVzOiAyNSwgb3V0ZXJSYWRpdXM6IDUwLCBudW1Qb2ludHM6IDUsIGZpbGw6IFwiYmx1ZVwiIH19IC8+XG5gYGBcblxuIyMjIFN0YXRpYyBjb25maWc6XG5CeSBkZWZhdWx0IHN2ZWx0ZS1rb252YSB3aWxsIGF1dG9tYXRpY2FsbHkgdXBkYXRlIHlvdXIgY29uZmlnIHByb3Agb24gYGRyYWdlbmRgIGFuZCBgdHJhbnNmb3JtZW5kYCBldmVudHMgdG8gbWF0Y2ggdGhlIGNvbmZpZyBzdGF0ZSAocG9zaXRpb24sIHJvdGF0aW9uLCBzY2FsZSwgLi4uKSB3aXRoIHRoZSBpbnRlcm5hbCBLb252YSBzdGF0ZS4gXG5JZiB5b3UgYWRkaXRpb25hbGx5IGJpbmQgdGhlIGNvbmZpZyBwcm9wIHlvdXIgcmVhY3RpdmUgYmxvY2tzIHdpbGwgYWxzbyBiZSB0cmlnZ2VyZWQgb25jZSB0aGlzIGhhcHBlbnMuIFxuVGhlcmUgbWlnaHQgYmUgY2FzZXMgd2hlcmUgdGhpcyBiZWhhdmlvciBpcyBub3QgYmVuZWZpY2lhbCBpbiB0aGlzIGNhc2UgeW91IGNhbiBkaXNhYmxlIGl0IGJ5IHBhc3NpbmcgdGhlIGBzdGF0aWNDb25maWcgPSB0cnVlYCBwcm9wIHRvIHRoZSBjb21wb25lbnQuXG5cbkZ1cnRoZXIgaW5mb3JtYXRpb246IFtLb252YSBBUEkgZG9jc10oaHR0cHM6Ly9rb252YWpzLm9yZy9hcGkvS29udmEuU3Rhci5odG1sKSwgW3N2ZWx0ZS1rb252YSBkb2NzXShodHRwczovL2tvbnZhanMub3JnL2RvY3Mvc3ZlbHRlKVxuLS0+XG48c2NyaXB0Pi8qKlxuICogV0FSTklORzogVGhpcyBjb21wb25lbnQgaXMgYXV0b2dlbmVyYXRlZCB1c2luZyB0aGUgc3ZlbHRlS29udmFDb21wb25lbnQuaGJzIHRlbXBsYXRlLiBEbyBub3QgZWRpdCB0aGlzIGZpbGUgbWFudWFsbHkhXG4gKi9cbmltcG9ydCBLb252YSBmcm9tICdrb252YSc7XG5pbXBvcnQgeyBvbk1vdW50LCBvbkRlc3Ryb3ksIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciB9IGZyb20gJ3N2ZWx0ZSc7XG5pbXBvcnQgeyByZWdpc3RlckV2ZW50cyB9IGZyb20gJy4vdXRpbC9ldmVudHMnO1xuaW1wb3J0IHsgZ2V0UGFyZW50Q29udGFpbmVyIH0gZnJvbSAnLi91dGlsL21hbmFnZUNvbnRleHQnO1xuaW1wb3J0IHsgY29weUV4aXN0aW5nS2V5cyB9IGZyb20gJy4vdXRpbC9vYmplY3QnO1xuZXhwb3J0IGxldCBjb25maWc7XG5leHBvcnQgbGV0IGhhbmRsZSA9IG5ldyBLb252YS5TdGFyKGNvbmZpZyk7XG5leHBvcnQgbGV0IHN0YXRpY0NvbmZpZyA9IGZhbHNlO1xubGV0IHBhcmVudCA9IGdldFBhcmVudENvbnRhaW5lcigpO1xubGV0IGRpc3BhdGNoZXIgPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcbiQ6IGhhbmRsZS5zZXRBdHRycyhjb25maWcpO1xub25Nb3VudCgoKSA9PiB7XG4gICAgJHBhcmVudC5hZGQoaGFuZGxlKTtcbiAgICBpZiAoIXN0YXRpY0NvbmZpZykge1xuICAgICAgICBoYW5kbGUub24oJ3RyYW5zZm9ybWVuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvcHlFeGlzdGluZ0tleXMoY29uZmlnLCBoYW5kbGUuZ2V0QXR0cnMoKSk7XG4gICAgICAgICAgICBjb25maWcgPSBjb25maWc7XG4gICAgICAgIH0pO1xuICAgICAgICBoYW5kbGUub24oJ2RyYWdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb3B5RXhpc3RpbmdLZXlzKGNvbmZpZywgaGFuZGxlLmdldEF0dHJzKCkpO1xuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVnaXN0ZXJFdmVudHMoZGlzcGF0Y2hlciwgaGFuZGxlKTtcbn0pO1xub25EZXN0cm95KCgpID0+IHtcbiAgICBoYW5kbGUuZGVzdHJveSgpO1xufSk7XG48L3NjcmlwdD5cbiIsICI8IS0tXG5AY29tcG9uZW50XG5UaGUgVGV4dCBjb21wb25lbnQgbmVlZHMgdG8gYmUgcGxhY2VkIGVpdGhlciBpbnNpZGUgYSBzdmVsdGUta29udmEgTGF5ZXIgb3IgR3JvdXAgY29tcG9uZW50LiBcblxuIyMjIFVzYWdlOlxuYGBgdHN4XG48VGV4dCBjb25maWc9e3sgeDogMTAwLCB5OiAxMDAsIHRleHQ6IFwic29tZSB0ZXh0XCIsIGZvbnRTaXplOiAyNSB9fSAvPlxuYGBgXG5cbiMjIyBTdGF0aWMgY29uZmlnOlxuQnkgZGVmYXVsdCBzdmVsdGUta29udmEgd2lsbCBhdXRvbWF0aWNhbGx5IHVwZGF0ZSB5b3VyIGNvbmZpZyBwcm9wIG9uIGBkcmFnZW5kYCBhbmQgYHRyYW5zZm9ybWVuZGAgZXZlbnRzIHRvIG1hdGNoIHRoZSBjb25maWcgc3RhdGUgKHBvc2l0aW9uLCByb3RhdGlvbiwgc2NhbGUsIC4uLikgd2l0aCB0aGUgaW50ZXJuYWwgS29udmEgc3RhdGUuIFxuSWYgeW91IGFkZGl0aW9uYWxseSBiaW5kIHRoZSBjb25maWcgcHJvcCB5b3VyIHJlYWN0aXZlIGJsb2NrcyB3aWxsIGFsc28gYmUgdHJpZ2dlcmVkIG9uY2UgdGhpcyBoYXBwZW5zLiBcblRoZXJlIG1pZ2h0IGJlIGNhc2VzIHdoZXJlIHRoaXMgYmVoYXZpb3IgaXMgbm90IGJlbmVmaWNpYWwgaW4gdGhpcyBjYXNlIHlvdSBjYW4gZGlzYWJsZSBpdCBieSBwYXNzaW5nIHRoZSBgc3RhdGljQ29uZmlnID0gdHJ1ZWAgcHJvcCB0byB0aGUgY29tcG9uZW50LlxuXG5GdXJ0aGVyIGluZm9ybWF0aW9uOiBbS29udmEgQVBJIGRvY3NdKGh0dHBzOi8va29udmFqcy5vcmcvYXBpL0tvbnZhLlRleHQuaHRtbCksIFtzdmVsdGUta29udmEgZG9jc10oaHR0cHM6Ly9rb252YWpzLm9yZy9kb2NzL3N2ZWx0ZSlcbi0tPlxuPHNjcmlwdD4vKipcbiAqIFdBUk5JTkc6IFRoaXMgY29tcG9uZW50IGlzIGF1dG9nZW5lcmF0ZWQgdXNpbmcgdGhlIHN2ZWx0ZUtvbnZhQ29tcG9uZW50LmhicyB0ZW1wbGF0ZS4gRG8gbm90IGVkaXQgdGhpcyBmaWxlIG1hbnVhbGx5IVxuICovXG5pbXBvcnQgS29udmEgZnJvbSAna29udmEnO1xuaW1wb3J0IHsgb25Nb3VudCwgb25EZXN0cm95LCBjcmVhdGVFdmVudERpc3BhdGNoZXIgfSBmcm9tICdzdmVsdGUnO1xuaW1wb3J0IHsgcmVnaXN0ZXJFdmVudHMgfSBmcm9tICcuL3V0aWwvZXZlbnRzJztcbmltcG9ydCB7IGdldFBhcmVudENvbnRhaW5lciB9IGZyb20gJy4vdXRpbC9tYW5hZ2VDb250ZXh0JztcbmltcG9ydCB7IGNvcHlFeGlzdGluZ0tleXMgfSBmcm9tICcuL3V0aWwvb2JqZWN0JztcbmV4cG9ydCBsZXQgY29uZmlnO1xuZXhwb3J0IGxldCBoYW5kbGUgPSBuZXcgS29udmEuVGV4dChjb25maWcpO1xuZXhwb3J0IGxldCBzdGF0aWNDb25maWcgPSBmYWxzZTtcbmxldCBwYXJlbnQgPSBnZXRQYXJlbnRDb250YWluZXIoKTtcbmxldCBkaXNwYXRjaGVyID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XG4kOiBoYW5kbGUuc2V0QXR0cnMoY29uZmlnKTtcbm9uTW91bnQoKCkgPT4ge1xuICAgICRwYXJlbnQuYWRkKGhhbmRsZSk7XG4gICAgaWYgKCFzdGF0aWNDb25maWcpIHtcbiAgICAgICAgaGFuZGxlLm9uKCd0cmFuc2Zvcm1lbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb3B5RXhpc3RpbmdLZXlzKGNvbmZpZywgaGFuZGxlLmdldEF0dHJzKCkpO1xuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnO1xuICAgICAgICB9KTtcbiAgICAgICAgaGFuZGxlLm9uKCdkcmFnZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29weUV4aXN0aW5nS2V5cyhjb25maWcsIGhhbmRsZS5nZXRBdHRycygpKTtcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyRXZlbnRzKGRpc3BhdGNoZXIsIGhhbmRsZSk7XG59KTtcbm9uRGVzdHJveSgoKSA9PiB7XG4gICAgaGFuZGxlLmRlc3Ryb3koKTtcbn0pO1xuPC9zY3JpcHQ+XG4iLCAiPCEtLVxuQGNvbXBvbmVudFxuVGhlIFRleHRQYXRoIGNvbXBvbmVudCBuZWVkcyB0byBiZSBwbGFjZWQgZWl0aGVyIGluc2lkZSBhIHN2ZWx0ZS1rb252YSBMYXllciBvciBHcm91cCBjb21wb25lbnQuIFxuXG4jIyMgVXNhZ2U6XG5gYGB0c3hcbjxUZXh0UGF0aCBjb25maWc9e3sgeDogMTAwLCB5OiAxMDAsIGZpbGw6IFwiIzMzM1wiLCB0ZXh0OiBcInNvbWUgdGV4dFwiLCBmb250U2l6ZTogMjUsIGRhdGE6IFwiTTEwIDEwIEMwIDAgMTAgMTUwIDEwMCAxMDAgUzMwMCAxNTAgNS4wLjMwMFwiIH19IC8+XG5gYGBcblxuIyMjIFN0YXRpYyBjb25maWc6XG5CeSBkZWZhdWx0IHN2ZWx0ZS1rb252YSB3aWxsIGF1dG9tYXRpY2FsbHkgdXBkYXRlIHlvdXIgY29uZmlnIHByb3Agb24gYGRyYWdlbmRgIGFuZCBgdHJhbnNmb3JtZW5kYCBldmVudHMgdG8gbWF0Y2ggdGhlIGNvbmZpZyBzdGF0ZSAocG9zaXRpb24sIHJvdGF0aW9uLCBzY2FsZSwgLi4uKSB3aXRoIHRoZSBpbnRlcm5hbCBLb252YSBzdGF0ZS4gXG5JZiB5b3UgYWRkaXRpb25hbGx5IGJpbmQgdGhlIGNvbmZpZyBwcm9wIHlvdXIgcmVhY3RpdmUgYmxvY2tzIHdpbGwgYWxzbyBiZSB0cmlnZ2VyZWQgb25jZSB0aGlzIGhhcHBlbnMuIFxuVGhlcmUgbWlnaHQgYmUgY2FzZXMgd2hlcmUgdGhpcyBiZWhhdmlvciBpcyBub3QgYmVuZWZpY2lhbCBpbiB0aGlzIGNhc2UgeW91IGNhbiBkaXNhYmxlIGl0IGJ5IHBhc3NpbmcgdGhlIGBzdGF0aWNDb25maWcgPSB0cnVlYCBwcm9wIHRvIHRoZSBjb21wb25lbnQuXG5cbkZ1cnRoZXIgaW5mb3JtYXRpb246IFtLb252YSBBUEkgZG9jc10oaHR0cHM6Ly9rb252YWpzLm9yZy9hcGkvS29udmEuVGV4dFBhdGguaHRtbCksIFtzdmVsdGUta29udmEgZG9jc10oaHR0cHM6Ly9rb252YWpzLm9yZy9kb2NzL3N2ZWx0ZSlcbi0tPlxuPHNjcmlwdD4vKipcbiAqIFdBUk5JTkc6IFRoaXMgY29tcG9uZW50IGlzIGF1dG9nZW5lcmF0ZWQgdXNpbmcgdGhlIHN2ZWx0ZUtvbnZhQ29tcG9uZW50LmhicyB0ZW1wbGF0ZS4gRG8gbm90IGVkaXQgdGhpcyBmaWxlIG1hbnVhbGx5IVxuICovXG5pbXBvcnQgS29udmEgZnJvbSAna29udmEnO1xuaW1wb3J0IHsgb25Nb3VudCwgb25EZXN0cm95LCBjcmVhdGVFdmVudERpc3BhdGNoZXIgfSBmcm9tICdzdmVsdGUnO1xuaW1wb3J0IHsgcmVnaXN0ZXJFdmVudHMgfSBmcm9tICcuL3V0aWwvZXZlbnRzJztcbmltcG9ydCB7IGdldFBhcmVudENvbnRhaW5lciB9IGZyb20gJy4vdXRpbC9tYW5hZ2VDb250ZXh0JztcbmltcG9ydCB7IGNvcHlFeGlzdGluZ0tleXMgfSBmcm9tICcuL3V0aWwvb2JqZWN0JztcbmV4cG9ydCBsZXQgY29uZmlnO1xuZXhwb3J0IGxldCBoYW5kbGUgPSBuZXcgS29udmEuVGV4dFBhdGgoY29uZmlnKTtcbmV4cG9ydCBsZXQgc3RhdGljQ29uZmlnID0gZmFsc2U7XG5sZXQgcGFyZW50ID0gZ2V0UGFyZW50Q29udGFpbmVyKCk7XG5sZXQgZGlzcGF0Y2hlciA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpO1xuJDogaGFuZGxlLnNldEF0dHJzKGNvbmZpZyk7XG5vbk1vdW50KCgpID0+IHtcbiAgICAkcGFyZW50LmFkZChoYW5kbGUpO1xuICAgIGlmICghc3RhdGljQ29uZmlnKSB7XG4gICAgICAgIGhhbmRsZS5vbigndHJhbnNmb3JtZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29weUV4aXN0aW5nS2V5cyhjb25maWcsIGhhbmRsZS5nZXRBdHRycygpKTtcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgfSk7XG4gICAgICAgIGhhbmRsZS5vbignZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvcHlFeGlzdGluZ0tleXMoY29uZmlnLCBoYW5kbGUuZ2V0QXR0cnMoKSk7XG4gICAgICAgICAgICBjb25maWcgPSBjb25maWc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWdpc3RlckV2ZW50cyhkaXNwYXRjaGVyLCBoYW5kbGUpO1xufSk7XG5vbkRlc3Ryb3koKCkgPT4ge1xuICAgIGhhbmRsZS5kZXN0cm95KCk7XG59KTtcbjwvc2NyaXB0PlxuIiwgIjwhLS1cbkBjb21wb25lbnRcblRoZSBUcmFuc2Zvcm1lciBjb21wb25lbnQgbmVlZHMgdG8gYmUgcGxhY2VkIGluc2lkZSBhIHN2ZWx0ZS1rb252YSBMYXllciBvciBHcm91cCBjb21wb25lbnQuIFxuXG5JbiBvcmRlciB0byBhZGQgc2hhcGVzIHRvIHRoZSB0cmFuc2Zvcm1lciB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHVuZGVybHlpbmcgS29udmEgVHJhbnNmb3JtZXIgYnkgYmluZGluZyB0aGUgYGhhbmRsZWAgcHJvcC4gXG5UaGVuIHVzZSB0aGUgYG5vZGVzKClgIGZ1bmN0aW9uIHRvIGFkZCBhbnkgc2hhcGVzIHRvIHRoZSBUcmFuc2Zvcm1lci5cblxuIyMjIFVzYWdlOlxuYGBgdHN4XG48c2NyaXB0PlxuXHRsZXQgdHJhbnNmb3JtZXI7XG5cblx0dHJhbnNmb3JtZXIubm9kZXMoW3NvbWVTaGFwZSwgb3RoZXJTaGFwZV0pO1xuPC9zY3JpcHQ+XG5cbjxUcmFuc2Zvcm1lciBiaW5kOmhhbmRsZT17dHJhbnNmb3JtZXJ9IC8+XG5gYGBcblxuIyMjIFN0YXRpYyBjb25maWc6XG5CeSBkZWZhdWx0IHN2ZWx0ZS1rb252YSB3aWxsIGF1dG9tYXRpY2FsbHkgdXBkYXRlIHlvdXIgY29uZmlnIHByb3Agb24gYGRyYWdlbmRgIGFuZCBgdHJhbnNmb3JtZW5kYCBldmVudHMgdG8gbWF0Y2ggdGhlIGNvbmZpZyBzdGF0ZSAocG9zaXRpb24sIHJvdGF0aW9uLCBzY2FsZSwgLi4uKSB3aXRoIHRoZSBpbnRlcm5hbCBLb252YSBzdGF0ZS4gXG5JZiB5b3UgYWRkaXRpb25hbGx5IGJpbmQgdGhlIGNvbmZpZyBwcm9wIHlvdXIgcmVhY3RpdmUgYmxvY2tzIHdpbGwgYWxzbyBiZSB0cmlnZ2VyZWQgb25jZSB0aGlzIGhhcHBlbnMuIFxuVGhlcmUgbWlnaHQgYmUgY2FzZXMgd2hlcmUgdGhpcyBiZWhhdmlvciBpcyBub3QgYmVuZWZpY2lhbCBpbiB0aGlzIGNhc2UgeW91IGNhbiBkaXNhYmxlIGl0IGJ5IHBhc3NpbmcgdGhlIGBzdGF0aWNDb25maWcgPSB0cnVlYCBwcm9wIHRvIHRoZSBjb21wb25lbnQuXG5cbkZ1cnRoZXIgaW5mb3JtYXRpb246IFtLb252YSBBUEkgZG9jc10oaHR0cHM6Ly9rb252YWpzLm9yZy9hcGkvS29udmEuVHJhbnNmb3JtZXIuaHRtbCksIFtzdmVsdGUta29udmEgZG9jc10oaHR0cHM6Ly9rb252YWpzLm9yZy9kb2NzL3N2ZWx0ZSlcbi0tPlxuPHNjcmlwdD5pbXBvcnQgS29udmEgZnJvbSAna29udmEnO1xuaW1wb3J0IHsgb25Nb3VudCwgb25EZXN0cm95LCBjcmVhdGVFdmVudERpc3BhdGNoZXIgfSBmcm9tICdzdmVsdGUnO1xuaW1wb3J0IHsgcmVnaXN0ZXJFdmVudHMgfSBmcm9tICcuL3V0aWwvZXZlbnRzJztcbmltcG9ydCB7IGdldFBhcmVudENvbnRhaW5lciB9IGZyb20gJy4vdXRpbC9tYW5hZ2VDb250ZXh0JztcbmltcG9ydCB7IGNvcHlFeGlzdGluZ0tleXMgfSBmcm9tICcuL3V0aWwvb2JqZWN0JztcbmV4cG9ydCBsZXQgY29uZmlnID0ge307XG5leHBvcnQgbGV0IGhhbmRsZSA9IG5ldyBLb252YS5UcmFuc2Zvcm1lcihjb25maWcpO1xuZXhwb3J0IGxldCBzdGF0aWNDb25maWcgPSBmYWxzZTtcbmxldCBwYXJlbnQgPSBnZXRQYXJlbnRDb250YWluZXIoKTtcbmxldCBkaXNwYXRjaGVyID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XG4kOiBpZiAoaGFuZGxlKSB7XG4gICAgaGFuZGxlLnNldEF0dHJzKGNvbmZpZyk7XG59XG5vbk1vdW50KCgpID0+IHtcbiAgICAkcGFyZW50LmFkZChoYW5kbGUpO1xuICAgIGlmICghc3RhdGljQ29uZmlnKSB7XG4gICAgICAgIGhhbmRsZS5vbigndHJhbnNmb3JtZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29weUV4aXN0aW5nS2V5cyhjb25maWcsIGhhbmRsZS5nZXRBdHRycygpKTtcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgfSk7XG4gICAgICAgIGhhbmRsZS5vbignZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvcHlFeGlzdGluZ0tleXMoY29uZmlnLCBoYW5kbGUuZ2V0QXR0cnMoKSk7XG4gICAgICAgICAgICBjb25maWcgPSBjb25maWc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWdpc3RlckV2ZW50cyhkaXNwYXRjaGVyLCBoYW5kbGUpO1xufSk7XG5vbkRlc3Ryb3koKCkgPT4ge1xuICAgIGlmIChoYW5kbGUpIHtcbiAgICAgICAgaGFuZGxlLmRlc3Ryb3koKTtcbiAgICB9XG59KTtcbjwvc2NyaXB0PlxuIiwgIjwhLS1cbkBjb21wb25lbnRcblRoZSBXZWRnZSBjb21wb25lbnQgbmVlZHMgdG8gYmUgcGxhY2VkIGVpdGhlciBpbnNpZGUgYSBzdmVsdGUta29udmEgTGF5ZXIgb3IgR3JvdXAgY29tcG9uZW50LiBcblxuIyMjIFVzYWdlOlxuYGBgdHN4XG48V2VkZ2UgY29uZmlnPXt7IHg6IDEwMCwgeTogMTAwLCByYWRpdXM6IDEwMCwgYW5nbGU6IDEyMCwgZmlsbDogXCJibHVlXCIgfX0gLz5cbmBgYFxuXG4jIyMgU3RhdGljIGNvbmZpZzpcbkJ5IGRlZmF1bHQgc3ZlbHRlLWtvbnZhIHdpbGwgYXV0b21hdGljYWxseSB1cGRhdGUgeW91ciBjb25maWcgcHJvcCBvbiBgZHJhZ2VuZGAgYW5kIGB0cmFuc2Zvcm1lbmRgIGV2ZW50cyB0byBtYXRjaCB0aGUgY29uZmlnIHN0YXRlIChwb3NpdGlvbiwgcm90YXRpb24sIHNjYWxlLCAuLi4pIHdpdGggdGhlIGludGVybmFsIEtvbnZhIHN0YXRlLiBcbklmIHlvdSBhZGRpdGlvbmFsbHkgYmluZCB0aGUgY29uZmlnIHByb3AgeW91ciByZWFjdGl2ZSBibG9ja3Mgd2lsbCBhbHNvIGJlIHRyaWdnZXJlZCBvbmNlIHRoaXMgaGFwcGVucy4gXG5UaGVyZSBtaWdodCBiZSBjYXNlcyB3aGVyZSB0aGlzIGJlaGF2aW9yIGlzIG5vdCBiZW5lZmljaWFsIGluIHRoaXMgY2FzZSB5b3UgY2FuIGRpc2FibGUgaXQgYnkgcGFzc2luZyB0aGUgYHN0YXRpY0NvbmZpZyA9IHRydWVgIHByb3AgdG8gdGhlIGNvbXBvbmVudC5cblxuRnVydGhlciBpbmZvcm1hdGlvbjogW0tvbnZhIEFQSSBkb2NzXShodHRwczovL2tvbnZhanMub3JnL2FwaS9Lb252YS5XZWRnZS5odG1sKSwgW3N2ZWx0ZS1rb252YSBkb2NzXShodHRwczovL2tvbnZhanMub3JnL2RvY3Mvc3ZlbHRlKVxuLS0+XG48c2NyaXB0Pi8qKlxuICogV0FSTklORzogVGhpcyBjb21wb25lbnQgaXMgYXV0b2dlbmVyYXRlZCB1c2luZyB0aGUgc3ZlbHRlS29udmFDb21wb25lbnQuaGJzIHRlbXBsYXRlLiBEbyBub3QgZWRpdCB0aGlzIGZpbGUgbWFudWFsbHkhXG4gKi9cbmltcG9ydCBLb252YSBmcm9tICdrb252YSc7XG5pbXBvcnQgeyBvbk1vdW50LCBvbkRlc3Ryb3ksIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciB9IGZyb20gJ3N2ZWx0ZSc7XG5pbXBvcnQgeyByZWdpc3RlckV2ZW50cyB9IGZyb20gJy4vdXRpbC9ldmVudHMnO1xuaW1wb3J0IHsgZ2V0UGFyZW50Q29udGFpbmVyIH0gZnJvbSAnLi91dGlsL21hbmFnZUNvbnRleHQnO1xuaW1wb3J0IHsgY29weUV4aXN0aW5nS2V5cyB9IGZyb20gJy4vdXRpbC9vYmplY3QnO1xuZXhwb3J0IGxldCBjb25maWc7XG5leHBvcnQgbGV0IGhhbmRsZSA9IG5ldyBLb252YS5XZWRnZShjb25maWcpO1xuZXhwb3J0IGxldCBzdGF0aWNDb25maWcgPSBmYWxzZTtcbmxldCBwYXJlbnQgPSBnZXRQYXJlbnRDb250YWluZXIoKTtcbmxldCBkaXNwYXRjaGVyID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XG4kOiBoYW5kbGUuc2V0QXR0cnMoY29uZmlnKTtcbm9uTW91bnQoKCkgPT4ge1xuICAgICRwYXJlbnQuYWRkKGhhbmRsZSk7XG4gICAgaWYgKCFzdGF0aWNDb25maWcpIHtcbiAgICAgICAgaGFuZGxlLm9uKCd0cmFuc2Zvcm1lbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb3B5RXhpc3RpbmdLZXlzKGNvbmZpZywgaGFuZGxlLmdldEF0dHJzKCkpO1xuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnO1xuICAgICAgICB9KTtcbiAgICAgICAgaGFuZGxlLm9uKCdkcmFnZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29weUV4aXN0aW5nS2V5cyhjb25maWcsIGhhbmRsZS5nZXRBdHRycygpKTtcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyRXZlbnRzKGRpc3BhdGNoZXIsIGhhbmRsZSk7XG59KTtcbm9uRGVzdHJveSgoKSA9PiB7XG4gICAgaGFuZGxlLmRlc3Ryb3koKTtcbn0pO1xuPC9zY3JpcHQ+XG4iLCAiPCEtLVxuQGNvbXBvbmVudFxuVGhlIFRhZyBjb21wb25lbnQgbmVlZHMgdG8gYmUgcGxhY2VkIGVpdGhlciBpbnNpZGUgYSBzdmVsdGUta29udmEgTGF5ZXIgb3IgR3JvdXAgY29tcG9uZW50LiBcblxuIyMjIFVzYWdlOlxuYGBgdHN4XG48VGFnIGNvbmZpZz17eyB4OiAxMCwgeTogMjAsIGZpbGw6IFwiYmxhY2tcIiwgcG9pbnRlckRpcmVjdGlvbjogXCJkb3duXCIsIHBvaW50ZXJXaWR0aDogMTAsIHBvaW50ZXJIZWlnaHQ6IDEwLCBsaW5lSm9pbjogXCJyb3VuZFwiIH19IC8+XG5gYGBcblxuIyMjIFN0YXRpYyBjb25maWc6XG5CeSBkZWZhdWx0IHN2ZWx0ZS1rb252YSB3aWxsIGF1dG9tYXRpY2FsbHkgdXBkYXRlIHlvdXIgY29uZmlnIHByb3Agb24gYGRyYWdlbmRgIGFuZCBgdHJhbnNmb3JtZW5kYCBldmVudHMgdG8gbWF0Y2ggdGhlIGNvbmZpZyBzdGF0ZSAocG9zaXRpb24sIHJvdGF0aW9uLCBzY2FsZSwgLi4uKSB3aXRoIHRoZSBpbnRlcm5hbCBLb252YSBzdGF0ZS4gXG5JZiB5b3UgYWRkaXRpb25hbGx5IGJpbmQgdGhlIGNvbmZpZyBwcm9wIHlvdXIgcmVhY3RpdmUgYmxvY2tzIHdpbGwgYWxzbyBiZSB0cmlnZ2VyZWQgb25jZSB0aGlzIGhhcHBlbnMuIFxuVGhlcmUgbWlnaHQgYmUgY2FzZXMgd2hlcmUgdGhpcyBiZWhhdmlvciBpcyBub3QgYmVuZWZpY2lhbCBpbiB0aGlzIGNhc2UgeW91IGNhbiBkaXNhYmxlIGl0IGJ5IHBhc3NpbmcgdGhlIGBzdGF0aWNDb25maWcgPSB0cnVlYCBwcm9wIHRvIHRoZSBjb21wb25lbnQuXG5cbkZ1cnRoZXIgaW5mb3JtYXRpb246IFtLb252YSBBUEkgZG9jc10oaHR0cHM6Ly9rb252YWpzLm9yZy9hcGkvS29udmEuVGFnLmh0bWwpLCBbc3ZlbHRlLWtvbnZhIGRvY3NdKGh0dHBzOi8va29udmFqcy5vcmcvZG9jcy9zdmVsdGUpXG4tLT5cbjxzY3JpcHQ+LyoqXG4gKiBXQVJOSU5HOiBUaGlzIGNvbXBvbmVudCBpcyBhdXRvZ2VuZXJhdGVkIHVzaW5nIHRoZSBzdmVsdGVLb252YUNvbXBvbmVudC5oYnMgdGVtcGxhdGUuIERvIG5vdCBlZGl0IHRoaXMgZmlsZSBtYW51YWxseSFcbiAqL1xuaW1wb3J0IEtvbnZhIGZyb20gJ2tvbnZhJztcbmltcG9ydCB7IG9uTW91bnQsIG9uRGVzdHJveSwgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnc3ZlbHRlJztcbmltcG9ydCB7IHJlZ2lzdGVyRXZlbnRzIH0gZnJvbSAnLi91dGlsL2V2ZW50cyc7XG5pbXBvcnQgeyBnZXRQYXJlbnRDb250YWluZXIgfSBmcm9tICcuL3V0aWwvbWFuYWdlQ29udGV4dCc7XG5pbXBvcnQgeyBjb3B5RXhpc3RpbmdLZXlzIH0gZnJvbSAnLi91dGlsL29iamVjdCc7XG5leHBvcnQgbGV0IGNvbmZpZztcbmV4cG9ydCBsZXQgaGFuZGxlID0gbmV3IEtvbnZhLlRhZyhjb25maWcpO1xuZXhwb3J0IGxldCBzdGF0aWNDb25maWcgPSBmYWxzZTtcbmxldCBwYXJlbnQgPSBnZXRQYXJlbnRDb250YWluZXIoKTtcbmxldCBkaXNwYXRjaGVyID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XG4kOiBoYW5kbGUuc2V0QXR0cnMoY29uZmlnKTtcbm9uTW91bnQoKCkgPT4ge1xuICAgICRwYXJlbnQuYWRkKGhhbmRsZSk7XG4gICAgaWYgKCFzdGF0aWNDb25maWcpIHtcbiAgICAgICAgaGFuZGxlLm9uKCd0cmFuc2Zvcm1lbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb3B5RXhpc3RpbmdLZXlzKGNvbmZpZywgaGFuZGxlLmdldEF0dHJzKCkpO1xuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnO1xuICAgICAgICB9KTtcbiAgICAgICAgaGFuZGxlLm9uKCdkcmFnZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29weUV4aXN0aW5nS2V5cyhjb25maWcsIGhhbmRsZS5nZXRBdHRycygpKTtcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyRXZlbnRzKGRpc3BhdGNoZXIsIGhhbmRsZSk7XG59KTtcbm9uRGVzdHJveSgoKSA9PiB7XG4gICAgaGFuZGxlLmRlc3Ryb3koKTtcbn0pO1xuPC9zY3JpcHQ+XG4iLCAiPHNjcmlwdD5cblx0aW1wb3J0IHsgb25EZXN0cm95LCBvbk1vdW50IH0gZnJvbSBcInN2ZWx0ZVwiO1xuXHRpbXBvcnQgeyBTdGFnZSwgTGF5ZXIsIExpbmUgfSBmcm9tIFwic3ZlbHRlLWtvbnZhXCI7XG5cdGltcG9ydCB7IERyYXdNb2RlIH0gZnJvbSBcInNyYy90eXBlcy9zdG9yZVR5cGVzXCI7XG5cdGltcG9ydCB7IHVzZURyYXdpbmcsIGRyYXdpbmdTdG9yZSB9IGZyb20gXCJzcmMvXFxic3RvcmUvbWFpblwiO1xuXHRpbXBvcnQgeyBjb25maWdTdG9yZSwgdXNlQ29uZmlnIH0gZnJvbSBcInNyYy9cXGJzdG9yZS9jb25maWdcIjtcblxuXHRleHBvcnQgbGV0IHdpZHRoO1xuXHRleHBvcnQgbGV0IGhlaWdodCA9IDEwMDtcblxuXHRsZXQgdW5zdWJzY3JpYmVEcmF3aW5nLCB1bnN1YnNjcmliZUNvbmZpZztcblx0bGV0IGxpbmVzID0gW107XG5cdGxldCBpc1BhaW50aW5nID0gZmFsc2U7XG5cdGxldCBpc0VyYXNpbmcgPSBmYWxzZTtcblx0bGV0IGlzRXJhc2VyTW9kZSA9IGZhbHNlO1xuXHRsZXQgc3RhZ2VDb25maWcgPSB7IHdpZHRoLCBoZWlnaHQgfTtcblx0bGV0IGVyYXNlckNvbmZpZyA9IHsgeDogMCwgeTogMCB9O1xuXG5cdC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICogZHJhd2luZyBsaW5lc1xuXHQgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuXHRjb25zdCBoYW5kbGVQb2ludGVyRG93biA9IChlLCBpc1RvdWNoID0gZmFsc2UpID0+IHtcblx0XHRpc1BhaW50aW5nID0gdHJ1ZTtcblx0XHRjb25zdCBwb3MgPSBnZXRQb2ludGVyUG9zaXRpb24oZSwgaXNUb3VjaCk7XG5cdFx0YWRkTmV3TGluZShwb3MpO1xuXHR9O1xuXG5cdGNvbnN0IGhhbmRsZVBvaW50ZXJNb3ZlID0gKGUsIGlzVG91Y2ggPSBmYWxzZSkgPT4ge1xuXHRcdGlmICghaXNQYWludGluZykgcmV0dXJuO1xuXHRcdGNvbnN0IHBvcyA9IGdldFBvaW50ZXJQb3NpdGlvbihlLCBpc1RvdWNoKTtcblx0XHR1cGRhdGVMYXN0TGluZShwb3MpO1xuXHR9O1xuXG5cdGNvbnN0IGhhbmRsZVBvaW50ZXJVcCA9ICgpID0+IHtcblx0XHRpc1BhaW50aW5nID0gZmFsc2U7XG5cdFx0ZHJhd2luZ1N0b3JlLnVwZGF0ZSgoc3RhdGUpID0+ICh7IC4uLnN0YXRlLCBpc1BhaW50aW5nOiBmYWxzZSB9KSk7XG5cdH07XG5cblx0Y29uc3QgZ2V0UG9pbnRlclBvc2l0aW9uID0gKGUsIGlzVG91Y2gpID0+IHtcblx0XHRsZXQgdGFyZ2V0ID0gZS5kZXRhaWwudGFyZ2V0O1xuXG5cdFx0aWYgKHR5cGVvZiB0YXJnZXQuZ2V0UG9pbnRlclBvc2l0aW9uICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdHRhcmdldCA9IHRhcmdldC5wYXJlbnQucGFyZW50O1xuXHRcdH1cblxuXHRcdHJldHVybiBpc1RvdWNoID8gZS5kZXRhaWwuZXZ0LnRvdWNoZXNbMF0gOiB0YXJnZXQuZ2V0UG9pbnRlclBvc2l0aW9uKCk7XG5cdH07XG5cblx0Y29uc3QgYWRkTmV3TGluZSA9IChwb3MpID0+IHtcblx0XHRkcmF3aW5nU3RvcmUudXBkYXRlKChzdGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgbmV3TGluZSA9IHtcblx0XHRcdFx0Y29sb3I6IHN0YXRlLmNvbG9yIHx8IFwiI0MzQUNEMFwiLFxuXHRcdFx0XHRtb2RlOiBzdGF0ZS5tb2RlLFxuXHRcdFx0XHRzdHJva2VXaWR0aDogc3RhdGUuc3Ryb2tlV2lkdGgsXG5cdFx0XHRcdHBvaW50czogW3Bvcy54LCBwb3MueV0sXG5cdFx0XHR9O1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0Li4uc3RhdGUsXG5cdFx0XHRcdGlzUGFpbnRpbmc6IHRydWUsXG5cdFx0XHRcdGxpbmVzOiBbLi4uc3RhdGUubGluZXMsIG5ld0xpbmVdLFxuXHRcdFx0fTtcblx0XHR9KTtcblx0fTtcblxuXHRjb25zdCB1cGRhdGVMYXN0TGluZSA9IChwb3MpID0+IHtcblx0XHRkcmF3aW5nU3RvcmUudXBkYXRlKChzdGF0ZSkgPT4ge1xuXHRcdFx0bGV0IGxhc3RMaW5lID0gc3RhdGUubGluZXNbc3RhdGUubGluZXMubGVuZ3RoIC0gMV07XG5cdFx0XHRsYXN0TGluZSA9IHtcblx0XHRcdFx0Li4ubGFzdExpbmUsXG5cdFx0XHRcdHBvaW50czogWy4uLmxhc3RMaW5lLnBvaW50cywgcG9zLngsIHBvcy55XSxcblx0XHRcdH07XG5cdFx0XHRyZXR1cm4geyAuLi5zdGF0ZSwgbGluZXM6IFsuLi5zdGF0ZS5saW5lcy5zbGljZSgwLCAtMSksIGxhc3RMaW5lXSB9O1xuXHRcdH0pO1xuXHR9O1xuXG5cdC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICogZXJhc2VyIHBvaW50ZXJcblx0ICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblx0Y29uc3QgbW9iaWxlVG91Y2hTdGFydEV2dCA9IChlKSA9PiB7XG5cdFx0aWYgKCFpc0VyYXNlck1vZGUpIHJldHVybjtcblx0XHRjb25zdCB0b3VjaFBvcyA9IGdldFRvdWNoUG9zaXRpb24oZSk7XG5cdFx0dXBkYXRlRXJhc2VyQ29uZmlnKHRvdWNoUG9zKTtcblx0XHRpc0VyYXNpbmcgPSB0cnVlO1xuXHR9O1xuXG5cdGNvbnN0IG1vYmlsZVRvdWNoTW92ZUV2dCA9IChlKSA9PiB7XG5cdFx0aWYgKCFpc0VyYXNpbmcgfHwgIWlzRXJhc2VyTW9kZSkgcmV0dXJuO1xuXHRcdGNvbnN0IHRvdWNoUG9zID0gZ2V0VG91Y2hQb3NpdGlvbihlKTtcblx0XHR1cGRhdGVFcmFzZXJDb25maWcodG91Y2hQb3MpO1xuXHR9O1xuXG5cdGNvbnN0IG1vYmlsZVRvdWNoRW5kRXZ0ID0gKCkgPT4ge1xuXHRcdGlmICghaXNFcmFzZXJNb2RlKSByZXR1cm47XG5cdFx0cmVzZXRFcmFzZXJDb25maWcoKTtcblx0XHRpc0VyYXNpbmcgPSBmYWxzZTtcblx0fTtcblxuXHRjb25zdCBnZXRUb3VjaFBvc2l0aW9uID0gKGUpID0+IHtcblx0XHRpZiAoZS50b3VjaGVzWzBdLnRvdWNoVHlwZSAhPT0gXCJzdHlsdXNcIikgcmV0dXJuO1xuXG5cdFx0Y29uc3QgY2FudmFzQm91bmRzID0gZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0Y29uc3QgdG91Y2ggPSBlLnRvdWNoZXNbMF07XG5cdFx0Y29uc3Qgc2NhbGVYID0gY2FudmFzQm91bmRzLndpZHRoIC8gZS50YXJnZXQub2Zmc2V0V2lkdGg7XG5cdFx0Y29uc3Qgc2NhbGVZID0gY2FudmFzQm91bmRzLmhlaWdodCAvIGUudGFyZ2V0Lm9mZnNldEhlaWdodDtcblxuXHRcdGNvbnN0IHggPSAodG91Y2guY2xpZW50WCAtIGNhbnZhc0JvdW5kcy5sZWZ0ICsgNSkgKiBzY2FsZVg7XG5cdFx0Y29uc3QgeSA9ICh0b3VjaC5jbGllbnRZIC0gY2FudmFzQm91bmRzLnRvcCArIDQwKSAqIHNjYWxlWTtcblxuXHRcdHJldHVybiB7IHgsIHkgfTtcblx0fTtcblxuXHRjb25zdCB1cGRhdGVFcmFzZXJDb25maWcgPSAocG9zKSA9PiB7XG5cdFx0Y29uZmlnU3RvcmUudXBkYXRlKChzdGF0ZSkgPT4gKHsgLi4uc3RhdGUsIGVyYXNlclBvaW50ZXI6IHBvcyB9KSk7XG5cdH07XG5cblx0Y29uc3QgcmVzZXRFcmFzZXJDb25maWcgPSAoKSA9PiB7XG5cdFx0Y29uZmlnU3RvcmUudXBkYXRlKChzdGF0ZSkgPT4gKHtcblx0XHRcdC4uLnN0YXRlLFxuXHRcdFx0ZXJhc2VyUG9pbnRlcjogeyB4OiAtMTAsIHk6IC0xMCB9LFxuXHRcdH0pKTtcblx0fTtcblxuXHQvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdCAqIHN1YnNjcmlwdGlvbnNcblx0ICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblx0Y29uc3QgaW5pdGlhbGl6ZVN1YnNjcmlwdGlvbnMgPSAoKSA9PiB7XG5cdFx0dW5zdWJzY3JpYmVEcmF3aW5nID0gZHJhd2luZ1N0b3JlLnN1YnNjcmliZSgoc3RhdGUpID0+IHtcblx0XHRcdGxpbmVzID0gc3RhdGUubGluZXM7XG5cdFx0XHRpc0VyYXNlck1vZGUgPSBzdGF0ZS5tb2RlID09PSBEcmF3TW9kZS5FcmFzZXI7XG5cdFx0fSk7XG5cblx0XHR1bnN1YnNjcmliZUNvbmZpZyA9IGNvbmZpZ1N0b3JlLnN1YnNjcmliZSgoc3RhdGUpID0+IHtcblx0XHRcdHN0YWdlQ29uZmlnID0gc3RhdGUuc3RhZ2U7XG5cdFx0XHRlcmFzZXJDb25maWcgPSBzdGF0ZS5lcmFzZXJQb2ludGVyO1xuXHRcdH0pO1xuXHR9O1xuXG5cdGNvbnN0IHNldFN0YWdlQ29uZmlnID0gKCkgPT4ge1xuXHRcdGNvbmZpZ1N0b3JlLnVwZGF0ZSgoc3RhdGUpID0+ICh7IC4uLnN0YXRlLCBzdGFnZTogc3RhZ2VDb25maWcgfSkpO1xuXHR9O1xuXG5cdGNvbnN0IGNsZWFudXBTdWJzY3JpcHRpb25zID0gKCkgPT4ge1xuXHRcdHVzZURyYXdpbmcuaW5pdCgpO1xuXHRcdHVzZUNvbmZpZy5pbml0KCk7XG5cdFx0dW5zdWJzY3JpYmVEcmF3aW5nKCk7XG5cdFx0dW5zdWJzY3JpYmVDb25maWcoKTtcblx0fTtcblxuXHQvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdCAqIGxpZmVjeWNsZVxuXHQgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuXHRvbk1vdW50KCgpID0+IHtcblx0XHRpbml0aWFsaXplU3Vic2NyaXB0aW9ucygpO1xuXHRcdHNldFN0YWdlQ29uZmlnKCk7XG5cdH0pO1xuXG5cdG9uRGVzdHJveShjbGVhbnVwU3Vic2NyaXB0aW9ucyk7XG48L3NjcmlwdD5cblxuPGRpdlxuXHRzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZTsgd2lkdGg6IHtzdGFnZUNvbmZpZy53aWR0aH07IGhlaWdodDoge3N0YWdlQ29uZmlnLmhlaWdodH0gXCJcblx0Y2xhc3M9XCJjb250YWluZXJcIlxuXHRvbjp0b3VjaHN0YXJ0PXttb2JpbGVUb3VjaFN0YXJ0RXZ0fVxuXHRvbjp0b3VjaG1vdmU9e21vYmlsZVRvdWNoTW92ZUV2dH1cblx0b246dG91Y2hlbmQ9e21vYmlsZVRvdWNoRW5kRXZ0fVxuPlxuXHQ8ZGl2XG5cdFx0Y2xhc3M9e2lzRXJhc2VyTW9kZSAmJiBlcmFzZXJDb25maWcueCAhPT0gLTEwID8gXCJjdXN0b20tY3Vyc29yXCIgOiBcIlwifVxuXHRcdHN0eWxlPVwibGVmdDoge2VyYXNlckNvbmZpZy54fXB4OyB0b3A6IHtlcmFzZXJDb25maWcueX1weDtcIlxuXHQ+PC9kaXY+XG5cdDxkaXYgY2xhc3M6ZXJhc2VyLWN1cnNvcj17aXNFcmFzZXJNb2RlfT5cblx0XHQ8U3RhZ2Vcblx0XHRcdGNvbmZpZz17eyB3aWR0aDogc3RhZ2VDb25maWcud2lkdGgsIGhlaWdodDogc3RhZ2VDb25maWcuaGVpZ2h0IH19XG5cdFx0XHRvbjptb3VzZWRvd249e2hhbmRsZVBvaW50ZXJEb3dufVxuXHRcdFx0b246bW91c2V1cD17aGFuZGxlUG9pbnRlclVwfVxuXHRcdFx0b246bW91c2Vtb3ZlPXtoYW5kbGVQb2ludGVyTW92ZX1cblx0XHRcdG9uOnRvdWNoc3RhcnQ9e2hhbmRsZVBvaW50ZXJEb3dufVxuXHRcdFx0b246dG91Y2hlbmQ9e2hhbmRsZVBvaW50ZXJVcH1cblx0XHRcdG9uOnRvdWNobW92ZT17aGFuZGxlUG9pbnRlck1vdmV9XG5cdFx0PlxuXHRcdFx0PExheWVyPlxuXHRcdFx0XHR7I2VhY2ggbGluZXMgYXMgbGluZX1cblx0XHRcdFx0XHQ8TGluZVxuXHRcdFx0XHRcdFx0Y29uZmlnPXt7XG5cdFx0XHRcdFx0XHRcdHN0cm9rZTogbGluZS5jb2xvcixcblx0XHRcdFx0XHRcdFx0c3Ryb2tlV2lkdGg6XG5cdFx0XHRcdFx0XHRcdFx0bGluZS5tb2RlID09PSBEcmF3TW9kZS5CcnVzaFxuXHRcdFx0XHRcdFx0XHRcdFx0PyBsaW5lLnN0cm9rZVdpZHRoXG5cdFx0XHRcdFx0XHRcdFx0XHQ6IDEwLFxuXHRcdFx0XHRcdFx0XHRnbG9iYWxDb21wb3NpdGVPcGVyYXRpb246XG5cdFx0XHRcdFx0XHRcdFx0bGluZS5tb2RlID09PSBEcmF3TW9kZS5CcnVzaFxuXHRcdFx0XHRcdFx0XHRcdFx0PyBcInNvdXJjZS1vdmVyXCJcblx0XHRcdFx0XHRcdFx0XHRcdDogXCJkZXN0aW5hdGlvbi1vdXRcIixcblx0XHRcdFx0XHRcdFx0bGluZUNhcDogXCJyb3VuZFwiLFxuXHRcdFx0XHRcdFx0XHRsaW5lSm9pbjogXCJyb3VuZFwiLFxuXHRcdFx0XHRcdFx0XHRwb2ludHM6IGxpbmUucG9pbnRzLFxuXHRcdFx0XHRcdFx0XHR0ZW5zaW9uOiAwLjUsXG5cdFx0XHRcdFx0XHRcdG9wYWNpdHk6IGxpbmUubW9kZSA9PT0gRHJhd01vZGUuQnJ1c2ggPyAwLjggOiAxLFxuXHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHQvPlxuXHRcdFx0XHR7L2VhY2h9XG5cdFx0XHQ8L0xheWVyPlxuXHRcdDwvU3RhZ2U+XG5cdDwvZGl2PlxuPC9kaXY+XG5cbjxzdHlsZT5cblx0LmNvbnRhaW5lciB7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG5cdFx0YWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG5cdFx0Ym9yZGVyOiAycHggc29saWQgIzY3NDE4ODtcblx0XHRib3JkZXItcmFkaXVzOiAxMHB4O1xuXHR9XG5cblx0LmVyYXNlci1jdXJzb3Ige1xuXHRcdGN1cnNvcjpcblx0XHRcdHVybCgnZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwibHVjaWRlIGx1Y2lkZS1jaXJjbGUtZGFzaGVkXCI+PHBhdGggZD1cIk0xMC4xIDIuMThhOS45MyA5LjkzIDAgMCAxIDMuOCAwXCIvPjxwYXRoIGQ9XCJNMTcuNiAzLjcxYTkuOTUgOS45NSAwIDAgMSAyLjY5IDIuN1wiLz48cGF0aCBkPVwiTTIxLjgyIDEwLjFhOS45MyA5LjkzIDAgMCAxIDAgMy44XCIvPjxwYXRoIGQ9XCJNMjAuMjkgMTcuNmE5Ljk1IDkuOTUgMCAwIDEtMi43IDIuNjlcIi8+PHBhdGggZD1cIk0xMy45IDIxLjgyYTkuOTQgOS45NCAwIDAgMS0zLjggMFwiLz48cGF0aCBkPVwiTTYuNCAyMC4yOWE5Ljk1IDkuOTUgMCAwIDEtMi42OS0yLjdcIi8+PHBhdGggZD1cIk0yLjE4IDEzLjlhOS45MyA5LjkzIDAgMCAxIDAtMy44XCIvPjxwYXRoIGQ9XCJNMy43MSA2LjRhOS45NSA5Ljk1IDAgMCAxIDIuNy0yLjY5XCIvPjwvc3ZnPicpXG5cdFx0XHRcdDEyIDEyLFxuXHRcdFx0YXV0bztcblx0fVxuXG5cdC5jdXN0b20tY3Vyc29yIHtcblx0XHRwb3NpdGlvbjogZml4ZWQ7XG5cdFx0d2lkdGg6IDI0cHg7XG5cdFx0aGVpZ2h0OiAyNHB4O1xuXHRcdGJvcmRlci1yYWRpdXM6IDUwJTtcblx0XHRiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDt1dGY4LDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImx1Y2lkZSBsdWNpZGUtY2lyY2xlLWRhc2hlZFwiPjxwYXRoIGQ9XCJNMTAuMSAyLjE4YTkuOTMgOS45MyAwIDAgMSAzLjggMFwiLz48cGF0aCBkPVwiTTE3LjYgMy43MWE5Ljk1IDkuOTUgMCAwIDEgMi42OSAyLjdcIi8+PHBhdGggZD1cIk0yMS44MiAxMC4xYTkuOTMgOS45MyAwIDAgMSAwIDMuOFwiLz48cGF0aCBkPVwiTTIwLjI5IDE3LjZhOS45NSA5Ljk1IDAgMCAxLTIuNyAyLjY5XCIvPjxwYXRoIGQ9XCJNMTMuOSAyMS44MmE5Ljk0IDkuOTQgMCAwIDEtMy44IDBcIi8+PHBhdGggZD1cIk02LjQgMjAuMjlhOS45NSA5Ljk1IDAgMCAxLTIuNjktMi43XCIvPjxwYXRoIGQ9XCJNMi4xOCAxMy45YTkuOTMgOS45MyAwIDAgMSAwLTMuOFwiLz48cGF0aCBkPVwiTTMuNzEgNi40YTkuOTUgOS45NSAwIDAgMSAyLjctMi42OVwiLz48L3N2Zz4nKTtcblx0XHRiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOyAvKiDrsLDqsr0g7J2066+47KeAIOyCrOydtOymiCDsobDsoJUgKi9cblx0XHRwb2ludGVyLWV2ZW50czogbm9uZTtcblx0XHR6LWluZGV4OiA5OTk5O1xuXHR9XG48L3N0eWxlPlxuIiwgIjxzY3JpcHQ+XG5cdGltcG9ydCBDb250cm9sbGVyIGZyb20gXCJzcmMvY29tcG9uZW50L0NvbnRyb2xsZXIuc3ZlbHRlXCI7XG5cdGltcG9ydCBEcmF3aW5nQ2FudmFzIGZyb20gXCJzcmMvY29tcG9uZW50L0RyYXdpbmdDYW52YXMuc3ZlbHRlXCI7XG5cdGltcG9ydCB7IG9uRGVzdHJveSB9IGZyb20gXCJzdmVsdGVcIjtcblxuXHRleHBvcnQgbGV0IGFwcDtcblx0ZXhwb3J0IGxldCB3aWR0aDtcblx0ZXhwb3J0IGxldCBoZWlnaHQgPSAxMDA7XG5cblx0b25EZXN0cm95KCgpID0+IHt9KTtcbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XG5cdDxEcmF3aW5nQ2FudmFzIHt3aWR0aH0ge2hlaWdodH0gLz5cblx0PENvbnRyb2xsZXIge2FwcH0gLz5cbjwvZGl2PlxuXG48c3R5bGU+XG5cdC5jb250YWluZXIge1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblx0XHRnYXA6IDEwcHg7XG5cdH1cbjwvc3R5bGU+XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQ0EsV0FBTyxlQUFlLFNBQVMsY0FBYyxFQUFFLE9BQU8sS0FBSyxDQUFDO0FBQzVELFlBQVEsZ0JBQWdCLFFBQVEsUUFBUSxRQUFRLE9BQU87QUFDdkQsUUFBTSxjQUFjLEtBQUssS0FBSztBQUM5QixhQUFTLGdCQUFnQjtBQUNyQixhQUFRLE9BQU8sV0FBVyxnQkFDckIsQ0FBQyxFQUFFLFNBQVMsS0FBSyxNQUFNLE1BQU0scUJBQzFCLENBQUMsRUFBRSxTQUFTLEtBQUssTUFBTSxNQUFNO0FBQUEsSUFDekM7QUFDQSxZQUFRLE9BQU8sT0FBTyxXQUFXLGNBQzNCLFNBQ0EsT0FBTyxXQUFXLGNBQ2QsU0FDQSxPQUFPLHNCQUFzQixjQUN6QixPQUNBLENBQUM7QUFDZixZQUFRLFFBQVE7QUFBQSxNQUNaLFNBQVMsUUFBUTtBQUFBLE1BQ2pCLFNBQVM7QUFBQSxNQUNULFdBQVcsY0FBYztBQUFBLE1BQ3pCLGNBQWMsUUFBUSxLQUFLLFNBQVUsT0FBTztBQUFBLE1BQUUsRUFBRSxTQUFTLENBQUM7QUFBQSxNQUMxRCxnQkFBZ0I7QUFBQSxNQUNoQixTQUFTLE9BQU87QUFDWixlQUFPLFFBQVEsTUFBTSxXQUFXLFFBQVEsY0FBYztBQUFBLE1BQzFEO0FBQUEsTUFDQSxhQUFhO0FBQUEsTUFDYixzQkFBc0I7QUFBQSxNQUN0QixpQkFBaUI7QUFBQSxNQUNqQixrQkFBa0I7QUFBQSxNQUNsQiw2QkFBNkI7QUFBQSxNQUM3QixtQkFBbUI7QUFBQSxNQUNuQixt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LEtBQUssR0FBRztBQUFBLE1BQ3pCLFdBQVcsQ0FBQyxLQUFLLElBQUksRUFBRTtBQUFBLE1BQ3ZCLGFBQWEsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQzNCLGFBQWEsQ0FBQyxJQUFJLEtBQUssRUFBRTtBQUFBLE1BQ3pCLFNBQVMsQ0FBQyxLQUFLLEdBQUcsR0FBRztBQUFBLE1BQ3JCLFdBQVcsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3pCLFlBQVksQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQzFCLE1BQU0sQ0FBQyxLQUFLLEtBQUssQ0FBQztBQUFBLE1BQ2xCLFdBQVcsQ0FBQyxLQUFLLEtBQUssRUFBRTtBQUFBLE1BQ3hCLE1BQU0sQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3BCLE9BQU8sQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUFBLE1BQ2pCLGFBQWEsQ0FBQyxLQUFLLEtBQUssRUFBRTtBQUFBLE1BQzFCLE1BQU0sQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3BCLFVBQVUsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3hCLFNBQVMsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3ZCLFdBQVcsQ0FBQyxLQUFLLElBQUksRUFBRTtBQUFBLE1BQ3ZCLFFBQVEsQ0FBQyxJQUFJLEdBQUcsR0FBRztBQUFBLE1BQ25CLE9BQU8sQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3JCLE9BQU8sQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3JCLFVBQVUsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3hCLGVBQWUsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQzdCLFdBQVcsQ0FBQyxLQUFLLEtBQUssQ0FBQztBQUFBLE1BQ3ZCLGNBQWMsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQzVCLFdBQVcsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3pCLFlBQVksQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQzFCLFdBQVcsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQ3pCLHNCQUFzQixDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDcEMsV0FBVyxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDekIsWUFBWSxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDMUIsV0FBVyxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDekIsV0FBVyxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDekIsYUFBYSxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDM0IsZUFBZSxDQUFDLElBQUksS0FBSyxHQUFHO0FBQUEsTUFDNUIsY0FBYyxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDNUIsZ0JBQWdCLENBQUMsS0FBSyxLQUFLLEdBQUc7QUFBQSxNQUM5QixnQkFBZ0IsQ0FBQyxLQUFLLEtBQUssR0FBRztBQUFBLE1BQzlCLGdCQUFnQixDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDOUIsYUFBYSxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDM0IsTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQUEsTUFDaEIsV0FBVyxDQUFDLElBQUksS0FBSyxFQUFFO0FBQUEsTUFDdkIsT0FBTyxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDckIsU0FBUyxDQUFDLEtBQUssR0FBRyxHQUFHO0FBQUEsTUFDckIsUUFBUSxDQUFDLEtBQUssR0FBRyxDQUFDO0FBQUEsTUFDbEIsa0JBQWtCLENBQUMsS0FBSyxLQUFLLEdBQUc7QUFBQSxNQUNoQyxZQUFZLENBQUMsR0FBRyxHQUFHLEdBQUc7QUFBQSxNQUN0QixjQUFjLENBQUMsS0FBSyxJQUFJLEdBQUc7QUFBQSxNQUMzQixjQUFjLENBQUMsS0FBSyxLQUFLLEdBQUc7QUFBQSxNQUM1QixnQkFBZ0IsQ0FBQyxJQUFJLEtBQUssR0FBRztBQUFBLE1BQzdCLGlCQUFpQixDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDL0IsbUJBQW1CLENBQUMsR0FBRyxLQUFLLEdBQUc7QUFBQSxNQUMvQixpQkFBaUIsQ0FBQyxJQUFJLEtBQUssR0FBRztBQUFBLE1BQzlCLGlCQUFpQixDQUFDLEtBQUssSUFBSSxHQUFHO0FBQUEsTUFDOUIsY0FBYyxDQUFDLElBQUksSUFBSSxHQUFHO0FBQUEsTUFDMUIsV0FBVyxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDekIsV0FBVyxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDekIsVUFBVSxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDeEIsYUFBYSxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDM0IsTUFBTSxDQUFDLEdBQUcsR0FBRyxHQUFHO0FBQUEsTUFDaEIsU0FBUyxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDdkIsT0FBTyxDQUFDLEtBQUssS0FBSyxDQUFDO0FBQUEsTUFDbkIsV0FBVyxDQUFDLEtBQUssS0FBSyxFQUFFO0FBQUEsTUFDeEIsUUFBUSxDQUFDLEtBQUssS0FBSyxDQUFDO0FBQUEsTUFDcEIsV0FBVyxDQUFDLEtBQUssSUFBSSxDQUFDO0FBQUEsTUFDdEIsUUFBUSxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDdEIsZUFBZSxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDN0IsV0FBVyxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDekIsZUFBZSxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDN0IsZUFBZSxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDN0IsWUFBWSxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDMUIsV0FBVyxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDekIsTUFBTSxDQUFDLEtBQUssS0FBSyxFQUFFO0FBQUEsTUFDbkIsTUFBTSxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDcEIsTUFBTSxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDcEIsWUFBWSxDQUFDLEtBQUssS0FBSyxHQUFHO0FBQUEsTUFDMUIsUUFBUSxDQUFDLEtBQUssR0FBRyxHQUFHO0FBQUEs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O0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFBRztBQUFBLFFBQ0g7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNKO0FBQUEsTUFDQTtBQUFBLFFBQ0k7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNKO0FBQUEsTUFDQTtBQUFBLFFBQ0k7QUFBQSxRQUFHO0FBQUEsUUFDSDtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNKO0FBQUEsTUFDQTtBQUFBLFFBQ0k7QUFBQSxRQUFHO0FBQUEsUUFDSDtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNKO0FBQUEsTUFDQTtBQUFBLFFBQ0k7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFBRztBQUFBLFFBQ0g7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNKO0FBQUEsTUFDQTtBQUFBLFFBQ0k7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNKO0FBQUEsTUFDQTtBQUFBLFFBQ0k7QUFBQSxRQUFHO0FBQUEsUUFDSDtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNKO0FBQUEsTUFDQTtBQUFBLFFBQ0k7QUFBQSxRQUFHO0FBQUEsUUFDSDtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNKO0FBQUEsTUFDQTtBQUFBLFFBQ0k7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFBRztBQUFBLFFBQ0g7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNKO0FBQUEsTUFDQTtBQUFBLFFBQ0k7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNKO0FBQUEsTUFDQTtBQUFBLFFBQ0k7QUFBQSxRQUFHO0FBQUEsUUFDSDtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUNBLFlBQVEsVUFBVTtBQUFBLE1BQ2QsQ0FBQztBQUFBLE1BQ0QsQ0FBQztBQUFBLE1BQ0QsQ0FBQyxHQUFLLENBQUc7QUFBQSxNQUNUO0FBQUEsUUFDSTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLE1BQ0o7QUFBQSxNQUNBO0FBQUEsUUFDSTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLE1BQ0o7QUFBQSxNQUNBO0FBQUEsUUFDSTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLE1BQ0o7QUFBQSxNQUNBO0FBQUEsUUFDSTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLE1BQ0o7QUFBQSxNQUNBO0FBQUEsUUFDSTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLE1BQ0o7QUFBQSxNQUNBO0FBQUEsUUFDSTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLE1BQ0o7QUFBQSxNQUNBO0FBQUEsUUFDSTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxRQUNJO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLE1BQ0o7QUFBQSxNQUNBO0FBQUEsUUFDSTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFDQSxZQUFRLHVCQUF1QixDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0FBQ3BFLFFBQU0sb0JBQW9CLENBQUMsSUFBSSxJQUFJLE1BQU07QUFDckMsVUFBSTtBQUNKLFVBQUk7QUFDSixVQUFJO0FBQ0osWUFBTSxJQUFJO0FBQ1YsVUFBSSxJQUFJO0FBQ1IsWUFBTTtBQUNOLGVBQVMsSUFBSSxHQUFHLElBQUksR0FBRyxLQUFLO0FBQ3hCLHFCQUFhLElBQUksUUFBUSxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUk7QUFDekMsZUFBTyxRQUFRLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxNQUFNLElBQUksSUFBSSxVQUFVO0FBQUEsTUFDM0Q7QUFDQSxhQUFPLElBQUk7QUFBQSxJQUNmO0FBQ0EsWUFBUSxvQkFBb0I7QUFDNUIsUUFBTSx3QkFBd0IsQ0FBQyxJQUFJLElBQUksTUFBTTtBQUN6QyxVQUFJLE1BQU0sUUFBVztBQUNqQixZQUFJO0FBQUEsTUFDUjtBQUNBLFlBQU0sS0FBSyxHQUFHLENBQUMsSUFBSSxJQUFJLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQztBQUNuQyxZQUFNLEtBQUssR0FBRyxDQUFDLElBQUksSUFBSSxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUM7QUFDbkMsWUFBTSxLQUFLLElBQUksR0FBRyxDQUFDLElBQUksSUFBSSxHQUFHLENBQUM7QUFDL0IsWUFBTSxLQUFLLElBQUksR0FBRyxDQUFDLElBQUksSUFBSSxHQUFHLENBQUM7QUFDL0IsWUFBTSxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDOUIsWUFBTSxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDOUIsWUFBTSxJQUFJLEtBQUssS0FBSyxLQUFLO0FBQ3pCLFVBQUksTUFBTSxHQUFHO0FBQ1QsZUFBUSxJQUFJLEtBQUssS0FBSyxLQUFLLElBQUksR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEtBQUssSUFBSSxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7QUFBQSxNQUNqRjtBQUNBLFlBQU0sSUFBSSxLQUFLLElBQUk7QUFDbkIsWUFBTSxJQUFJLElBQUk7QUFDZCxZQUFNLElBQUksSUFBSTtBQUNkLFlBQU0sSUFBSSxJQUFJLElBQUk7QUFDbEIsWUFBTSxNQUFNLElBQUksSUFBSSxJQUFJLElBQUksS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDLElBQUk7QUFDbkQsWUFBTSxNQUFNLElBQUksSUFBSSxJQUFJLElBQUksS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDLElBQUk7QUFDbkQsWUFBTSxPQUFPLElBQUksS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDLE1BQU0sSUFDcEMsSUFBSSxLQUFLLElBQUksS0FBSyxLQUFLLElBQUksUUFBUSxJQUFJLElBQUksQ0FBQyxJQUM1QztBQUNOLGFBQVEsS0FBSyxLQUFLLENBQUMsSUFBSSxLQUFNLElBQUksTUFBTSxJQUFJLE1BQU07QUFBQSxJQUNyRDtBQUNBLFlBQVEsd0JBQXdCO0FBQ2hDLGFBQVMsTUFBTSxJQUFJLElBQUksR0FBRztBQUN0QixZQUFNLFFBQVEsY0FBYyxHQUFHLEdBQUcsRUFBRTtBQUNwQyxZQUFNLFFBQVEsY0FBYyxHQUFHLEdBQUcsRUFBRTtBQUNwQyxZQUFNLFdBQVcsUUFBUSxRQUFRLFFBQVE7QUFDekMsYUFBTyxLQUFLLEtBQUssUUFBUTtBQUFBLElBQzdCO0FBQ0EsUUFBTSxnQkFBZ0IsQ0FBQyxZQUFZLEdBQUcsT0FBTztBQUN6QyxZQUFNLElBQUksR0FBRyxTQUFTO0FBQ3RCLFVBQUk7QUFDSixVQUFJO0FBQ0osVUFBSSxNQUFNLEdBQUc7QUFDVCxlQUFPO0FBQUEsTUFDWDtBQUNBLFVBQUksZUFBZSxHQUFHO0FBQ2xCLGdCQUFRO0FBQ1IsaUJBQVMsSUFBSSxHQUFHLEtBQUssR0FBRyxLQUFLO0FBQ3pCLG1CQUNJLFFBQVEscUJBQXFCLENBQUMsRUFBRSxDQUFDLElBQzdCLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQ3JCLEtBQUssSUFBSSxHQUFHLENBQUMsSUFDYixHQUFHLENBQUM7QUFBQSxRQUNoQjtBQUNBLGVBQU87QUFBQSxNQUNYLE9BQ0s7QUFDRCxjQUFNLElBQUksTUFBTSxDQUFDO0FBQ2pCLGlCQUFTLElBQUksR0FBRyxJQUFJLEdBQUcsS0FBSztBQUN4QixjQUFJLENBQUMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDO0FBQUEsUUFDbEM7QUFDQSxlQUFPLGNBQWMsYUFBYSxHQUFHLEdBQUcsR0FBRztBQUFBLE1BQy9DO0FBQUEsSUFDSjtBQUNBLFFBQU0sV0FBVyxDQUFDLFFBQVEsYUFBYSxTQUFTO0FBQzVDLFVBQUksUUFBUTtBQUNaLFVBQUksSUFBSSxTQUFTO0FBQ2pCLFVBQUksUUFBUSxTQUFTLEtBQUssQ0FBQyxLQUFLO0FBQ2hDLFVBQUksZ0JBQWdCO0FBQ3BCLGFBQU8sUUFBUSxNQUFPO0FBQ2xCLGNBQU0sbUJBQW1CLEtBQUssSUFBSSxJQUFJO0FBQ3RDLGNBQU0sa0JBQWtCLEtBQUssSUFBSSxTQUFTLGdCQUFnQixJQUFJO0FBQzlELFlBQUksa0JBQWtCLE9BQU87QUFDekIsa0JBQVE7QUFDUixlQUFLO0FBQUEsUUFDVCxPQUNLO0FBQ0QsZ0JBQU0sbUJBQW1CLEtBQUssSUFBSSxJQUFJO0FBQ3RDLGdCQUFNLGtCQUFrQixLQUFLLElBQUksU0FBUyxnQkFBZ0IsSUFBSTtBQUM5RCxjQUFJLGtCQUFrQixPQUFPO0FBQ3pCLG9CQUFRO0FBQ1IsaUJBQUs7QUFBQSxVQUNULE9BQ0s7QUFDRCxvQkFBUTtBQUFBLFVBQ1o7QUFBQSxRQUNKO0FBQ0E7QUFDQSxZQUFJLGdCQUFnQixLQUFLO0FBQ3JCO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFDQSxhQUFPO0FBQUEsSUFDWDtBQUNBLFlBQVEsV0FBVztBQUFBO0FBQUE7OztBQ3R4Qm5CO0FBQUE7QUFBQTtBQUNBLFdBQU8sZUFBZSxTQUFTLGNBQWMsRUFBRSxPQUFPLEtBQUssQ0FBQztBQUM1RCxZQUFRLE9BQU87QUFDZixRQUFNLFlBQVk7QUFDbEIsUUFBTSxVQUFVO0FBQ2hCLFFBQU0sV0FBVztBQUNqQixRQUFNLG9CQUFvQjtBQUMxQixRQUFNLE9BQU4sY0FBbUIsUUFBUSxNQUFNO0FBQUEsTUFDN0IsWUFBWSxRQUFRO0FBQ2hCLGNBQU0sTUFBTTtBQUNaLGFBQUssWUFBWSxDQUFDO0FBQ2xCLGFBQUssYUFBYTtBQUNsQixhQUFLLG1CQUFtQjtBQUN4QixhQUFLLEdBQUcsb0JBQW9CLFdBQVk7QUFDcEMsZUFBSyxtQkFBbUI7QUFBQSxRQUM1QixDQUFDO0FBQUEsTUFDTDtBQUFBLE1BQ0EscUJBQXFCO0FBQ2pCLGFBQUssWUFBWSxLQUFLLGNBQWMsS0FBSyxLQUFLLENBQUM7QUFDL0MsYUFBSyxhQUFhLEtBQUssY0FBYyxLQUFLLFNBQVM7QUFBQSxNQUN2RDtBQUFBLE1BQ0EsV0FBVyxTQUFTO0FBQ2hCLFlBQUksS0FBSyxLQUFLO0FBQ2QsZ0JBQVEsVUFBVTtBQUNsQixZQUFJLFdBQVc7QUFDZixpQkFBUyxJQUFJLEdBQUcsSUFBSSxHQUFHLFFBQVEsS0FBSztBQUNoQyxjQUFJLElBQUksR0FBRyxDQUFDLEVBQUU7QUFDZCxjQUFJLElBQUksR0FBRyxDQUFDLEVBQUU7QUFDZCxrQkFBUSxHQUFHO0FBQUEsWUFDUCxLQUFLO0FBQ0Qsc0JBQVEsT0FBTyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztBQUN6QjtBQUFBLFlBQ0osS0FBSztBQUNELHNCQUFRLE9BQU8sRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7QUFDekI7QUFBQSxZQUNKLEtBQUs7QUFDRCxzQkFBUSxjQUFjLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0FBQ3hEO0FBQUEsWUFDSixLQUFLO0FBQ0Qsc0JBQVEsaUJBQWlCLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0FBQy9DO0FBQUEsWUFDSixLQUFLO0FBQ0Qsa0JBQUksS0FBSyxFQUFFLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsR0FBRyxRQUFRLEVBQUUsQ0FBQyxHQUFHLFNBQVMsRUFBRSxDQUFDLEdBQUcsTUFBTSxFQUFFLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQztBQUNqRyxrQkFBSSxJQUFJLEtBQUssS0FBSyxLQUFLO0FBQ3ZCLGtCQUFJLFNBQVMsS0FBSyxLQUFLLElBQUksS0FBSztBQUNoQyxrQkFBSSxTQUFTLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDakMsc0JBQVEsVUFBVSxJQUFJLEVBQUU7QUFDeEIsc0JBQVEsT0FBTyxHQUFHO0FBQ2xCLHNCQUFRLE1BQU0sUUFBUSxNQUFNO0FBQzVCLHNCQUFRLElBQUksR0FBRyxHQUFHLEdBQUcsT0FBTyxRQUFRLFFBQVEsSUFBSSxFQUFFO0FBQ2xELHNCQUFRLE1BQU0sSUFBSSxRQUFRLElBQUksTUFBTTtBQUNwQyxzQkFBUSxPQUFPLENBQUMsR0FBRztBQUNuQixzQkFBUSxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDMUI7QUFBQSxZQUNKLEtBQUs7QUFDRCx5QkFBVztBQUNYLHNCQUFRLFVBQVU7QUFDbEI7QUFBQSxVQUNSO0FBQUEsUUFDSjtBQUNBLFlBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxRQUFRLEdBQUc7QUFDOUIsa0JBQVEsWUFBWSxJQUFJO0FBQUEsUUFDNUIsT0FDSztBQUNELGtCQUFRLGdCQUFnQixJQUFJO0FBQUEsUUFDaEM7QUFBQSxNQUNKO0FBQUEsTUFDQSxjQUFjO0FBQ1YsWUFBSSxTQUFTLENBQUM7QUFDZCxhQUFLLFVBQVUsUUFBUSxTQUFVLE1BQU07QUFDbkMsY0FBSSxLQUFLLFlBQVksS0FBSztBQUN0QixnQkFBSSxRQUFRLEtBQUssT0FBTyxDQUFDO0FBQ3pCLGdCQUFJLFNBQVMsS0FBSyxPQUFPLENBQUM7QUFDMUIsZ0JBQUksTUFBTSxLQUFLLE9BQU8sQ0FBQyxJQUFJO0FBQzNCLGdCQUFJLE1BQU0sS0FBSyxLQUFLO0FBQ3BCLGdCQUFJLEtBQUssSUFBSSxRQUFRLEdBQUcsSUFBSSxLQUFLO0FBQzdCLG9CQUFNLEtBQUssSUFBSSxRQUFRLEdBQUc7QUFBQSxZQUM5QjtBQUNBLGdCQUFJLFNBQVMsR0FBRztBQUNaLHVCQUFTLElBQUksUUFBUSxLQUFLLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDekMsc0JBQU0sUUFBUSxLQUFLLHdCQUF3QixLQUFLLE9BQU8sQ0FBQyxHQUFHLEtBQUssT0FBTyxDQUFDLEdBQUcsS0FBSyxPQUFPLENBQUMsR0FBRyxLQUFLLE9BQU8sQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUMvRyx1QkFBTyxLQUFLLE1BQU0sR0FBRyxNQUFNLENBQUM7QUFBQSxjQUNoQztBQUFBLFlBQ0osT0FDSztBQUNELHVCQUFTLElBQUksUUFBUSxLQUFLLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDekMsc0JBQU0sUUFBUSxLQUFLLHdCQUF3QixLQUFLLE9BQU8sQ0FBQyxHQUFHLEtBQUssT0FBTyxDQUFDLEdBQUcsS0FBSyxPQUFPLENBQUMsR0FBRyxLQUFLLE9BQU8sQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUMvRyx1QkFBTyxLQUFLLE1BQU0sR0FBRyxNQUFNLENBQUM7QUFBQSxjQUNoQztBQUFBLFlBQ0o7QUFBQSxVQUNKLFdBQ1MsS0FBSyxZQUFZLEtBQUs7QUFDM0IscUJBQVMsSUFBSSxHQUFLLEtBQUssR0FBRyxLQUFLLE1BQU07QUFDakMsb0JBQU0sUUFBUSxLQUFLLHNCQUFzQixHQUFHLEtBQUssTUFBTSxHQUFHLEtBQUssTUFBTSxHQUFHLEtBQUssT0FBTyxDQUFDLEdBQUcsS0FBSyxPQUFPLENBQUMsR0FBRyxLQUFLLE9BQU8sQ0FBQyxHQUFHLEtBQUssT0FBTyxDQUFDLEdBQUcsS0FBSyxPQUFPLENBQUMsR0FBRyxLQUFLLE9BQU8sQ0FBQyxDQUFDO0FBQ3RLLHFCQUFPLEtBQUssTUFBTSxHQUFHLE1BQU0sQ0FBQztBQUFBLFlBQ2hDO0FBQUEsVUFDSixPQUNLO0FBQ0QscUJBQVMsT0FBTyxPQUFPLEtBQUssTUFBTTtBQUFBLFVBQ3RDO0FBQUEsUUFDSixDQUFDO0FBQ0QsWUFBSSxPQUFPLE9BQU8sQ0FBQztBQUNuQixZQUFJLE9BQU8sT0FBTyxDQUFDO0FBQ25CLFlBQUksT0FBTyxPQUFPLENBQUM7QUFDbkIsWUFBSSxPQUFPLE9BQU8sQ0FBQztBQUNuQixZQUFJLEdBQUc7QUFDUCxpQkFBUyxJQUFJLEdBQUcsSUFBSSxPQUFPLFNBQVMsR0FBRyxLQUFLO0FBQ3hDLGNBQUksT0FBTyxJQUFJLENBQUM7QUFDaEIsY0FBSSxPQUFPLElBQUksSUFBSSxDQUFDO0FBQ3BCLGNBQUksQ0FBQyxNQUFNLENBQUMsR0FBRztBQUNYLG1CQUFPLEtBQUssSUFBSSxNQUFNLENBQUM7QUFDdkIsbUJBQU8sS0FBSyxJQUFJLE1BQU0sQ0FBQztBQUFBLFVBQzNCO0FBQ0EsY0FBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHO0FBQ1gsbUJBQU8sS0FBSyxJQUFJLE1BQU0sQ0FBQztBQUN2QixtQkFBTyxLQUFLLElBQUksTUFBTSxDQUFDO0FBQUEsVUFDM0I7QUFBQSxRQUNKO0FBQ0EsZUFBTztBQUFBLFVBQ0gsR0FBRztBQUFBLFVBQ0gsR0FBRztBQUFBLFVBQ0gsT0FBTyxPQUFPO0FBQUEsVUFDZCxRQUFRLE9BQU87QUFBQSxRQUNuQjtBQUFBLE1BQ0o7QUFBQSxNQUNBLFlBQVk7QUFDUixlQUFPLEtBQUs7QUFBQSxNQUNoQjtBQUFBLE1BQ0EsaUJBQWlCLFFBQVE7QUFDckIsZUFBTyxLQUFLLDRCQUE0QixRQUFRLEtBQUssU0FBUztBQUFBLE1BQ2xFO0FBQUEsTUFDQSxPQUFPLGNBQWMsSUFBSSxJQUFJLElBQUksSUFBSTtBQUNqQyxlQUFPLEtBQUssTUFBTSxLQUFLLE9BQU8sS0FBSyxPQUFPLEtBQUssT0FBTyxLQUFLLEdBQUc7QUFBQSxNQUNsRTtBQUFBLE1BQ0EsT0FBTyxjQUFjLFdBQVc7QUFDNUIsWUFBSSxhQUFhO0FBQ2pCLGlCQUFTLElBQUksR0FBRyxJQUFJLFVBQVUsUUFBUSxFQUFFLEdBQUc7QUFDdkMsd0JBQWMsVUFBVSxDQUFDLEVBQUU7QUFBQSxRQUMvQjtBQUNBLGVBQU87QUFBQSxNQUNYO0FBQUEsTUFDQSxPQUFPLDRCQUE0QixRQUFRLFdBQVc7QUFDbEQsWUFBSSxPQUFPLElBQUksR0FBRyxLQUFLLFVBQVU7QUFDakMsWUFBSSxDQUFDLElBQUk7QUFDTCxpQkFBTztBQUFBLFFBQ1g7QUFDQSxlQUFPLElBQUksTUFBTSxTQUFTLFVBQVUsQ0FBQyxFQUFFLFlBQVk7QUFDL0Msb0JBQVUsVUFBVSxDQUFDLEVBQUU7QUFDdkIsWUFBRTtBQUFBLFFBQ047QUFDQSxZQUFJLE1BQU0sSUFBSTtBQUNWLGtCQUFRLFVBQVUsSUFBSSxDQUFDLEVBQUUsT0FBTyxNQUFNLEVBQUU7QUFDeEMsaUJBQU87QUFBQSxZQUNILEdBQUcsTUFBTSxDQUFDO0FBQUEsWUFDVixHQUFHLE1BQU0sQ0FBQztBQUFBLFVBQ2Q7QUFBQSxRQUNKO0FBQ0EsWUFBSSxTQUFTLE1BQU07QUFDZixrQkFBUSxVQUFVLENBQUMsRUFBRSxPQUFPLE1BQU0sR0FBRyxDQUFDO0FBQ3RDLGlCQUFPO0FBQUEsWUFDSCxHQUFHLE1BQU0sQ0FBQztBQUFBLFlBQ1YsR0FBRyxNQUFNLENBQUM7QUFBQSxVQUNkO0FBQUEsUUFDSjtBQUNBLFlBQUksS0FBSyxVQUFVLENBQUM7QUFDcEIsWUFBSSxJQUFJLEdBQUc7QUFDWCxnQkFBUSxHQUFHLFNBQVM7QUFBQSxVQUNoQixLQUFLO0FBQ0QsbUJBQU8sS0FBSyxlQUFlLFFBQVEsR0FBRyxNQUFNLEdBQUcsR0FBRyxNQUFNLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7QUFBQSxVQUN6RSxLQUFLO0FBQ0QsbUJBQU8sS0FBSyx1QkFBdUIsR0FBRyxrQkFBa0IsVUFBVSxRQUFRLEtBQUssY0FBYyxTQUFTLEdBQUcsQ0FBQ0MsT0FBTTtBQUM1RyxzQkFBUSxHQUFHLGtCQUFrQixtQkFBbUIsQ0FBQyxHQUFHLE1BQU0sR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBR0EsRUFBQztBQUFBLFlBQ3JILENBQUMsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLE1BQU0sR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztBQUFBLFVBQ2xFLEtBQUs7QUFDRCxtQkFBTyxLQUFLLDJCQUEyQixHQUFHLGtCQUFrQixVQUFVLFFBQVEsS0FBSyxjQUFjLFNBQVMsR0FBRyxDQUFDQSxPQUFNO0FBQ2hILHNCQUFRLEdBQUcsa0JBQWtCLHVCQUF1QixDQUFDLEdBQUcsTUFBTSxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHQSxFQUFDO0FBQUEsWUFDN0csQ0FBQyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsTUFBTSxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0FBQUEsVUFDdEQsS0FBSztBQUNELGdCQUFJLEtBQUssRUFBRSxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEdBQUcsUUFBUSxFQUFFLENBQUMsR0FBRyxTQUFTLEVBQUUsQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDO0FBQ3RGLHFCQUFVLFNBQVMsU0FBVSxHQUFHO0FBQ2hDLG1CQUFPLEtBQUssd0JBQXdCLElBQUksSUFBSSxJQUFJLElBQUksT0FBTyxHQUFHO0FBQUEsUUFDdEU7QUFDQSxlQUFPO0FBQUEsTUFDWDtBQUFBLE1BQ0EsT0FBTyxlQUFlLE1BQU0sS0FBSyxLQUFLLEtBQUssS0FBSyxPQUFPLE9BQU87QUFDMUQsWUFBSSxVQUFVLFFBQVc7QUFDckIsa0JBQVE7QUFBQSxRQUNaO0FBQ0EsWUFBSSxVQUFVLFFBQVc7QUFDckIsa0JBQVE7QUFBQSxRQUNaO0FBQ0EsWUFBSSxLQUFLLE1BQU0sUUFBUSxNQUFNLE1BQU07QUFDbkMsWUFBSUMsT0FBTSxLQUFLLEtBQU0sT0FBTyxRQUFTLElBQUksSUFBSSxFQUFFO0FBQy9DLFlBQUksTUFBTSxLQUFLO0FBQ1gsVUFBQUEsUUFBTztBQUFBLFFBQ1g7QUFDQSxZQUFJLE9BQU8sSUFBSUE7QUFDZixZQUFJO0FBQ0osWUFBSSxRQUFRLEtBQUs7QUFDYixlQUFLO0FBQUEsWUFDRCxHQUFHO0FBQUEsWUFDSCxHQUFHLFFBQVE7QUFBQSxVQUNmO0FBQUEsUUFDSixZQUNVLFFBQVEsUUFBUSxRQUFRLE1BQU0sVUFBZ0IsR0FBRztBQUN2RCxlQUFLO0FBQUEsWUFDRCxHQUFHLFFBQVFBO0FBQUEsWUFDWCxHQUFHLFFBQVE7QUFBQSxVQUNmO0FBQUEsUUFDSixPQUNLO0FBQ0QsY0FBSSxJQUFJO0FBQ1IsY0FBSSxNQUFNLEtBQUssY0FBYyxLQUFLLEtBQUssS0FBSyxHQUFHO0FBQy9DLGNBQUksS0FBSyxRQUFRLFFBQVEsTUFBTSxRQUFRLFFBQVEsUUFBUSxNQUFNO0FBQzdELGNBQUksS0FBSyxNQUFNO0FBQ2YsZUFBSyxNQUFNLEtBQUssTUFBTTtBQUN0QixlQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ3RCLGNBQUksUUFBUSxLQUFLLGNBQWMsT0FBTyxPQUFPLElBQUksRUFBRTtBQUNuRCxjQUFJLE9BQU8sS0FBSyxLQUFLLE9BQU8sT0FBTyxRQUFRLEtBQUs7QUFDaEQsVUFBQUEsT0FBTSxLQUFLLEtBQU0sT0FBTyxRQUFTLElBQUksSUFBSSxFQUFFO0FBQzNDLGNBQUksTUFBTSxLQUFLO0FBQ1gsWUFBQUEsUUFBTztBQUFBLFVBQ1g7QUFDQSxpQkFBTyxJQUFJQTtBQUNYLGVBQUs7QUFBQSxZQUNELEdBQUcsS0FBS0E7QUFBQSxZQUNSLEdBQUcsS0FBSztBQUFBLFVBQ1o7QUFBQSxRQUNKO0FBQ0EsZUFBTztBQUFBLE1BQ1g7QUFBQSxNQUNBLE9BQU8sc0JBQXNCLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQ3RFLGlCQUFTLElBQUksR0FBRztBQUNaLGlCQUFPLElBQUksSUFBSTtBQUFBLFFBQ25CO0FBQ0EsaUJBQVMsSUFBSSxHQUFHO0FBQ1osaUJBQU8sSUFBSSxJQUFJLEtBQUssSUFBSTtBQUFBLFFBQzVCO0FBQ0EsaUJBQVMsSUFBSSxHQUFHO0FBQ1osaUJBQU8sSUFBSSxLQUFLLElBQUksTUFBTSxJQUFJO0FBQUEsUUFDbEM7QUFDQSxpQkFBUyxJQUFJLEdBQUc7QUFDWixrQkFBUSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUk7QUFBQSxRQUNwQztBQUNBLFlBQUksSUFBSSxNQUFNLElBQUksR0FBRyxJQUFJLE1BQU0sSUFBSSxHQUFHLElBQUksTUFBTSxJQUFJLEdBQUcsSUFBSSxNQUFNLElBQUksR0FBRztBQUN4RSxZQUFJLElBQUksTUFBTSxJQUFJLEdBQUcsSUFBSSxNQUFNLElBQUksR0FBRyxJQUFJLE1BQU0sSUFBSSxHQUFHLElBQUksTUFBTSxJQUFJLEdBQUc7QUFDeEUsZUFBTztBQUFBLFVBQ0g7QUFBQSxVQUNBO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFBQSxNQUNBLE9BQU8sMEJBQTBCLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDaEUsaUJBQVMsSUFBSSxHQUFHO0FBQ1osaUJBQU8sSUFBSTtBQUFBLFFBQ2Y7QUFDQSxpQkFBUyxJQUFJLEdBQUc7QUFDWixpQkFBTyxJQUFJLEtBQUssSUFBSTtBQUFBLFFBQ3hCO0FBQ0EsaUJBQVMsSUFBSSxHQUFHO0FBQ1osa0JBQVEsSUFBSSxNQUFNLElBQUk7QUFBQSxRQUMxQjtBQUNBLFlBQUksSUFBSSxNQUFNLElBQUksR0FBRyxJQUFJLE1BQU0sSUFBSSxHQUFHLElBQUksTUFBTSxJQUFJLEdBQUc7QUFDdkQsWUFBSSxJQUFJLE1BQU0sSUFBSSxHQUFHLElBQUksTUFBTSxJQUFJLEdBQUcsSUFBSSxNQUFNLElBQUksR0FBRztBQUN2RCxlQUFPO0FBQUEsVUFDSDtBQUFBLFVBQ0E7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLE1BQ0EsT0FBTyx3QkFBd0IsSUFBSSxJQUFJLElBQUksSUFBSSxPQUFPLEtBQUs7QUFDdkQsWUFBSSxTQUFTLEtBQUssSUFBSSxHQUFHLEdBQUcsU0FBUyxLQUFLLElBQUksR0FBRztBQUNqRCxZQUFJLEtBQUs7QUFBQSxVQUNMLEdBQUcsS0FBSyxLQUFLLElBQUksS0FBSztBQUFBLFVBQ3RCLEdBQUcsS0FBSyxLQUFLLElBQUksS0FBSztBQUFBLFFBQzFCO0FBQ0EsZUFBTztBQUFBLFVBQ0gsR0FBRyxNQUFNLEdBQUcsSUFBSSxTQUFTLEdBQUcsSUFBSTtBQUFBLFVBQ2hDLEdBQUcsTUFBTSxHQUFHLElBQUksU0FBUyxHQUFHLElBQUk7QUFBQSxRQUNwQztBQUFBLE1BQ0o7QUFBQSxNQUNBLE9BQU8sY0FBYyxNQUFNO0FBQ3ZCLFlBQUksQ0FBQyxNQUFNO0FBQ1AsaUJBQU8sQ0FBQztBQUFBLFFBQ1o7QUFDQSxZQUFJLEtBQUs7QUFDVCxZQUFJLEtBQUs7QUFBQSxVQUNMO0FBQUEsVUFDQTtBQUFBLFVBQ0E7QUFBQSxVQUNBO0FBQUEsVUFDQTtBQUFBLFVBQ0E7QUFBQSxVQUNBO0FBQUEsVUFDQTtBQUFBLFVBQ0E7QUFBQSxVQUNBO0FBQUEsVUFDQTtBQUFBLFVBQ0E7QUFBQSxVQUNBO0FBQUEsVUFDQTtBQUFBLFVBQ0E7QUFBQSxVQUNBO0FBQUEsVUFDQTtBQUFBLFVBQ0E7QUFBQSxVQUNBO0FBQUEsVUFDQTtBQUFBLFFBQ0o7QUFDQSxhQUFLLEdBQUcsUUFBUSxJQUFJLE9BQU8sS0FBSyxHQUFHLEdBQUcsR0FBRztBQUN6QyxpQkFBUyxJQUFJLEdBQUcsSUFBSSxHQUFHLFFBQVEsS0FBSztBQUNoQyxlQUFLLEdBQUcsUUFBUSxJQUFJLE9BQU8sR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFBQSxRQUN2RDtBQUNBLFlBQUksTUFBTSxHQUFHLE1BQU0sR0FBRztBQUN0QixZQUFJLEtBQUssQ0FBQztBQUNWLFlBQUksU0FBUyxDQUFDO0FBQ2QsWUFBSSxNQUFNO0FBQ1YsWUFBSSxNQUFNO0FBQ1YsWUFBSSxLQUFLO0FBQ1QsWUFBSTtBQUNKLGFBQUssSUFBSSxHQUFHLElBQUksSUFBSSxRQUFRLEtBQUs7QUFDN0IsY0FBSSxNQUFNLElBQUksQ0FBQztBQUNmLGNBQUksSUFBSSxJQUFJLE9BQU8sQ0FBQztBQUNwQixnQkFBTSxJQUFJLE1BQU0sQ0FBQztBQUNqQixpQkFBTyxTQUFTO0FBQ2hCLGlCQUFRLFFBQVEsR0FBRyxLQUFLLEdBQUcsR0FBSTtBQUMzQixtQkFBTyxLQUFLLE1BQU0sQ0FBQyxDQUFDO0FBQUEsVUFDeEI7QUFDQSxjQUFJLElBQUksQ0FBQztBQUNULG1CQUFTLElBQUksR0FBRyxPQUFPLE9BQU8sUUFBUSxJQUFJLE1BQU0sS0FBSztBQUNqRCxnQkFBSSxPQUFPLENBQUMsTUFBTSxNQUFNO0FBQ3BCLGdCQUFFLEtBQUssR0FBRyxDQUFDO0FBQ1g7QUFBQSxZQUNKO0FBQ0EsZ0JBQUksU0FBUyxXQUFXLE9BQU8sQ0FBQyxDQUFDO0FBQ2pDLGdCQUFJLENBQUMsTUFBTSxNQUFNLEdBQUc7QUFDaEIsZ0JBQUUsS0FBSyxNQUFNO0FBQUEsWUFDakIsT0FDSztBQUNELGdCQUFFLEtBQUssQ0FBQztBQUFBLFlBQ1o7QUFBQSxVQUNKO0FBQ0EsaUJBQU8sRUFBRSxTQUFTLEdBQUc7QUFDakIsZ0JBQUksTUFBTSxFQUFFLENBQUMsQ0FBQyxHQUFHO0FBQ2I7QUFBQSxZQUNKO0FBQ0EsZ0JBQUksTUFBTTtBQUNWLGdCQUFJLFNBQVMsQ0FBQztBQUNkLGdCQUFJLFNBQVMsS0FBSyxTQUFTO0FBQzNCLGdCQUFJLFNBQVMsUUFBUTtBQUNyQixnQkFBSSxJQUFJLElBQUksS0FBSyxJQUFJLElBQUksSUFBSTtBQUM3QixvQkFBUSxHQUFHO0FBQUEsY0FDUCxLQUFLO0FBQ0QsdUJBQU8sRUFBRSxNQUFNO0FBQ2YsdUJBQU8sRUFBRSxNQUFNO0FBQ2Ysc0JBQU07QUFDTix1QkFBTyxLQUFLLEtBQUssR0FBRztBQUNwQjtBQUFBLGNBQ0osS0FBSztBQUNELHNCQUFNLEVBQUUsTUFBTTtBQUNkLHNCQUFNLEVBQUUsTUFBTTtBQUNkLHVCQUFPLEtBQUssS0FBSyxHQUFHO0FBQ3BCO0FBQUEsY0FDSixLQUFLO0FBQ0Qsb0JBQUksS0FBSyxFQUFFLE1BQU07QUFDakIsb0JBQUksS0FBSyxFQUFFLE1BQU07QUFDakIsdUJBQU87QUFDUCx1QkFBTztBQUNQLHNCQUFNO0FBQ04sb0JBQUksR0FBRyxTQUFTLEtBQUssR0FBRyxHQUFHLFNBQVMsQ0FBQyxFQUFFLFlBQVksS0FBSztBQUNwRCwyQkFBUyxNQUFNLEdBQUcsU0FBUyxHQUFHLE9BQU8sR0FBRyxPQUFPO0FBQzNDLHdCQUFJLEdBQUcsR0FBRyxFQUFFLFlBQVksS0FBSztBQUN6Qiw0QkFBTSxHQUFHLEdBQUcsRUFBRSxPQUFPLENBQUMsSUFBSTtBQUMxQiw0QkFBTSxHQUFHLEdBQUcsRUFBRSxPQUFPLENBQUMsSUFBSTtBQUMxQjtBQUFBLG9CQUNKO0FBQUEsa0JBQ0o7QUFBQSxnQkFDSjtBQUNBLHVCQUFPLEtBQUssS0FBSyxHQUFHO0FBQ3BCLG9CQUFJO0FBQ0o7QUFBQSxjQUNKLEtBQUs7QUFDRCxzQkFBTSxFQUFFLE1BQU07QUFDZCxzQkFBTSxFQUFFLE1BQU07QUFDZCxzQkFBTTtBQUNOLHVCQUFPLEtBQUssS0FBSyxHQUFHO0FBQ3BCLG9CQUFJO0FBQ0o7QUFBQSxjQUNKLEtBQUs7QUFDRCx1QkFBTyxFQUFFLE1BQU07QUFDZixzQkFBTTtBQUNOLHVCQUFPLEtBQUssS0FBSyxHQUFHO0FBQ3BCO0FBQUEsY0FDSixLQUFLO0FBQ0Qsc0JBQU0sRUFBRSxNQUFNO0FBQ2Qsc0JBQU07QUFDTix1QkFBTyxLQUFLLEtBQUssR0FBRztBQUNwQjtBQUFBLGNBQ0osS0FBSztBQUNELHVCQUFPLEVBQUUsTUFBTTtBQUNmLHNCQUFNO0FBQ04sdUJBQU8sS0FBSyxLQUFLLEdBQUc7QUFDcEI7QUFBQSxjQUNKLEtBQUs7QUFDRCxzQkFBTSxFQUFFLE1BQU07QUFDZCxzQkFBTTtBQUNOLHVCQUFPLEtBQUssS0FBSyxHQUFHO0FBQ3BCO0FBQUEsY0FDSixLQUFLO0FBQ0QsdUJBQU8sS0FBSyxFQUFFLE1BQU0sR0FBRyxFQUFFLE1BQU0sR0FBRyxFQUFFLE1BQU0sR0FBRyxFQUFFLE1BQU0sQ0FBQztBQUN0RCxzQkFBTSxFQUFFLE1BQU07QUFDZCxzQkFBTSxFQUFFLE1BQU07QUFDZCx1QkFBTyxLQUFLLEtBQUssR0FBRztBQUNwQjtBQUFBLGNBQ0osS0FBSztBQUNELHVCQUFPLEtBQUssTUFBTSxFQUFFLE1BQU0sR0FBRyxNQUFNLEVBQUUsTUFBTSxHQUFHLE1BQU0sRUFBRSxNQUFNLEdBQUcsTUFBTSxFQUFFLE1BQU0sQ0FBQztBQUM5RSx1QkFBTyxFQUFFLE1BQU07QUFDZix1QkFBTyxFQUFFLE1BQU07QUFDZixzQkFBTTtBQUNOLHVCQUFPLEtBQUssS0FBSyxHQUFHO0FBQ3BCO0FBQUEsY0FDSixLQUFLO0FBQ0QseUJBQVM7QUFDVCx5QkFBUztBQUNULDBCQUFVLEdBQUcsR0FBRyxTQUFTLENBQUM7QUFDMUIsb0JBQUksUUFBUSxZQUFZLEtBQUs7QUFDekIsMkJBQVMsT0FBTyxNQUFNLFFBQVEsT0FBTyxDQUFDO0FBQ3RDLDJCQUFTLE9BQU8sTUFBTSxRQUFRLE9BQU8sQ0FBQztBQUFBLGdCQUMxQztBQUNBLHVCQUFPLEtBQUssUUFBUSxRQUFRLEVBQUUsTUFBTSxHQUFHLEVBQUUsTUFBTSxDQUFDO0FBQ2hELHNCQUFNLEVBQUUsTUFBTTtBQUNkLHNCQUFNLEVBQUUsTUFBTTtBQUNkLHNCQUFNO0FBQ04sdUJBQU8sS0FBSyxLQUFLLEdBQUc7QUFDcEI7QUFBQSxjQUNKLEtBQUs7QUFDRCx5QkFBUztBQUNULHlCQUFTO0FBQ1QsMEJBQVUsR0FBRyxHQUFHLFNBQVMsQ0FBQztBQUMxQixvQkFBSSxRQUFRLFlBQVksS0FBSztBQUN6QiwyQkFBUyxPQUFPLE1BQU0sUUFBUSxPQUFPLENBQUM7QUFDdEMsMkJBQVMsT0FBTyxNQUFNLFFBQVEsT0FBTyxDQUFDO0FBQUEsZ0JBQzFDO0FBQ0EsdUJBQU8sS0FBSyxRQUFRLFFBQVEsTUFBTSxFQUFFLE1BQU0sR0FBRyxNQUFNLEVBQUUsTUFBTSxDQUFDO0FBQzVELHVCQUFPLEVBQUUsTUFBTTtBQUNmLHVCQUFPLEVBQUUsTUFBTTtBQUNmLHNCQUFNO0FBQ04sdUJBQU8sS0FBSyxLQUFLLEdBQUc7QUFDcEI7QUFBQSxjQUNKLEtBQUs7QUFDRCx1QkFBTyxLQUFLLEVBQUUsTUFBTSxHQUFHLEVBQUUsTUFBTSxDQUFDO0FBQ2hDLHNCQUFNLEVBQUUsTUFBTTtBQUNkLHNCQUFNLEVBQUUsTUFBTTtBQUNkLHVCQUFPLEtBQUssS0FBSyxHQUFHO0FBQ3BCO0FBQUEsY0FDSixLQUFLO0FBQ0QsdUJBQU8sS0FBSyxNQUFNLEVBQUUsTUFBTSxHQUFHLE1BQU0sRUFBRSxNQUFNLENBQUM7QUFDNUMsdUJBQU8sRUFBRSxNQUFNO0FBQ2YsdUJBQU8sRUFBRSxNQUFNO0FBQ2Ysc0JBQU07QUFDTix1QkFBTyxLQUFLLEtBQUssR0FBRztBQUNwQjtBQUFBLGNBQ0osS0FBSztBQUNELHlCQUFTO0FBQ1QseUJBQVM7QUFDVCwwQkFBVSxHQUFHLEdBQUcsU0FBUyxDQUFDO0FBQzFCLG9CQUFJLFFBQVEsWUFBWSxLQUFLO0FBQ3pCLDJCQUFTLE9BQU8sTUFBTSxRQUFRLE9BQU8sQ0FBQztBQUN0QywyQkFBUyxPQUFPLE1BQU0sUUFBUSxPQUFPLENBQUM7QUFBQSxnQkFDMUM7QUFDQSxzQkFBTSxFQUFFLE1BQU07QUFDZCxzQkFBTSxFQUFFLE1BQU07QUFDZCxzQkFBTTtBQUNOLHVCQUFPLEtBQUssUUFBUSxRQUFRLEtBQUssR0FBRztBQUNwQztBQUFBLGNBQ0osS0FBSztBQUNELHlCQUFTO0FBQ1QseUJBQVM7QUFDVCwwQkFBVSxHQUFHLEdBQUcsU0FBUyxDQUFDO0FBQzFCLG9CQUFJLFFBQVEsWUFBWSxLQUFLO0FBQ3pCLDJCQUFTLE9BQU8sTUFBTSxRQUFRLE9BQU8sQ0FBQztBQUN0QywyQkFBUyxPQUFPLE1BQU0sUUFBUSxPQUFPLENBQUM7QUFBQSxnQkFDMUM7QUFDQSx1QkFBTyxFQUFFLE1BQU07QUFDZix1QkFBTyxFQUFFLE1BQU07QUFDZixzQkFBTTtBQUNOLHVCQUFPLEtBQUssUUFBUSxRQUFRLEtBQUssR0FBRztBQUNwQztBQUFBLGNBQ0osS0FBSztBQUNELHFCQUFLLEVBQUUsTUFBTTtBQUNiLHFCQUFLLEVBQUUsTUFBTTtBQUNiLHNCQUFNLEVBQUUsTUFBTTtBQUNkLHFCQUFLLEVBQUUsTUFBTTtBQUNiLHFCQUFLLEVBQUUsTUFBTTtBQUNiLHFCQUFLO0FBQ0wscUJBQUs7QUFDTCxzQkFBTSxFQUFFLE1BQU07QUFDZCxzQkFBTSxFQUFFLE1BQU07QUFDZCxzQkFBTTtBQUNOLHlCQUFTLEtBQUssd0NBQXdDLElBQUksSUFBSSxLQUFLLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxHQUFHO0FBQzNGO0FBQUEsY0FDSixLQUFLO0FBQ0QscUJBQUssRUFBRSxNQUFNO0FBQ2IscUJBQUssRUFBRSxNQUFNO0FBQ2Isc0JBQU0sRUFBRSxNQUFNO0FBQ2QscUJBQUssRUFBRSxNQUFNO0FBQ2IscUJBQUssRUFBRSxNQUFNO0FBQ2IscUJBQUs7QUFDTCxxQkFBSztBQUNMLHVCQUFPLEVBQUUsTUFBTTtBQUNmLHVCQUFPLEVBQUUsTUFBTTtBQUNmLHNCQUFNO0FBQ04seUJBQVMsS0FBSyx3Q0FBd0MsSUFBSSxJQUFJLEtBQUssS0FBSyxJQUFJLElBQUksSUFBSSxJQUFJLEdBQUc7QUFDM0Y7QUFBQSxZQUNSO0FBQ0EsZUFBRyxLQUFLO0FBQUEsY0FDSixTQUFTLE9BQU87QUFBQSxjQUNoQjtBQUFBLGNBQ0EsT0FBTztBQUFBLGdCQUNILEdBQUc7QUFBQSxnQkFDSCxHQUFHO0FBQUEsY0FDUDtBQUFBLGNBQ0EsWUFBWSxLQUFLLFdBQVcsUUFBUSxRQUFRLE9BQU8sR0FBRyxNQUFNO0FBQUEsWUFDaEUsQ0FBQztBQUFBLFVBQ0w7QUFDQSxjQUFJLE1BQU0sT0FBTyxNQUFNLEtBQUs7QUFDeEIsZUFBRyxLQUFLO0FBQUEsY0FDSixTQUFTO0FBQUEsY0FDVCxRQUFRLENBQUM7QUFBQSxjQUNULE9BQU87QUFBQSxjQUNQLFlBQVk7QUFBQSxZQUNoQixDQUFDO0FBQUEsVUFDTDtBQUFBLFFBQ0o7QUFDQSxlQUFPO0FBQUEsTUFDWDtBQUFBLE1BQ0EsT0FBTyxXQUFXLEdBQUcsR0FBRyxLQUFLLFFBQVE7QUFDakMsWUFBSSxLQUFLLElBQUksSUFBSTtBQUNqQixZQUFJLE9BQU87QUFDWCxnQkFBUSxLQUFLO0FBQUEsVUFDVCxLQUFLO0FBQ0QsbUJBQU8sS0FBSyxjQUFjLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQztBQUFBLFVBQ3hELEtBQUs7QUFDRCxvQkFBUSxHQUFHLGtCQUFrQixtQkFBbUIsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQztBQUFBLFVBQ2pJLEtBQUs7QUFDRCxvQkFBUSxHQUFHLGtCQUFrQix1QkFBdUIsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQztBQUFBLFVBQy9HLEtBQUs7QUFDRCxrQkFBTTtBQUNOLGdCQUFJLFFBQVEsT0FBTyxDQUFDO0FBQ3BCLGdCQUFJLFNBQVMsT0FBTyxDQUFDO0FBQ3JCLGdCQUFJLE1BQU0sT0FBTyxDQUFDLElBQUk7QUFDdEIsZ0JBQUksTUFBTSxLQUFLLEtBQUs7QUFDcEIsZ0JBQUksS0FBSyxJQUFJLFFBQVEsR0FBRyxJQUFJLEtBQUs7QUFDN0Isb0JBQU0sS0FBSyxJQUFJLFFBQVEsR0FBRztBQUFBLFlBQzlCO0FBQ0EsaUJBQUssS0FBSyx3QkFBd0IsT0FBTyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsT0FBTyxDQUFDO0FBQ3RGLGdCQUFJLFNBQVMsR0FBRztBQUNaLG1CQUFLLElBQUksUUFBUSxLQUFLLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDckMscUJBQUssS0FBSyx3QkFBd0IsT0FBTyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBQ2xGLHVCQUFPLEtBQUssY0FBYyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFDaEQscUJBQUs7QUFBQSxjQUNUO0FBQUEsWUFDSixPQUNLO0FBQ0QsbUJBQUssSUFBSSxRQUFRLEtBQUssSUFBSSxLQUFLLEtBQUssS0FBSztBQUNyQyxxQkFBSyxLQUFLLHdCQUF3QixPQUFPLENBQUMsR0FBRyxPQUFPLENBQUMsR0FBRyxPQUFPLENBQUMsR0FBRyxPQUFPLENBQUMsR0FBRyxHQUFHLENBQUM7QUFDbEYsdUJBQU8sS0FBSyxjQUFjLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUNoRCxxQkFBSztBQUFBLGNBQ1Q7QUFBQSxZQUNKO0FBQ0EsaUJBQUssS0FBSyx3QkFBd0IsT0FBTyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQ3BGLG1CQUFPLEtBQUssY0FBYyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFDaEQsbUJBQU87QUFBQSxRQUNmO0FBQ0EsZUFBTztBQUFBLE1BQ1g7QUFBQSxNQUNBLE9BQU8sd0NBQXdDLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxRQUFRO0FBQ25GLFlBQUksTUFBTSxVQUFVLEtBQUssS0FBSztBQUM5QixZQUFJLEtBQU0sS0FBSyxJQUFJLEdBQUcsS0FBSyxLQUFLLE1BQU8sSUFBTyxLQUFLLElBQUksR0FBRyxLQUFLLEtBQUssTUFBTztBQUMzRSxZQUFJLEtBQU0sS0FBSyxLQUFLLElBQUksR0FBRyxLQUFLLEtBQUssTUFBTyxJQUN2QyxLQUFLLElBQUksR0FBRyxLQUFLLEtBQUssTUFBTztBQUNsQyxZQUFJLFNBQVUsS0FBSyxNQUFPLEtBQUssTUFBTyxLQUFLLE1BQU8sS0FBSztBQUN2RCxZQUFJLFNBQVMsR0FBRztBQUNaLGdCQUFNLEtBQUssS0FBSyxNQUFNO0FBQ3RCLGdCQUFNLEtBQUssS0FBSyxNQUFNO0FBQUEsUUFDMUI7QUFDQSxZQUFJLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxRQUMxRSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLElBQUk7QUFDL0MsWUFBSSxPQUFPLElBQUk7QUFDWCxlQUFLO0FBQUEsUUFDVDtBQUNBLFlBQUksTUFBTSxDQUFDLEdBQUc7QUFDVixjQUFJO0FBQUEsUUFDUjtBQUNBLFlBQUksTUFBTyxJQUFJLEtBQUssS0FBTTtBQUMxQixZQUFJLE1BQU8sSUFBSSxDQUFDLEtBQUssS0FBTTtBQUMzQixZQUFJLE1BQU0sS0FBSyxNQUFNLElBQU0sS0FBSyxJQUFJLEdBQUcsSUFBSSxNQUFNLEtBQUssSUFBSSxHQUFHLElBQUk7QUFDakUsWUFBSSxNQUFNLEtBQUssTUFBTSxJQUFNLEtBQUssSUFBSSxHQUFHLElBQUksTUFBTSxLQUFLLElBQUksR0FBRyxJQUFJO0FBQ2pFLFlBQUksT0FBTyxTQUFVQyxJQUFHO0FBQ3BCLGlCQUFPLEtBQUssS0FBS0EsR0FBRSxDQUFDLElBQUlBLEdBQUUsQ0FBQyxJQUFJQSxHQUFFLENBQUMsSUFBSUEsR0FBRSxDQUFDLENBQUM7QUFBQSxRQUM5QztBQUNBLFlBQUksU0FBUyxTQUFVQyxJQUFHRCxJQUFHO0FBQ3pCLGtCQUFRQyxHQUFFLENBQUMsSUFBSUQsR0FBRSxDQUFDLElBQUlDLEdBQUUsQ0FBQyxJQUFJRCxHQUFFLENBQUMsTUFBTSxLQUFLQyxFQUFDLElBQUksS0FBS0QsRUFBQztBQUFBLFFBQzFEO0FBQ0EsWUFBSSxTQUFTLFNBQVVDLElBQUdELElBQUc7QUFDekIsa0JBQVFDLEdBQUUsQ0FBQyxJQUFJRCxHQUFFLENBQUMsSUFBSUMsR0FBRSxDQUFDLElBQUlELEdBQUUsQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssT0FBT0MsSUFBR0QsRUFBQyxDQUFDO0FBQUEsUUFDeEU7QUFDQSxZQUFJLFFBQVEsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxPQUFPLEtBQUssS0FBSyxPQUFPLEVBQUUsQ0FBQztBQUM3RCxZQUFJLElBQUksRUFBRSxLQUFLLE9BQU8sS0FBSyxLQUFLLE9BQU8sRUFBRTtBQUN6QyxZQUFJLElBQUksRUFBRSxLQUFLLEtBQUssT0FBTyxLQUFLLEtBQUssS0FBSyxPQUFPLEVBQUU7QUFDbkQsWUFBSSxTQUFTLE9BQU8sR0FBRyxDQUFDO0FBQ3hCLFlBQUksT0FBTyxHQUFHLENBQUMsS0FBSyxJQUFJO0FBQ3BCLG1CQUFTLEtBQUs7QUFBQSxRQUNsQjtBQUNBLFlBQUksT0FBTyxHQUFHLENBQUMsS0FBSyxHQUFHO0FBQ25CLG1CQUFTO0FBQUEsUUFDYjtBQUNBLFlBQUksT0FBTyxLQUFLLFNBQVMsR0FBRztBQUN4QixtQkFBUyxTQUFTLElBQUksS0FBSztBQUFBLFFBQy9CO0FBQ0EsWUFBSSxPQUFPLEtBQUssU0FBUyxHQUFHO0FBQ3hCLG1CQUFTLFNBQVMsSUFBSSxLQUFLO0FBQUEsUUFDL0I7QUFDQSxlQUFPLENBQUMsSUFBSSxJQUFJLElBQUksSUFBSSxPQUFPLFFBQVEsS0FBSyxFQUFFO0FBQUEsTUFDbEQ7QUFBQSxJQUNKO0FBQ0EsWUFBUSxPQUFPO0FBQ2YsU0FBSyxVQUFVLFlBQVk7QUFDM0IsU0FBSyxVQUFVLHNCQUFzQixDQUFDLE1BQU07QUFDNUMsS0FBQyxHQUFHLFNBQVMsZUFBZSxJQUFJO0FBQ2hDLGNBQVUsUUFBUSxnQkFBZ0IsTUFBTSxNQUFNO0FBQUE7QUFBQTs7O0FDbm5COUM7QUFBQTtBQUFBO0FBQ0EsV0FBTyxlQUFlLFNBQVMsY0FBYyxFQUFFLE9BQU8sS0FBSyxDQUFDO0FBQzVELFlBQVEsUUFBUTtBQUNoQixRQUFNLFlBQVk7QUFDbEIsUUFBTSxTQUFTO0FBQ2YsUUFBTSxlQUFlO0FBQ3JCLFFBQU0sV0FBVztBQUNqQixRQUFNLFNBQVM7QUFDZixRQUFNLFFBQU4sY0FBb0IsT0FBTyxLQUFLO0FBQUEsTUFDNUIsV0FBVyxLQUFLO0FBQ1osY0FBTSxXQUFXLEdBQUc7QUFDcEIsWUFBSSxNQUFNLEtBQUssS0FBSztBQUNwQixZQUFJLFNBQVMsS0FBSyxPQUFPO0FBQ3pCLFlBQUksS0FBSztBQUNULFlBQUksY0FBYyxLQUFLLFFBQVEsTUFBTSxLQUFLLE9BQU8sU0FBUztBQUMxRCxZQUFJLGFBQWE7QUFDYixlQUFLLEtBQUssaUJBQWlCO0FBQUEsUUFDL0I7QUFDQSxZQUFJLFNBQVMsS0FBSyxjQUFjO0FBQ2hDLFlBQUksSUFBSSxPQUFPO0FBQ2YsWUFBSSxJQUFJO0FBQ1IsWUFBSSxhQUFhO0FBQ2IsZ0JBQU0sS0FBSztBQUFBLFlBQ1AsR0FBRyxHQUFHLFNBQVMsQ0FBQztBQUFBLFlBQ2hCLEdBQUcsR0FBRyxTQUFTLENBQUM7QUFBQSxZQUNoQixHQUFHLEdBQUcsU0FBUyxDQUFDO0FBQUEsWUFDaEIsR0FBRyxHQUFHLFNBQVMsQ0FBQztBQUFBLFlBQ2hCLE9BQU8sSUFBSSxDQUFDO0FBQUEsWUFDWixPQUFPLElBQUksQ0FBQztBQUFBLFVBQ2hCO0FBQ0EsZ0JBQU0sYUFBYSxPQUFPLEtBQUssV0FBVyxHQUFHLEdBQUcsU0FBUyxDQUFDLEdBQUcsR0FBRyxHQUFHLFNBQVMsQ0FBQyxHQUFHLEtBQUssRUFBRTtBQUN2RixnQkFBTSxXQUFXLE9BQU8sS0FBSywwQkFBMEIsS0FBSyxJQUFJLEdBQUcsSUFBSSxTQUFTLFVBQVUsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztBQUNySSxlQUFLLE9BQU8sSUFBSSxDQUFDLElBQUksU0FBUztBQUM5QixlQUFLLE9BQU8sSUFBSSxDQUFDLElBQUksU0FBUztBQUFBLFFBQ2xDLE9BQ0s7QUFDRCxlQUFLLE9BQU8sSUFBSSxDQUFDLElBQUksT0FBTyxJQUFJLENBQUM7QUFDakMsZUFBSyxPQUFPLElBQUksQ0FBQyxJQUFJLE9BQU8sSUFBSSxDQUFDO0FBQUEsUUFDckM7QUFDQSxZQUFJLFdBQVcsS0FBSyxNQUFNLElBQUksRUFBRSxJQUFJLE9BQU87QUFDM0MsWUFBSSxRQUFRLEtBQUssYUFBYTtBQUM5QixZQUFJLEtBQUssZ0JBQWdCLEdBQUc7QUFDeEIsY0FBSSxLQUFLO0FBQ1QsY0FBSSxVQUFVO0FBQ2QsY0FBSSxVQUFVLE9BQU8sSUFBSSxDQUFDLEdBQUcsT0FBTyxJQUFJLENBQUMsQ0FBQztBQUMxQyxjQUFJLE9BQU8sT0FBTztBQUNsQixjQUFJLE9BQU8sR0FBRyxDQUFDO0FBQ2YsY0FBSSxPQUFPLENBQUMsUUFBUSxRQUFRLENBQUM7QUFDN0IsY0FBSSxPQUFPLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQztBQUM5QixjQUFJLFVBQVU7QUFDZCxjQUFJLFFBQVE7QUFDWixlQUFLLGFBQWEsR0FBRztBQUFBLFFBQ3pCO0FBQ0EsWUFBSSxLQUFLLG1CQUFtQixHQUFHO0FBQzNCLGNBQUksS0FBSztBQUNULGNBQUksVUFBVTtBQUNkLGNBQUksVUFBVSxPQUFPLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQztBQUNsQyxjQUFJLGFBQWE7QUFDYixrQkFBTSxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsS0FBSyxJQUFJLE9BQU8sQ0FBQztBQUNuQyxrQkFBTSxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsS0FBSyxJQUFJLE9BQU8sQ0FBQztBQUFBLFVBQ3ZDLE9BQ0s7QUFDRCxpQkFBSyxPQUFPLENBQUMsSUFBSSxPQUFPLENBQUM7QUFDekIsaUJBQUssT0FBTyxDQUFDLElBQUksT0FBTyxDQUFDO0FBQUEsVUFDN0I7QUFDQSxjQUFJLFFBQVEsS0FBSyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxPQUFPLEdBQUc7QUFDN0MsY0FBSSxPQUFPLEdBQUcsQ0FBQztBQUNmLGNBQUksT0FBTyxDQUFDLFFBQVEsUUFBUSxDQUFDO0FBQzdCLGNBQUksT0FBTyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUM7QUFDOUIsY0FBSSxVQUFVO0FBQ2QsY0FBSSxRQUFRO0FBQ1osZUFBSyxhQUFhLEdBQUc7QUFBQSxRQUN6QjtBQUFBLE1BQ0o7QUFBQSxNQUNBLGFBQWEsS0FBSztBQUNkLFlBQUksZ0JBQWdCLEtBQUssWUFBWTtBQUNyQyxZQUFJLGVBQWU7QUFDZixlQUFLLE1BQU0sY0FBYztBQUN6QixjQUFJLFlBQVksQ0FBQyxDQUFDO0FBQUEsUUFDdEI7QUFDQSxZQUFJLGdCQUFnQixJQUFJO0FBQ3hCLFlBQUksZUFBZTtBQUNmLGVBQUssTUFBTSxjQUFjO0FBQUEsUUFDN0I7QUFBQSxNQUNKO0FBQUEsTUFDQSxjQUFjO0FBQ1YsY0FBTSxXQUFXLE1BQU0sWUFBWTtBQUNuQyxjQUFNLFNBQVMsS0FBSyxhQUFhLElBQUk7QUFDckMsZUFBTztBQUFBLFVBQ0gsR0FBRyxTQUFTLElBQUk7QUFBQSxVQUNoQixHQUFHLFNBQVMsSUFBSTtBQUFBLFVBQ2hCLE9BQU8sU0FBUyxRQUFRLFNBQVM7QUFBQSxVQUNqQyxRQUFRLFNBQVMsU0FBUyxTQUFTO0FBQUEsUUFDdkM7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUNBLFlBQVEsUUFBUTtBQUNoQixVQUFNLFVBQVUsWUFBWTtBQUM1QixLQUFDLEdBQUcsU0FBUyxlQUFlLEtBQUs7QUFDakMsY0FBVSxRQUFRLGdCQUFnQixPQUFPLGlCQUFpQixLQUFLLEdBQUcsYUFBYSxvQkFBb0IsQ0FBQztBQUNwRyxjQUFVLFFBQVEsZ0JBQWdCLE9BQU8sZ0JBQWdCLEtBQUssR0FBRyxhQUFhLG9CQUFvQixDQUFDO0FBQ25HLGNBQVUsUUFBUSxnQkFBZ0IsT0FBTyxzQkFBc0IsS0FBSztBQUNwRSxjQUFVLFFBQVEsZ0JBQWdCLE9BQU8sbUJBQW1CLElBQUk7QUFBQTtBQUFBOzs7QUN0R2hFO0FBQUE7QUFBQTtBQUNBLFdBQU8sZUFBZSxTQUFTLGNBQWMsRUFBRSxPQUFPLEtBQUssQ0FBQztBQUM1RCxZQUFRLFNBQVM7QUFDakIsUUFBTSxZQUFZO0FBQ2xCLFFBQU0sVUFBVTtBQUNoQixRQUFNLGVBQWU7QUFDckIsUUFBTSxXQUFXO0FBQ2pCLFFBQU0sU0FBTixjQUFxQixRQUFRLE1BQU07QUFBQSxNQUMvQixXQUFXLFNBQVM7QUFDaEIsZ0JBQVEsVUFBVTtBQUNsQixnQkFBUSxJQUFJLEdBQUcsR0FBRyxLQUFLLE1BQU0sVUFBVSxHQUFHLEdBQUcsS0FBSyxLQUFLLEdBQUcsS0FBSztBQUMvRCxnQkFBUSxVQUFVO0FBQ2xCLGdCQUFRLGdCQUFnQixJQUFJO0FBQUEsTUFDaEM7QUFBQSxNQUNBLFdBQVc7QUFDUCxlQUFPLEtBQUssT0FBTyxJQUFJO0FBQUEsTUFDM0I7QUFBQSxNQUNBLFlBQVk7QUFDUixlQUFPLEtBQUssT0FBTyxJQUFJO0FBQUEsTUFDM0I7QUFBQSxNQUNBLFNBQVMsT0FBTztBQUNaLFlBQUksS0FBSyxPQUFPLE1BQU0sUUFBUSxHQUFHO0FBQzdCLGVBQUssT0FBTyxRQUFRLENBQUM7QUFBQSxRQUN6QjtBQUFBLE1BQ0o7QUFBQSxNQUNBLFVBQVUsUUFBUTtBQUNkLFlBQUksS0FBSyxPQUFPLE1BQU0sU0FBUyxHQUFHO0FBQzlCLGVBQUssT0FBTyxTQUFTLENBQUM7QUFBQSxRQUMxQjtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQ0EsWUFBUSxTQUFTO0FBQ2pCLFdBQU8sVUFBVSxZQUFZO0FBQzdCLFdBQU8sVUFBVSxZQUFZO0FBQzdCLFdBQU8sVUFBVSxzQkFBc0IsQ0FBQyxRQUFRO0FBQ2hELEtBQUMsR0FBRyxTQUFTLGVBQWUsTUFBTTtBQUNsQyxjQUFVLFFBQVEsZ0JBQWdCLFFBQVEsVUFBVSxJQUFJLEdBQUcsYUFBYSxvQkFBb0IsQ0FBQztBQUFBO0FBQUE7OztBQ3BDN0Y7QUFBQTtBQUFBO0FBQ0EsV0FBTyxlQUFlLFNBQVMsY0FBYyxFQUFFLE9BQU8sS0FBSyxDQUFDO0FBQzVELFlBQVEsVUFBVTtBQUNsQixRQUFNLFlBQVk7QUFDbEIsUUFBTSxVQUFVO0FBQ2hCLFFBQU0sZUFBZTtBQUNyQixRQUFNLFdBQVc7QUFDakIsUUFBTSxVQUFOLGNBQXNCLFFBQVEsTUFBTTtBQUFBLE1BQ2hDLFdBQVcsU0FBUztBQUNoQixZQUFJLEtBQUssS0FBSyxRQUFRLEdBQUcsS0FBSyxLQUFLLFFBQVE7QUFDM0MsZ0JBQVEsVUFBVTtBQUNsQixnQkFBUSxLQUFLO0FBQ2IsWUFBSSxPQUFPLElBQUk7QUFDWCxrQkFBUSxNQUFNLEdBQUcsS0FBSyxFQUFFO0FBQUEsUUFDNUI7QUFDQSxnQkFBUSxJQUFJLEdBQUcsR0FBRyxJQUFJLEdBQUcsS0FBSyxLQUFLLEdBQUcsS0FBSztBQUMzQyxnQkFBUSxRQUFRO0FBQ2hCLGdCQUFRLFVBQVU7QUFDbEIsZ0JBQVEsZ0JBQWdCLElBQUk7QUFBQSxNQUNoQztBQUFBLE1BQ0EsV0FBVztBQUNQLGVBQU8sS0FBSyxRQUFRLElBQUk7QUFBQSxNQUM1QjtBQUFBLE1BQ0EsWUFBWTtBQUNSLGVBQU8sS0FBSyxRQUFRLElBQUk7QUFBQSxNQUM1QjtBQUFBLE1BQ0EsU0FBUyxPQUFPO0FBQ1osYUFBSyxRQUFRLFFBQVEsQ0FBQztBQUFBLE1BQzFCO0FBQUEsTUFDQSxVQUFVLFFBQVE7QUFDZCxhQUFLLFFBQVEsU0FBUyxDQUFDO0FBQUEsTUFDM0I7QUFBQSxJQUNKO0FBQ0EsWUFBUSxVQUFVO0FBQ2xCLFlBQVEsVUFBVSxZQUFZO0FBQzlCLFlBQVEsVUFBVSxZQUFZO0FBQzlCLFlBQVEsVUFBVSxzQkFBc0IsQ0FBQyxXQUFXLFNBQVM7QUFDN0QsS0FBQyxHQUFHLFNBQVMsZUFBZSxPQUFPO0FBQ25DLGNBQVUsUUFBUSwwQkFBMEIsU0FBUyxVQUFVLENBQUMsS0FBSyxHQUFHLENBQUM7QUFDekUsY0FBVSxRQUFRLGdCQUFnQixTQUFTLFdBQVcsSUFBSSxHQUFHLGFBQWEsb0JBQW9CLENBQUM7QUFDL0YsY0FBVSxRQUFRLGdCQUFnQixTQUFTLFdBQVcsSUFBSSxHQUFHLGFBQWEsb0JBQW9CLENBQUM7QUFBQTtBQUFBOzs7QUN4Qy9GO0FBQUE7QUFBQTtBQUNBLFdBQU8sZUFBZSxTQUFTLGNBQWMsRUFBRSxPQUFPLEtBQUssQ0FBQztBQUM1RCxZQUFRLFFBQVE7QUFDaEIsUUFBTSxTQUFTO0FBQ2YsUUFBTSxZQUFZO0FBQ2xCLFFBQU0sVUFBVTtBQUNoQixRQUFNLFdBQVc7QUFDakIsUUFBTSxlQUFlO0FBQ3JCLFFBQU0sUUFBTixjQUFvQixRQUFRLE1BQU07QUFBQSxNQUM5QixZQUFZLE9BQU87QUFDZixjQUFNLEtBQUs7QUFDWCxhQUFLLEdBQUcscUJBQXFCLE1BQU07QUFDL0IsZUFBSyxjQUFjO0FBQUEsUUFDdkIsQ0FBQztBQUNELGFBQUssY0FBYztBQUFBLE1BQ3ZCO0FBQUEsTUFDQSxnQkFBZ0I7QUFDWixjQUFNLFFBQVEsS0FBSyxNQUFNO0FBQ3pCLFlBQUksU0FBUyxNQUFNLFVBQVU7QUFDekI7QUFBQSxRQUNKO0FBQ0EsWUFBSSxTQUFTLE1BQU0sZUFBZSxHQUFHO0FBQ2pDO0FBQUEsUUFDSjtBQUNBLFlBQUksU0FBUyxNQUFNLGtCQUFrQixHQUFHO0FBQ3BDLGdCQUFNLGtCQUFrQixFQUFFLFFBQVEsTUFBTTtBQUNwQyxpQkFBSyxhQUFhO0FBQUEsVUFDdEIsQ0FBQztBQUFBLFFBQ0w7QUFBQSxNQUNKO0FBQUEsTUFDQSxtQkFBbUI7QUFDZixlQUFPLE1BQU0saUJBQWlCLElBQUk7QUFBQSxNQUN0QztBQUFBLE1BQ0EsV0FBVyxTQUFTO0FBQ2hCLGNBQU0sUUFBUSxLQUFLLFNBQVM7QUFDNUIsY0FBTSxTQUFTLEtBQUssVUFBVTtBQUM5QixjQUFNLGVBQWUsS0FBSyxhQUFhO0FBQ3ZDLGNBQU0sUUFBUSxLQUFLLE1BQU07QUFDekIsWUFBSTtBQUNKLFlBQUksT0FBTztBQUNQLGdCQUFNLFlBQVksS0FBSyxNQUFNO0FBQzdCLGdCQUFNLGFBQWEsS0FBSyxNQUFNO0FBQzlCLGNBQUksYUFBYSxZQUFZO0FBQ3pCLHFCQUFTO0FBQUEsY0FDTDtBQUFBLGNBQ0EsS0FBSyxNQUFNO0FBQUEsY0FDWCxLQUFLLE1BQU07QUFBQSxjQUNYO0FBQUEsY0FDQTtBQUFBLGNBQ0E7QUFBQSxjQUNBO0FBQUEsY0FDQTtBQUFBLGNBQ0E7QUFBQSxZQUNKO0FBQUEsVUFDSixPQUNLO0FBQ0QscUJBQVMsQ0FBQyxPQUFPLEdBQUcsR0FBRyxPQUFPLE1BQU07QUFBQSxVQUN4QztBQUFBLFFBQ0o7QUFDQSxZQUFJLEtBQUssUUFBUSxLQUFLLEtBQUssVUFBVSxLQUFLLGNBQWM7QUFDcEQsa0JBQVEsVUFBVTtBQUNsQix5QkFDTSxPQUFPLEtBQUssb0JBQW9CLFNBQVMsT0FBTyxRQUFRLFlBQVksSUFDcEUsUUFBUSxLQUFLLEdBQUcsR0FBRyxPQUFPLE1BQU07QUFDdEMsa0JBQVEsVUFBVTtBQUNsQixrQkFBUSxnQkFBZ0IsSUFBSTtBQUFBLFFBQ2hDO0FBQ0EsWUFBSSxPQUFPO0FBQ1AsY0FBSSxjQUFjO0FBQ2Qsb0JBQVEsS0FBSztBQUFBLFVBQ2pCO0FBQ0Esa0JBQVEsVUFBVSxNQUFNLFNBQVMsTUFBTTtBQUFBLFFBQzNDO0FBQUEsTUFDSjtBQUFBLE1BQ0EsU0FBUyxTQUFTO0FBQ2QsWUFBSSxRQUFRLEtBQUssTUFBTSxHQUFHLFNBQVMsS0FBSyxPQUFPLEdBQUcsZUFBZSxLQUFLLGFBQWE7QUFDbkYsZ0JBQVEsVUFBVTtBQUNsQixZQUFJLENBQUMsY0FBYztBQUNmLGtCQUFRLEtBQUssR0FBRyxHQUFHLE9BQU8sTUFBTTtBQUFBLFFBQ3BDLE9BQ0s7QUFDRCxpQkFBTyxLQUFLLG9CQUFvQixTQUFTLE9BQU8sUUFBUSxZQUFZO0FBQUEsUUFDeEU7QUFDQSxnQkFBUSxVQUFVO0FBQ2xCLGdCQUFRLGdCQUFnQixJQUFJO0FBQUEsTUFDaEM7QUFBQSxNQUNBLFdBQVc7QUFDUCxZQUFJLElBQUk7QUFDUixnQkFBUSxLQUFLLEtBQUssTUFBTSxXQUFXLFFBQVEsT0FBTyxTQUFTLE1BQU0sS0FBSyxLQUFLLE1BQU0sT0FBTyxRQUFRLE9BQU8sU0FBUyxTQUFTLEdBQUc7QUFBQSxNQUNoSTtBQUFBLE1BQ0EsWUFBWTtBQUNSLFlBQUksSUFBSTtBQUNSLGdCQUFRLEtBQUssS0FBSyxNQUFNLFlBQVksUUFBUSxPQUFPLFNBQVMsTUFBTSxLQUFLLEtBQUssTUFBTSxPQUFPLFFBQVEsT0FBTyxTQUFTLFNBQVMsR0FBRztBQUFBLE1BQ2pJO0FBQUEsTUFDQSxPQUFPLFFBQVEsS0FBSyxVQUFVLFVBQVUsTUFBTTtBQUMxQyxZQUFJLE1BQU0sT0FBTyxLQUFLLG1CQUFtQjtBQUN6QyxZQUFJLFNBQVMsV0FBWTtBQUNyQixjQUFJLFFBQVEsSUFBSSxNQUFNO0FBQUEsWUFDbEIsT0FBTztBQUFBLFVBQ1gsQ0FBQztBQUNELG1CQUFTLEtBQUs7QUFBQSxRQUNsQjtBQUNBLFlBQUksVUFBVTtBQUNkLFlBQUksY0FBYztBQUNsQixZQUFJLE1BQU07QUFBQSxNQUNkO0FBQUEsSUFDSjtBQUNBLFlBQVEsUUFBUTtBQUNoQixVQUFNLFVBQVUsWUFBWTtBQUM1QixLQUFDLEdBQUcsU0FBUyxlQUFlLEtBQUs7QUFDakMsY0FBVSxRQUFRLGdCQUFnQixPQUFPLGdCQUFnQixJQUFJLEdBQUcsYUFBYSxvQ0FBb0MsQ0FBQyxDQUFDO0FBQ25ILGNBQVUsUUFBUSxnQkFBZ0IsT0FBTyxPQUFPO0FBQ2hELGNBQVUsUUFBUSwwQkFBMEIsT0FBTyxRQUFRLENBQUMsS0FBSyxLQUFLLFNBQVMsUUFBUSxDQUFDO0FBQ3hGLGNBQVUsUUFBUSxnQkFBZ0IsT0FBTyxTQUFTLElBQUksR0FBRyxhQUFhLG9CQUFvQixDQUFDO0FBQzNGLGNBQVUsUUFBUSxnQkFBZ0IsT0FBTyxTQUFTLElBQUksR0FBRyxhQUFhLG9CQUFvQixDQUFDO0FBQzNGLGNBQVUsUUFBUSxnQkFBZ0IsT0FBTyxhQUFhLElBQUksR0FBRyxhQUFhLG9CQUFvQixDQUFDO0FBQy9GLGNBQVUsUUFBUSxnQkFBZ0IsT0FBTyxjQUFjLElBQUksR0FBRyxhQUFhLG9CQUFvQixDQUFDO0FBQUE7QUFBQTs7O0FDcEhoRztBQUFBO0FBQUE7QUFDQSxXQUFPLGVBQWUsU0FBUyxjQUFjLEVBQUUsT0FBTyxLQUFLLENBQUM7QUFDNUQsWUFBUSxNQUFNLFFBQVEsUUFBUTtBQUM5QixRQUFNLFlBQVk7QUFDbEIsUUFBTSxVQUFVO0FBQ2hCLFFBQU0sVUFBVTtBQUNoQixRQUFNLGVBQWU7QUFDckIsUUFBTSxXQUFXO0FBQ2pCLFFBQUksbUJBQW1CO0FBQUEsTUFDbkI7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDSjtBQVpBLFFBWUcsZUFBZTtBQVpsQixRQVlrQyxPQUFPO0FBWnpDLFFBWWlELEtBQUs7QUFadEQsUUFZNEQsUUFBUTtBQVpwRSxRQVk2RSxPQUFPO0FBWnBGLFFBWTRGLE9BQU87QUFabkcsUUFZMkcsb0JBQW9CLGlCQUFpQjtBQUNoSixRQUFNLFFBQU4sY0FBb0IsUUFBUSxNQUFNO0FBQUEsTUFDOUIsWUFBWSxRQUFRO0FBQ2hCLGNBQU0sTUFBTTtBQUNaLGFBQUssR0FBRyxhQUFhLFNBQVUsS0FBSztBQUNoQyxlQUFLLGNBQWMsSUFBSSxLQUFLO0FBQzVCLGVBQUssTUFBTTtBQUFBLFFBQ2YsQ0FBQztBQUFBLE1BQ0w7QUFBQSxNQUNBLFVBQVU7QUFDTixlQUFPLEtBQUssS0FBSyxNQUFNLEVBQUUsQ0FBQztBQUFBLE1BQzlCO0FBQUEsTUFDQSxTQUFTO0FBQ0wsZUFBTyxLQUFLLEtBQUssS0FBSyxFQUFFLENBQUM7QUFBQSxNQUM3QjtBQUFBLE1BQ0EsY0FBY0UsT0FBTTtBQUNoQixZQUFJLE9BQU8sTUFBTTtBQUNqQixZQUFJLE9BQU8sV0FBWTtBQUNuQixlQUFLLE1BQU07QUFBQSxRQUNmO0FBQ0EsYUFBSyxJQUFJLEdBQUcsSUFBSSxtQkFBbUIsS0FBSztBQUNwQyxVQUFBQSxNQUFLLEdBQUcsaUJBQWlCLENBQUMsSUFBSSxjQUFjLElBQUk7QUFBQSxRQUNwRDtBQUFBLE1BQ0o7QUFBQSxNQUNBLFdBQVc7QUFDUCxlQUFPLEtBQUssUUFBUSxFQUFFLE1BQU07QUFBQSxNQUNoQztBQUFBLE1BQ0EsWUFBWTtBQUNSLGVBQU8sS0FBSyxRQUFRLEVBQUUsT0FBTztBQUFBLE1BQ2pDO0FBQUEsTUFDQSxRQUFRO0FBQ0osWUFBSUEsUUFBTyxLQUFLLFFBQVEsR0FBRyxNQUFNLEtBQUssT0FBTyxHQUFHLE9BQU8sUUFBUSxrQkFBa0IsY0FBYyxHQUFHLEdBQUc7QUFDckcsWUFBSUEsU0FBUSxLQUFLO0FBQ2Isa0JBQVFBLE1BQUssTUFBTTtBQUNuQixtQkFBU0EsTUFBSyxPQUFPO0FBQ3JCLDZCQUFtQixJQUFJLGlCQUFpQjtBQUN4Qyx5QkFBZSxJQUFJLGFBQWE7QUFDaEMsMEJBQWdCLElBQUksY0FBYztBQUNsQyxjQUFJO0FBQ0osY0FBSTtBQUNKLGtCQUFRLGtCQUFrQjtBQUFBLFlBQ3RCLEtBQUs7QUFDRCxrQkFBSSxRQUFRO0FBQ1osa0JBQUksS0FBSztBQUNUO0FBQUEsWUFDSixLQUFLO0FBQ0Qsa0JBQUksUUFBUTtBQUNaLGtCQUFJLFNBQVM7QUFDYjtBQUFBLFlBQ0osS0FBSztBQUNELGtCQUFJLFFBQVE7QUFDWixrQkFBSSxTQUFTO0FBQ2I7QUFBQSxZQUNKLEtBQUs7QUFDRCxrQkFBSSxLQUFLO0FBQ1Qsa0JBQUksU0FBUztBQUNiO0FBQUEsVUFDUjtBQUNBLGNBQUksU0FBUztBQUFBLFlBQ1QsR0FBRyxLQUFLO0FBQUEsWUFDUixHQUFHLEtBQUs7QUFBQSxZQUNSO0FBQUEsWUFDQTtBQUFBLFVBQ0osQ0FBQztBQUNELFVBQUFBLE1BQUssU0FBUztBQUFBLFlBQ1YsR0FBRyxLQUFLO0FBQUEsWUFDUixHQUFHLEtBQUs7QUFBQSxVQUNaLENBQUM7QUFBQSxRQUNMO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFDQSxZQUFRLFFBQVE7QUFDaEIsVUFBTSxVQUFVLFlBQVk7QUFDNUIsS0FBQyxHQUFHLFNBQVMsZUFBZSxLQUFLO0FBQ2pDLFFBQU0sTUFBTixjQUFrQixRQUFRLE1BQU07QUFBQSxNQUM1QixXQUFXLFNBQVM7QUFDaEIsWUFBSSxRQUFRLEtBQUssTUFBTSxHQUFHLFNBQVMsS0FBSyxPQUFPLEdBQUcsbUJBQW1CLEtBQUssaUJBQWlCLEdBQUcsZUFBZSxLQUFLLGFBQWEsR0FBRyxnQkFBZ0IsS0FBSyxjQUFjLEdBQUcsZUFBZSxLQUFLLGFBQWE7QUFDek0sWUFBSSxVQUFVO0FBQ2QsWUFBSSxXQUFXO0FBQ2YsWUFBSSxhQUFhO0FBQ2pCLFlBQUksY0FBYztBQUNsQixZQUFJLE9BQU8saUJBQWlCLFVBQVU7QUFDbEMsb0JBQ0ksV0FDSSxhQUNJLGNBQ0ksS0FBSyxJQUFJLGNBQWMsUUFBUSxHQUFHLFNBQVMsQ0FBQztBQUFBLFFBQ2hFLE9BQ0s7QUFDRCxvQkFBVSxLQUFLLElBQUksYUFBYSxDQUFDLEtBQUssR0FBRyxRQUFRLEdBQUcsU0FBUyxDQUFDO0FBQzlELHFCQUFXLEtBQUssSUFBSSxhQUFhLENBQUMsS0FBSyxHQUFHLFFBQVEsR0FBRyxTQUFTLENBQUM7QUFDL0Qsd0JBQWMsS0FBSyxJQUFJLGFBQWEsQ0FBQyxLQUFLLEdBQUcsUUFBUSxHQUFHLFNBQVMsQ0FBQztBQUNsRSx1QkFBYSxLQUFLLElBQUksYUFBYSxDQUFDLEtBQUssR0FBRyxRQUFRLEdBQUcsU0FBUyxDQUFDO0FBQUEsUUFDckU7QUFDQSxnQkFBUSxVQUFVO0FBQ2xCLGdCQUFRLE9BQU8sU0FBUyxDQUFDO0FBQ3pCLFlBQUkscUJBQXFCLElBQUk7QUFDekIsa0JBQVEsUUFBUSxRQUFRLGdCQUFnQixHQUFHLENBQUM7QUFDNUMsa0JBQVEsT0FBTyxRQUFRLEdBQUcsS0FBSyxhQUFhO0FBQzVDLGtCQUFRLFFBQVEsUUFBUSxnQkFBZ0IsR0FBRyxDQUFDO0FBQUEsUUFDaEQ7QUFDQSxnQkFBUSxPQUFPLFFBQVEsVUFBVSxDQUFDO0FBQ2xDLGdCQUFRLElBQUksUUFBUSxVQUFVLFVBQVUsVUFBVyxLQUFLLEtBQUssSUFBSyxHQUFHLEdBQUcsS0FBSztBQUM3RSxZQUFJLHFCQUFxQixPQUFPO0FBQzVCLGtCQUFRLE9BQU8sUUFBUSxTQUFTLGlCQUFpQixDQUFDO0FBQ2xELGtCQUFRLE9BQU8sUUFBUSxjQUFjLFNBQVMsQ0FBQztBQUMvQyxrQkFBUSxPQUFPLFFBQVEsU0FBUyxpQkFBaUIsQ0FBQztBQUFBLFFBQ3REO0FBQ0EsZ0JBQVEsT0FBTyxPQUFPLFNBQVMsV0FBVztBQUMxQyxnQkFBUSxJQUFJLFFBQVEsYUFBYSxTQUFTLGFBQWEsYUFBYSxHQUFHLEtBQUssS0FBSyxHQUFHLEtBQUs7QUFDekYsWUFBSSxxQkFBcUIsTUFBTTtBQUMzQixrQkFBUSxRQUFRLFFBQVEsZ0JBQWdCLEdBQUcsTUFBTTtBQUNqRCxrQkFBUSxPQUFPLFFBQVEsR0FBRyxTQUFTLGFBQWE7QUFDaEQsa0JBQVEsUUFBUSxRQUFRLGdCQUFnQixHQUFHLE1BQU07QUFBQSxRQUNyRDtBQUNBLGdCQUFRLE9BQU8sWUFBWSxNQUFNO0FBQ2pDLGdCQUFRLElBQUksWUFBWSxTQUFTLFlBQVksWUFBWSxLQUFLLEtBQUssR0FBRyxLQUFLLElBQUksS0FBSztBQUNwRixZQUFJLHFCQUFxQixNQUFNO0FBQzNCLGtCQUFRLE9BQU8sSUFBSSxTQUFTLGlCQUFpQixDQUFDO0FBQzlDLGtCQUFRLE9BQU8sS0FBSyxjQUFjLFNBQVMsQ0FBQztBQUM1QyxrQkFBUSxPQUFPLElBQUksU0FBUyxpQkFBaUIsQ0FBQztBQUFBLFFBQ2xEO0FBQ0EsZ0JBQVEsT0FBTyxHQUFHLE9BQU87QUFDekIsZ0JBQVEsSUFBSSxTQUFTLFNBQVMsU0FBUyxLQUFLLElBQUssS0FBSyxLQUFLLElBQUssR0FBRyxLQUFLO0FBQ3hFLGdCQUFRLFVBQVU7QUFDbEIsZ0JBQVEsZ0JBQWdCLElBQUk7QUFBQSxNQUNoQztBQUFBLE1BQ0EsY0FBYztBQUNWLFlBQUksSUFBSSxHQUFHLElBQUksR0FBRyxlQUFlLEtBQUssYUFBYSxHQUFHLGdCQUFnQixLQUFLLGNBQWMsR0FBRyxZQUFZLEtBQUssaUJBQWlCLEdBQUcsUUFBUSxLQUFLLE1BQU0sR0FBRyxTQUFTLEtBQUssT0FBTztBQUM1SyxZQUFJLGNBQWMsSUFBSTtBQUNsQixlQUFLO0FBQ0wsb0JBQVU7QUFBQSxRQUNkLFdBQ1MsY0FBYyxNQUFNO0FBQ3pCLG9CQUFVO0FBQUEsUUFDZCxXQUNTLGNBQWMsTUFBTTtBQUN6QixlQUFLLGVBQWU7QUFDcEIsbUJBQVM7QUFBQSxRQUNiLFdBQ1MsY0FBYyxPQUFPO0FBQzFCLG1CQUFTLGVBQWU7QUFBQSxRQUM1QjtBQUNBLGVBQU87QUFBQSxVQUNIO0FBQUEsVUFDQTtBQUFBLFVBQ0E7QUFBQSxVQUNBO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQ0EsWUFBUSxNQUFNO0FBQ2QsUUFBSSxVQUFVLFlBQVk7QUFDMUIsS0FBQyxHQUFHLFNBQVMsZUFBZSxHQUFHO0FBQy9CLGNBQVUsUUFBUSxnQkFBZ0IsS0FBSyxvQkFBb0IsSUFBSTtBQUMvRCxjQUFVLFFBQVEsZ0JBQWdCLEtBQUssZ0JBQWdCLElBQUksR0FBRyxhQUFhLG9CQUFvQixDQUFDO0FBQ2hHLGNBQVUsUUFBUSxnQkFBZ0IsS0FBSyxpQkFBaUIsSUFBSSxHQUFHLGFBQWEsb0JBQW9CLENBQUM7QUFDakcsY0FBVSxRQUFRLGdCQUFnQixLQUFLLGdCQUFnQixJQUFJLEdBQUcsYUFBYSxvQ0FBb0MsQ0FBQyxDQUFDO0FBQUE7QUFBQTs7O0FDakxqSDtBQUFBO0FBQUE7QUFDQSxXQUFPLGVBQWUsU0FBUyxjQUFjLEVBQUUsT0FBTyxLQUFLLENBQUM7QUFDNUQsWUFBUSxPQUFPO0FBQ2YsUUFBTSxZQUFZO0FBQ2xCLFFBQU0sVUFBVTtBQUNoQixRQUFNLFdBQVc7QUFDakIsUUFBTSxTQUFTO0FBQ2YsUUFBTSxlQUFlO0FBQ3JCLFFBQU0sT0FBTixjQUFtQixRQUFRLE1BQU07QUFBQSxNQUM3QixXQUFXLFNBQVM7QUFDaEIsWUFBSSxlQUFlLEtBQUssYUFBYSxHQUFHLFFBQVEsS0FBSyxNQUFNLEdBQUcsU0FBUyxLQUFLLE9BQU87QUFDbkYsZ0JBQVEsVUFBVTtBQUNsQixZQUFJLENBQUMsY0FBYztBQUNmLGtCQUFRLEtBQUssR0FBRyxHQUFHLE9BQU8sTUFBTTtBQUFBLFFBQ3BDLE9BQ0s7QUFDRCxpQkFBTyxLQUFLLG9CQUFvQixTQUFTLE9BQU8sUUFBUSxZQUFZO0FBQUEsUUFDeEU7QUFDQSxnQkFBUSxVQUFVO0FBQ2xCLGdCQUFRLGdCQUFnQixJQUFJO0FBQUEsTUFDaEM7QUFBQSxJQUNKO0FBQ0EsWUFBUSxPQUFPO0FBQ2YsU0FBSyxVQUFVLFlBQVk7QUFDM0IsS0FBQyxHQUFHLFNBQVMsZUFBZSxJQUFJO0FBQ2hDLGNBQVUsUUFBUSxnQkFBZ0IsTUFBTSxnQkFBZ0IsSUFBSSxHQUFHLGFBQWEsb0NBQW9DLENBQUMsQ0FBQztBQUFBO0FBQUE7OztBQ3pCbEg7QUFBQTtBQUFBO0FBQ0EsV0FBTyxlQUFlLFNBQVMsY0FBYyxFQUFFLE9BQU8sS0FBSyxDQUFDO0FBQzVELFlBQVEsaUJBQWlCO0FBQ3pCLFFBQU0sWUFBWTtBQUNsQixRQUFNLFVBQVU7QUFDaEIsUUFBTSxlQUFlO0FBQ3JCLFFBQU0sV0FBVztBQUNqQixRQUFNLGlCQUFOLGNBQTZCLFFBQVEsTUFBTTtBQUFBLE1BQ3ZDLFdBQVcsU0FBUztBQUNoQixjQUFNLFNBQVMsS0FBSyxXQUFXO0FBQy9CLGdCQUFRLFVBQVU7QUFDbEIsZ0JBQVEsT0FBTyxPQUFPLENBQUMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUM7QUFDdkMsaUJBQVMsSUFBSSxHQUFHLElBQUksT0FBTyxRQUFRLEtBQUs7QUFDcEMsa0JBQVEsT0FBTyxPQUFPLENBQUMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUM7QUFBQSxRQUMzQztBQUNBLGdCQUFRLFVBQVU7QUFDbEIsZ0JBQVEsZ0JBQWdCLElBQUk7QUFBQSxNQUNoQztBQUFBLE1BQ0EsYUFBYTtBQUNULGNBQU0sUUFBUSxLQUFLLE1BQU07QUFDekIsY0FBTSxTQUFTLEtBQUssTUFBTSxVQUFVO0FBQ3BDLGNBQU0sU0FBUyxDQUFDO0FBQ2hCLGlCQUFTLElBQUksR0FBRyxJQUFJLE9BQU8sS0FBSztBQUM1QixpQkFBTyxLQUFLO0FBQUEsWUFDUixHQUFHLFNBQVMsS0FBSyxJQUFLLElBQUksSUFBSSxLQUFLLEtBQU0sS0FBSztBQUFBLFlBQzlDLEdBQUcsS0FBSyxTQUFTLEtBQUssSUFBSyxJQUFJLElBQUksS0FBSyxLQUFNLEtBQUs7QUFBQSxVQUN2RCxDQUFDO0FBQUEsUUFDTDtBQUNBLGVBQU87QUFBQSxNQUNYO0FBQUEsTUFDQSxjQUFjO0FBQ1YsY0FBTSxTQUFTLEtBQUssV0FBVztBQUMvQixZQUFJLE9BQU8sT0FBTyxDQUFDLEVBQUU7QUFDckIsWUFBSSxPQUFPLE9BQU8sQ0FBQyxFQUFFO0FBQ3JCLFlBQUksT0FBTyxPQUFPLENBQUMsRUFBRTtBQUNyQixZQUFJLE9BQU8sT0FBTyxDQUFDLEVBQUU7QUFDckIsZUFBTyxRQUFRLENBQUMsVUFBVTtBQUN0QixpQkFBTyxLQUFLLElBQUksTUFBTSxNQUFNLENBQUM7QUFDN0IsaUJBQU8sS0FBSyxJQUFJLE1BQU0sTUFBTSxDQUFDO0FBQzdCLGlCQUFPLEtBQUssSUFBSSxNQUFNLE1BQU0sQ0FBQztBQUM3QixpQkFBTyxLQUFLLElBQUksTUFBTSxNQUFNLENBQUM7QUFBQSxRQUNqQyxDQUFDO0FBQ0QsZUFBTztBQUFBLFVBQ0gsR0FBRztBQUFBLFVBQ0gsR0FBRztBQUFBLFVBQ0gsT0FBTyxPQUFPO0FBQUEsVUFDZCxRQUFRLE9BQU87QUFBQSxRQUNuQjtBQUFBLE1BQ0o7QUFBQSxNQUNBLFdBQVc7QUFDUCxlQUFPLEtBQUssT0FBTyxJQUFJO0FBQUEsTUFDM0I7QUFBQSxNQUNBLFlBQVk7QUFDUixlQUFPLEtBQUssT0FBTyxJQUFJO0FBQUEsTUFDM0I7QUFBQSxNQUNBLFNBQVMsT0FBTztBQUNaLGFBQUssT0FBTyxRQUFRLENBQUM7QUFBQSxNQUN6QjtBQUFBLE1BQ0EsVUFBVSxRQUFRO0FBQ2QsYUFBSyxPQUFPLFNBQVMsQ0FBQztBQUFBLE1BQzFCO0FBQUEsSUFDSjtBQUNBLFlBQVEsaUJBQWlCO0FBQ3pCLG1CQUFlLFVBQVUsWUFBWTtBQUNyQyxtQkFBZSxVQUFVLFlBQVk7QUFDckMsbUJBQWUsVUFBVSxzQkFBc0IsQ0FBQyxRQUFRO0FBQ3hELEtBQUMsR0FBRyxTQUFTLGVBQWUsY0FBYztBQUMxQyxjQUFVLFFBQVEsZ0JBQWdCLGdCQUFnQixVQUFVLElBQUksR0FBRyxhQUFhLG9CQUFvQixDQUFDO0FBQ3JHLGNBQVUsUUFBUSxnQkFBZ0IsZ0JBQWdCLFNBQVMsSUFBSSxHQUFHLGFBQWEsb0JBQW9CLENBQUM7QUFBQTtBQUFBOzs7QUNwRXBHO0FBQUE7QUFBQTtBQUNBLFdBQU8sZUFBZSxTQUFTLGNBQWMsRUFBRSxPQUFPLEtBQUssQ0FBQztBQUM1RCxZQUFRLE9BQU87QUFDZixRQUFNLFlBQVk7QUFDbEIsUUFBTSxVQUFVO0FBQ2hCLFFBQU0sZUFBZTtBQUNyQixRQUFNLFdBQVc7QUFDakIsUUFBSSxPQUFPLEtBQUssS0FBSztBQUNyQixRQUFNLE9BQU4sY0FBbUIsUUFBUSxNQUFNO0FBQUEsTUFDN0IsV0FBVyxTQUFTO0FBQ2hCLGdCQUFRLFVBQVU7QUFDbEIsZ0JBQVEsSUFBSSxHQUFHLEdBQUcsS0FBSyxZQUFZLEdBQUcsR0FBRyxNQUFNLEtBQUs7QUFDcEQsZ0JBQVEsT0FBTyxLQUFLLFlBQVksR0FBRyxDQUFDO0FBQ3BDLGdCQUFRLElBQUksR0FBRyxHQUFHLEtBQUssWUFBWSxHQUFHLE1BQU0sR0FBRyxJQUFJO0FBQ25ELGdCQUFRLFVBQVU7QUFDbEIsZ0JBQVEsZ0JBQWdCLElBQUk7QUFBQSxNQUNoQztBQUFBLE1BQ0EsV0FBVztBQUNQLGVBQU8sS0FBSyxZQUFZLElBQUk7QUFBQSxNQUNoQztBQUFBLE1BQ0EsWUFBWTtBQUNSLGVBQU8sS0FBSyxZQUFZLElBQUk7QUFBQSxNQUNoQztBQUFBLE1BQ0EsU0FBUyxPQUFPO0FBQ1osYUFBSyxZQUFZLFFBQVEsQ0FBQztBQUFBLE1BQzlCO0FBQUEsTUFDQSxVQUFVLFFBQVE7QUFDZCxhQUFLLFlBQVksU0FBUyxDQUFDO0FBQUEsTUFDL0I7QUFBQSxJQUNKO0FBQ0EsWUFBUSxPQUFPO0FBQ2YsU0FBSyxVQUFVLFlBQVk7QUFDM0IsU0FBSyxVQUFVLFlBQVk7QUFDM0IsU0FBSyxVQUFVLHNCQUFzQixDQUFDLGVBQWUsYUFBYTtBQUNsRSxLQUFDLEdBQUcsU0FBUyxlQUFlLElBQUk7QUFDaEMsY0FBVSxRQUFRLGdCQUFnQixNQUFNLGVBQWUsSUFBSSxHQUFHLGFBQWEsb0JBQW9CLENBQUM7QUFDaEcsY0FBVSxRQUFRLGdCQUFnQixNQUFNLGVBQWUsSUFBSSxHQUFHLGFBQWEsb0JBQW9CLENBQUM7QUFBQTtBQUFBOzs7QUNwQ2hHO0FBQUE7QUFBQTtBQUNBLFdBQU8sZUFBZSxTQUFTLGNBQWMsRUFBRSxPQUFPLEtBQUssQ0FBQztBQUM1RCxZQUFRLFNBQVM7QUFDakIsUUFBTSxZQUFZO0FBQ2xCLFFBQU0sVUFBVTtBQUNoQixRQUFNLGNBQWM7QUFDcEIsUUFBTSxlQUFlO0FBQ3JCLFFBQU0sV0FBVztBQUNqQixRQUFNLFNBQU4sY0FBcUIsUUFBUSxNQUFNO0FBQUEsTUFDL0IsWUFBWSxRQUFRO0FBQ2hCLGNBQU0sTUFBTTtBQUNaLGFBQUssV0FBVztBQUNoQixhQUFLLE9BQU8sSUFBSSxZQUFZLFVBQVUsTUFBTTtBQUN4QyxjQUFJLFVBQVUsS0FBSztBQUNuQixlQUFLLFdBQVc7QUFDaEIsaUJBQU87QUFBQSxRQUNYLENBQUM7QUFDRCxhQUFLLEdBQUcseUJBQXlCLFdBQVk7QUFDekMsZUFBSyxXQUFXLENBQUM7QUFBQSxRQUNyQixDQUFDO0FBQ0QsYUFBSyxHQUFHLDBCQUEwQixXQUFZO0FBQzFDLGVBQUssV0FBVztBQUFBLFFBQ3BCLENBQUM7QUFDRCxhQUFLLEdBQUcseUJBQXlCLFdBQVk7QUFDekMsY0FBSSxDQUFDLEtBQUssS0FBSyxVQUFVLEdBQUc7QUFDeEI7QUFBQSxVQUNKO0FBQ0Esd0JBQWMsS0FBSyxRQUFRO0FBQzNCLGVBQUssYUFBYTtBQUFBLFFBQ3RCLENBQUM7QUFBQSxNQUNMO0FBQUEsTUFDQSxXQUFXLFNBQVM7QUFDaEIsWUFBSSxPQUFPLEtBQUssVUFBVSxHQUFHLFFBQVEsS0FBSyxXQUFXLEdBQUcsTUFBTSxRQUFRLEdBQUcsTUFBTSxLQUFLLFdBQVcsRUFBRSxJQUFJLEdBQUcsVUFBVSxLQUFLLGFBQWEsR0FBRyxJQUFJLElBQUksTUFBTSxDQUFDLEdBQUcsSUFBSSxJQUFJLE1BQU0sQ0FBQyxHQUFHLFFBQVEsSUFBSSxNQUFNLENBQUMsR0FBRyxTQUFTLElBQUksTUFBTSxDQUFDLEdBQUcsUUFBUSxLQUFLLE1BQU07QUFDM08sWUFBSSxLQUFLLFFBQVEsS0FBSyxLQUFLLFVBQVUsR0FBRztBQUNwQyxrQkFBUSxVQUFVO0FBQ2xCLGtCQUFRLEtBQUssR0FBRyxHQUFHLE9BQU8sTUFBTTtBQUNoQyxrQkFBUSxVQUFVO0FBQ2xCLGtCQUFRLGdCQUFnQixJQUFJO0FBQUEsUUFDaEM7QUFDQSxZQUFJLE9BQU87QUFDUCxjQUFJLFNBQVM7QUFDVCxnQkFBSSxTQUFTLFFBQVEsSUFBSSxHQUFHLE1BQU0sUUFBUTtBQUMxQyxvQkFBUSxVQUFVLE9BQU8sR0FBRyxHQUFHLE9BQU8sUUFBUSxPQUFPLE1BQU0sQ0FBQyxHQUFHLE9BQU8sTUFBTSxDQUFDLEdBQUcsT0FBTyxNQUFNO0FBQUEsVUFDakcsT0FDSztBQUNELG9CQUFRLFVBQVUsT0FBTyxHQUFHLEdBQUcsT0FBTyxRQUFRLEdBQUcsR0FBRyxPQUFPLE1BQU07QUFBQSxVQUNyRTtBQUFBLFFBQ0o7QUFBQSxNQUNKO0FBQUEsTUFDQSxTQUFTLFNBQVM7QUFDZCxZQUFJLE9BQU8sS0FBSyxVQUFVLEdBQUcsUUFBUSxLQUFLLFdBQVcsR0FBRyxNQUFNLFFBQVEsR0FBRyxNQUFNLEtBQUssV0FBVyxFQUFFLElBQUksR0FBRyxVQUFVLEtBQUssYUFBYSxHQUFHLFFBQVEsSUFBSSxNQUFNLENBQUMsR0FBRyxTQUFTLElBQUksTUFBTSxDQUFDO0FBQ2pMLGdCQUFRLFVBQVU7QUFDbEIsWUFBSSxTQUFTO0FBQ1QsY0FBSSxTQUFTLFFBQVEsSUFBSTtBQUN6QixjQUFJLE1BQU0sUUFBUTtBQUNsQixrQkFBUSxLQUFLLE9BQU8sTUFBTSxDQUFDLEdBQUcsT0FBTyxNQUFNLENBQUMsR0FBRyxPQUFPLE1BQU07QUFBQSxRQUNoRSxPQUNLO0FBQ0Qsa0JBQVEsS0FBSyxHQUFHLEdBQUcsT0FBTyxNQUFNO0FBQUEsUUFDcEM7QUFDQSxnQkFBUSxVQUFVO0FBQ2xCLGdCQUFRLFVBQVUsSUFBSTtBQUFBLE1BQzFCO0FBQUEsTUFDQSxtQkFBbUI7QUFDZixlQUFPLE1BQU0saUJBQWlCLElBQUk7QUFBQSxNQUN0QztBQUFBLE1BQ0EsZUFBZTtBQUNYLFlBQUksT0FBTztBQUNYLGFBQUssV0FBVyxZQUFZLFdBQVk7QUFDcEMsZUFBSyxhQUFhO0FBQUEsUUFDdEIsR0FBRyxNQUFPLEtBQUssVUFBVSxDQUFDO0FBQUEsTUFDOUI7QUFBQSxNQUNBLFFBQVE7QUFDSixZQUFJLEtBQUssVUFBVSxHQUFHO0FBQ2xCO0FBQUEsUUFDSjtBQUNBLFlBQUksUUFBUSxLQUFLLFNBQVM7QUFDMUIsYUFBSyxLQUFLLFVBQVUsS0FBSztBQUN6QixhQUFLLGFBQWE7QUFDbEIsYUFBSyxLQUFLLE1BQU07QUFBQSxNQUNwQjtBQUFBLE1BQ0EsT0FBTztBQUNILGFBQUssS0FBSyxLQUFLO0FBQ2Ysc0JBQWMsS0FBSyxRQUFRO0FBQUEsTUFDL0I7QUFBQSxNQUNBLFlBQVk7QUFDUixlQUFPLEtBQUssS0FBSyxVQUFVO0FBQUEsTUFDL0I7QUFBQSxNQUNBLGVBQWU7QUFDWCxZQUFJLFFBQVEsS0FBSyxXQUFXLEdBQUcsWUFBWSxLQUFLLFVBQVUsR0FBRyxhQUFhLEtBQUssV0FBVyxHQUFHLE9BQU8sV0FBVyxTQUFTLEdBQUcsTUFBTSxLQUFLLFNBQVM7QUFDL0ksWUFBSSxRQUFRLE1BQU0sR0FBRztBQUNqQixlQUFLLFdBQVcsUUFBUSxDQUFDO0FBQUEsUUFDN0IsT0FDSztBQUNELGVBQUssV0FBVyxDQUFDO0FBQUEsUUFDckI7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUNBLFlBQVEsU0FBUztBQUNqQixXQUFPLFVBQVUsWUFBWTtBQUM3QixLQUFDLEdBQUcsU0FBUyxlQUFlLE1BQU07QUFDbEMsY0FBVSxRQUFRLGdCQUFnQixRQUFRLFdBQVc7QUFDckQsY0FBVSxRQUFRLGdCQUFnQixRQUFRLFlBQVk7QUFDdEQsY0FBVSxRQUFRLGdCQUFnQixRQUFRLGNBQWM7QUFDeEQsY0FBVSxRQUFRLGdCQUFnQixRQUFRLE9BQU87QUFDakQsY0FBVSxRQUFRLGdCQUFnQixRQUFRLGNBQWMsSUFBSSxHQUFHLGFBQWEsb0JBQW9CLENBQUM7QUFDakcsY0FBVSxRQUFRLGdCQUFnQixRQUFRLGFBQWEsS0FBSyxHQUFHLGFBQWEsb0JBQW9CLENBQUM7QUFDakcsY0FBVSxRQUFRLFdBQVcsUUFBUTtBQUFBLE1BQ2pDLE9BQU87QUFBQSxNQUNQLFVBQVU7QUFBQSxNQUNWLFVBQVU7QUFBQSxJQUNkLENBQUM7QUFBQTtBQUFBOzs7QUMvR0Q7QUFBQTtBQUFBO0FBQ0EsV0FBTyxlQUFlLFNBQVMsY0FBYyxFQUFFLE9BQU8sS0FBSyxDQUFDO0FBQzVELFlBQVEsT0FBTztBQUNmLFFBQU0sWUFBWTtBQUNsQixRQUFNLFVBQVU7QUFDaEIsUUFBTSxlQUFlO0FBQ3JCLFFBQU0sV0FBVztBQUNqQixRQUFNLE9BQU4sY0FBbUIsUUFBUSxNQUFNO0FBQUEsTUFDN0IsV0FBVyxTQUFTO0FBQ2hCLFlBQUksY0FBYyxLQUFLLFlBQVksR0FBRyxjQUFjLEtBQUssWUFBWSxHQUFHLFlBQVksS0FBSyxVQUFVO0FBQ25HLGdCQUFRLFVBQVU7QUFDbEIsZ0JBQVEsT0FBTyxHQUFHLElBQUksV0FBVztBQUNqQyxpQkFBUyxJQUFJLEdBQUcsSUFBSSxZQUFZLEdBQUcsS0FBSztBQUNwQyxjQUFJLFNBQVMsSUFBSSxNQUFNLElBQUksY0FBYztBQUN6QyxjQUFJLElBQUksU0FBUyxLQUFLLElBQUssSUFBSSxLQUFLLEtBQU0sU0FBUztBQUNuRCxjQUFJLElBQUksS0FBSyxTQUFTLEtBQUssSUFBSyxJQUFJLEtBQUssS0FBTSxTQUFTO0FBQ3hELGtCQUFRLE9BQU8sR0FBRyxDQUFDO0FBQUEsUUFDdkI7QUFDQSxnQkFBUSxVQUFVO0FBQ2xCLGdCQUFRLGdCQUFnQixJQUFJO0FBQUEsTUFDaEM7QUFBQSxNQUNBLFdBQVc7QUFDUCxlQUFPLEtBQUssWUFBWSxJQUFJO0FBQUEsTUFDaEM7QUFBQSxNQUNBLFlBQVk7QUFDUixlQUFPLEtBQUssWUFBWSxJQUFJO0FBQUEsTUFDaEM7QUFBQSxNQUNBLFNBQVMsT0FBTztBQUNaLGFBQUssWUFBWSxRQUFRLENBQUM7QUFBQSxNQUM5QjtBQUFBLE1BQ0EsVUFBVSxRQUFRO0FBQ2QsYUFBSyxZQUFZLFNBQVMsQ0FBQztBQUFBLE1BQy9CO0FBQUEsSUFDSjtBQUNBLFlBQVEsT0FBTztBQUNmLFNBQUssVUFBVSxZQUFZO0FBQzNCLFNBQUssVUFBVSxZQUFZO0FBQzNCLFNBQUssVUFBVSxzQkFBc0IsQ0FBQyxlQUFlLGFBQWE7QUFDbEUsS0FBQyxHQUFHLFNBQVMsZUFBZSxJQUFJO0FBQ2hDLGNBQVUsUUFBUSxnQkFBZ0IsTUFBTSxhQUFhLElBQUksR0FBRyxhQUFhLG9CQUFvQixDQUFDO0FBQzlGLGNBQVUsUUFBUSxnQkFBZ0IsTUFBTSxlQUFlLElBQUksR0FBRyxhQUFhLG9CQUFvQixDQUFDO0FBQ2hHLGNBQVUsUUFBUSxnQkFBZ0IsTUFBTSxlQUFlLElBQUksR0FBRyxhQUFhLG9CQUFvQixDQUFDO0FBQUE7QUFBQTs7O0FDekNoRztBQUFBO0FBQUE7QUFDQSxXQUFPLGVBQWUsU0FBUyxjQUFjLEVBQUUsT0FBTyxLQUFLLENBQUM7QUFDNUQsWUFBUSxPQUFPLFFBQVEsZ0JBQWdCO0FBQ3ZDLFFBQU0sU0FBUztBQUNmLFFBQU0sWUFBWTtBQUNsQixRQUFNLFVBQVU7QUFDaEIsUUFBTSxlQUFlO0FBQ3JCLFFBQU0sV0FBVztBQUNqQixhQUFTLGNBQWMsUUFBUTtBQUMzQixhQUFPLE1BQU0sS0FBSyxNQUFNO0FBQUEsSUFDNUI7QUFDQSxZQUFRLGdCQUFnQjtBQUN4QixRQUFJLE9BQU87QUFBWCxRQUFtQixTQUFTO0FBQTVCLFFBQXNDLFVBQVU7QUFBaEQsUUFBMkQsVUFBVTtBQUFyRSxRQUFnRixlQUFlO0FBQS9GLFFBQStHLGFBQWE7QUFBNUgsUUFBa0ksT0FBTztBQUF6SSxRQUE4SSxPQUFPO0FBQXJKLFFBQTBLLE9BQU87QUFBakwsUUFBeUwsYUFBYTtBQUF0TSxRQUE4TSxNQUFNO0FBQXBOLFFBQTJOLFNBQVM7QUFBcE8sUUFBOE8sU0FBUztBQUF2UCxRQUFpUSxTQUFTO0FBQTFRLFFBQW9SLFdBQVc7QUFBL1IsUUFBc1MsUUFBUTtBQUE5UyxRQUFtVCxRQUFRO0FBQTNULFFBQW9VLE1BQU07QUFBMVUsUUFBaVYsT0FBTztBQUF4VixRQUFnVyxPQUFPO0FBQXZXLFFBQStXLE9BQU87QUFBdFgsUUFBOFgsV0FBVztBQUF6WSxRQUE4WSxtQkFBbUI7QUFBQSxNQUM3WjtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDSjtBQWhCQSxRQWdCRyxvQkFBb0IsaUJBQWlCO0FBQ3hDLGFBQVMsb0JBQW9CLFlBQVk7QUFDckMsYUFBTyxXQUNGLE1BQU0sR0FBRyxFQUNULElBQUksQ0FBQyxXQUFXO0FBQ2pCLGlCQUFTLE9BQU8sS0FBSztBQUNyQixjQUFNLFdBQVcsT0FBTyxRQUFRLEdBQUcsS0FBSztBQUN4QyxjQUFNLFlBQVksT0FBTyxRQUFRLEdBQUcsS0FBSyxLQUFLLE9BQU8sUUFBUSxHQUFHLEtBQUs7QUFDckUsWUFBSSxZQUFZLENBQUMsV0FBVztBQUN4QixtQkFBUyxJQUFJO0FBQUEsUUFDakI7QUFDQSxlQUFPO0FBQUEsTUFDWCxDQUFDLEVBQ0ksS0FBSyxJQUFJO0FBQUEsSUFDbEI7QUFDQSxRQUFJO0FBQ0osYUFBUyxrQkFBa0I7QUFDdkIsVUFBSSxjQUFjO0FBQ2QsZUFBTztBQUFBLE1BQ1g7QUFDQSxxQkFBZSxPQUFPLEtBQUssb0JBQW9CLEVBQUUsV0FBVyxVQUFVO0FBQ3RFLGFBQU87QUFBQSxJQUNYO0FBQ0EsYUFBUyxVQUFVLFNBQVM7QUFDeEIsY0FBUSxTQUFTLEtBQUssY0FBYyxLQUFLLGVBQWUsS0FBSyxhQUFhO0FBQUEsSUFDOUU7QUFDQSxhQUFTLFlBQVksU0FBUztBQUMxQixjQUFRLFFBQVEsY0FBYyxDQUFDO0FBQy9CLGNBQVEsV0FBVyxLQUFLLGNBQWMsS0FBSyxlQUFlLEtBQUssYUFBYTtBQUFBLElBQ2hGO0FBQ0EsYUFBUyxpQkFBaUIsUUFBUTtBQUM5QixlQUFTLFVBQVUsQ0FBQztBQUNwQixVQUFJLENBQUMsT0FBTyxnQ0FDUixDQUFDLE9BQU8sZ0NBQ1IsQ0FBQyxPQUFPLGtCQUFrQjtBQUMxQixlQUFPLE9BQU8sT0FBTyxRQUFRO0FBQUEsTUFDakM7QUFDQSxhQUFPO0FBQUEsSUFDWDtBQUNBLFFBQU0sT0FBTixjQUFtQixRQUFRLE1BQU07QUFBQSxNQUM3QixZQUFZLFFBQVE7QUFDaEIsY0FBTSxpQkFBaUIsTUFBTSxDQUFDO0FBQzlCLGFBQUssZ0JBQWdCO0FBQ3JCLGFBQUssZ0JBQWdCO0FBQ3JCLGlCQUFTLElBQUksR0FBRyxJQUFJLG1CQUFtQixLQUFLO0FBQ3hDLGVBQUssR0FBRyxpQkFBaUIsQ0FBQyxJQUFJLGNBQWMsS0FBSyxZQUFZO0FBQUEsUUFDakU7QUFDQSxhQUFLLGFBQWE7QUFBQSxNQUN0QjtBQUFBLE1BQ0EsV0FBVyxTQUFTO0FBQ2hCLFlBQUksVUFBVSxLQUFLLFNBQVMsYUFBYSxRQUFRO0FBQ2pELFlBQUksQ0FBQyxLQUFLLEtBQUssR0FBRztBQUNkO0FBQUEsUUFDSjtBQUNBLFlBQUksVUFBVSxLQUFLLFFBQVEsR0FBRyxXQUFXLEtBQUssU0FBUyxHQUFHLGVBQWUsS0FBSyxXQUFXLElBQUksVUFBVSxnQkFBZ0IsS0FBSyxjQUFjLEdBQUcsWUFBWSxLQUFLLFVBQVUsR0FBRyxTQUFTLEdBQUcsUUFBUSxLQUFLLE1BQU0sR0FBRyxhQUFhLEtBQUssU0FBUyxHQUFHLGdCQUFnQixLQUFLLGNBQWMsR0FBRyxPQUFPLEtBQUssS0FBSyxHQUFHLGlCQUFpQixLQUFLLGVBQWUsR0FBRyxrQkFBa0IsZUFBZSxRQUFRLFdBQVcsTUFBTSxJQUFJLG9CQUFvQixlQUFlLFFBQVEsY0FBYyxNQUFNLElBQUk7QUFDOWMsb0JBQVksY0FBYyxVQUFVLFFBQVEsWUFBWTtBQUN4RCxZQUFJLGFBQWE7QUFDakIsWUFBSSxhQUFhLGVBQWU7QUFDaEMsWUFBSSxpQkFBaUI7QUFDckIsWUFBSSxpQkFBaUI7QUFDckIsWUFBSSxjQUFjLEtBQUs7QUFDbkIsa0JBQVEsUUFBUSxhQUFhLFNBQVM7QUFBQSxRQUMxQztBQUNBLGdCQUFRLFFBQVEsUUFBUSxLQUFLLGdCQUFnQixDQUFDO0FBQzlDLGdCQUFRLFFBQVEsZ0JBQWdCLE1BQU07QUFDdEMsZ0JBQVEsUUFBUSxhQUFhLElBQUk7QUFDakMsWUFBSSxrQkFBa0IsUUFBUTtBQUMxQixvQkFBVSxLQUFLLFVBQVUsSUFBSSxhQUFhLGVBQWUsVUFBVSxLQUFLO0FBQUEsUUFDNUUsV0FDUyxrQkFBa0IsUUFBUTtBQUMvQixtQkFBUyxLQUFLLFVBQVUsSUFBSSxhQUFhLGVBQWUsVUFBVTtBQUFBLFFBQ3RFO0FBQ0EsZ0JBQVEsVUFBVSxTQUFTLFNBQVMsT0FBTztBQUMzQyxhQUFLLElBQUksR0FBRyxJQUFJLFlBQVksS0FBSztBQUM3QixjQUFJLGlCQUFpQjtBQUNyQixjQUFJLGlCQUFpQjtBQUNyQixjQUFJLE1BQU0sUUFBUSxDQUFDLEdBQUdDLFFBQU8sSUFBSSxNQUFNLFFBQVEsSUFBSSxPQUFPLFdBQVcsSUFBSSxpQkFBaUIsY0FBYyxTQUFTO0FBQ2pILGtCQUFRLEtBQUs7QUFDYixjQUFJLFVBQVUsT0FBTztBQUNqQiw4QkFBa0IsYUFBYSxRQUFRLFVBQVU7QUFBQSxVQUNyRCxXQUNTLFVBQVUsUUFBUTtBQUN2QiwrQkFBbUIsYUFBYSxRQUFRLFVBQVUsS0FBSztBQUFBLFVBQzNEO0FBQ0EsY0FBSSxpQkFBaUI7QUFDakIsb0JBQVEsS0FBSztBQUNiLG9CQUFRLFVBQVU7QUFDbEIsb0JBQVEsT0FBTyxnQkFBZ0IsYUFBYSxpQkFBaUIsS0FBSyxNQUFNLFdBQVcsQ0FBQyxDQUFDO0FBQ3JGLDJCQUFlQSxNQUFLLE1BQU0sR0FBRyxFQUFFLFNBQVM7QUFDeEMsc0JBQVUsaUJBQWlCO0FBQzNCLHdCQUNJLFVBQVUsV0FBVyxDQUFDLFdBQVcsYUFBYSxVQUFVLElBQUk7QUFDaEUsb0JBQVEsT0FBTyxpQkFBaUIsS0FBSyxNQUFNLFNBQVMsR0FBRyxhQUFhLGlCQUFpQixLQUFLLE1BQU0sV0FBVyxDQUFDLENBQUM7QUFDN0csb0JBQVEsWUFBWSxXQUFXO0FBQy9CLGtCQUFNLFdBQVcsS0FBSyxtQkFBbUI7QUFDekMsb0JBQVEsY0FBYyxZQUFZO0FBQ2xDLG9CQUFRLE9BQU87QUFDZixvQkFBUSxRQUFRO0FBQUEsVUFDcEI7QUFDQSxjQUFJLG1CQUFtQjtBQUNuQixvQkFBUSxLQUFLO0FBQ2Isb0JBQVEsVUFBVTtBQUNsQixvQkFBUSxPQUFPLGdCQUFnQixhQUFhLGNBQWM7QUFDMUQsMkJBQWVBLE1BQUssTUFBTSxHQUFHLEVBQUUsU0FBUztBQUN4QyxzQkFBVSxpQkFBaUI7QUFDM0Isd0JBQ0ksVUFBVSxXQUFXLFlBQVksQ0FBQyxVQUM1QixhQUFhLFVBQVUsSUFDdkI7QUFDVixvQkFBUSxPQUFPLGlCQUFpQixLQUFLLE1BQU0sU0FBUyxHQUFHLGFBQWEsY0FBYztBQUNsRixvQkFBUSxZQUFZLFdBQVc7QUFDL0Isa0JBQU0sV0FBVyxLQUFLLG1CQUFtQjtBQUN6QyxvQkFBUSxjQUFjLFlBQVk7QUFDbEMsb0JBQVEsT0FBTztBQUNmLG9CQUFRLFFBQVE7QUFBQSxVQUNwQjtBQUNBLGNBQUksY0FBYyxRQUFRLGtCQUFrQixLQUFLLFVBQVUsVUFBVTtBQUNqRSwyQkFBZUEsTUFBSyxNQUFNLEdBQUcsRUFBRSxTQUFTO0FBQ3hDLGdCQUFJLFFBQVEsY0FBY0EsS0FBSTtBQUM5QixxQkFBUyxLQUFLLEdBQUcsS0FBSyxNQUFNLFFBQVEsTUFBTTtBQUN0QyxrQkFBSSxTQUFTLE1BQU0sRUFBRTtBQUNyQixrQkFBSSxXQUFXLE9BQU8sQ0FBQyxZQUFZLFVBQVUsU0FBUztBQUNsRCxtQ0FBbUIsYUFBYSxVQUFVLElBQUksU0FBUztBQUFBLGNBQzNEO0FBQ0EsbUJBQUssZ0JBQWdCO0FBQ3JCLG1CQUFLLGdCQUFnQixhQUFhO0FBQ2xDLG1CQUFLLGVBQWU7QUFDcEIsc0JBQVEsZ0JBQWdCLElBQUk7QUFDNUIsZ0NBQWtCLEtBQUssWUFBWSxNQUFNLEVBQUUsUUFBUTtBQUFBLFlBQ3ZEO0FBQUEsVUFDSixPQUNLO0FBQ0QsZ0JBQUksa0JBQWtCLEdBQUc7QUFDckIsc0JBQVEsUUFBUSxpQkFBaUIsR0FBRyxpQkFBaUI7QUFBQSxZQUN6RDtBQUNBLGlCQUFLLGdCQUFnQjtBQUNyQixpQkFBSyxnQkFBZ0IsYUFBYTtBQUNsQyxpQkFBSyxlQUFlQTtBQUNwQixvQkFBUSxnQkFBZ0IsSUFBSTtBQUFBLFVBQ2hDO0FBQ0Esa0JBQVEsUUFBUTtBQUNoQixjQUFJLGFBQWEsR0FBRztBQUNoQiwwQkFBYztBQUFBLFVBQ2xCO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFBQSxNQUNBLFNBQVMsU0FBUztBQUNkLFlBQUksUUFBUSxLQUFLLFNBQVMsR0FBRyxTQUFTLEtBQUssVUFBVTtBQUNyRCxnQkFBUSxVQUFVO0FBQ2xCLGdCQUFRLEtBQUssR0FBRyxHQUFHLE9BQU8sTUFBTTtBQUNoQyxnQkFBUSxVQUFVO0FBQ2xCLGdCQUFRLGdCQUFnQixJQUFJO0FBQUEsTUFDaEM7QUFBQSxNQUNBLFFBQVFBLE9BQU07QUFDVixZQUFJLE1BQU0sT0FBTyxLQUFLLFVBQVVBLEtBQUksSUFDOUJBLFFBQ0FBLFVBQVMsUUFBUUEsVUFBUyxTQUN0QixLQUNBQSxRQUFPO0FBQ2pCLGFBQUssU0FBUyxNQUFNLEdBQUc7QUFDdkIsZUFBTztBQUFBLE1BQ1g7QUFBQSxNQUNBLFdBQVc7QUFDUCxZQUFJLFNBQVMsS0FBSyxNQUFNLFVBQVUsUUFBUSxLQUFLLE1BQU0sVUFBVTtBQUMvRCxlQUFPLFNBQVMsS0FBSyxhQUFhLElBQUksS0FBSyxRQUFRLElBQUksSUFBSSxLQUFLLE1BQU07QUFBQSxNQUMxRTtBQUFBLE1BQ0EsWUFBWTtBQUNSLFlBQUksU0FBUyxLQUFLLE1BQU0sV0FBVyxRQUFRLEtBQUssTUFBTSxXQUFXO0FBQ2pFLGVBQU8sU0FDRCxLQUFLLFNBQVMsSUFBSSxLQUFLLFFBQVEsU0FBUyxLQUFLLFdBQVcsSUFDdEQsS0FBSyxRQUFRLElBQUksSUFDbkIsS0FBSyxNQUFNO0FBQUEsTUFDckI7QUFBQSxNQUNBLGVBQWU7QUFDWCxlQUFPLEtBQUs7QUFBQSxNQUNoQjtBQUFBLE1BQ0EsZ0JBQWdCO0FBQ1osZUFBTyxLQUFLLEtBQUssMkhBQTJIO0FBQzVJLGVBQU8sS0FBSztBQUFBLE1BQ2hCO0FBQUEsTUFDQSxZQUFZQSxPQUFNO0FBQ2QsWUFBSSxXQUFXLGdCQUFnQixHQUFHLFdBQVcsS0FBSyxTQUFTLEdBQUc7QUFDOUQsaUJBQVMsS0FBSztBQUNkLGlCQUFTLE9BQU8sS0FBSyxnQkFBZ0I7QUFDckMsa0JBQVUsU0FBUyxZQUFZQSxLQUFJO0FBQ25DLGlCQUFTLFFBQVE7QUFDakIsZUFBTztBQUFBLFVBQ0gsT0FBTyxRQUFRO0FBQUEsVUFDZixRQUFRO0FBQUEsUUFDWjtBQUFBLE1BQ0o7QUFBQSxNQUNBLGtCQUFrQjtBQUNkLGVBQVEsS0FBSyxVQUFVLElBQ25CLFFBQ0EsS0FBSyxZQUFZLElBQ2pCLFNBQ0MsS0FBSyxTQUFTLElBQUksWUFDbkIsb0JBQW9CLEtBQUssV0FBVyxDQUFDO0FBQUEsTUFDN0M7QUFBQSxNQUNBLGFBQWEsTUFBTTtBQUNmLGNBQU0sUUFBUSxLQUFLLE1BQU07QUFDekIsWUFBSSxVQUFVLFNBQVM7QUFDbkIsaUJBQU8sS0FBSyxLQUFLO0FBQUEsUUFDckI7QUFDQSxZQUFJLFFBQVEsS0FBSyxjQUFjLElBQUk7QUFDbkMsZUFBTyxLQUFLLFFBQVEsS0FBSztBQUFBLFVBQ3JCLE1BQU07QUFBQSxVQUNOO0FBQUEsVUFDQSxpQkFBaUI7QUFBQSxRQUNyQixDQUFDO0FBQUEsTUFDTDtBQUFBLE1BQ0EsY0FBY0EsT0FBTTtBQUNoQixZQUFJLGdCQUFnQixLQUFLLGNBQWM7QUFDdkMsWUFBSSxTQUFTQSxNQUFLO0FBQ2xCLGVBQVEsZ0JBQWdCLEVBQUUsWUFBWUEsS0FBSSxFQUFFLFNBQ3ZDLFNBQVMsaUJBQWlCLFNBQVMsS0FBSztBQUFBLE1BQ2pEO0FBQUEsTUFDQSxlQUFlO0FBQ1gsWUFBSSxRQUFRLEtBQUssS0FBSyxFQUFFLE1BQU0sSUFBSSxHQUFHLFdBQVcsQ0FBQyxLQUFLLFNBQVMsR0FBRyxZQUFZLEdBQUcsZUFBZSxLQUFLLFdBQVcsSUFBSSxVQUFVLFFBQVEsS0FBSyxNQUFNLE9BQU8sU0FBUyxLQUFLLE1BQU0sUUFBUSxhQUFhLFVBQVUsUUFBUSxVQUFVLFFBQVcsY0FBYyxXQUFXLFFBQVEsV0FBVyxRQUFXLFVBQVUsS0FBSyxRQUFRLEdBQUcsV0FBVyxRQUFRLFVBQVUsR0FBRyxjQUFjLFNBQVMsVUFBVSxHQUFHLGtCQUFrQixHQUFHLE9BQU8sS0FBSyxLQUFLLEdBQUcsYUFBYSxTQUFTLE1BQU0sYUFBYSxTQUFTLFFBQVEsWUFBWSxvQkFBb0IsS0FBSyxTQUFTO0FBQzlnQixhQUFLLFVBQVUsQ0FBQztBQUNoQix3QkFBZ0IsRUFBRSxPQUFPLEtBQUssZ0JBQWdCO0FBQzlDLFlBQUksa0JBQWtCLG9CQUFvQixLQUFLLGNBQWMsUUFBUSxJQUFJO0FBQ3pFLGlCQUFTLElBQUksR0FBRyxNQUFNLE1BQU0sUUFBUSxJQUFJLEtBQUssRUFBRSxHQUFHO0FBQzlDLGNBQUksT0FBTyxNQUFNLENBQUM7QUFDbEIsY0FBSSxZQUFZLEtBQUssY0FBYyxJQUFJO0FBQ3ZDLGNBQUksY0FBYyxZQUFZLFVBQVU7QUFDcEMsbUJBQU8sS0FBSyxTQUFTLEdBQUc7QUFDcEIsa0JBQUksTUFBTSxHQUFHLE9BQU8sS0FBSyxRQUFRLFFBQVEsSUFBSSxhQUFhO0FBQzFELHFCQUFPLE1BQU0sTUFBTTtBQUNmLG9CQUFJLE1BQU8sTUFBTSxTQUFVLEdBQUcsU0FBUyxLQUFLLE1BQU0sR0FBRyxNQUFNLENBQUMsR0FBRyxjQUFjLEtBQUssY0FBYyxNQUFNLElBQUk7QUFDMUcsb0JBQUksZUFBZSxVQUFVO0FBQ3pCLHdCQUFNLE1BQU07QUFDWiwwQkFBUTtBQUNSLCtCQUFhO0FBQUEsZ0JBQ2pCLE9BQ0s7QUFDRCx5QkFBTztBQUFBLGdCQUNYO0FBQUEsY0FDSjtBQUNBLGtCQUFJLE9BQU87QUFDUCxvQkFBSSxZQUFZO0FBQ1osc0JBQUk7QUFDSixzQkFBSSxXQUFXLEtBQUssTUFBTSxNQUFNO0FBQ2hDLHNCQUFJLG9CQUFvQixhQUFhLFNBQVMsYUFBYTtBQUMzRCxzQkFBSSxxQkFBcUIsY0FBYyxVQUFVO0FBQzdDLGdDQUFZLE1BQU07QUFBQSxrQkFDdEIsT0FDSztBQUNELGdDQUNJLEtBQUssSUFBSSxNQUFNLFlBQVksS0FBSyxHQUFHLE1BQU0sWUFBWSxJQUFJLENBQUMsSUFDdEQ7QUFBQSxrQkFDWjtBQUNBLHNCQUFJLFlBQVksR0FBRztBQUNmLDBCQUFNO0FBQ04sNEJBQVEsTUFBTSxNQUFNLEdBQUcsR0FBRztBQUMxQixpQ0FBYSxLQUFLLGNBQWMsS0FBSztBQUFBLGtCQUN6QztBQUFBLGdCQUNKO0FBQ0Esd0JBQVEsTUFBTSxVQUFVO0FBQ3hCLHFCQUFLLGFBQWEsS0FBSztBQUN2Qiw0QkFBWSxLQUFLLElBQUksV0FBVyxVQUFVO0FBQzFDLG1DQUFtQjtBQUNuQixvQkFBSSx1QkFBdUIsS0FBSyxzQkFBc0IsZUFBZTtBQUNyRSxvQkFBSSxzQkFBc0I7QUFDdEIsdUJBQUssNEJBQTRCO0FBQ2pDO0FBQUEsZ0JBQ0o7QUFDQSx1QkFBTyxLQUFLLE1BQU0sR0FBRztBQUNyQix1QkFBTyxLQUFLLFNBQVM7QUFDckIsb0JBQUksS0FBSyxTQUFTLEdBQUc7QUFDakIsOEJBQVksS0FBSyxjQUFjLElBQUk7QUFDbkMsc0JBQUksYUFBYSxVQUFVO0FBQ3ZCLHlCQUFLLGFBQWEsSUFBSTtBQUN0Qix1Q0FBbUI7QUFDbkIsZ0NBQVksS0FBSyxJQUFJLFdBQVcsU0FBUztBQUN6QztBQUFBLGtCQUNKO0FBQUEsZ0JBQ0o7QUFBQSxjQUNKLE9BQ0s7QUFDRDtBQUFBLGNBQ0o7QUFBQSxZQUNKO0FBQUEsVUFDSixPQUNLO0FBQ0QsaUJBQUssYUFBYSxJQUFJO0FBQ3RCLCtCQUFtQjtBQUNuQix3QkFBWSxLQUFLLElBQUksV0FBVyxTQUFTO0FBQ3pDLGdCQUFJLEtBQUssc0JBQXNCLGVBQWUsS0FBSyxJQUFJLE1BQU0sR0FBRztBQUM1RCxtQkFBSyw0QkFBNEI7QUFBQSxZQUNyQztBQUFBLFVBQ0o7QUFDQSxjQUFJLEtBQUssUUFBUSxLQUFLLFFBQVEsU0FBUyxDQUFDLEdBQUc7QUFDdkMsaUJBQUssUUFBUSxLQUFLLFFBQVEsU0FBUyxDQUFDLEVBQUUsa0JBQWtCO0FBQUEsVUFDNUQ7QUFDQSxjQUFJLGVBQWUsa0JBQWtCLGVBQWUsYUFBYTtBQUM3RDtBQUFBLFVBQ0o7QUFBQSxRQUNKO0FBQ0EsYUFBSyxhQUFhO0FBQ2xCLGFBQUssWUFBWTtBQUFBLE1BQ3JCO0FBQUEsTUFDQSxzQkFBc0IsaUJBQWlCO0FBQ25DLFlBQUksV0FBVyxDQUFDLEtBQUssU0FBUyxHQUFHLGVBQWUsS0FBSyxXQUFXLElBQUksVUFBVSxTQUFTLEtBQUssTUFBTSxRQUFRLGNBQWMsV0FBVyxRQUFRLFdBQVcsUUFBVyxVQUFVLEtBQUssUUFBUSxHQUFHLGNBQWMsU0FBUyxVQUFVLEdBQUcsT0FBTyxLQUFLLEtBQUssR0FBRyxhQUFhLFNBQVM7QUFDelEsZUFBUSxDQUFDLGNBQ0osZUFBZSxrQkFBa0IsZUFBZTtBQUFBLE1BQ3pEO0FBQUEsTUFDQSw4QkFBOEI7QUFDMUIsWUFBSSxRQUFRLEtBQUssTUFBTSxPQUFPLGFBQWEsVUFBVSxRQUFRLFVBQVUsUUFBVyxVQUFVLEtBQUssUUFBUSxHQUFHLFdBQVcsUUFBUSxVQUFVLEdBQUcsb0JBQW9CLEtBQUssU0FBUztBQUM5SyxZQUFJLFdBQVcsS0FBSyxRQUFRLEtBQUssUUFBUSxTQUFTLENBQUM7QUFDbkQsWUFBSSxDQUFDLFlBQVksQ0FBQyxtQkFBbUI7QUFDakM7QUFBQSxRQUNKO0FBQ0EsWUFBSSxZQUFZO0FBQ1osY0FBSSxZQUFZLEtBQUssY0FBYyxTQUFTLE9BQU8sUUFBUSxJQUFJO0FBQy9ELGNBQUksQ0FBQyxXQUFXO0FBQ1oscUJBQVMsT0FBTyxTQUFTLEtBQUssTUFBTSxHQUFHLFNBQVMsS0FBSyxTQUFTLENBQUM7QUFBQSxVQUNuRTtBQUFBLFFBQ0o7QUFDQSxhQUFLLFFBQVEsT0FBTyxLQUFLLFFBQVEsU0FBUyxHQUFHLENBQUM7QUFDOUMsYUFBSyxhQUFhLFNBQVMsT0FBTyxRQUFRO0FBQUEsTUFDOUM7QUFBQSxNQUNBLHdCQUF3QjtBQUNwQixlQUFPO0FBQUEsTUFDWDtBQUFBLE1BQ0EsbUJBQW1CO0FBQ2YsY0FBTSxVQUFVLEtBQUssZUFBZSxFQUFFLFFBQVEsV0FBVyxNQUFNLE1BQzNELEtBQUssZUFBZSxFQUFFLFFBQVEsY0FBYyxNQUFNO0FBQ3RELGNBQU0sWUFBWSxLQUFLLFVBQVU7QUFDakMsWUFBSSxXQUFXLFdBQVc7QUFDdEIsaUJBQU87QUFBQSxRQUNYO0FBQ0EsZUFBTyxNQUFNLGlCQUFpQjtBQUFBLE1BQ2xDO0FBQUEsSUFDSjtBQUNBLFlBQVEsT0FBTztBQUNmLFNBQUssVUFBVSxZQUFZO0FBQzNCLFNBQUssVUFBVSxjQUFjO0FBQzdCLFNBQUssVUFBVSxZQUFZO0FBQzNCLFNBQUssVUFBVSxzQkFBc0I7QUFBQSxNQUNqQztBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDSjtBQUNBLEtBQUMsR0FBRyxTQUFTLGVBQWUsSUFBSTtBQUNoQyxjQUFVLFFBQVEsZ0JBQWdCLE1BQU0sVUFBVSxHQUFHLGFBQWEsMEJBQTBCLENBQUM7QUFDN0YsY0FBVSxRQUFRLGdCQUFnQixNQUFNLFdBQVcsR0FBRyxhQUFhLDBCQUEwQixDQUFDO0FBQzlGLGNBQVUsUUFBUSxnQkFBZ0IsTUFBTSxhQUFhLE9BQU87QUFDNUQsY0FBVSxRQUFRLGdCQUFnQixNQUFNLGNBQWMsT0FBTztBQUM3RCxjQUFVLFFBQVEsZ0JBQWdCLE1BQU0sWUFBWSxLQUFLLEdBQUcsYUFBYSxvQkFBb0IsQ0FBQztBQUM5RixjQUFVLFFBQVEsZ0JBQWdCLE1BQU0sYUFBYSxNQUFNO0FBQzNELGNBQVUsUUFBUSxnQkFBZ0IsTUFBTSxlQUFlLE1BQU07QUFDN0QsY0FBVSxRQUFRLGdCQUFnQixNQUFNLFdBQVcsSUFBSSxHQUFHLGFBQWEsb0JBQW9CLENBQUM7QUFDNUYsY0FBVSxRQUFRLGdCQUFnQixNQUFNLFNBQVMsSUFBSTtBQUNyRCxjQUFVLFFBQVEsZ0JBQWdCLE1BQU0saUJBQWlCLEdBQUc7QUFDNUQsY0FBVSxRQUFRLGdCQUFnQixNQUFNLGNBQWMsSUFBSSxHQUFHLGFBQWEsb0JBQW9CLENBQUM7QUFDL0YsY0FBVSxRQUFRLGdCQUFnQixNQUFNLFFBQVEsSUFBSTtBQUNwRCxjQUFVLFFBQVEsZ0JBQWdCLE1BQU0sWUFBWSxRQUFRLEdBQUcsYUFBYSxxQkFBcUIsQ0FBQztBQUNsRyxjQUFVLFFBQVEsZ0JBQWdCLE1BQU0saUJBQWlCLElBQUksR0FBRyxhQUFhLG9CQUFvQixDQUFDO0FBQ2xHLGNBQVUsUUFBUSxnQkFBZ0IsTUFBTSxRQUFRLEtBQUssR0FBRyxhQUFhLG9CQUFvQixDQUFDO0FBQzFGLGNBQVUsUUFBUSxnQkFBZ0IsTUFBTSxrQkFBa0IsRUFBRTtBQUFBO0FBQUE7OztBQ3ZZNUQ7QUFBQTtBQUFBO0FBQ0EsV0FBTyxlQUFlLFNBQVMsY0FBYyxFQUFFLE9BQU8sS0FBSyxDQUFDO0FBQzVELFlBQVEsV0FBVztBQUNuQixRQUFNLFNBQVM7QUFDZixRQUFNLFlBQVk7QUFDbEIsUUFBTSxVQUFVO0FBQ2hCLFFBQU0sU0FBUztBQUNmLFFBQU0sU0FBUztBQUNmLFFBQU0sZUFBZTtBQUNyQixRQUFNLFdBQVc7QUFDakIsUUFBSSxlQUFlO0FBQW5CLFFBQXVCLFNBQVM7QUFDaEMsYUFBUyxVQUFVLFNBQVM7QUFDeEIsY0FBUSxTQUFTLEtBQUssYUFBYSxHQUFHLENBQUM7QUFBQSxJQUMzQztBQUNBLGFBQVMsWUFBWSxTQUFTO0FBQzFCLGNBQVEsV0FBVyxLQUFLLGFBQWEsR0FBRyxDQUFDO0FBQUEsSUFDN0M7QUFDQSxRQUFNLFdBQU4sY0FBdUIsUUFBUSxNQUFNO0FBQUEsTUFDakMsWUFBWSxRQUFRO0FBQ2hCLGNBQU0sTUFBTTtBQUNaLGFBQUssY0FBYyxPQUFPLEtBQUssb0JBQW9CO0FBQ25ELGFBQUssWUFBWSxDQUFDO0FBQ2xCLGFBQUssbUJBQW1CO0FBQ3hCLGFBQUssR0FBRyxvQkFBb0IsV0FBWTtBQUNwQyxlQUFLLG1CQUFtQjtBQUN4QixlQUFLLGFBQWE7QUFBQSxRQUN0QixDQUFDO0FBQ0QsYUFBSyxHQUFHLG9JQUFvSSxLQUFLLFlBQVk7QUFDN0osYUFBSyxhQUFhO0FBQUEsTUFDdEI7QUFBQSxNQUNBLHFCQUFxQjtBQUNqQixlQUFPLE9BQU8sS0FBSyxjQUFjLEtBQUssU0FBUztBQUFBLE1BQ25EO0FBQUEsTUFDQSxrQkFBa0IsUUFBUTtBQUN0QixZQUFJLENBQUMsS0FBSyxNQUFNLE1BQU07QUFDbEIsaUJBQU87QUFBQSxRQUNYO0FBQ0EsY0FBTSxjQUFjLEtBQUs7QUFDekIsWUFBSSxTQUFTLElBQUksYUFBYTtBQUMxQixpQkFBTztBQUFBLFFBQ1g7QUFDQSxlQUFPLE9BQU8sS0FBSyw0QkFBNEIsUUFBUSxLQUFLLFNBQVM7QUFBQSxNQUN6RTtBQUFBLE1BQ0EscUJBQXFCO0FBQ2pCLGFBQUssWUFBWSxPQUFPLEtBQUssY0FBYyxLQUFLLE1BQU0sSUFBSTtBQUMxRCxhQUFLLGFBQWEsS0FBSyxtQkFBbUI7QUFBQSxNQUM5QztBQUFBLE1BQ0EsV0FBVyxTQUFTO0FBQ2hCLGdCQUFRLFFBQVEsUUFBUSxLQUFLLGdCQUFnQixDQUFDO0FBQzlDLGdCQUFRLFFBQVEsZ0JBQWdCLEtBQUssYUFBYSxDQUFDO0FBQ25ELGdCQUFRLFFBQVEsYUFBYSxNQUFNO0FBQ25DLGdCQUFRLEtBQUs7QUFDYixZQUFJLGlCQUFpQixLQUFLLGVBQWU7QUFDekMsWUFBSSxPQUFPLEtBQUssS0FBSztBQUNyQixZQUFJLFdBQVcsS0FBSyxTQUFTO0FBQzdCLFlBQUksWUFBWSxLQUFLO0FBQ3JCLFlBQUksbUJBQW1CLGFBQWE7QUFDaEMsa0JBQVEsVUFBVTtBQUFBLFFBQ3RCO0FBQ0EsaUJBQVMsSUFBSSxHQUFHLElBQUksVUFBVSxRQUFRLEtBQUs7QUFDdkMsa0JBQVEsS0FBSztBQUNiLGNBQUksS0FBSyxVQUFVLENBQUMsRUFBRTtBQUN0QixrQkFBUSxVQUFVLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFDNUIsa0JBQVEsT0FBTyxVQUFVLENBQUMsRUFBRSxRQUFRO0FBQ3BDLGVBQUssY0FBYyxVQUFVLENBQUMsRUFBRTtBQUNoQyxrQkFBUSxnQkFBZ0IsSUFBSTtBQUM1QixjQUFJLG1CQUFtQixhQUFhO0FBQ2hDLGdCQUFJLE1BQU0sR0FBRztBQUNULHNCQUFRLE9BQU8sR0FBRyxXQUFXLElBQUksQ0FBQztBQUFBLFlBQ3RDO0FBQ0Esb0JBQVEsT0FBTyxVQUFVLFdBQVcsSUFBSSxDQUFDO0FBQUEsVUFDN0M7QUFDQSxrQkFBUSxRQUFRO0FBQUEsUUFDcEI7QUFDQSxZQUFJLG1CQUFtQixhQUFhO0FBQ2hDLGtCQUFRLGNBQWM7QUFDdEIsa0JBQVEsWUFBWSxXQUFXO0FBQy9CLGtCQUFRLE9BQU87QUFBQSxRQUNuQjtBQUNBLGdCQUFRLFFBQVE7QUFBQSxNQUNwQjtBQUFBLE1BQ0EsU0FBUyxTQUFTO0FBQ2QsZ0JBQVEsVUFBVTtBQUNsQixZQUFJLFlBQVksS0FBSztBQUNyQixZQUFJLFVBQVUsVUFBVSxHQUFHO0FBQ3ZCLGNBQUksS0FBSyxVQUFVLENBQUMsRUFBRTtBQUN0QixrQkFBUSxPQUFPLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFBQSxRQUM3QjtBQUNBLGlCQUFTLElBQUksR0FBRyxJQUFJLFVBQVUsUUFBUSxLQUFLO0FBQ3ZDLGNBQUksS0FBSyxVQUFVLENBQUMsRUFBRTtBQUN0QixrQkFBUSxPQUFPLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFBQSxRQUM3QjtBQUNBLGdCQUFRLFFBQVEsYUFBYSxLQUFLLFNBQVMsQ0FBQztBQUM1QyxnQkFBUSxRQUFRLGVBQWUsS0FBSyxRQUFRO0FBQzVDLGdCQUFRLE9BQU87QUFBQSxNQUNuQjtBQUFBLE1BQ0EsZUFBZTtBQUNYLGVBQU8sS0FBSztBQUFBLE1BQ2hCO0FBQUEsTUFDQSxnQkFBZ0I7QUFDWixlQUFPLEtBQUssS0FBSywySEFBMkg7QUFDNUksZUFBTyxLQUFLO0FBQUEsTUFDaEI7QUFBQSxNQUNBLFFBQVFDLE9BQU07QUFDVixlQUFPLE9BQU8sS0FBSyxVQUFVLFFBQVEsS0FBSyxNQUFNQSxLQUFJO0FBQUEsTUFDeEQ7QUFBQSxNQUNBLGtCQUFrQjtBQUNkLGVBQU8sT0FBTyxLQUFLLFVBQVUsZ0JBQWdCLEtBQUssSUFBSTtBQUFBLE1BQzFEO0FBQUEsTUFDQSxhQUFhQSxPQUFNO0FBQ2YsWUFBSSxjQUFjLEtBQUs7QUFDdkIsWUFBSSxXQUFXLFlBQVksV0FBVyxJQUFJO0FBQzFDLGlCQUFTLEtBQUs7QUFDZCxpQkFBUyxPQUFPLEtBQUssZ0JBQWdCO0FBQ3JDLFlBQUksVUFBVSxTQUFTLFlBQVlBLEtBQUk7QUFDdkMsaUJBQVMsUUFBUTtBQUNqQixlQUFPO0FBQUEsVUFDSCxPQUFPLFFBQVE7QUFBQSxVQUNmLFFBQVEsU0FBUyxHQUFHLEtBQUssU0FBUyxLQUFLLEVBQUU7QUFBQSxRQUM3QztBQUFBLE1BQ0o7QUFBQSxNQUNBLGVBQWU7QUFDWCxjQUFNLEVBQUUsT0FBTyxPQUFPLElBQUksS0FBSyxhQUFhLEtBQUssTUFBTSxJQUFJO0FBQzNELGFBQUssWUFBWTtBQUNqQixhQUFLLGFBQWE7QUFDbEIsYUFBSyxZQUFZLENBQUM7QUFDbEIsWUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNO0FBQ2xCLGlCQUFPO0FBQUEsUUFDWDtBQUNBLGNBQU0sZ0JBQWdCLEtBQUssY0FBYztBQUN6QyxjQUFNLFFBQVEsS0FBSyxNQUFNO0FBQ3pCLGNBQU0sY0FBYyxLQUFLLFlBQVk7QUFDckMsY0FBTSxZQUFZLEtBQUssSUFBSSxLQUFLLGNBQWMsS0FBSyxNQUFNLFFBQVEsSUFBSSxTQUFTLEtBQUssZUFBZSxDQUFDO0FBQ25HLFlBQUksU0FBUztBQUNiLFlBQUksVUFBVSxVQUFVO0FBQ3BCLG1CQUFTLEtBQUssSUFBSSxHQUFHLEtBQUssYUFBYSxJQUFJLFlBQVksQ0FBQztBQUFBLFFBQzVEO0FBQ0EsWUFBSSxVQUFVLFNBQVM7QUFDbkIsbUJBQVMsS0FBSyxJQUFJLEdBQUcsS0FBSyxhQUFhLFNBQVM7QUFBQSxRQUNwRDtBQUNBLGNBQU0sV0FBVyxHQUFHLE9BQU8sZUFBZSxLQUFLLEtBQUssQ0FBQztBQUNyRCxZQUFJLGdCQUFnQjtBQUNwQixpQkFBUyxJQUFJLEdBQUcsSUFBSSxRQUFRLFFBQVEsS0FBSztBQUNyQyxnQkFBTSxpQkFBaUIsS0FBSyxrQkFBa0IsYUFBYTtBQUMzRCxjQUFJLENBQUM7QUFDRDtBQUNKLGNBQUksYUFBYSxLQUFLLGFBQWEsUUFBUSxDQUFDLENBQUMsRUFBRSxRQUFRO0FBQ3ZELGNBQUksUUFBUSxDQUFDLE1BQU0sT0FBTyxVQUFVLFdBQVc7QUFDM0Msa0JBQU0saUJBQWlCLEtBQUssS0FBSyxFQUFFLE1BQU0sR0FBRyxFQUFFLFNBQVM7QUFDdkQsMkJBQWUsS0FBSyxhQUFhLGFBQWE7QUFBQSxVQUNsRDtBQUNBLGdCQUFNLGVBQWUsS0FBSyxrQkFBa0IsZ0JBQWdCLFVBQVU7QUFDdEUsY0FBSSxDQUFDO0FBQ0Q7QUFDSixnQkFBTUMsU0FBUSxPQUFPLEtBQUssY0FBYyxlQUFlLEdBQUcsZUFBZSxHQUFHLGFBQWEsR0FBRyxhQUFhLENBQUM7QUFDMUcsY0FBSSxPQUFPO0FBQ1gsY0FBSSxhQUFhO0FBQ2IsZ0JBQUk7QUFDQSxxQkFBTyxZQUFZLFFBQVEsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsSUFBSSxLQUFLLFNBQVM7QUFBQSxZQUNuRSxTQUNPLEdBQVA7QUFDSSxxQkFBTztBQUFBLFlBQ1g7QUFBQSxVQUNKO0FBQ0EseUJBQWUsS0FBSztBQUNwQix1QkFBYSxLQUFLO0FBQ2xCLGVBQUssYUFBYTtBQUNsQixnQkFBTSxXQUFXLE9BQU8sS0FBSyxlQUFlLE9BQU9BLFNBQVEsR0FBSyxlQUFlLEdBQUcsZUFBZSxHQUFHLGFBQWEsR0FBRyxhQUFhLENBQUM7QUFDbEksZ0JBQU0sV0FBVyxLQUFLLE1BQU0sYUFBYSxJQUFJLGVBQWUsR0FBRyxhQUFhLElBQUksZUFBZSxDQUFDO0FBQ2hHLGVBQUssVUFBVSxLQUFLO0FBQUEsWUFDaEIsWUFBWSxTQUFTO0FBQUEsWUFDckIsWUFBWSxTQUFTO0FBQUEsWUFDckIsTUFBTSxRQUFRLENBQUM7QUFBQSxZQUNmO0FBQUEsWUFDQSxJQUFJO0FBQUEsWUFDSixJQUFJO0FBQUEsVUFDUixDQUFDO0FBQ0QsMkJBQWlCO0FBQUEsUUFDckI7QUFBQSxNQUNKO0FBQUEsTUFDQSxjQUFjO0FBQ1YsWUFBSSxDQUFDLEtBQUssVUFBVSxRQUFRO0FBQ3hCLGlCQUFPO0FBQUEsWUFDSCxHQUFHO0FBQUEsWUFDSCxHQUFHO0FBQUEsWUFDSCxPQUFPO0FBQUEsWUFDUCxRQUFRO0FBQUEsVUFDWjtBQUFBLFFBQ0o7QUFDQSxZQUFJLFNBQVMsQ0FBQztBQUNkLGFBQUssVUFBVSxRQUFRLFNBQVUsTUFBTTtBQUNuQyxpQkFBTyxLQUFLLEtBQUssR0FBRyxDQUFDO0FBQ3JCLGlCQUFPLEtBQUssS0FBSyxHQUFHLENBQUM7QUFDckIsaUJBQU8sS0FBSyxLQUFLLEdBQUcsQ0FBQztBQUNyQixpQkFBTyxLQUFLLEtBQUssR0FBRyxDQUFDO0FBQUEsUUFDekIsQ0FBQztBQUNELFlBQUksT0FBTyxPQUFPLENBQUMsS0FBSztBQUN4QixZQUFJLE9BQU8sT0FBTyxDQUFDLEtBQUs7QUFDeEIsWUFBSSxPQUFPLE9BQU8sQ0FBQyxLQUFLO0FBQ3hCLFlBQUksT0FBTyxPQUFPLENBQUMsS0FBSztBQUN4QixZQUFJLEdBQUc7QUFDUCxpQkFBUyxJQUFJLEdBQUcsSUFBSSxPQUFPLFNBQVMsR0FBRyxLQUFLO0FBQ3hDLGNBQUksT0FBTyxJQUFJLENBQUM7QUFDaEIsY0FBSSxPQUFPLElBQUksSUFBSSxDQUFDO0FBQ3BCLGlCQUFPLEtBQUssSUFBSSxNQUFNLENBQUM7QUFDdkIsaUJBQU8sS0FBSyxJQUFJLE1BQU0sQ0FBQztBQUN2QixpQkFBTyxLQUFLLElBQUksTUFBTSxDQUFDO0FBQ3ZCLGlCQUFPLEtBQUssSUFBSSxNQUFNLENBQUM7QUFBQSxRQUMzQjtBQUNBLFlBQUksV0FBVyxLQUFLLFNBQVM7QUFDN0IsZUFBTztBQUFBLFVBQ0gsR0FBRyxPQUFPLFdBQVc7QUFBQSxVQUNyQixHQUFHLE9BQU8sV0FBVztBQUFBLFVBQ3JCLE9BQU8sT0FBTyxPQUFPO0FBQUEsVUFDckIsUUFBUSxPQUFPLE9BQU87QUFBQSxRQUMxQjtBQUFBLE1BQ0o7QUFBQSxNQUNBLFVBQVU7QUFDTixlQUFPLEtBQUssY0FBYyxLQUFLLFdBQVc7QUFDMUMsZUFBTyxNQUFNLFFBQVE7QUFBQSxNQUN6QjtBQUFBLElBQ0o7QUFDQSxZQUFRLFdBQVc7QUFDbkIsYUFBUyxVQUFVLFlBQVk7QUFDL0IsYUFBUyxVQUFVLGNBQWM7QUFDakMsYUFBUyxVQUFVLGVBQWU7QUFDbEMsYUFBUyxVQUFVLGlCQUFpQjtBQUNwQyxhQUFTLFVBQVUsWUFBWTtBQUMvQixhQUFTLFVBQVUsc0JBQXNCLENBQUMsUUFBUSxZQUFZLE1BQU07QUFDcEUsS0FBQyxHQUFHLFNBQVMsZUFBZSxRQUFRO0FBQ3BDLGNBQVUsUUFBUSxnQkFBZ0IsVUFBVSxNQUFNO0FBQ2xELGNBQVUsUUFBUSxnQkFBZ0IsVUFBVSxjQUFjLE9BQU87QUFDakUsY0FBVSxRQUFRLGdCQUFnQixVQUFVLFlBQVksS0FBSyxHQUFHLGFBQWEsb0JBQW9CLENBQUM7QUFDbEcsY0FBVSxRQUFRLGdCQUFnQixVQUFVLGFBQWEsTUFBTTtBQUMvRCxjQUFVLFFBQVEsZ0JBQWdCLFVBQVUsU0FBUyxNQUFNO0FBQzNELGNBQVUsUUFBUSxnQkFBZ0IsVUFBVSxpQkFBaUIsSUFBSSxHQUFHLGFBQWEsb0JBQW9CLENBQUM7QUFDdEcsY0FBVSxRQUFRLGdCQUFnQixVQUFVLGdCQUFnQixRQUFRO0FBQ3BFLGNBQVUsUUFBUSxnQkFBZ0IsVUFBVSxlQUFlLE1BQU07QUFDakUsY0FBVSxRQUFRLGdCQUFnQixVQUFVLFFBQVEsWUFBWTtBQUNoRSxjQUFVLFFBQVEsZ0JBQWdCLFVBQVUsa0JBQWtCLElBQUk7QUFDbEUsY0FBVSxRQUFRLGdCQUFnQixVQUFVLGVBQWUsSUFBSTtBQUFBO0FBQUE7OztBQ2hQL0Q7QUFBQTtBQUFBO0FBQ0EsV0FBTyxlQUFlLFNBQVMsY0FBYyxFQUFFLE9BQU8sS0FBSyxDQUFDO0FBQzVELFlBQVEsY0FBYztBQUN0QixRQUFNLFNBQVM7QUFDZixRQUFNLFlBQVk7QUFDbEIsUUFBTSxTQUFTO0FBQ2YsUUFBTSxVQUFVO0FBQ2hCLFFBQU0sU0FBUztBQUNmLFFBQU0sVUFBVTtBQUNoQixRQUFNLFdBQVc7QUFDakIsUUFBTSxlQUFlO0FBQ3JCLFFBQU0sV0FBVztBQUNqQixRQUFJLGNBQWM7QUFDbEIsUUFBSSxtQkFBbUI7QUFBQSxNQUNuQjtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDSixFQUNLLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxhQUFhLEVBQ2hDLEtBQUssR0FBRztBQUNiLFFBQUksYUFBYTtBQUNqQixRQUFJLHVCQUF1QjtBQUFBLE1BQ3ZCO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0o7QUFDQSxRQUFJLFNBQVM7QUFBQSxNQUNULFlBQVk7QUFBQSxNQUNaLGNBQWM7QUFBQSxNQUNkLGFBQWE7QUFBQSxNQUNiLGdCQUFnQjtBQUFBLE1BQ2hCLGVBQWU7QUFBQSxNQUNmLGVBQWU7QUFBQSxNQUNmLGlCQUFpQjtBQUFBLE1BQ2pCLGdCQUFnQjtBQUFBLElBQ3BCO0FBQ0EsUUFBTSxlQUFlLGtCQUFrQixTQUFTLE1BQU07QUFDdEQsYUFBUyxVQUFVLFlBQVksS0FBSyxjQUFjO0FBQzlDLFVBQUksZUFBZSxXQUFXO0FBQzFCLGVBQU87QUFBQSxNQUNYO0FBQ0EsYUFBTyxPQUFPLEtBQUssU0FBUyxPQUFPLFVBQVUsS0FBSyxDQUFDO0FBQ25ELFVBQUksU0FBVSxPQUFPLEtBQUssU0FBUyxHQUFHLElBQUksTUFBTyxPQUFPO0FBQ3hELFVBQUksT0FBTyxLQUFLLFNBQVMsT0FBTyxNQUFNLE1BQU0sR0FBRyxLQUFLLE9BQU8sS0FBSyxTQUFTLE9BQU8sR0FBRyxJQUFJLEdBQUc7QUFDdEYsZUFBTztBQUFBLE1BQ1gsV0FDUyxPQUFPLEtBQUssU0FBUyxPQUFPLEtBQUssTUFBTSxLQUFLLElBQUksR0FBRztBQUN4RCxlQUFPO0FBQUEsTUFDWCxXQUNTLE9BQU8sS0FBSyxTQUFTLE9BQU8sS0FBSyxNQUFNLEtBQUssSUFBSSxHQUFHO0FBQ3hELGVBQU87QUFBQSxNQUNYLFdBQ1MsT0FBTyxLQUFLLFNBQVMsT0FBTyxNQUFNLE1BQU0sTUFBTSxJQUFJLEdBQUc7QUFDMUQsZUFBTztBQUFBLE1BQ1gsV0FDUyxPQUFPLEtBQUssU0FBUyxPQUFPLE1BQU0sTUFBTSxNQUFNLElBQUksR0FBRztBQUMxRCxlQUFPO0FBQUEsTUFDWCxXQUNTLE9BQU8sS0FBSyxTQUFTLE9BQU8sTUFBTSxNQUFNLE1BQU0sSUFBSSxHQUFHO0FBQzFELGVBQU87QUFBQSxNQUNYLFdBQ1MsT0FBTyxLQUFLLFNBQVMsT0FBTyxNQUFNLE1BQU0sTUFBTSxJQUFJLEdBQUc7QUFDMUQsZUFBTztBQUFBLE1BQ1gsV0FDUyxPQUFPLEtBQUssU0FBUyxPQUFPLE1BQU0sTUFBTSxNQUFNLElBQUksR0FBRztBQUMxRCxlQUFPO0FBQUEsTUFDWCxPQUNLO0FBQ0QsZUFBTyxLQUFLLE1BQU0seURBQXlELEtBQUs7QUFDaEYsZUFBTztBQUFBLE1BQ1g7QUFBQSxJQUNKO0FBQ0EsUUFBSSxnQkFBZ0I7QUFBQSxNQUNoQjtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNKO0FBQ0EsUUFBSSxtQkFBbUI7QUFDdkIsYUFBUyxVQUFVLE9BQU87QUFDdEIsYUFBTztBQUFBLFFBQ0gsR0FBRyxNQUFNLElBQ0osTUFBTSxRQUFRLElBQUssS0FBSyxJQUFJLE1BQU0sUUFBUSxJQUMxQyxNQUFNLFNBQVMsSUFBSyxLQUFLLElBQUksQ0FBQyxNQUFNLFFBQVE7QUFBQSxRQUNqRCxHQUFHLE1BQU0sSUFDSixNQUFNLFNBQVMsSUFBSyxLQUFLLElBQUksTUFBTSxRQUFRLElBQzNDLE1BQU0sUUFBUSxJQUFLLEtBQUssSUFBSSxNQUFNLFFBQVE7QUFBQSxNQUNuRDtBQUFBLElBQ0o7QUFDQSxhQUFTLGtCQUFrQixPQUFPLFVBQVUsT0FBTztBQUMvQyxZQUFNLElBQUksTUFBTSxLQUNYLE1BQU0sSUFBSSxNQUFNLEtBQUssS0FBSyxJQUFJLFFBQVEsS0FDdEMsTUFBTSxJQUFJLE1BQU0sS0FBSyxLQUFLLElBQUksUUFBUTtBQUMzQyxZQUFNLElBQUksTUFBTSxLQUNYLE1BQU0sSUFBSSxNQUFNLEtBQUssS0FBSyxJQUFJLFFBQVEsS0FDdEMsTUFBTSxJQUFJLE1BQU0sS0FBSyxLQUFLLElBQUksUUFBUTtBQUMzQyxhQUFPO0FBQUEsUUFDSCxHQUFHO0FBQUEsUUFDSCxVQUFVLE1BQU0sV0FBVztBQUFBLFFBQzNCO0FBQUEsUUFDQTtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQ0EsYUFBUyxtQkFBbUIsT0FBTyxVQUFVO0FBQ3pDLFlBQU0sU0FBUyxVQUFVLEtBQUs7QUFDOUIsYUFBTyxrQkFBa0IsT0FBTyxVQUFVLE1BQU07QUFBQSxJQUNwRDtBQUNBLGFBQVMsUUFBUSxPQUFPLGdCQUFnQixLQUFLO0FBQ3pDLFVBQUksVUFBVTtBQUNkLGVBQVMsSUFBSSxHQUFHLElBQUksTUFBTSxRQUFRLEtBQUs7QUFDbkMsY0FBTSxRQUFRLFNBQVMsTUFBTSxTQUFTLE1BQU0sQ0FBQyxDQUFDO0FBQzlDLGNBQU0sVUFBVSxLQUFLLElBQUksUUFBUSxjQUFjLEtBQUssS0FBSyxLQUFLO0FBQzlELGNBQU0sTUFBTSxLQUFLLElBQUksU0FBUyxLQUFLLEtBQUssSUFBSSxPQUFPO0FBQ25ELFlBQUksTUFBTSxLQUFLO0FBQ1gsb0JBQVU7QUFBQSxRQUNkO0FBQUEsTUFDSjtBQUNBLGFBQU87QUFBQSxJQUNYO0FBQ0EsUUFBTSxjQUFOLGNBQTBCLFFBQVEsTUFBTTtBQUFBLE1BQ3BDLFlBQVksUUFBUTtBQUNoQixjQUFNLE1BQU07QUFDWixhQUFLLG9CQUFvQjtBQUN6QixhQUFLLGdCQUFnQjtBQUNyQixhQUFLLGdCQUFnQjtBQUNyQixhQUFLLG1CQUFtQixLQUFLLGlCQUFpQixLQUFLLElBQUk7QUFDdkQsYUFBSyxpQkFBaUIsS0FBSyxlQUFlLEtBQUssSUFBSTtBQUNuRCxhQUFLLFNBQVMsS0FBSyxPQUFPLEtBQUssSUFBSTtBQUNuQyxhQUFLLEdBQUcsa0JBQWtCLEtBQUssTUFBTTtBQUNyQyxZQUFJLEtBQUssUUFBUSxHQUFHO0FBQ2hCLGVBQUssT0FBTztBQUFBLFFBQ2hCO0FBQUEsTUFDSjtBQUFBLE1BQ0EsU0FBUyxNQUFNO0FBQ1gsYUFBSyxRQUFRLElBQUk7QUFDakIsZUFBTztBQUFBLE1BQ1g7QUFBQSxNQUNBLFFBQVEsTUFBTTtBQUNWLGVBQU8sS0FBSyxLQUFLLDJIQUEySDtBQUM1SSxlQUFPLEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQztBQUFBLE1BQy9CO0FBQUEsTUFDQSxVQUFVO0FBQ04sZUFBTyxLQUFLLFVBQVUsS0FBSyxPQUFPLENBQUM7QUFBQSxNQUN2QztBQUFBLE1BQ0EscUJBQXFCO0FBQ2pCLGVBQU8sY0FBYyxLQUFLO0FBQUEsTUFDOUI7QUFBQSxNQUNBLFNBQVMsUUFBUSxDQUFDLEdBQUc7QUFDakIsWUFBSSxLQUFLLFVBQVUsS0FBSyxPQUFPLFFBQVE7QUFDbkMsZUFBSyxPQUFPO0FBQUEsUUFDaEI7QUFDQSxjQUFNLGdCQUFnQixNQUFNLE9BQU8sQ0FBQyxTQUFTO0FBQ3pDLGNBQUksS0FBSyxhQUFhLElBQUksR0FBRztBQUN6QixtQkFBTyxLQUFLLE1BQU0sNkVBQTZFO0FBQy9GLG1CQUFPO0FBQUEsVUFDWDtBQUNBLGlCQUFPO0FBQUEsUUFDWCxDQUFDO0FBQ0QsYUFBSyxTQUFTLFFBQVE7QUFDdEIsWUFBSSxNQUFNLFdBQVcsS0FBSyxLQUFLLHNCQUFzQixHQUFHO0FBQ3BELGVBQUssU0FBUyxNQUFNLENBQUMsRUFBRSxvQkFBb0IsQ0FBQztBQUFBLFFBQ2hELE9BQ0s7QUFDRCxlQUFLLFNBQVMsQ0FBQztBQUFBLFFBQ25CO0FBQ0EsYUFBSyxPQUFPLFFBQVEsQ0FBQyxTQUFTO0FBQzFCLGdCQUFNLFdBQVcsTUFBTTtBQUNuQixnQkFBSSxLQUFLLE1BQU0sRUFBRSxXQUFXLEtBQUssS0FBSyxzQkFBc0IsR0FBRztBQUMzRCxtQkFBSyxTQUFTLEtBQUssTUFBTSxFQUFFLENBQUMsRUFBRSxvQkFBb0IsQ0FBQztBQUFBLFlBQ3ZEO0FBQ0EsaUJBQUsscUJBQXFCO0FBQzFCLGdCQUFJLENBQUMsS0FBSyxpQkFBaUIsQ0FBQyxLQUFLLFdBQVcsR0FBRztBQUMzQyxtQkFBSyxPQUFPO0FBQUEsWUFDaEI7QUFBQSxVQUNKO0FBQ0EsZ0JBQU0sbUJBQW1CLEtBQUssb0JBQ3pCLElBQUksQ0FBQyxTQUFTLE9BQU8sWUFBWSxLQUFLLG1CQUFtQixDQUFDLEVBQzFELEtBQUssR0FBRztBQUNiLGVBQUssR0FBRyxrQkFBa0IsUUFBUTtBQUNsQyxlQUFLLEdBQUcscUJBQXFCLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxLQUFLLG1CQUFtQixHQUFHLEVBQUUsS0FBSyxHQUFHLEdBQUcsUUFBUTtBQUNoRyxlQUFLLEdBQUcsMkJBQTJCLEtBQUssbUJBQW1CLEtBQUssUUFBUTtBQUN4RSxlQUFLLFdBQVcsSUFBSTtBQUFBLFFBQ3hCLENBQUM7QUFDRCxhQUFLLHFCQUFxQjtBQUMxQixZQUFJLGtCQUFrQixDQUFDLENBQUMsS0FBSyxRQUFRLFdBQVc7QUFDaEQsWUFBSSxpQkFBaUI7QUFDakIsZUFBSyxPQUFPO0FBQUEsUUFDaEI7QUFDQSxlQUFPO0FBQUEsTUFDWDtBQUFBLE1BQ0EsV0FBVyxNQUFNO0FBQ2IsWUFBSTtBQUNKLGFBQUssR0FBRyxhQUFhLEtBQUssbUJBQW1CLEtBQUssQ0FBQyxNQUFNO0FBQ3JELG9CQUFVLEtBQUssb0JBQW9CO0FBQ25DLGNBQUksQ0FBQyxLQUFLLFdBQVcsS0FBSyxTQUFTLEtBQUssUUFBUSxPQUFPLEdBQUc7QUFDdEQsaUJBQUssVUFBVSxHQUFHLEtBQUs7QUFBQSxVQUMzQjtBQUFBLFFBQ0osQ0FBQztBQUNELGFBQUssR0FBRyxZQUFZLEtBQUssbUJBQW1CLEtBQUssQ0FBQyxNQUFNO0FBQ3BELGNBQUksQ0FBQyxTQUFTO0FBQ1Y7QUFBQSxVQUNKO0FBQ0EsZ0JBQU0sTUFBTSxLQUFLLG9CQUFvQjtBQUNyQyxnQkFBTSxLQUFLLElBQUksSUFBSSxRQUFRO0FBQzNCLGdCQUFNLEtBQUssSUFBSSxJQUFJLFFBQVE7QUFDM0IsZUFBSyxNQUFNLEVBQUUsUUFBUSxDQUFDLGNBQWM7QUFDaEMsZ0JBQUksY0FBYyxNQUFNO0FBQ3BCO0FBQUEsWUFDSjtBQUNBLGdCQUFJLFVBQVUsV0FBVyxHQUFHO0FBQ3hCO0FBQUEsWUFDSjtBQUNBLGtCQUFNLFdBQVcsVUFBVSxvQkFBb0I7QUFDL0Msc0JBQVUsb0JBQW9CO0FBQUEsY0FDMUIsR0FBRyxTQUFTLElBQUk7QUFBQSxjQUNoQixHQUFHLFNBQVMsSUFBSTtBQUFBLFlBQ3BCLENBQUM7QUFDRCxzQkFBVSxVQUFVLENBQUM7QUFBQSxVQUN6QixDQUFDO0FBQ0Qsb0JBQVU7QUFBQSxRQUNkLENBQUM7QUFBQSxNQUNMO0FBQUEsTUFDQSxXQUFXO0FBQ1AsZUFBTyxLQUFLLFVBQVUsQ0FBQztBQUFBLE1BQzNCO0FBQUEsTUFDQSxrQkFBa0I7QUFDZCxlQUFPLEtBQUs7QUFBQSxNQUNoQjtBQUFBLE1BQ0EsU0FBUztBQUNMLFlBQUksS0FBSyxRQUFRO0FBQ2IsZUFBSyxPQUFPLFFBQVEsQ0FBQyxTQUFTO0FBQzFCLGlCQUFLLElBQUksTUFBTSxLQUFLLG1CQUFtQixDQUFDO0FBQUEsVUFDNUMsQ0FBQztBQUFBLFFBQ0w7QUFDQSxhQUFLLFNBQVMsQ0FBQztBQUNmLGFBQUsscUJBQXFCO0FBQUEsTUFDOUI7QUFBQSxNQUNBLHVCQUF1QjtBQUNuQixhQUFLLFlBQVksVUFBVTtBQUMzQixhQUFLLFlBQVksV0FBVztBQUM1QixhQUFLLDZCQUE2QixtQkFBbUI7QUFBQSxNQUN6RDtBQUFBLE1BQ0EsZUFBZTtBQUNYLGVBQU8sS0FBSyxVQUFVLFlBQVksS0FBSyxhQUFhO0FBQUEsTUFDeEQ7QUFBQSxNQUNBLGVBQWUsTUFBTSxNQUFNLEtBQUssU0FBUyxHQUFHLFVBQVU7QUFDbEQsWUFBSSxPQUFPLEtBQUssY0FBYztBQUFBLFVBQzFCLGVBQWU7QUFBQSxVQUNmLFlBQVk7QUFBQSxVQUNaLFlBQVksS0FBSyxhQUFhO0FBQUEsUUFDbEMsQ0FBQztBQUNELFlBQUksV0FBVyxLQUFLLGlCQUFpQixRQUFRO0FBQzdDLFlBQUksU0FBUyxLQUFLLG9CQUFvQixRQUFRO0FBQzlDLFlBQUksS0FBSyxLQUFLLElBQUksU0FBUyxJQUFJLEtBQUssUUFBUSxJQUFJLFNBQVM7QUFDekQsWUFBSSxLQUFLLEtBQUssSUFBSSxTQUFTLElBQUksS0FBSyxRQUFRLElBQUksU0FBUztBQUN6RCxjQUFNLFlBQVksU0FBUyxNQUFNLFNBQVMsS0FBSyxvQkFBb0IsQ0FBQyxJQUFJLEtBQUssS0FBSyxNQUM3RSxLQUFLLEtBQUs7QUFDZixjQUFNLE1BQU07QUFBQSxVQUNSLEdBQUcsT0FBTyxJQUFJLEtBQUssS0FBSyxJQUFJLFFBQVEsSUFBSSxLQUFLLEtBQUssSUFBSSxDQUFDLFFBQVE7QUFBQSxVQUMvRCxHQUFHLE9BQU8sSUFBSSxLQUFLLEtBQUssSUFBSSxRQUFRLElBQUksS0FBSyxLQUFLLElBQUksUUFBUTtBQUFBLFVBQzlELE9BQU8sS0FBSyxRQUFRLFNBQVM7QUFBQSxVQUM3QixRQUFRLEtBQUssU0FBUyxTQUFTO0FBQUEsVUFDL0I7QUFBQSxRQUNKO0FBQ0EsZUFBTyxrQkFBa0IsS0FBSyxDQUFDLFNBQVMsTUFBTSxTQUFTLEdBQUcsR0FBRztBQUFBLFVBQ3pELEdBQUc7QUFBQSxVQUNILEdBQUc7QUFBQSxRQUNQLENBQUM7QUFBQSxNQUNMO0FBQUEsTUFDQSxnQkFBZ0I7QUFDWixZQUFJLE9BQU8sS0FBSyxRQUFRO0FBQ3hCLFlBQUksQ0FBQyxNQUFNO0FBQ1AsaUJBQU87QUFBQSxZQUNILEdBQUcsQ0FBQztBQUFBLFlBQ0osR0FBRyxDQUFDO0FBQUEsWUFDSixPQUFPO0FBQUEsWUFDUCxRQUFRO0FBQUEsWUFDUixVQUFVO0FBQUEsVUFDZDtBQUFBLFFBQ0o7QUFDQSxjQUFNLGNBQWMsQ0FBQztBQUNyQixhQUFLLE1BQU0sRUFBRSxJQUFJLENBQUNDLFVBQVM7QUFDdkIsZ0JBQU0sTUFBTUEsTUFBSyxjQUFjO0FBQUEsWUFDM0IsZUFBZTtBQUFBLFlBQ2YsWUFBWTtBQUFBLFlBQ1osWUFBWSxLQUFLLGFBQWE7QUFBQSxVQUNsQyxDQUFDO0FBQ0QsY0FBSSxTQUFTO0FBQUEsWUFDVCxFQUFFLEdBQUcsSUFBSSxHQUFHLEdBQUcsSUFBSSxFQUFFO0FBQUEsWUFDckIsRUFBRSxHQUFHLElBQUksSUFBSSxJQUFJLE9BQU8sR0FBRyxJQUFJLEVBQUU7QUFBQSxZQUNqQyxFQUFFLEdBQUcsSUFBSSxJQUFJLElBQUksT0FBTyxHQUFHLElBQUksSUFBSSxJQUFJLE9BQU87QUFBQSxZQUM5QyxFQUFFLEdBQUcsSUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLElBQUksT0FBTztBQUFBLFVBQ3RDO0FBQ0EsY0FBSSxRQUFRQSxNQUFLLHFCQUFxQjtBQUN0QyxpQkFBTyxRQUFRLFNBQVUsT0FBTztBQUM1QixnQkFBSSxjQUFjLE1BQU0sTUFBTSxLQUFLO0FBQ25DLHdCQUFZLEtBQUssV0FBVztBQUFBLFVBQ2hDLENBQUM7QUFBQSxRQUNMLENBQUM7QUFDRCxjQUFNLEtBQUssSUFBSSxPQUFPLFVBQVU7QUFDaEMsV0FBRyxPQUFPLENBQUMsU0FBUyxNQUFNLFNBQVMsS0FBSyxTQUFTLENBQUMsQ0FBQztBQUNuRCxZQUFJLE9BQU8sVUFBVSxPQUFPLFVBQVUsT0FBTyxXQUFXLE9BQU87QUFDL0Qsb0JBQVksUUFBUSxTQUFVLE9BQU87QUFDakMsY0FBSSxjQUFjLEdBQUcsTUFBTSxLQUFLO0FBQ2hDLGNBQUksU0FBUyxRQUFXO0FBQ3BCLG1CQUFPLE9BQU8sWUFBWTtBQUMxQixtQkFBTyxPQUFPLFlBQVk7QUFBQSxVQUM5QjtBQUNBLGlCQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQUNuQyxpQkFBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFDbkMsaUJBQU8sS0FBSyxJQUFJLE1BQU0sWUFBWSxDQUFDO0FBQ25DLGlCQUFPLEtBQUssSUFBSSxNQUFNLFlBQVksQ0FBQztBQUFBLFFBQ3ZDLENBQUM7QUFDRCxXQUFHLE9BQU87QUFDVixjQUFNLElBQUksR0FBRyxNQUFNLEVBQUUsR0FBRyxNQUFNLEdBQUcsS0FBSyxDQUFDO0FBQ3ZDLGVBQU87QUFBQSxVQUNILEdBQUcsRUFBRTtBQUFBLFVBQ0wsR0FBRyxFQUFFO0FBQUEsVUFDTCxPQUFPLE9BQU87QUFBQSxVQUNkLFFBQVEsT0FBTztBQUFBLFVBQ2YsVUFBVSxTQUFTLE1BQU0sU0FBUyxLQUFLLFNBQVMsQ0FBQztBQUFBLFFBQ3JEO0FBQUEsTUFDSjtBQUFBLE1BQ0EsT0FBTztBQUNILGVBQU8sS0FBSyxhQUFhLEVBQUU7QUFBQSxNQUMvQjtBQUFBLE1BQ0EsT0FBTztBQUNILGVBQU8sS0FBSyxhQUFhLEVBQUU7QUFBQSxNQUMvQjtBQUFBLE1BQ0EsV0FBVztBQUNQLGVBQU8sS0FBSyxhQUFhLEVBQUU7QUFBQSxNQUMvQjtBQUFBLE1BQ0EsWUFBWTtBQUNSLGVBQU8sS0FBSyxhQUFhLEVBQUU7QUFBQSxNQUMvQjtBQUFBLE1BQ0Esa0JBQWtCO0FBQ2QsYUFBSyxZQUFZO0FBQ2pCLHNCQUFjLFFBQVEsQ0FBQyxTQUFTO0FBQzVCLGVBQUssY0FBYyxJQUFJO0FBQUEsUUFDM0IsQ0FBQztBQUNELGFBQUssY0FBYyxTQUFTO0FBQUEsTUFDaEM7QUFBQSxNQUNBLGNBQWMsTUFBTTtBQUNoQixZQUFJLFNBQVMsSUFBSSxPQUFPLEtBQUs7QUFBQSxVQUN6QixRQUFRO0FBQUEsVUFDUixNQUFNO0FBQUEsVUFDTixhQUFhO0FBQUEsVUFDYixNQUFNLE9BQU87QUFBQSxVQUNiLGNBQWM7QUFBQSxVQUNkLFdBQVc7QUFBQSxVQUNYLGdCQUFnQixlQUFlLEtBQUs7QUFBQSxRQUN4QyxDQUFDO0FBQ0QsWUFBSUMsUUFBTztBQUNYLGVBQU8sR0FBRyx3QkFBd0IsU0FBVSxHQUFHO0FBQzNDLFVBQUFBLE1BQUssaUJBQWlCLENBQUM7QUFBQSxRQUMzQixDQUFDO0FBQ0QsZUFBTyxHQUFHLGFBQWEsQ0FBQyxNQUFNO0FBQzFCLGlCQUFPLFNBQVM7QUFDaEIsWUFBRSxlQUFlO0FBQUEsUUFDckIsQ0FBQztBQUNELGVBQU8sR0FBRyxXQUFXLENBQUMsTUFBTTtBQUN4QixZQUFFLGVBQWU7QUFBQSxRQUNyQixDQUFDO0FBQ0QsZUFBTyxHQUFHLGNBQWMsTUFBTTtBQUMxQixjQUFJLE1BQU0sU0FBUyxNQUFNLFNBQVMsS0FBSyxTQUFTLENBQUM7QUFDakQsY0FBSSxlQUFlLEtBQUssbUJBQW1CO0FBQzNDLGNBQUksU0FBUyxVQUFVLE1BQU0sS0FBSyxZQUFZO0FBQzlDLGlCQUFPLFNBQVMsRUFBRSxZQUNiLE9BQU8sU0FBUyxFQUFFLFFBQVEsTUFBTSxTQUFTO0FBQzlDLGVBQUssZ0JBQWdCO0FBQUEsUUFDekIsQ0FBQztBQUNELGVBQU8sR0FBRyxZQUFZLE1BQU07QUFDeEIsaUJBQU8sU0FBUyxFQUFFLFlBQ2IsT0FBTyxTQUFTLEVBQUUsUUFBUSxNQUFNLFNBQVM7QUFDOUMsZUFBSyxnQkFBZ0I7QUFBQSxRQUN6QixDQUFDO0FBQ0QsYUFBSyxJQUFJLE1BQU07QUFBQSxNQUNuQjtBQUFBLE1BQ0EsY0FBYztBQUNWLFlBQUksT0FBTyxJQUFJLFFBQVEsTUFBTTtBQUFBLFVBQ3pCLE1BQU07QUFBQSxVQUNOLE9BQU87QUFBQSxVQUNQLFFBQVE7QUFBQSxVQUNSLFdBQVc7QUFBQSxVQUNYLFVBQVUsS0FBSyxPQUFPO0FBQ2xCLGdCQUFJLEtBQUssTUFBTSxVQUFVO0FBQ3pCLGdCQUFJLFVBQVUsR0FBRyxRQUFRO0FBQ3pCLGdCQUFJLFVBQVU7QUFDZCxnQkFBSSxLQUFLLENBQUMsU0FBUyxDQUFDLFNBQVMsTUFBTSxNQUFNLElBQUksVUFBVSxHQUFHLE1BQU0sT0FBTyxJQUFJLFVBQVUsQ0FBQztBQUN0RixnQkFBSSxPQUFPLE1BQU0sTUFBTSxJQUFJLEdBQUcsQ0FBQyxPQUFPO0FBQ3RDLGdCQUFJLEdBQUcsY0FBYyxHQUFHO0FBQ3BCLGtCQUFJLE9BQU8sTUFBTSxNQUFNLElBQUksR0FBRyxDQUFDLEdBQUcsbUJBQW1CLElBQUksT0FBTyxLQUFLLE1BQU0sTUFBTSxPQUFPLENBQUMsSUFBSSxPQUFPO0FBQUEsWUFDeEc7QUFDQSxnQkFBSSxnQkFBZ0IsS0FBSztBQUFBLFVBQzdCO0FBQUEsVUFDQSxTQUFTLENBQUMsS0FBSyxVQUFVO0FBQ3JCLGdCQUFJLENBQUMsS0FBSyx3QkFBd0IsR0FBRztBQUNqQztBQUFBLFlBQ0o7QUFDQSxnQkFBSSxVQUFVLEtBQUssUUFBUTtBQUMzQixnQkFBSSxVQUFVO0FBQ2QsZ0JBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxTQUFTLE1BQU0sTUFBTSxJQUFJLFVBQVUsR0FBRyxNQUFNLE9BQU8sSUFBSSxVQUFVLENBQUM7QUFDdEYsZ0JBQUksZ0JBQWdCLEtBQUs7QUFBQSxVQUM3QjtBQUFBLFFBQ0osQ0FBQztBQUNELGFBQUssSUFBSSxJQUFJO0FBQ2IsYUFBSyxXQUFXLElBQUk7QUFDcEIsYUFBSyxHQUFHLGFBQWEsQ0FBQyxNQUFNO0FBQ3hCLFlBQUUsZUFBZTtBQUFBLFFBQ3JCLENBQUM7QUFDRCxhQUFLLEdBQUcsWUFBWSxDQUFDLE1BQU07QUFDdkIsWUFBRSxlQUFlO0FBQUEsUUFDckIsQ0FBQztBQUNELGFBQUssR0FBRyxXQUFXLENBQUMsTUFBTTtBQUN0QixZQUFFLGVBQWU7QUFBQSxRQUNyQixDQUFDO0FBQ0QsYUFBSyxHQUFHLFlBQVksQ0FBQyxNQUFNO0FBQ3ZCLGVBQUssT0FBTztBQUFBLFFBQ2hCLENBQUM7QUFBQSxNQUNMO0FBQUEsTUFDQSxpQkFBaUIsR0FBRztBQUNoQixhQUFLLG9CQUFvQixFQUFFLE9BQU8sS0FBSyxFQUFFLE1BQU0sR0FBRyxFQUFFLENBQUM7QUFDckQsWUFBSSxRQUFRLEtBQUssYUFBYTtBQUM5QixZQUFJLFFBQVEsTUFBTTtBQUNsQixZQUFJLFNBQVMsTUFBTTtBQUNuQixZQUFJLGFBQWEsS0FBSyxLQUFLLEtBQUssSUFBSSxPQUFPLENBQUMsSUFBSSxLQUFLLElBQUksUUFBUSxDQUFDLENBQUM7QUFDbkUsYUFBSyxNQUFNLEtBQUssSUFBSSxTQUFTLFVBQVU7QUFDdkMsYUFBSyxNQUFNLEtBQUssSUFBSSxRQUFRLFVBQVU7QUFDdEMsWUFBSSxPQUFPLFdBQVcsYUFBYTtBQUMvQixpQkFBTyxpQkFBaUIsYUFBYSxLQUFLLGdCQUFnQjtBQUMxRCxpQkFBTyxpQkFBaUIsYUFBYSxLQUFLLGdCQUFnQjtBQUMxRCxpQkFBTyxpQkFBaUIsV0FBVyxLQUFLLGdCQUFnQixJQUFJO0FBQzVELGlCQUFPLGlCQUFpQixZQUFZLEtBQUssZ0JBQWdCLElBQUk7QUFBQSxRQUNqRTtBQUNBLGFBQUssZ0JBQWdCO0FBQ3JCLFlBQUksS0FBSyxFQUFFLE9BQU8sb0JBQW9CO0FBQ3RDLFlBQUksTUFBTSxFQUFFLE9BQU8sU0FBUyxFQUFFLG1CQUFtQjtBQUNqRCxhQUFLLG9CQUFvQjtBQUFBLFVBQ3JCLEdBQUcsSUFBSSxJQUFJLEdBQUc7QUFBQSxVQUNkLEdBQUcsSUFBSSxJQUFJLEdBQUc7QUFBQSxRQUNsQjtBQUNBLGFBQUssTUFBTSxrQkFBa0IsRUFBRSxLQUFLLEVBQUUsS0FBSyxRQUFRLEtBQUssUUFBUSxFQUFFLENBQUM7QUFDbkUsYUFBSyxPQUFPLFFBQVEsQ0FBQyxXQUFXO0FBQzVCLGlCQUFPLE1BQU0sa0JBQWtCLEVBQUUsS0FBSyxFQUFFLEtBQUssT0FBTyxDQUFDO0FBQUEsUUFDekQsQ0FBQztBQUFBLE1BQ0w7QUFBQSxNQUNBLGlCQUFpQixHQUFHO0FBQ2hCLFlBQUksR0FBRyxHQUFHO0FBQ1YsWUFBSSxhQUFhLEtBQUssUUFBUSxNQUFNLEtBQUssaUJBQWlCO0FBQzFELFlBQUksUUFBUSxXQUFXLFNBQVM7QUFDaEMsY0FBTSxxQkFBcUIsQ0FBQztBQUM1QixjQUFNLEtBQUssTUFBTSxtQkFBbUI7QUFDcEMsWUFBSSxhQUFhO0FBQUEsVUFDYixHQUFHLEdBQUcsSUFBSSxLQUFLLGtCQUFrQjtBQUFBLFVBQ2pDLEdBQUcsR0FBRyxJQUFJLEtBQUssa0JBQWtCO0FBQUEsUUFDckM7QUFDQSxjQUFNLFNBQVMsV0FBVyxvQkFBb0I7QUFDOUMsWUFBSSxLQUFLLG9CQUFvQixHQUFHO0FBQzVCLHVCQUFhLEtBQUssb0JBQW9CLEVBQUUsUUFBUSxZQUFZLENBQUM7QUFBQSxRQUNqRTtBQUNBLG1CQUFXLG9CQUFvQixVQUFVO0FBQ3pDLGNBQU0sU0FBUyxXQUFXLG9CQUFvQjtBQUM5QyxZQUFJLE9BQU8sTUFBTSxPQUFPLEtBQUssT0FBTyxNQUFNLE9BQU8sR0FBRztBQUNoRDtBQUFBLFFBQ0o7QUFDQSxZQUFJLEtBQUssc0JBQXNCLFdBQVc7QUFDdEMsY0FBSSxRQUFRLEtBQUssYUFBYTtBQUM5QixjQUFJLFdBQVcsRUFBRSxJQUFJLE1BQU0sUUFBUTtBQUNuQyxjQUFJLENBQUMsV0FBVyxFQUFFLElBQUksTUFBTSxTQUFTO0FBQ3JDLGNBQUksUUFBUSxLQUFLLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxLQUFLLEtBQUs7QUFDMUMsY0FBSSxNQUFNLFNBQVMsR0FBRztBQUNsQixxQkFBUyxLQUFLO0FBQUEsVUFDbEI7QUFDQSxjQUFJLGNBQWMsU0FBUyxNQUFNLFNBQVMsS0FBSyxTQUFTLENBQUM7QUFDekQsZ0JBQU0sY0FBYyxjQUFjO0FBQ2xDLGdCQUFNLE1BQU0sU0FBUyxNQUFNLFNBQVMsS0FBSyxzQkFBc0IsQ0FBQztBQUNoRSxnQkFBTSxhQUFhLFFBQVEsS0FBSyxjQUFjLEdBQUcsYUFBYSxHQUFHO0FBQ2pFLGdCQUFNLE9BQU8sYUFBYSxNQUFNO0FBQ2hDLGdCQUFNLFFBQVEsbUJBQW1CLE9BQU8sSUFBSTtBQUM1QyxlQUFLLGNBQWMsT0FBTyxDQUFDO0FBQzNCO0FBQUEsUUFDSjtBQUNBLFlBQUksZ0JBQWdCLEtBQUssY0FBYztBQUN2QyxZQUFJO0FBQ0osWUFBSSxrQkFBa0IsWUFBWTtBQUM5QiwyQkFBaUIsS0FBSyxVQUFVLEtBQUssQ0FBQyxFQUFFO0FBQUEsUUFDNUMsV0FDUyxrQkFBa0IsUUFBUTtBQUMvQiwyQkFBaUIsS0FBSyxVQUFVO0FBQUEsUUFDcEMsT0FDSztBQUNELDJCQUFpQixLQUFLLFVBQVUsS0FBSyxFQUFFO0FBQUEsUUFDM0M7QUFDQSxZQUFJLGtCQUFrQixLQUFLLGdCQUFnQixLQUFLLEVBQUU7QUFDbEQsWUFBSSxLQUFLLHNCQUFzQixZQUFZO0FBQ3ZDLGNBQUksZ0JBQWdCO0FBQ2hCLGdCQUFJLGVBQWUsa0JBQ2I7QUFBQSxjQUNFLEdBQUcsS0FBSyxNQUFNLElBQUk7QUFBQSxjQUNsQixHQUFHLEtBQUssT0FBTyxJQUFJO0FBQUEsWUFDdkIsSUFDRTtBQUFBLGNBQ0UsR0FBRyxLQUFLLFFBQVEsZUFBZSxFQUFFLEVBQUU7QUFBQSxjQUNuQyxHQUFHLEtBQUssUUFBUSxlQUFlLEVBQUUsRUFBRTtBQUFBLFlBQ3ZDO0FBQ0osNEJBQWdCLEtBQUssS0FBSyxLQUFLLElBQUksYUFBYSxJQUFJLFdBQVcsRUFBRSxHQUFHLENBQUMsSUFDakUsS0FBSyxJQUFJLGFBQWEsSUFBSSxXQUFXLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDaEQsZ0JBQUksV0FBVyxLQUFLLFFBQVEsV0FBVyxFQUFFLEVBQUUsSUFBSSxhQUFhLElBQUksS0FBSztBQUNyRSxnQkFBSSxXQUFXLEtBQUssUUFBUSxXQUFXLEVBQUUsRUFBRSxJQUFJLGFBQWEsSUFBSSxLQUFLO0FBQ3JFLGdCQUFJLGdCQUFnQixLQUFLLE1BQU07QUFDL0IsZ0JBQUksZ0JBQWdCLEtBQUssTUFBTTtBQUMvQixpQkFBSyxRQUFRLFdBQVcsRUFBRSxFQUFFLGFBQWEsSUFBSSxDQUFDO0FBQzlDLGlCQUFLLFFBQVEsV0FBVyxFQUFFLEVBQUUsYUFBYSxJQUFJLENBQUM7QUFBQSxVQUNsRDtBQUFBLFFBQ0osV0FDUyxLQUFLLHNCQUFzQixjQUFjO0FBQzlDLGVBQUssUUFBUSxXQUFXLEVBQUUsRUFBRSxXQUFXLEVBQUUsQ0FBQztBQUFBLFFBQzlDLFdBQ1MsS0FBSyxzQkFBc0IsYUFBYTtBQUM3QyxjQUFJLGdCQUFnQjtBQUNoQixnQkFBSSxlQUFlLGtCQUNiO0FBQUEsY0FDRSxHQUFHLEtBQUssTUFBTSxJQUFJO0FBQUEsY0FDbEIsR0FBRyxLQUFLLE9BQU8sSUFBSTtBQUFBLFlBQ3ZCLElBQ0U7QUFBQSxjQUNFLEdBQUcsS0FBSyxRQUFRLGNBQWMsRUFBRSxFQUFFO0FBQUEsY0FDbEMsR0FBRyxLQUFLLFFBQVEsY0FBYyxFQUFFLEVBQUU7QUFBQSxZQUN0QztBQUNKLDRCQUFnQixLQUFLLEtBQUssS0FBSyxJQUFJLFdBQVcsRUFBRSxJQUFJLGFBQWEsR0FBRyxDQUFDLElBQ2pFLEtBQUssSUFBSSxhQUFhLElBQUksV0FBVyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ2hELGdCQUFJLFdBQVcsS0FBSyxRQUFRLFlBQVksRUFBRSxFQUFFLElBQUksYUFBYSxJQUFJLEtBQUs7QUFDdEUsZ0JBQUksV0FBVyxLQUFLLFFBQVEsWUFBWSxFQUFFLEVBQUUsSUFBSSxhQUFhLElBQUksS0FBSztBQUN0RSxnQkFBSSxnQkFBZ0IsS0FBSyxNQUFNO0FBQy9CLGdCQUFJLGdCQUFnQixLQUFLLE1BQU07QUFDL0IsaUJBQUssUUFBUSxZQUFZLEVBQUUsRUFBRSxhQUFhLElBQUksQ0FBQztBQUMvQyxpQkFBSyxRQUFRLFlBQVksRUFBRSxFQUFFLGFBQWEsSUFBSSxDQUFDO0FBQUEsVUFDbkQ7QUFDQSxjQUFJLE1BQU0sV0FBVyxTQUFTO0FBQzlCLGVBQUssUUFBUSxXQUFXLEVBQUUsRUFBRSxJQUFJLENBQUM7QUFDakMsZUFBSyxRQUFRLGVBQWUsRUFBRSxFQUFFLElBQUksQ0FBQztBQUFBLFFBQ3pDLFdBQ1MsS0FBSyxzQkFBc0IsZUFBZTtBQUMvQyxlQUFLLFFBQVEsV0FBVyxFQUFFLEVBQUUsV0FBVyxFQUFFLENBQUM7QUFBQSxRQUM5QyxXQUNTLEtBQUssc0JBQXNCLGdCQUFnQjtBQUNoRCxlQUFLLFFBQVEsZUFBZSxFQUFFLEVBQUUsV0FBVyxFQUFFLENBQUM7QUFBQSxRQUNsRCxXQUNTLEtBQUssc0JBQXNCLGVBQWU7QUFDL0MsY0FBSSxnQkFBZ0I7QUFDaEIsZ0JBQUksZUFBZSxrQkFDYjtBQUFBLGNBQ0UsR0FBRyxLQUFLLE1BQU0sSUFBSTtBQUFBLGNBQ2xCLEdBQUcsS0FBSyxPQUFPLElBQUk7QUFBQSxZQUN2QixJQUNFO0FBQUEsY0FDRSxHQUFHLEtBQUssUUFBUSxZQUFZLEVBQUUsRUFBRTtBQUFBLGNBQ2hDLEdBQUcsS0FBSyxRQUFRLFlBQVksRUFBRSxFQUFFO0FBQUEsWUFDcEM7QUFDSiw0QkFBZ0IsS0FBSyxLQUFLLEtBQUssSUFBSSxhQUFhLElBQUksV0FBVyxFQUFFLEdBQUcsQ0FBQyxJQUNqRSxLQUFLLElBQUksV0FBVyxFQUFFLElBQUksYUFBYSxHQUFHLENBQUMsQ0FBQztBQUNoRCxnQkFBSSxXQUFXLGFBQWEsSUFBSSxXQUFXLEVBQUUsSUFBSSxLQUFLO0FBQ3RELGdCQUFJLFdBQVcsV0FBVyxFQUFFLElBQUksYUFBYSxJQUFJLEtBQUs7QUFDdEQsZ0JBQUksZ0JBQWdCLEtBQUssTUFBTTtBQUMvQixnQkFBSSxnQkFBZ0IsS0FBSyxNQUFNO0FBQy9CLHVCQUFXLEVBQUUsYUFBYSxJQUFJLENBQUM7QUFDL0IsdUJBQVcsRUFBRSxhQUFhLElBQUksQ0FBQztBQUFBLFVBQ25DO0FBQ0EsZ0JBQU0sV0FBVyxTQUFTO0FBQzFCLGVBQUssUUFBUSxXQUFXLEVBQUUsRUFBRSxJQUFJLENBQUM7QUFDakMsZUFBSyxRQUFRLGVBQWUsRUFBRSxFQUFFLElBQUksQ0FBQztBQUFBLFFBQ3pDLFdBQ1MsS0FBSyxzQkFBc0IsaUJBQWlCO0FBQ2pELGVBQUssUUFBUSxlQUFlLEVBQUUsRUFBRSxXQUFXLEVBQUUsQ0FBQztBQUFBLFFBQ2xELFdBQ1MsS0FBSyxzQkFBc0IsZ0JBQWdCO0FBQ2hELGNBQUksZ0JBQWdCO0FBQ2hCLGdCQUFJLGVBQWUsa0JBQ2I7QUFBQSxjQUNFLEdBQUcsS0FBSyxNQUFNLElBQUk7QUFBQSxjQUNsQixHQUFHLEtBQUssT0FBTyxJQUFJO0FBQUEsWUFDdkIsSUFDRTtBQUFBLGNBQ0UsR0FBRyxLQUFLLFFBQVEsV0FBVyxFQUFFLEVBQUU7QUFBQSxjQUMvQixHQUFHLEtBQUssUUFBUSxXQUFXLEVBQUUsRUFBRTtBQUFBLFlBQ25DO0FBQ0osNEJBQWdCLEtBQUssS0FBSyxLQUFLLElBQUksV0FBVyxFQUFFLElBQUksYUFBYSxHQUFHLENBQUMsSUFDakUsS0FBSyxJQUFJLFdBQVcsRUFBRSxJQUFJLGFBQWEsR0FBRyxDQUFDLENBQUM7QUFDaEQsZ0JBQUksV0FBVyxLQUFLLFFBQVEsZUFBZSxFQUFFLEVBQUUsSUFBSSxhQUFhLElBQUksS0FBSztBQUN6RSxnQkFBSSxXQUFXLEtBQUssUUFBUSxlQUFlLEVBQUUsRUFBRSxJQUFJLGFBQWEsSUFBSSxLQUFLO0FBQ3pFLGdCQUFJLGdCQUFnQixLQUFLLE1BQU07QUFDL0IsZ0JBQUksZ0JBQWdCLEtBQUssTUFBTTtBQUMvQixpQkFBSyxRQUFRLGVBQWUsRUFBRSxFQUFFLGFBQWEsSUFBSSxDQUFDO0FBQ2xELGlCQUFLLFFBQVEsZUFBZSxFQUFFLEVBQUUsYUFBYSxJQUFJLENBQUM7QUFBQSxVQUN0RDtBQUFBLFFBQ0osT0FDSztBQUNELGtCQUFRLE1BQU0sSUFBSSxNQUFNLG1EQUNwQixLQUFLLGlCQUFpQixDQUFDO0FBQUEsUUFDL0I7QUFDQSxZQUFJLGtCQUFrQixLQUFLLGdCQUFnQixLQUFLLEVBQUU7QUFDbEQsWUFBSSxpQkFBaUI7QUFDakIsY0FBSSxVQUFVLEtBQUssUUFBUSxXQUFXO0FBQ3RDLGNBQUksY0FBYyxLQUFLLFFBQVEsZUFBZTtBQUM5QyxjQUFJLGFBQWEsUUFBUSxFQUFFO0FBQzNCLGNBQUksYUFBYSxRQUFRLEVBQUU7QUFDM0IsY0FBSSxnQkFBZ0IsS0FBSyxTQUFTLElBQUksWUFBWSxFQUFFO0FBQ3BELGNBQUksZ0JBQWdCLEtBQUssVUFBVSxJQUFJLFlBQVksRUFBRTtBQUNyRCxzQkFBWSxLQUFLO0FBQUEsWUFDYixHQUFHLENBQUM7QUFBQSxZQUNKLEdBQUcsQ0FBQztBQUFBLFVBQ1IsQ0FBQztBQUNELGtCQUFRLEtBQUs7QUFBQSxZQUNULEdBQUc7QUFBQSxZQUNILEdBQUc7QUFBQSxVQUNQLENBQUM7QUFBQSxRQUNMO0FBQ0EsWUFBSSxTQUFTLEtBQUssUUFBUSxXQUFXLEVBQUUsb0JBQW9CO0FBQzNELFlBQUksT0FBTztBQUNYLFlBQUksT0FBTztBQUNYLFlBQUksUUFBUSxLQUFLLFFBQVEsZUFBZSxFQUFFLEVBQUUsSUFBSSxLQUFLLFFBQVEsV0FBVyxFQUFFLEVBQUU7QUFDNUUsWUFBSSxTQUFTLEtBQUssUUFBUSxlQUFlLEVBQUUsRUFBRSxJQUFJLEtBQUssUUFBUSxXQUFXLEVBQUUsRUFBRTtBQUM3RSxhQUFLLGNBQWM7QUFBQSxVQUNmO0FBQUEsVUFDQTtBQUFBLFVBQ0E7QUFBQSxVQUNBO0FBQUEsVUFDQSxVQUFVLFNBQVMsTUFBTSxTQUFTLEtBQUssU0FBUyxDQUFDO0FBQUEsUUFDckQsR0FBRyxDQUFDO0FBQUEsTUFDUjtBQUFBLE1BQ0EsZUFBZSxHQUFHO0FBQ2QsYUFBSyxjQUFjLENBQUM7QUFBQSxNQUN4QjtBQUFBLE1BQ0EsdUJBQXVCO0FBQ25CLGVBQU8sS0FBSyxhQUFhO0FBQUEsTUFDN0I7QUFBQSxNQUNBLGNBQWMsR0FBRztBQUNiLFlBQUksS0FBSyxlQUFlO0FBQ3BCLGVBQUssZ0JBQWdCO0FBQ3JCLGNBQUksT0FBTyxXQUFXLGFBQWE7QUFDL0IsbUJBQU8sb0JBQW9CLGFBQWEsS0FBSyxnQkFBZ0I7QUFDN0QsbUJBQU8sb0JBQW9CLGFBQWEsS0FBSyxnQkFBZ0I7QUFDN0QsbUJBQU8sb0JBQW9CLFdBQVcsS0FBSyxnQkFBZ0IsSUFBSTtBQUMvRCxtQkFBTyxvQkFBb0IsWUFBWSxLQUFLLGdCQUFnQixJQUFJO0FBQUEsVUFDcEU7QUFDQSxjQUFJLE9BQU8sS0FBSyxRQUFRO0FBQ3hCLGVBQUssTUFBTSxnQkFBZ0IsRUFBRSxLQUFLLEdBQUcsUUFBUSxLQUFLLENBQUM7QUFDbkQsY0FBSSxNQUFNO0FBQ04saUJBQUssT0FBTyxRQUFRLENBQUMsV0FBVztBQUM1QixxQkFBTyxNQUFNLGdCQUFnQixFQUFFLEtBQUssR0FBRyxPQUFPLENBQUM7QUFBQSxZQUNuRCxDQUFDO0FBQUEsVUFDTDtBQUNBLGVBQUssb0JBQW9CO0FBQUEsUUFDN0I7QUFBQSxNQUNKO0FBQUEsTUFDQSxjQUFjLFVBQVUsS0FBSztBQUN6QixZQUFJLFdBQVcsS0FBSyxhQUFhO0FBQ2pDLGNBQU0sVUFBVTtBQUNoQixZQUFJLE9BQU8sS0FBSyxTQUFTLFNBQVMsT0FBTyxDQUFDLEtBQUssUUFBUSxJQUFJLElBQUksU0FBUyxPQUFPLEdBQUc7QUFDOUUsZUFBSyxPQUFPO0FBQ1o7QUFBQSxRQUNKO0FBQ0EsWUFBSSxPQUFPLEtBQUssU0FBUyxTQUFTLFFBQVEsQ0FBQyxLQUFLLFFBQVEsSUFBSSxJQUFJLFNBQVMsT0FBTyxHQUFHO0FBQy9FLGVBQUssT0FBTztBQUNaO0FBQUEsUUFDSjtBQUNBLFlBQUksSUFBSSxJQUFJLE9BQU8sVUFBVTtBQUM3QixVQUFFLE9BQU8sU0FBUyxNQUFNLFNBQVMsS0FBSyxTQUFTLENBQUMsQ0FBQztBQUNqRCxZQUFJLEtBQUsscUJBQ0wsU0FBUyxRQUFRLEtBQ2pCLEtBQUssa0JBQWtCLFFBQVEsTUFBTSxLQUFLLEdBQUc7QUFDN0MsZ0JBQU0sU0FBUyxFQUFFLE1BQU07QUFBQSxZQUNuQixHQUFHLENBQUMsS0FBSyxRQUFRLElBQUk7QUFBQSxZQUNyQixHQUFHO0FBQUEsVUFDUCxDQUFDO0FBQ0QsbUJBQVMsS0FBSyxPQUFPO0FBQ3JCLG1CQUFTLEtBQUssT0FBTztBQUNyQixtQkFBUyxTQUFTLEtBQUssUUFBUSxJQUFJO0FBQ25DLGVBQUssb0JBQW9CLEtBQUssa0JBQWtCLFFBQVEsUUFBUSxPQUFPO0FBQ3ZFLGVBQUssa0JBQWtCLEtBQUssT0FBTztBQUNuQyxlQUFLLGtCQUFrQixLQUFLLE9BQU87QUFBQSxRQUN2QyxXQUNTLEtBQUsscUJBQ1YsU0FBUyxRQUFRLEtBQ2pCLEtBQUssa0JBQWtCLFFBQVEsT0FBTyxLQUFLLEdBQUc7QUFDOUMsZ0JBQU0sU0FBUyxFQUFFLE1BQU07QUFBQSxZQUNuQixHQUFHLEtBQUssUUFBUSxJQUFJO0FBQUEsWUFDcEIsR0FBRztBQUFBLFVBQ1AsQ0FBQztBQUNELGVBQUssb0JBQW9CLEtBQUssa0JBQWtCLFFBQVEsU0FBUyxNQUFNO0FBQ3ZFLGVBQUssa0JBQWtCLEtBQUssT0FBTztBQUNuQyxlQUFLLGtCQUFrQixLQUFLLE9BQU87QUFDbkMsbUJBQVMsU0FBUyxLQUFLLFFBQVEsSUFBSTtBQUFBLFFBQ3ZDO0FBQ0EsWUFBSSxLQUFLLHFCQUNMLFNBQVMsU0FBUyxLQUNsQixLQUFLLGtCQUFrQixRQUFRLEtBQUssS0FBSyxHQUFHO0FBQzVDLGdCQUFNLFNBQVMsRUFBRSxNQUFNO0FBQUEsWUFDbkIsR0FBRztBQUFBLFlBQ0gsR0FBRyxDQUFDLEtBQUssUUFBUSxJQUFJO0FBQUEsVUFDekIsQ0FBQztBQUNELG1CQUFTLEtBQUssT0FBTztBQUNyQixtQkFBUyxLQUFLLE9BQU87QUFDckIsZUFBSyxvQkFBb0IsS0FBSyxrQkFBa0IsUUFBUSxPQUFPLFFBQVE7QUFDdkUsZUFBSyxrQkFBa0IsS0FBSyxPQUFPO0FBQ25DLGVBQUssa0JBQWtCLEtBQUssT0FBTztBQUNuQyxtQkFBUyxVQUFVLEtBQUssUUFBUSxJQUFJO0FBQUEsUUFDeEMsV0FDUyxLQUFLLHFCQUNWLFNBQVMsU0FBUyxLQUNsQixLQUFLLGtCQUFrQixRQUFRLFFBQVEsS0FBSyxHQUFHO0FBQy9DLGdCQUFNLFNBQVMsRUFBRSxNQUFNO0FBQUEsWUFDbkIsR0FBRztBQUFBLFlBQ0gsR0FBRyxLQUFLLFFBQVEsSUFBSTtBQUFBLFVBQ3hCLENBQUM7QUFDRCxlQUFLLG9CQUFvQixLQUFLLGtCQUFrQixRQUFRLFVBQVUsS0FBSztBQUN2RSxlQUFLLGtCQUFrQixLQUFLLE9BQU87QUFDbkMsZUFBSyxrQkFBa0IsS0FBSyxPQUFPO0FBQ25DLG1CQUFTLFVBQVUsS0FBSyxRQUFRLElBQUk7QUFBQSxRQUN4QztBQUNBLFlBQUksS0FBSyxhQUFhLEdBQUc7QUFDckIsZ0JBQU0sVUFBVSxLQUFLLGFBQWEsRUFBRSxVQUFVLFFBQVE7QUFDdEQsY0FBSSxTQUFTO0FBQ1QsdUJBQVc7QUFBQSxVQUNmLE9BQ0s7QUFDRCxtQkFBTyxLQUFLLEtBQUssd0VBQXdFO0FBQUEsVUFDN0Y7QUFBQSxRQUNKO0FBQ0EsY0FBTSxXQUFXO0FBQ2pCLGNBQU0sUUFBUSxJQUFJLE9BQU8sVUFBVTtBQUNuQyxjQUFNLFVBQVUsU0FBUyxHQUFHLFNBQVMsQ0FBQztBQUN0QyxjQUFNLE9BQU8sU0FBUyxRQUFRO0FBQzlCLGNBQU0sTUFBTSxTQUFTLFFBQVEsVUFBVSxTQUFTLFNBQVMsUUFBUTtBQUNqRSxjQUFNLFFBQVEsSUFBSSxPQUFPLFVBQVU7QUFDbkMsY0FBTSxZQUFZLFNBQVMsUUFBUTtBQUNuQyxjQUFNLFlBQVksU0FBUyxTQUFTO0FBQ3BDLFlBQUksS0FBSyxZQUFZLE1BQU0sT0FBTztBQUM5QixnQkFBTSxVQUFVLFNBQVMsR0FBRyxTQUFTLENBQUM7QUFDdEMsZ0JBQU0sT0FBTyxTQUFTLFFBQVE7QUFDOUIsZ0JBQU0sVUFBVSxTQUFTLFFBQVEsSUFBSSxTQUFTLFFBQVEsR0FBRyxTQUFTLFNBQVMsSUFBSSxTQUFTLFNBQVMsQ0FBQztBQUNsRyxnQkFBTSxNQUFNLEtBQUssSUFBSSxTQUFTLEdBQUcsS0FBSyxJQUFJLFNBQVMsQ0FBQztBQUFBLFFBQ3hELE9BQ0s7QUFDRCxnQkFBTSxVQUFVLFNBQVMsR0FBRyxTQUFTLENBQUM7QUFDdEMsZ0JBQU0sT0FBTyxTQUFTLFFBQVE7QUFDOUIsZ0JBQU0sTUFBTSxXQUFXLFNBQVM7QUFBQSxRQUNwQztBQUNBLGNBQU0sUUFBUSxNQUFNLFNBQVMsTUFBTSxPQUFPLENBQUM7QUFDM0MsYUFBSyxPQUFPLFFBQVEsQ0FBQyxTQUFTO0FBQzFCLGNBQUk7QUFDSixnQkFBTSxrQkFBa0IsS0FBSyxVQUFVLEVBQUUscUJBQXFCO0FBQzlELGdCQUFNLGlCQUFpQixLQUFLLGFBQWEsRUFBRSxLQUFLO0FBQ2hELHlCQUFlLFVBQVUsS0FBSyxRQUFRLEdBQUcsS0FBSyxRQUFRLENBQUM7QUFDdkQsZ0JBQU0sb0JBQW9CLElBQUksT0FBTyxVQUFVO0FBQy9DLDRCQUNLLFNBQVMsZ0JBQWdCLEtBQUssRUFBRSxPQUFPLENBQUMsRUFDeEMsU0FBUyxLQUFLLEVBQ2QsU0FBUyxlQUFlLEVBQ3hCLFNBQVMsY0FBYztBQUM1QixnQkFBTSxRQUFRLGtCQUFrQixVQUFVO0FBQzFDLGVBQUssU0FBUyxLQUFLO0FBQ25CLGVBQUssTUFBTSxhQUFhLEVBQUUsS0FBVSxRQUFRLEtBQUssQ0FBQztBQUNsRCxlQUFLLE1BQU0sYUFBYSxFQUFFLEtBQVUsUUFBUSxLQUFLLENBQUM7QUFDbEQsV0FBQyxLQUFLLEtBQUssU0FBUyxPQUFPLFFBQVEsT0FBTyxTQUFTLFNBQVMsR0FBRyxVQUFVO0FBQUEsUUFDN0UsQ0FBQztBQUNELGFBQUssU0FBUyxPQUFPLEtBQUssYUFBYSxTQUFTLFFBQVEsQ0FBQztBQUN6RCxhQUFLLHFCQUFxQjtBQUMxQixhQUFLLE9BQU87QUFDWixhQUFLLFNBQVMsRUFBRSxVQUFVO0FBQUEsTUFDOUI7QUFBQSxNQUNBLGNBQWM7QUFDVixhQUFLLHFCQUFxQjtBQUMxQixhQUFLLE9BQU87QUFBQSxNQUNoQjtBQUFBLE1BQ0Esa0JBQWtCLFVBQVUsT0FBTztBQUMvQixjQUFNLFNBQVMsS0FBSyxRQUFRLFFBQVE7QUFDcEMsZUFBTyxTQUFTLEtBQUs7QUFBQSxNQUN6QjtBQUFBLE1BQ0EsU0FBUztBQUNMLFlBQUk7QUFDSixZQUFJLFFBQVEsS0FBSyxhQUFhO0FBQzlCLGFBQUssU0FBUyxPQUFPLEtBQUssYUFBYSxNQUFNLFFBQVEsQ0FBQztBQUN0RCxZQUFJLFFBQVEsTUFBTTtBQUNsQixZQUFJLFNBQVMsTUFBTTtBQUNuQixZQUFJLGlCQUFpQixLQUFLLGVBQWU7QUFDekMsWUFBSSxnQkFBZ0IsS0FBSyxjQUFjO0FBQ3ZDLFlBQUksVUFBVSxLQUFLLFFBQVE7QUFDM0IsWUFBSSxhQUFhLEtBQUssV0FBVztBQUNqQyxjQUFNLFVBQVUsS0FBSyxLQUFLLFVBQVU7QUFDcEMsZ0JBQVEsUUFBUSxDQUFDLFNBQVM7QUFDdEIsZUFBSyxTQUFTO0FBQUEsWUFDVixPQUFPO0FBQUEsWUFDUCxRQUFRO0FBQUEsWUFDUixTQUFTLGFBQWE7QUFBQSxZQUN0QixTQUFTLGFBQWE7QUFBQSxZQUN0QixRQUFRLEtBQUssYUFBYTtBQUFBLFlBQzFCLGFBQWEsS0FBSyxrQkFBa0I7QUFBQSxZQUNwQyxNQUFNLEtBQUssV0FBVztBQUFBLFlBQ3RCLGNBQWMsS0FBSyxtQkFBbUI7QUFBQSxVQUMxQyxDQUFDO0FBQUEsUUFDTCxDQUFDO0FBQ0QsYUFBSyxrQkFBa0IsYUFBYTtBQUFBLFVBQ2hDLEdBQUc7QUFBQSxVQUNILEdBQUc7QUFBQSxVQUNILFNBQVMsYUFBYSxJQUFJO0FBQUEsVUFDMUIsU0FBUyxhQUFhLElBQUk7QUFBQSxVQUMxQixTQUFTLGlCQUFpQixlQUFlLFFBQVEsVUFBVSxLQUFLO0FBQUEsUUFDcEUsQ0FBQztBQUNELGFBQUssa0JBQWtCLGVBQWU7QUFBQSxVQUNsQyxHQUFHLFFBQVE7QUFBQSxVQUNYLEdBQUc7QUFBQSxVQUNILFNBQVMsYUFBYSxJQUFJO0FBQUEsVUFDMUIsU0FBUyxpQkFBaUIsZUFBZSxRQUFRLFlBQVksS0FBSztBQUFBLFFBQ3RFLENBQUM7QUFDRCxhQUFLLGtCQUFrQixjQUFjO0FBQUEsVUFDakMsR0FBRztBQUFBLFVBQ0gsR0FBRztBQUFBLFVBQ0gsU0FBUyxhQUFhLElBQUk7QUFBQSxVQUMxQixTQUFTLGFBQWEsSUFBSTtBQUFBLFVBQzFCLFNBQVMsaUJBQWlCLGVBQWUsUUFBUSxXQUFXLEtBQUs7QUFBQSxRQUNyRSxDQUFDO0FBQ0QsYUFBSyxrQkFBa0IsZ0JBQWdCO0FBQUEsVUFDbkMsR0FBRztBQUFBLFVBQ0gsR0FBRyxTQUFTO0FBQUEsVUFDWixTQUFTLGFBQWEsSUFBSTtBQUFBLFVBQzFCLFNBQVMsaUJBQWlCLGVBQWUsUUFBUSxhQUFhLEtBQUs7QUFBQSxRQUN2RSxDQUFDO0FBQ0QsYUFBSyxrQkFBa0IsaUJBQWlCO0FBQUEsVUFDcEMsR0FBRztBQUFBLFVBQ0gsR0FBRyxTQUFTO0FBQUEsVUFDWixTQUFTLGFBQWEsSUFBSTtBQUFBLFVBQzFCLFNBQVMsaUJBQWlCLGVBQWUsUUFBUSxjQUFjLEtBQUs7QUFBQSxRQUN4RSxDQUFDO0FBQ0QsYUFBSyxrQkFBa0IsZ0JBQWdCO0FBQUEsVUFDbkMsR0FBRztBQUFBLFVBQ0gsR0FBRztBQUFBLFVBQ0gsU0FBUyxhQUFhLElBQUk7QUFBQSxVQUMxQixTQUFTLGFBQWEsSUFBSTtBQUFBLFVBQzFCLFNBQVMsaUJBQWlCLGVBQWUsUUFBUSxhQUFhLEtBQUs7QUFBQSxRQUN2RSxDQUFDO0FBQ0QsYUFBSyxrQkFBa0Isa0JBQWtCO0FBQUEsVUFDckMsR0FBRyxRQUFRO0FBQUEsVUFDWCxHQUFHO0FBQUEsVUFDSCxTQUFTLGFBQWEsSUFBSTtBQUFBLFVBQzFCLFNBQVMsaUJBQWlCLGVBQWUsUUFBUSxlQUFlLEtBQUs7QUFBQSxRQUN6RSxDQUFDO0FBQ0QsYUFBSyxrQkFBa0IsaUJBQWlCO0FBQUEsVUFDcEMsR0FBRztBQUFBLFVBQ0gsR0FBRztBQUFBLFVBQ0gsU0FBUyxhQUFhLElBQUk7QUFBQSxVQUMxQixTQUFTLGFBQWEsSUFBSTtBQUFBLFVBQzFCLFNBQVMsaUJBQWlCLGVBQWUsUUFBUSxjQUFjLEtBQUs7QUFBQSxRQUN4RSxDQUFDO0FBQ0QsYUFBSyxrQkFBa0IsWUFBWTtBQUFBLFVBQy9CLEdBQUcsUUFBUTtBQUFBLFVBQ1gsR0FBRyxDQUFDLEtBQUssbUJBQW1CLElBQUksT0FBTyxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBQUEsVUFDNUQsU0FBUyxLQUFLLGNBQWM7QUFBQSxRQUNoQyxDQUFDO0FBQ0QsYUFBSyxrQkFBa0IsU0FBUztBQUFBLFVBQzVCO0FBQUEsVUFDQTtBQUFBLFVBQ0EsU0FBUyxLQUFLLGNBQWM7QUFBQSxVQUM1QixRQUFRLEtBQUssYUFBYTtBQUFBLFVBQzFCLGFBQWEsS0FBSyxrQkFBa0I7QUFBQSxVQUNwQyxNQUFNLEtBQUssV0FBVztBQUFBLFVBQ3RCLEdBQUc7QUFBQSxVQUNILEdBQUc7QUFBQSxRQUNQLENBQUM7QUFDRCxjQUFNLFlBQVksS0FBSyxnQkFBZ0I7QUFDdkMsWUFBSSxXQUFXO0FBQ1gsa0JBQVEsUUFBUSxDQUFDLFNBQVM7QUFDdEIsc0JBQVUsSUFBSTtBQUFBLFVBQ2xCLENBQUM7QUFBQSxRQUNMO0FBQ0EsU0FBQyxLQUFLLEtBQUssU0FBUyxPQUFPLFFBQVEsT0FBTyxTQUFTLFNBQVMsR0FBRyxVQUFVO0FBQUEsTUFDN0U7QUFBQSxNQUNBLGlCQUFpQjtBQUNiLGVBQU8sS0FBSztBQUFBLE1BQ2hCO0FBQUEsTUFDQSxnQkFBZ0I7QUFDWixZQUFJLEtBQUssZUFBZTtBQUNwQixlQUFLLGNBQWM7QUFDbkIsY0FBSSxhQUFhLEtBQUssUUFBUSxNQUFNLEtBQUssaUJBQWlCO0FBQzFELGNBQUksWUFBWTtBQUNaLHVCQUFXLFNBQVM7QUFBQSxVQUN4QjtBQUFBLFFBQ0o7QUFBQSxNQUNKO0FBQUEsTUFDQSxVQUFVO0FBQ04sWUFBSSxLQUFLLFNBQVMsS0FBSyxLQUFLLGVBQWU7QUFDdkMsZUFBSyxTQUFTLEVBQUUsWUFBWSxLQUFLLFNBQVMsRUFBRSxRQUFRLE1BQU0sU0FBUztBQUFBLFFBQ3ZFO0FBQ0EsZ0JBQVEsTUFBTSxVQUFVLFFBQVEsS0FBSyxJQUFJO0FBQ3pDLGFBQUssT0FBTztBQUNaLGFBQUssY0FBYztBQUNuQixlQUFPO0FBQUEsTUFDWDtBQUFBLE1BQ0EsV0FBVztBQUNQLGVBQU8sT0FBTyxLQUFLLFVBQVUsU0FBUyxLQUFLLElBQUk7QUFBQSxNQUNuRDtBQUFBLE1BQ0EsTUFBTSxLQUFLO0FBQ1AsWUFBSSxPQUFPLE9BQU8sS0FBSyxVQUFVLE1BQU0sS0FBSyxNQUFNLEdBQUc7QUFDckQsZUFBTztBQUFBLE1BQ1g7QUFBQSxNQUNBLGdCQUFnQjtBQUNaLFlBQUksS0FBSyxNQUFNLEVBQUUsU0FBUyxHQUFHO0FBQ3pCLGlCQUFPLE1BQU0sY0FBYztBQUFBLFFBQy9CLE9BQ0s7QUFDRCxpQkFBTyxFQUFFLEdBQUcsR0FBRyxHQUFHLEdBQUcsT0FBTyxHQUFHLFFBQVEsRUFBRTtBQUFBLFFBQzdDO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFDQSxZQUFRLGNBQWM7QUFDdEIsYUFBUyxnQkFBZ0IsS0FBSztBQUMxQixVQUFJLEVBQUUsZUFBZSxRQUFRO0FBQ3pCLGVBQU8sS0FBSyxLQUFLLHlDQUF5QztBQUFBLE1BQzlEO0FBQ0EsVUFBSSxlQUFlLE9BQU87QUFDdEIsWUFBSSxRQUFRLFNBQVUsTUFBTTtBQUN4QixjQUFJLGNBQWMsUUFBUSxJQUFJLE1BQU0sSUFBSTtBQUNwQyxtQkFBTyxLQUFLLEtBQUssMEJBQ2IsT0FDQSw0QkFDQSxjQUFjLEtBQUssSUFBSSxDQUFDO0FBQUEsVUFDaEM7QUFBQSxRQUNKLENBQUM7QUFBQSxNQUNMO0FBQ0EsYUFBTyxPQUFPLENBQUM7QUFBQSxJQUNuQjtBQUNBLGdCQUFZLFVBQVUsWUFBWTtBQUNsQyxLQUFDLEdBQUcsU0FBUyxlQUFlLFdBQVc7QUFDdkMsY0FBVSxRQUFRLGdCQUFnQixhQUFhLGtCQUFrQixlQUFlLGVBQWU7QUFDL0YsY0FBVSxRQUFRLGdCQUFnQixhQUFhLGVBQWUsT0FBTyxHQUFHLGFBQWEscUJBQXFCLENBQUM7QUFDM0csY0FBVSxRQUFRLGdCQUFnQixhQUFhLGlCQUFpQixJQUFJO0FBQ3BFLGNBQVUsUUFBUSxnQkFBZ0IsYUFBYSxjQUFjLEtBQUssR0FBRyxhQUFhLG9CQUFvQixDQUFDO0FBQ3ZHLGNBQVUsUUFBUSxnQkFBZ0IsYUFBYSxpQkFBaUIsSUFBSTtBQUNwRSxjQUFVLFFBQVEsZ0JBQWdCLGFBQWEsaUJBQWlCLENBQUMsQ0FBQztBQUNsRSxjQUFVLFFBQVEsZ0JBQWdCLGFBQWEsc0JBQXNCLEtBQUssR0FBRyxhQUFhLG9CQUFvQixDQUFDO0FBQy9HLGNBQVUsUUFBUSxnQkFBZ0IsYUFBYSxzQkFBc0IsV0FBVztBQUNoRixjQUFVLFFBQVEsZ0JBQWdCLGFBQWEseUJBQXlCLElBQUksR0FBRyxhQUFhLG9CQUFvQixDQUFDO0FBQ2pILGNBQVUsUUFBUSxnQkFBZ0IsYUFBYSxpQkFBaUIsSUFBSTtBQUNwRSxjQUFVLFFBQVEsZ0JBQWdCLGFBQWEsZ0JBQWdCLGtCQUFrQjtBQUNqRixjQUFVLFFBQVEsZ0JBQWdCLGFBQWEscUJBQXFCLElBQUksR0FBRyxhQUFhLG9CQUFvQixDQUFDO0FBQzdHLGNBQVUsUUFBUSxnQkFBZ0IsYUFBYSxjQUFjLE9BQU87QUFDcEUsY0FBVSxRQUFRLGdCQUFnQixhQUFhLHNCQUFzQixJQUFJLEdBQUcsYUFBYSxvQkFBb0IsQ0FBQztBQUM5RyxjQUFVLFFBQVEsZ0JBQWdCLGFBQWEsZ0JBQWdCLGtCQUFrQjtBQUNqRixjQUFVLFFBQVEsZ0JBQWdCLGFBQWEscUJBQXFCLElBQUksR0FBRyxhQUFhLG9CQUFvQixDQUFDO0FBQzdHLGNBQVUsUUFBUSxnQkFBZ0IsYUFBYSxZQUFZO0FBQzNELGNBQVUsUUFBUSxnQkFBZ0IsYUFBYSxhQUFhLElBQUk7QUFDaEUsY0FBVSxRQUFRLGdCQUFnQixhQUFhLGlCQUFpQixTQUFTO0FBQ3pFLGNBQVUsUUFBUSxnQkFBZ0IsYUFBYSxtQkFBbUIsS0FBSztBQUN2RSxjQUFVLFFBQVEsZ0JBQWdCLGFBQWEsZ0JBQWdCLEtBQUs7QUFDcEUsY0FBVSxRQUFRLGdCQUFnQixhQUFhLFdBQVcsSUFBSSxHQUFHLGFBQWEsb0JBQW9CLENBQUM7QUFDbkcsY0FBVSxRQUFRLGdCQUFnQixhQUFhLE1BQU07QUFDckQsY0FBVSxRQUFRLGdCQUFnQixhQUFhLE9BQU87QUFDdEQsY0FBVSxRQUFRLGdCQUFnQixhQUFhLGNBQWM7QUFDN0QsY0FBVSxRQUFRLGdCQUFnQixhQUFhLHFCQUFxQjtBQUNwRSxjQUFVLFFBQVEsZ0JBQWdCLGFBQWEsaUJBQWlCO0FBQ2hFLGNBQVUsUUFBUSxnQkFBZ0IsYUFBYSwyQkFBMkIsS0FBSztBQUMvRSxjQUFVLFFBQVEsZ0JBQWdCLGFBQWEseUJBQXlCLElBQUk7QUFDNUUsY0FBVSxRQUFRLFdBQVcsYUFBYTtBQUFBLE1BQ3RDLGFBQWE7QUFBQSxNQUNiLHFCQUFxQjtBQUFBLE1BQ3JCLGlCQUFpQjtBQUFBLElBQ3JCLENBQUM7QUFBQTtBQUFBOzs7QUM5OUJEO0FBQUE7QUFBQTtBQUNBLFdBQU8sZUFBZSxTQUFTLGNBQWMsRUFBRSxPQUFPLEtBQUssQ0FBQztBQUM1RCxZQUFRLFFBQVE7QUFDaEIsUUFBTSxZQUFZO0FBQ2xCLFFBQU0sVUFBVTtBQUNoQixRQUFNLFdBQVc7QUFDakIsUUFBTSxlQUFlO0FBQ3JCLFFBQU0sV0FBVztBQUNqQixRQUFNLFFBQU4sY0FBb0IsUUFBUSxNQUFNO0FBQUEsTUFDOUIsV0FBVyxTQUFTO0FBQ2hCLGdCQUFRLFVBQVU7QUFDbEIsZ0JBQVEsSUFBSSxHQUFHLEdBQUcsS0FBSyxPQUFPLEdBQUcsR0FBRyxTQUFTLE1BQU0sU0FBUyxLQUFLLE1BQU0sQ0FBQyxHQUFHLEtBQUssVUFBVSxDQUFDO0FBQzNGLGdCQUFRLE9BQU8sR0FBRyxDQUFDO0FBQ25CLGdCQUFRLFVBQVU7QUFDbEIsZ0JBQVEsZ0JBQWdCLElBQUk7QUFBQSxNQUNoQztBQUFBLE1BQ0EsV0FBVztBQUNQLGVBQU8sS0FBSyxPQUFPLElBQUk7QUFBQSxNQUMzQjtBQUFBLE1BQ0EsWUFBWTtBQUNSLGVBQU8sS0FBSyxPQUFPLElBQUk7QUFBQSxNQUMzQjtBQUFBLE1BQ0EsU0FBUyxPQUFPO0FBQ1osYUFBSyxPQUFPLFFBQVEsQ0FBQztBQUFBLE1BQ3pCO0FBQUEsTUFDQSxVQUFVLFFBQVE7QUFDZCxhQUFLLE9BQU8sU0FBUyxDQUFDO0FBQUEsTUFDMUI7QUFBQSxJQUNKO0FBQ0EsWUFBUSxRQUFRO0FBQ2hCLFVBQU0sVUFBVSxZQUFZO0FBQzVCLFVBQU0sVUFBVSxZQUFZO0FBQzVCLFVBQU0sVUFBVSxzQkFBc0IsQ0FBQyxRQUFRO0FBQy9DLEtBQUMsR0FBRyxTQUFTLGVBQWUsS0FBSztBQUNqQyxjQUFVLFFBQVEsZ0JBQWdCLE9BQU8sVUFBVSxJQUFJLEdBQUcsYUFBYSxvQkFBb0IsQ0FBQztBQUM1RixjQUFVLFFBQVEsZ0JBQWdCLE9BQU8sU0FBUyxJQUFJLEdBQUcsYUFBYSxvQkFBb0IsQ0FBQztBQUMzRixjQUFVLFFBQVEsZ0JBQWdCLE9BQU8sYUFBYSxLQUFLO0FBQzNELGNBQVUsUUFBUSxXQUFXLE9BQU87QUFBQSxNQUNoQyxVQUFVO0FBQUEsTUFDVixhQUFhO0FBQUEsTUFDYixhQUFhO0FBQUEsSUFDakIsQ0FBQztBQUFBO0FBQUE7OztBQ3pDRDtBQUFBO0FBQUE7QUFDQSxXQUFPLGVBQWUsU0FBUyxjQUFjLEVBQUUsT0FBTyxLQUFLLENBQUM7QUFDNUQsWUFBUSxPQUFPO0FBQ2YsUUFBTSxZQUFZO0FBQ2xCLFFBQU0sU0FBUztBQUNmLFFBQU0sZUFBZTtBQUNyQixhQUFTLFlBQVk7QUFDakIsV0FBSyxJQUFJO0FBQ1QsV0FBSyxJQUFJO0FBQ1QsV0FBSyxJQUFJO0FBQ1QsV0FBSyxJQUFJO0FBQ1QsV0FBSyxPQUFPO0FBQUEsSUFDaEI7QUFDQSxRQUFJLFlBQVk7QUFBQSxNQUNaO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUN0RTtBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFDdEU7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQ3RFO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUN0RTtBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFDdEU7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQ3RFO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUN0RTtBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFDdEU7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQ3RFO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUN0RTtBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFDdEU7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQ3RFO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUN0RTtBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFDdEU7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQ3RFO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUN0RTtBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsSUFDMUU7QUFDQSxRQUFJLFlBQVk7QUFBQSxNQUNaO0FBQUEsTUFBRztBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQzNFO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFDeEU7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUN4RTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQ3hFO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFDeEU7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUN4RTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQ3hFO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFDeEU7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUN4RTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1B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LGFBQUssUUFBUSxVQUFVO0FBQ3ZCLGFBQUssU0FBUyxVQUFVO0FBQUEsTUFDekIsR0FBRyxDQUFDO0FBRUosV0FBSyxrQkFBa0IsSUFBSSxpQkFBUztBQUFBLFFBQ25DLFFBQVE7QUFBQSxRQUNSLE9BQU87QUFBQSxVQUNOLEtBQUssS0FBSztBQUFBLFVBQ1YsT0FBTyxLQUFLO0FBQUEsVUFDWixRQUFRLEtBQUs7QUFBQSxRQUNkO0FBQUEsTUFDRCxDQUFDO0FBQUEsSUFDRjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLFVBQVU7QUFDVCxTQUFLLGdCQUFnQixTQUFTO0FBQUEsRUFDL0I7QUFDRDs7O0FEOUNBLElBQXFCQyxZQUFyQixjQUFzQyx3QkFBTztBQUFBLEVBQzVDLE1BQU0sU0FBUztBQUNkLFVBQU0sZUFBZSxLQUFLO0FBQUEsTUFDekI7QUFBQSxNQUNBO0FBQUEsTUFDQSxDQUFDLFFBQW9CO0FBQ3BCLFlBQUksY0FBYyxLQUFLLEdBQUcsRUFBRSxLQUFLO0FBQUEsTUFDbEM7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUNEOyIsCiAgIm5hbWVzIjogWyJLb252YSIsICJhdHRyIiwgImF0dHIiLCAiY29tcG9uZW50IiwgImF0dHIiLCAidGV4dCIsICJwb3MiLCAiYXR0ciIsICJldmVudCIsICJjaGlsZHJlbiIsICJ0cmFuc2Zvcm1zRW5hYmxlZCIsICJDb250YWluZXIiLCAiY2hpbGRyZW4iLCAiYXR0ciIsICJTdGFnZSIsICJldmVudCIsICJMYXllciIsICJjaGlsZHJlbiIsICJub3ciLCAiYXR0ciIsICJMaW5lIiwgImkiLCAicnVuIiwgInYiLCAidSIsICJ0ZXh0IiwgInRleHQiLCAidGV4dCIsICJ3aWR0aCIsICJub2RlIiwgInNlbGYiLCAiQmx1ciIsICJtb2R1bGUiLCAiU2tldGNoTUQiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJlbGVtZW50IiwgIl9hIiwgImNoaWxkcmVuIiwgImV2ZW50IiwgImVsZW1lbnQiLCAiZWxlbWVudCIsICJlbGVtZW50IiwgImV2ZW50IiwgImRldGFjaCIsICJ1cGRhdGUiLCAiaW5zdGFuY2UiLCAiY3JlYXRlX2ZyYWdtZW50IiwgImFwcGVuZF9zdHlsZXMiLCAiY3JlYXRlX3Nsb3QiLCAiYXR0ciIsICJjdHgiLCAiX2EiLCAiY3R4IiwgImN0eCIsICJjdHgiLCAiY3R4IiwgImN0eCIsICJjdHgiLCAiY3R4IiwgInVwZGF0ZSIsICJzdWJzY3JpYmUiLCAicnVuIiwgImluaXRpYWxTdGF0ZSIsICJjdHgiLCAiZXZlbnQiLCAiZXZlbnQiLCAiQ29udGFpbmVyIiwgImN0eCIsICJLb252YSIsICJLb252YSIsICJjcmVhdGVfaWZfYmxvY2siLCAiY3R4IiwgIktvbnZhIiwgImN0eCIsICJTa2V0Y2hNRCJdCn0K
